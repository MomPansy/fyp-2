function _mergeNamespaces(e,rr){for(var ir=0;ir<rr.length;ir++){const lr=rr[ir];if(typeof lr!="string"&&!Array.isArray(lr)){for(const dr in lr)if(dr!=="default"&&!(dr in e)){const fr=Object.getOwnPropertyDescriptor(lr,dr);fr&&Object.defineProperty(e,dr,fr.get?fr:{enumerable:!0,get:()=>lr[dr]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const rr=document.createElement("link").relList;if(rr&&rr.supports&&rr.supports("modulepreload"))return;for(const dr of document.querySelectorAll('link[rel="modulepreload"]'))lr(dr);new MutationObserver(dr=>{for(const fr of dr)if(fr.type==="childList")for(const mr of fr.addedNodes)mr.tagName==="LINK"&&mr.rel==="modulepreload"&&lr(mr)}).observe(document,{childList:!0,subtree:!0});function ir(dr){const fr={};return dr.integrity&&(fr.integrity=dr.integrity),dr.referrerPolicy&&(fr.referrerPolicy=dr.referrerPolicy),dr.crossOrigin==="use-credentials"?fr.credentials="include":dr.crossOrigin==="anonymous"?fr.credentials="omit":fr.credentials="same-origin",fr}function lr(dr){if(dr.ep)return;dr.ep=!0;const fr=ir(dr);fetch(dr.href,fr)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var rr=e.default;if(typeof rr=="function"){var ir=function lr(){return this instanceof lr?Reflect.construct(rr,arguments,this.constructor):rr.apply(this,arguments)};ir.prototype=rr.prototype}else ir={};return Object.defineProperty(ir,"__esModule",{value:!0}),Object.keys(e).forEach(function(lr){var dr=Object.getOwnPropertyDescriptor(e,lr);Object.defineProperty(ir,lr,dr.get?dr:{enumerable:!0,get:function(){return e[lr]}})}),ir}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react$1={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(e){return e===null||typeof e!="object"?null:(e=z$3&&e[z$3]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$5={};function E$3(e,rr,ir){this.props=e,this.context=rr,this.refs=D$5,this.updater=ir||B$1}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(e,rr){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,rr,"setState")};E$3.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F$4(){}F$4.prototype=E$3.prototype;function G$2(e,rr,ir){this.props=e,this.context=rr,this.refs=D$5,this.updater=ir||B$1}var H$5=G$2.prototype=new F$4;H$5.constructor=G$2;C$3(H$5,E$3.prototype);H$5.isPureReactComponent=!0;var I$1=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$3(e,rr,ir){var lr,dr={},fr=null,mr=null;if(rr!=null)for(lr in rr.ref!==void 0&&(mr=rr.ref),rr.key!==void 0&&(fr=""+rr.key),rr)J$2.call(rr,lr)&&!L$4.hasOwnProperty(lr)&&(dr[lr]=rr[lr]);var hr=arguments.length-2;if(hr===1)dr.children=ir;else if(1<hr){for(var gr=Array(hr),xr=0;xr<hr;xr++)gr[xr]=arguments[xr+2];dr.children=gr}if(e&&e.defaultProps)for(lr in hr=e.defaultProps,hr)dr[lr]===void 0&&(dr[lr]=hr[lr]);return{$$typeof:l$4,type:e,key:fr,ref:mr,props:dr,_owner:K$3.current}}function N$2(e,rr){return{$$typeof:l$4,type:e.type,key:rr,ref:e.ref,props:e.props,_owner:e._owner}}function O$3(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$4}function escape(e){var rr={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(ir){return rr[ir]})}var P$3=/\/+/g;function Q$4(e,rr){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):rr.toString(36)}function R$3(e,rr,ir,lr,dr){var fr=typeof e;(fr==="undefined"||fr==="boolean")&&(e=null);var mr=!1;if(e===null)mr=!0;else switch(fr){case"string":case"number":mr=!0;break;case"object":switch(e.$$typeof){case l$4:case n$2:mr=!0}}if(mr)return mr=e,dr=dr(mr),e=lr===""?"."+Q$4(mr,0):lr,I$1(dr)?(ir="",e!=null&&(ir=e.replace(P$3,"$&/")+"/"),R$3(dr,rr,ir,"",function(xr){return xr})):dr!=null&&(O$3(dr)&&(dr=N$2(dr,ir+(!dr.key||mr&&mr.key===dr.key?"":(""+dr.key).replace(P$3,"$&/")+"/")+e)),rr.push(dr)),1;if(mr=0,lr=lr===""?".":lr+":",I$1(e))for(var hr=0;hr<e.length;hr++){fr=e[hr];var gr=lr+Q$4(fr,hr);mr+=R$3(fr,rr,ir,gr,dr)}else if(gr=A$3(e),typeof gr=="function")for(e=gr.call(e),hr=0;!(fr=e.next()).done;)fr=fr.value,gr=lr+Q$4(fr,hr++),mr+=R$3(fr,rr,ir,gr,dr);else if(fr==="object")throw rr=String(e),Error("Objects are not valid as a React child (found: "+(rr==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":rr)+"). If you meant to render a collection of children, use an array instead.");return mr}function S$3(e,rr,ir){if(e==null)return e;var lr=[],dr=0;return R$3(e,lr,"","",function(fr){return rr.call(ir,fr,dr++)}),lr}function T$3(e){if(e._status===-1){var rr=e._result;rr=rr(),rr.then(function(ir){(e._status===0||e._status===-1)&&(e._status=1,e._result=ir)},function(ir){(e._status===0||e._status===-1)&&(e._status=2,e._result=ir)}),e._status===-1&&(e._status=0,e._result=rr)}if(e._status===1)return e._result.default;throw e._result}var U$4={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$3,forEach:function(e,rr,ir){S$3(e,function(){rr.apply(this,arguments)},ir)},count:function(e){var rr=0;return S$3(e,function(){rr++}),rr},toArray:function(e){return S$3(e,function(rr){return rr})||[]},only:function(e){if(!O$3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(e,rr,ir){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var lr=C$3({},e.props),dr=e.key,fr=e.ref,mr=e._owner;if(rr!=null){if(rr.ref!==void 0&&(fr=rr.ref,mr=K$3.current),rr.key!==void 0&&(dr=""+rr.key),e.type&&e.type.defaultProps)var hr=e.type.defaultProps;for(gr in rr)J$2.call(rr,gr)&&!L$4.hasOwnProperty(gr)&&(lr[gr]=rr[gr]===void 0&&hr!==void 0?hr[gr]:rr[gr])}var gr=arguments.length-2;if(gr===1)lr.children=ir;else if(1<gr){hr=Array(gr);for(var xr=0;xr<gr;xr++)hr[xr]=arguments[xr+2];lr.children=hr}return{$$typeof:l$4,type:e.type,key:dr,ref:fr,props:lr,_owner:mr}};react_production_min.createContext=function(e){return e={$$typeof:u$1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t$1,_context:e},e.Consumer=e};react_production_min.createElement=M$3;react_production_min.createFactory=function(e){var rr=M$3.bind(null,e);return rr.type=e,rr};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$3,render:e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(e){return{$$typeof:y$3,_payload:{_status:-1,_result:e},_init:T$3}};react_production_min.memo=function(e,rr){return{$$typeof:x$4,type:e,compare:rr===void 0?null:rr}};react_production_min.startTransition=function(e){var rr=V$3.transition;V$3.transition={};try{e()}finally{V$3.transition=rr}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(e,rr){return U$4.current.useCallback(e,rr)};react_production_min.useContext=function(e){return U$4.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$4.current.useDeferredValue(e)};react_production_min.useEffect=function(e,rr){return U$4.current.useEffect(e,rr)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(e,rr,ir){return U$4.current.useImperativeHandle(e,rr,ir)};react_production_min.useInsertionEffect=function(e,rr){return U$4.current.useInsertionEffect(e,rr)};react_production_min.useLayoutEffect=function(e,rr){return U$4.current.useLayoutEffect(e,rr)};react_production_min.useMemo=function(e,rr){return U$4.current.useMemo(e,rr)};react_production_min.useReducer=function(e,rr,ir){return U$4.current.useReducer(e,rr,ir)};react_production_min.useRef=function(e){return U$4.current.useRef(e)};react_production_min.useState=function(e){return U$4.current.useState(e)};react_production_min.useSyncExternalStore=function(e,rr,ir){return U$4.current.useSyncExternalStore(e,rr,ir)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.3.1";react$1.exports=react_production_min;var reactExports=react$1.exports;const React$2=getDefaultExportFromCjs$1(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$1=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(e,rr,ir){var lr,dr={},fr=null,mr=null;ir!==void 0&&(fr=""+ir),rr.key!==void 0&&(fr=""+rr.key),rr.ref!==void 0&&(mr=rr.ref);for(lr in rr)m$3.call(rr,lr)&&!p$3.hasOwnProperty(lr)&&(dr[lr]=rr[lr]);if(e&&e.defaultProps)for(lr in rr=e.defaultProps,rr)dr[lr]===void 0&&(dr[lr]=rr[lr]);return{$$typeof:k$1,type:e,key:fr,ref:mr,props:dr,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function rr(Qr,$n){var es=Qr.length;Qr.push($n);e:for(;0<es;){var Xn=es-1>>>1,rs=Qr[Xn];if(0<dr(rs,$n))Qr[Xn]=$n,Qr[es]=rs,es=Xn;else break e}}function ir(Qr){return Qr.length===0?null:Qr[0]}function lr(Qr){if(Qr.length===0)return null;var $n=Qr[0],es=Qr.pop();if(es!==$n){Qr[0]=es;e:for(var Xn=0,rs=Qr.length,ns=rs>>>1;Xn<ns;){var ls=2*(Xn+1)-1,ss=Qr[ls],as=ls+1,us=Qr[as];if(0>dr(ss,es))as<rs&&0>dr(us,ss)?(Qr[Xn]=us,Qr[as]=es,Xn=as):(Qr[Xn]=ss,Qr[ls]=es,Xn=ls);else if(as<rs&&0>dr(us,es))Qr[Xn]=us,Qr[as]=es,Xn=as;else break e}}return $n}function dr(Qr,$n){var es=Qr.sortIndex-$n.sortIndex;return es!==0?es:Qr.id-$n.id}if(typeof performance=="object"&&typeof performance.now=="function"){var fr=performance;e.unstable_now=function(){return fr.now()}}else{var mr=Date,hr=mr.now();e.unstable_now=function(){return mr.now()-hr}}var gr=[],xr=[],_r=1,yr=null,vr=3,br=!1,Sr=!1,wr=!1,Mr=typeof setTimeout=="function"?setTimeout:null,kr=typeof clearTimeout=="function"?clearTimeout:null,Ar=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ir(Qr){for(var $n=ir(xr);$n!==null;){if($n.callback===null)lr(xr);else if($n.startTime<=Qr)lr(xr),$n.sortIndex=$n.expirationTime,rr(gr,$n);else break;$n=ir(xr)}}function $r(Qr){if(wr=!1,Ir(Qr),!Sr)if(ir(gr)!==null)Sr=!0,Kn(Dr);else{var $n=ir(xr);$n!==null&&qn($r,$n.startTime-Qr)}}function Dr(Qr,$n){Sr=!1,wr&&(wr=!1,kr(Lr),Lr=-1),br=!0;var es=vr;try{for(Ir($n),yr=ir(gr);yr!==null&&(!(yr.expirationTime>$n)||Qr&&!Jr());){var Xn=yr.callback;if(typeof Xn=="function"){yr.callback=null,vr=yr.priorityLevel;var rs=Xn(yr.expirationTime<=$n);$n=e.unstable_now(),typeof rs=="function"?yr.callback=rs:yr===ir(gr)&&lr(gr),Ir($n)}else lr(gr);yr=ir(gr)}if(yr!==null)var ns=!0;else{var ls=ir(xr);ls!==null&&qn($r,ls.startTime-$n),ns=!1}return ns}finally{yr=null,vr=es,br=!1}}var Or=!1,Fr=null,Lr=-1,zr=5,Gr=-1;function Jr(){return!(e.unstable_now()-Gr<zr)}function Yn(){if(Fr!==null){var Qr=e.unstable_now();Gr=Qr;var $n=!0;try{$n=Fr(!0,Qr)}finally{$n?Jn():(Or=!1,Fr=null)}}else Or=!1}var Jn;if(typeof Ar=="function")Jn=function(){Ar(Yn)};else if(typeof MessageChannel<"u"){var Zn=new MessageChannel,Hn=Zn.port2;Zn.port1.onmessage=Yn,Jn=function(){Hn.postMessage(null)}}else Jn=function(){Mr(Yn,0)};function Kn(Qr){Fr=Qr,Or||(Or=!0,Jn())}function qn(Qr,$n){Lr=Mr(function(){Qr(e.unstable_now())},$n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Qr){Qr.callback=null},e.unstable_continueExecution=function(){Sr||br||(Sr=!0,Kn(Dr))},e.unstable_forceFrameRate=function(Qr){0>Qr||125<Qr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):zr=0<Qr?Math.floor(1e3/Qr):5},e.unstable_getCurrentPriorityLevel=function(){return vr},e.unstable_getFirstCallbackNode=function(){return ir(gr)},e.unstable_next=function(Qr){switch(vr){case 1:case 2:case 3:var $n=3;break;default:$n=vr}var es=vr;vr=$n;try{return Qr()}finally{vr=es}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Qr,$n){switch(Qr){case 1:case 2:case 3:case 4:case 5:break;default:Qr=3}var es=vr;vr=Qr;try{return $n()}finally{vr=es}},e.unstable_scheduleCallback=function(Qr,$n,es){var Xn=e.unstable_now();switch(typeof es=="object"&&es!==null?(es=es.delay,es=typeof es=="number"&&0<es?Xn+es:Xn):es=Xn,Qr){case 1:var rs=-1;break;case 2:rs=250;break;case 5:rs=1073741823;break;case 4:rs=1e4;break;default:rs=5e3}return rs=es+rs,Qr={id:_r++,callback:$n,priorityLevel:Qr,startTime:es,expirationTime:rs,sortIndex:-1},es>Xn?(Qr.sortIndex=es,rr(xr,Qr),ir(gr)===null&&Qr===ir(xr)&&(wr?(kr(Lr),Lr=-1):wr=!0,qn($r,es-Xn))):(Qr.sortIndex=rs,rr(gr,Qr),Sr||br||(Sr=!0,Kn(Dr))),Qr},e.unstable_shouldYield=Jr,e.unstable_wrapCallback=function(Qr){var $n=vr;return function(){var es=vr;vr=$n;try{return Qr.apply(this,arguments)}finally{vr=es}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$2(e){for(var rr="https://reactjs.org/docs/error-decoder.html?invariant="+e,ir=1;ir<arguments.length;ir++)rr+="&args[]="+encodeURIComponent(arguments[ir]);return"Minified React error #"+e+"; visit "+rr+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,rr){ha(e,rr),ha(e+"Capture",rr)}function ha(e,rr){for(ea[e]=rr,e=0;e<rr.length;e++)da.add(rr[e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function pa(e,rr,ir,lr){if(ir!==null&&ir.type===0)return!1;switch(typeof rr){case"function":case"symbol":return!0;case"boolean":return lr?!1:ir!==null?!ir.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa(e,rr,ir,lr){if(rr===null||typeof rr>"u"||pa(e,rr,ir,lr))return!0;if(lr)return!1;if(ir!==null)switch(ir.type){case 3:return!rr;case 4:return rr===!1;case 5:return isNaN(rr);case 6:return isNaN(rr)||1>rr}return!1}function v$2(e,rr,ir,lr,dr,fr,mr){this.acceptsBooleans=rr===2||rr===3||rr===4,this.attributeName=lr,this.attributeNamespace=dr,this.mustUseProperty=ir,this.propertyName=e,this.type=rr,this.sanitizeURL=fr,this.removeEmptyString=mr}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z$2[e]=new v$2(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var rr=e[0];z$2[rr]=new v$2(rr,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z$2[e]=new v$2(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z$2[e]=new v$2(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z$2[e]=new v$2(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z$2[e]=new v$2(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z$2[e]=new v$2(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z$2[e]=new v$2(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z$2[e]=new v$2(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var rr=e.replace(ra,sa);z$2[rr]=new v$2(rr,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var rr=e.replace(ra,sa);z$2[rr]=new v$2(rr,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var rr=e.replace(ra,sa);z$2[rr]=new v$2(rr,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z$2[e]=new v$2(e,1,!1,e.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z$2[e]=new v$2(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta$1(e,rr,ir,lr){var dr=z$2.hasOwnProperty(rr)?z$2[rr]:null;(dr!==null?dr.type!==0:lr||!(2<rr.length)||rr[0]!=="o"&&rr[0]!=="O"||rr[1]!=="n"&&rr[1]!=="N")&&(qa(rr,ir,dr,lr)&&(ir=null),lr||dr===null?oa(rr)&&(ir===null?e.removeAttribute(rr):e.setAttribute(rr,""+ir)):dr.mustUseProperty?e[dr.propertyName]=ir===null?dr.type===3?!1:"":ir:(rr=dr.attributeName,lr=dr.attributeNamespace,ir===null?e.removeAttribute(rr):(dr=dr.type,ir=dr===3||dr===4&&ir===!0?"":""+ir,lr?e.setAttributeNS(lr,rr,ir):e.setAttribute(rr,ir))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(e){return e===null||typeof e!="object"?null:(e=Ja&&e[Ja]||e["@@iterator"],typeof e=="function"?e:null)}var A$2=Object.assign,La;function Ma(e){if(La===void 0)try{throw Error()}catch(ir){var rr=ir.stack.trim().match(/\n( *(at )?)/);La=rr&&rr[1]||""}return`
`+La+e}var Na=!1;function Oa(e,rr){if(!e||Na)return"";Na=!0;var ir=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(rr)if(rr=function(){throw Error()},Object.defineProperty(rr.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rr,[])}catch(xr){var lr=xr}Reflect.construct(e,[],rr)}else{try{rr.call()}catch(xr){lr=xr}e.call(rr.prototype)}else{try{throw Error()}catch(xr){lr=xr}e()}}catch(xr){if(xr&&lr&&typeof xr.stack=="string"){for(var dr=xr.stack.split(`
`),fr=lr.stack.split(`
`),mr=dr.length-1,hr=fr.length-1;1<=mr&&0<=hr&&dr[mr]!==fr[hr];)hr--;for(;1<=mr&&0<=hr;mr--,hr--)if(dr[mr]!==fr[hr]){if(mr!==1||hr!==1)do if(mr--,hr--,0>hr||dr[mr]!==fr[hr]){var gr=`
`+dr[mr].replace(" at new "," at ");return e.displayName&&gr.includes("<anonymous>")&&(gr=gr.replace("<anonymous>",e.displayName)),gr}while(1<=mr&&0<=hr);break}}}finally{Na=!1,Error.prepareStackTrace=ir}return(e=e?e.displayName||e.name:"")?Ma(e):""}function Pa(e){switch(e.tag){case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return e=Oa(e.type,!1),e;case 11:return e=Oa(e.type.render,!1),e;case 1:return e=Oa(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca:return(e.displayName||"Context")+".Consumer";case Ba:return(e._context.displayName||"Context")+".Provider";case Da:var rr=e.render;return e=e.displayName,e||(e=rr.displayName||rr.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga:return rr=e.displayName||null,rr!==null?rr:Qa(e.type)||"Memo";case Ha:rr=e._payload,e=e._init;try{return Qa(e(rr))}catch{}}return null}function Ra(e){var rr=e.type;switch(e.tag){case 24:return"Cache";case 9:return(rr.displayName||"Context")+".Consumer";case 10:return(rr._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=rr.render,e=e.displayName||e.name||"",rr.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return rr;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(rr);case 8:return rr===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof rr=="function")return rr.displayName||rr.name||null;if(typeof rr=="string")return rr}return null}function Sa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var rr=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(rr==="checkbox"||rr==="radio")}function Ua(e){var rr=Ta(e)?"checked":"value",ir=Object.getOwnPropertyDescriptor(e.constructor.prototype,rr),lr=""+e[rr];if(!e.hasOwnProperty(rr)&&typeof ir<"u"&&typeof ir.get=="function"&&typeof ir.set=="function"){var dr=ir.get,fr=ir.set;return Object.defineProperty(e,rr,{configurable:!0,get:function(){return dr.call(this)},set:function(mr){lr=""+mr,fr.call(this,mr)}}),Object.defineProperty(e,rr,{enumerable:ir.enumerable}),{getValue:function(){return lr},setValue:function(mr){lr=""+mr},stopTracking:function(){e._valueTracker=null,delete e[rr]}}}}function Va(e){e._valueTracker||(e._valueTracker=Ua(e))}function Wa(e){if(!e)return!1;var rr=e._valueTracker;if(!rr)return!0;var ir=rr.getValue(),lr="";return e&&(lr=Ta(e)?e.checked?"true":"false":e.value),e=lr,e!==ir?(rr.setValue(e),!0):!1}function Xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,rr){var ir=rr.checked;return A$2({},rr,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ir??e._wrapperState.initialChecked})}function Za(e,rr){var ir=rr.defaultValue==null?"":rr.defaultValue,lr=rr.checked!=null?rr.checked:rr.defaultChecked;ir=Sa(rr.value!=null?rr.value:ir),e._wrapperState={initialChecked:lr,initialValue:ir,controlled:rr.type==="checkbox"||rr.type==="radio"?rr.checked!=null:rr.value!=null}}function ab(e,rr){rr=rr.checked,rr!=null&&ta$1(e,"checked",rr,!1)}function bb(e,rr){ab(e,rr);var ir=Sa(rr.value),lr=rr.type;if(ir!=null)lr==="number"?(ir===0&&e.value===""||e.value!=ir)&&(e.value=""+ir):e.value!==""+ir&&(e.value=""+ir);else if(lr==="submit"||lr==="reset"){e.removeAttribute("value");return}rr.hasOwnProperty("value")?cb(e,rr.type,ir):rr.hasOwnProperty("defaultValue")&&cb(e,rr.type,Sa(rr.defaultValue)),rr.checked==null&&rr.defaultChecked!=null&&(e.defaultChecked=!!rr.defaultChecked)}function db$1(e,rr,ir){if(rr.hasOwnProperty("value")||rr.hasOwnProperty("defaultValue")){var lr=rr.type;if(!(lr!=="submit"&&lr!=="reset"||rr.value!==void 0&&rr.value!==null))return;rr=""+e._wrapperState.initialValue,ir||rr===e.value||(e.value=rr),e.defaultValue=rr}ir=e.name,ir!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,ir!==""&&(e.name=ir)}function cb(e,rr,ir){(rr!=="number"||Xa(e.ownerDocument)!==e)&&(ir==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+ir&&(e.defaultValue=""+ir))}var eb=Array.isArray;function fb(e,rr,ir,lr){if(e=e.options,rr){rr={};for(var dr=0;dr<ir.length;dr++)rr["$"+ir[dr]]=!0;for(ir=0;ir<e.length;ir++)dr=rr.hasOwnProperty("$"+e[ir].value),e[ir].selected!==dr&&(e[ir].selected=dr),dr&&lr&&(e[ir].defaultSelected=!0)}else{for(ir=""+Sa(ir),rr=null,dr=0;dr<e.length;dr++){if(e[dr].value===ir){e[dr].selected=!0,lr&&(e[dr].defaultSelected=!0);return}rr!==null||e[dr].disabled||(rr=e[dr])}rr!==null&&(rr.selected=!0)}}function gb(e,rr){if(rr.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$2({},rr,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,rr){var ir=rr.value;if(ir==null){if(ir=rr.children,rr=rr.defaultValue,ir!=null){if(rr!=null)throw Error(p$2(92));if(eb(ir)){if(1<ir.length)throw Error(p$2(93));ir=ir[0]}rr=ir}rr==null&&(rr=""),ir=rr}e._wrapperState={initialValue:Sa(ir)}}function ib(e,rr){var ir=Sa(rr.value),lr=Sa(rr.defaultValue);ir!=null&&(ir=""+ir,ir!==e.value&&(e.value=ir),rr.defaultValue==null&&e.defaultValue!==ir&&(e.defaultValue=ir)),lr!=null&&(e.defaultValue=""+lr)}function jb(e){var rr=e.textContent;rr===e._wrapperState.initialValue&&rr!==""&&rr!==null&&(e.value=rr)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,rr){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(rr):e==="http://www.w3.org/2000/svg"&&rr==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(rr,ir,lr,dr){MSApp.execUnsafeLocalFunction(function(){return e(rr,ir,lr,dr)})}:e}(function(e,rr){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=rr;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+rr.valueOf().toString()+"</svg>",rr=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;rr.firstChild;)e.appendChild(rr.firstChild)}});function ob(e,rr){if(rr){var ir=e.firstChild;if(ir&&ir===e.lastChild&&ir.nodeType===3){ir.nodeValue=rr;return}}e.textContent=rr}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(rr){rr=rr+e.charAt(0).toUpperCase()+e.substring(1),pb[rr]=pb[e]})});function rb(e,rr,ir){return rr==null||typeof rr=="boolean"||rr===""?"":ir||typeof rr!="number"||rr===0||pb.hasOwnProperty(e)&&pb[e]?(""+rr).trim():rr+"px"}function sb(e,rr){e=e.style;for(var ir in rr)if(rr.hasOwnProperty(ir)){var lr=ir.indexOf("--")===0,dr=rb(ir,rr[ir],lr);ir==="float"&&(ir="cssFloat"),lr?e.setProperty(ir,dr):e[ir]=dr}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,rr){if(rr){if(tb[e]&&(rr.children!=null||rr.dangerouslySetInnerHTML!=null))throw Error(p$2(137,e));if(rr.dangerouslySetInnerHTML!=null){if(rr.children!=null)throw Error(p$2(60));if(typeof rr.dangerouslySetInnerHTML!="object"||!("__html"in rr.dangerouslySetInnerHTML))throw Error(p$2(61))}if(rr.style!=null&&typeof rr.style!="object")throw Error(p$2(62))}}function vb(e,rr){if(e.indexOf("-")===-1)return typeof rr.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$2(280));var rr=e.stateNode;rr&&(rr=Db(rr),yb(e.stateNode,e.type,rr))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,rr=Ab;if(Ab=zb=null,Bb(e),rr)for(e=0;e<rr.length;e++)Bb(rr[e])}}function Gb(e,rr){return e(rr)}function Hb(){}var Ib=!1;function Jb(e,rr,ir){if(Ib)return e(rr,ir);Ib=!0;try{return Gb(e,rr,ir)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,rr){var ir=e.stateNode;if(ir===null)return null;var lr=Db(ir);if(lr===null)return null;ir=lr[rr];e:switch(rr){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lr=!lr.disabled)||(e=e.type,lr=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!lr;break e;default:e=!1}if(e)return null;if(ir&&typeof ir!="function")throw Error(p$2(231,rr,typeof ir));return ir}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,rr,ir,lr,dr,fr,mr,hr,gr){var xr=Array.prototype.slice.call(arguments,3);try{rr.apply(ir,xr)}catch(_r){this.onError(_r)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,rr,ir,lr,dr,fr,mr,hr,gr){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,rr,ir,lr,dr,fr,mr,hr,gr){if(Tb.apply(this,arguments),Ob){if(Ob){var xr=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=xr)}}function Vb(e){var rr=e,ir=e;if(e.alternate)for(;rr.return;)rr=rr.return;else{e=rr;do rr=e,rr.flags&4098&&(ir=rr.return),e=rr.return;while(e)}return rr.tag===3?ir:null}function Wb(e){if(e.tag===13){var rr=e.memoizedState;if(rr===null&&(e=e.alternate,e!==null&&(rr=e.memoizedState)),rr!==null)return rr.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$2(188))}function Yb(e){var rr=e.alternate;if(!rr){if(rr=Vb(e),rr===null)throw Error(p$2(188));return rr!==e?null:e}for(var ir=e,lr=rr;;){var dr=ir.return;if(dr===null)break;var fr=dr.alternate;if(fr===null){if(lr=dr.return,lr!==null){ir=lr;continue}break}if(dr.child===fr.child){for(fr=dr.child;fr;){if(fr===ir)return Xb(dr),e;if(fr===lr)return Xb(dr),rr;fr=fr.sibling}throw Error(p$2(188))}if(ir.return!==lr.return)ir=dr,lr=fr;else{for(var mr=!1,hr=dr.child;hr;){if(hr===ir){mr=!0,ir=dr,lr=fr;break}if(hr===lr){mr=!0,lr=dr,ir=fr;break}hr=hr.sibling}if(!mr){for(hr=fr.child;hr;){if(hr===ir){mr=!0,ir=fr,lr=dr;break}if(hr===lr){mr=!0,lr=fr,ir=dr;break}hr=hr.sibling}if(!mr)throw Error(p$2(189))}}if(ir.alternate!==lr)throw Error(p$2(190))}if(ir.tag!==3)throw Error(p$2(188));return ir.stateNode.current===ir?e:rr}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var rr=$b(e);if(rr!==null)return rr;e=e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc$1=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,e,void 0,(e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(e){return e>>>=0,e===0?32:31-(pc(e)/qc|0)|0}var rc=64,sc=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc(e,rr){var ir=e.pendingLanes;if(ir===0)return 0;var lr=0,dr=e.suspendedLanes,fr=e.pingedLanes,mr=ir&268435455;if(mr!==0){var hr=mr&~dr;hr!==0?lr=tc(hr):(fr&=mr,fr!==0&&(lr=tc(fr)))}else mr=ir&~dr,mr!==0?lr=tc(mr):fr!==0&&(lr=tc(fr));if(lr===0)return 0;if(rr!==0&&rr!==lr&&!(rr&dr)&&(dr=lr&-lr,fr=rr&-rr,dr>=fr||dr===16&&(fr&4194240)!==0))return rr;if(lr&4&&(lr|=ir&16),rr=e.entangledLanes,rr!==0)for(e=e.entanglements,rr&=lr;0<rr;)ir=31-oc(rr),dr=1<<ir,lr|=e[ir],rr&=~dr;return lr}function vc(e,rr){switch(e){case 1:case 2:case 4:return rr+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rr+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(e,rr){for(var ir=e.suspendedLanes,lr=e.pingedLanes,dr=e.expirationTimes,fr=e.pendingLanes;0<fr;){var mr=31-oc(fr),hr=1<<mr,gr=dr[mr];gr===-1?(!(hr&ir)||hr&lr)&&(dr[mr]=vc(hr,rr)):gr<=rr&&(e.expiredLanes|=hr),fr&=~hr}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc(){var e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),e}function zc(e){for(var rr=[],ir=0;31>ir;ir++)rr.push(e);return rr}function Ac(e,rr,ir){e.pendingLanes|=rr,rr!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,rr=31-oc(rr),e[rr]=ir}function Bc(e,rr){var ir=e.pendingLanes&~rr;e.pendingLanes=rr,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=rr,e.mutableReadLanes&=rr,e.entangledLanes&=rr,rr=e.entanglements;var lr=e.eventTimes;for(e=e.expirationTimes;0<ir;){var dr=31-oc(ir),fr=1<<dr;rr[dr]=0,lr[dr]=-1,e[dr]=-1,ir&=~fr}}function Cc(e,rr){var ir=e.entangledLanes|=rr;for(e=e.entanglements;ir;){var lr=31-oc(ir),dr=1<<lr;dr&rr|e[lr]&rr&&(e[lr]|=rr),ir&=~dr}}var C$2=0;function Dc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(e,rr){switch(e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(rr.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(rr.pointerId)}}function Tc(e,rr,ir,lr,dr,fr){return e===null||e.nativeEvent!==fr?(e={blockedOn:rr,domEventName:ir,eventSystemFlags:lr,nativeEvent:fr,targetContainers:[dr]},rr!==null&&(rr=Cb(rr),rr!==null&&Fc(rr)),e):(e.eventSystemFlags|=lr,rr=e.targetContainers,dr!==null&&rr.indexOf(dr)===-1&&rr.push(dr),e)}function Uc(e,rr,ir,lr,dr){switch(rr){case"focusin":return Lc=Tc(Lc,e,rr,ir,lr,dr),!0;case"dragenter":return Mc=Tc(Mc,e,rr,ir,lr,dr),!0;case"mouseover":return Nc=Tc(Nc,e,rr,ir,lr,dr),!0;case"pointerover":var fr=dr.pointerId;return Oc.set(fr,Tc(Oc.get(fr)||null,e,rr,ir,lr,dr)),!0;case"gotpointercapture":return fr=dr.pointerId,Pc.set(fr,Tc(Pc.get(fr)||null,e,rr,ir,lr,dr)),!0}return!1}function Vc(e){var rr=Wc(e.target);if(rr!==null){var ir=Vb(rr);if(ir!==null){if(rr=ir.tag,rr===13){if(rr=Wb(ir),rr!==null){e.blockedOn=rr,Ic(e.priority,function(){Gc(ir)});return}}else if(rr===3&&ir.stateNode.current.memoizedState.isDehydrated){e.blockedOn=ir.tag===3?ir.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var rr=e.targetContainers;0<rr.length;){var ir=Yc(e.domEventName,e.eventSystemFlags,rr[0],e.nativeEvent);if(ir===null){ir=e.nativeEvent;var lr=new ir.constructor(ir.type,ir);wb=lr,ir.target.dispatchEvent(lr),wb=null}else return rr=Cb(ir),rr!==null&&Fc(rr),e.blockedOn=ir,!1;rr.shift()}return!0}function Zc(e,rr,ir){Xc(e)&&ir.delete(rr)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(e,rr){e.blockedOn===rr&&(e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(e){function rr(dr){return ad(dr,e)}if(0<Kc.length){ad(Kc[0],e);for(var ir=1;ir<Kc.length;ir++){var lr=Kc[ir];lr.blockedOn===e&&(lr.blockedOn=null)}}for(Lc!==null&&ad(Lc,e),Mc!==null&&ad(Mc,e),Nc!==null&&ad(Nc,e),Oc.forEach(rr),Pc.forEach(rr),ir=0;ir<Qc.length;ir++)lr=Qc[ir],lr.blockedOn===e&&(lr.blockedOn=null);for(;0<Qc.length&&(ir=Qc[0],ir.blockedOn===null);)Vc(ir),ir.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(e,rr,ir,lr){var dr=C$2,fr=cd.transition;cd.transition=null;try{C$2=1,fd(e,rr,ir,lr)}finally{C$2=dr,cd.transition=fr}}function gd(e,rr,ir,lr){var dr=C$2,fr=cd.transition;cd.transition=null;try{C$2=4,fd(e,rr,ir,lr)}finally{C$2=dr,cd.transition=fr}}function fd(e,rr,ir,lr){if(dd){var dr=Yc(e,rr,ir,lr);if(dr===null)hd(e,rr,lr,id,ir),Sc(e,lr);else if(Uc(dr,e,rr,ir,lr))lr.stopPropagation();else if(Sc(e,lr),rr&4&&-1<Rc.indexOf(e)){for(;dr!==null;){var fr=Cb(dr);if(fr!==null&&Ec(fr),fr=Yc(e,rr,ir,lr),fr===null&&hd(e,rr,lr,id,ir),fr===dr)break;dr=fr}dr!==null&&lr.stopPropagation()}else hd(e,rr,lr,null,ir)}}var id=null;function Yc(e,rr,ir,lr){if(id=null,e=xb(lr),e=Wc(e),e!==null)if(rr=Vb(e),rr===null)e=null;else if(ir=rr.tag,ir===13){if(e=Wb(rr),e!==null)return e;e=null}else if(ir===3){if(rr.stateNode.current.memoizedState.isDehydrated)return rr.tag===3?rr.stateNode.containerInfo:null;e=null}else rr!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc$1:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,rr=ld,ir=rr.length,lr,dr="value"in kd?kd.value:kd.textContent,fr=dr.length;for(e=0;e<ir&&rr[e]===dr[e];e++);var mr=ir-e;for(lr=1;lr<=mr&&rr[ir-lr]===dr[fr-lr];lr++);return md=dr.slice(e,1<lr?1-lr:void 0)}function od(e){var rr=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&rr===13&&(e=13)):e=rr,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function rr(ir,lr,dr,fr,mr){this._reactName=ir,this._targetInst=dr,this.type=lr,this.nativeEvent=fr,this.target=mr,this.currentTarget=null;for(var hr in e)e.hasOwnProperty(hr)&&(ir=e[hr],this[hr]=ir?ir(fr):fr[hr]);return this.isDefaultPrevented=(fr.defaultPrevented!=null?fr.defaultPrevented:fr.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(rr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ir=this.nativeEvent;ir&&(ir.preventDefault?ir.preventDefault():typeof ir.returnValue!="unknown"&&(ir.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ir=this.nativeEvent;ir&&(ir.stopPropagation?ir.stopPropagation():typeof ir.cancelBubble!="unknown"&&(ir.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),rr}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var rr=this.nativeEvent;return rr.getModifierState?rr.getModifierState(e):(e=Od[e])?!!rr[e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(e){if(e.key){var rr=Md[e.key]||e.key;if(rr!=="Unidentified")return rr}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$2=ia&&"CompositionEvent"in window,be$2=null;ia&&"documentMode"in document&&(be$2=document.documentMode);var ce$2=ia&&"TextEvent"in window&&!be$2,de$3=ia&&(!ae$2||be$2&&8<be$2&&11>=be$2),ee$3=" ",fe$3=!1;function ge$1(e,rr){switch(e){case"keyup":return $d.indexOf(rr.keyCode)!==-1;case"keydown":return rr.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie$4=!1;function je$1(e,rr){switch(e){case"compositionend":return he$2(rr);case"keypress":return rr.which!==32?null:(fe$3=!0,ee$3);case"textInput":return e=rr.data,e===ee$3&&fe$3?null:e;default:return null}}function ke$2(e,rr){if(ie$4)return e==="compositionend"||!ae$2&&ge$1(e,rr)?(e=nd(),md=ld=kd=null,ie$4=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(rr.ctrlKey||rr.altKey||rr.metaKey)||rr.ctrlKey&&rr.altKey){if(rr.char&&1<rr.char.length)return rr.char;if(rr.which)return String.fromCharCode(rr.which)}return null;case"compositionend":return de$3&&rr.locale!=="ko"?null:rr.data;default:return null}}var le$3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$2(e){var rr=e&&e.nodeName&&e.nodeName.toLowerCase();return rr==="input"?!!le$3[e.type]:rr==="textarea"}function ne$1(e,rr,ir,lr){Eb(lr),rr=oe$1(rr,"onChange"),0<rr.length&&(ir=new td("onChange","change",null,ir,lr),e.push({event:ir,listeners:rr}))}var pe$2=null,qe$2=null;function re$2(e){se$3(e,0)}function te$3(e){var rr=ue$2(e);if(Wa(rr))return e}function ve$1(e,rr){if(e==="change")return rr}var we$1=!1;if(ia){var xe$2;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe$2=ye$1}else xe$2=!1;we$1=xe$2&&(!document.documentMode||9<document.documentMode)}function Ae$2(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$2=pe$2=null)}function Be$1(e){if(e.propertyName==="value"&&te$3(qe$2)){var rr=[];ne$1(rr,qe$2,e,xb(e)),Jb(re$2,rr)}}function Ce$2(e,rr,ir){e==="focusin"?(Ae$2(),pe$2=rr,qe$2=ir,pe$2.attachEvent("onpropertychange",Be$1)):e==="focusout"&&Ae$2()}function De$3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$3(qe$2)}function Ee$2(e,rr){if(e==="click")return te$3(rr)}function Fe$1(e,rr){if(e==="input"||e==="change")return te$3(rr)}function Ge$1(e,rr){return e===rr&&(e!==0||1/e===1/rr)||e!==e&&rr!==rr}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(e,rr){if(He$2(e,rr))return!0;if(typeof e!="object"||e===null||typeof rr!="object"||rr===null)return!1;var ir=Object.keys(e),lr=Object.keys(rr);if(ir.length!==lr.length)return!1;for(lr=0;lr<ir.length;lr++){var dr=ir[lr];if(!ja.call(rr,dr)||!He$2(e[dr],rr[dr]))return!1}return!0}function Je$2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$2(e,rr){var ir=Je$2(e);e=0;for(var lr;ir;){if(ir.nodeType===3){if(lr=e+ir.textContent.length,e<=rr&&lr>=rr)return{node:ir,offset:rr-e};e=lr}e:{for(;ir;){if(ir.nextSibling){ir=ir.nextSibling;break e}ir=ir.parentNode}ir=void 0}ir=Je$2(ir)}}function Le$1(e,rr){return e&&rr?e===rr?!0:e&&e.nodeType===3?!1:rr&&rr.nodeType===3?Le$1(e,rr.parentNode):"contains"in e?e.contains(rr):e.compareDocumentPosition?!!(e.compareDocumentPosition(rr)&16):!1:!1}function Me$2(){for(var e=window,rr=Xa();rr instanceof e.HTMLIFrameElement;){try{var ir=typeof rr.contentWindow.location.href=="string"}catch{ir=!1}if(ir)e=rr.contentWindow;else break;rr=Xa(e.document)}return rr}function Ne$2(e){var rr=e&&e.nodeName&&e.nodeName.toLowerCase();return rr&&(rr==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||rr==="textarea"||e.contentEditable==="true")}function Oe$2(e){var rr=Me$2(),ir=e.focusedElem,lr=e.selectionRange;if(rr!==ir&&ir&&ir.ownerDocument&&Le$1(ir.ownerDocument.documentElement,ir)){if(lr!==null&&Ne$2(ir)){if(rr=lr.start,e=lr.end,e===void 0&&(e=rr),"selectionStart"in ir)ir.selectionStart=rr,ir.selectionEnd=Math.min(e,ir.value.length);else if(e=(rr=ir.ownerDocument||document)&&rr.defaultView||window,e.getSelection){e=e.getSelection();var dr=ir.textContent.length,fr=Math.min(lr.start,dr);lr=lr.end===void 0?fr:Math.min(lr.end,dr),!e.extend&&fr>lr&&(dr=lr,lr=fr,fr=dr),dr=Ke$2(ir,fr);var mr=Ke$2(ir,lr);dr&&mr&&(e.rangeCount!==1||e.anchorNode!==dr.node||e.anchorOffset!==dr.offset||e.focusNode!==mr.node||e.focusOffset!==mr.offset)&&(rr=rr.createRange(),rr.setStart(dr.node,dr.offset),e.removeAllRanges(),fr>lr?(e.addRange(rr),e.extend(mr.node,mr.offset)):(rr.setEnd(mr.node,mr.offset),e.addRange(rr)))}}for(rr=[],e=ir;e=e.parentNode;)e.nodeType===1&&rr.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof ir.focus=="function"&&ir.focus(),ir=0;ir<rr.length;ir++)e=rr[ir],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe$2=ia&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$2=null,Se$1=null,Te$2=!1;function Ue$2(e,rr,ir){var lr=ir.window===ir?ir.document:ir.nodeType===9?ir:ir.ownerDocument;Te$2||Qe$2==null||Qe$2!==Xa(lr)||(lr=Qe$2,"selectionStart"in lr&&Ne$2(lr)?lr={start:lr.selectionStart,end:lr.selectionEnd}:(lr=(lr.ownerDocument&&lr.ownerDocument.defaultView||window).getSelection(),lr={anchorNode:lr.anchorNode,anchorOffset:lr.anchorOffset,focusNode:lr.focusNode,focusOffset:lr.focusOffset}),Se$1&&Ie$1(Se$1,lr)||(Se$1=lr,lr=oe$1(Re$2,"onSelect"),0<lr.length&&(rr=new td("onSelect","select",null,rr,ir),e.push({event:rr,listeners:lr}),rr.target=Qe$2)))}function Ve$2(e,rr){var ir={};return ir[e.toLowerCase()]=rr.toLowerCase(),ir["Webkit"+e]="webkit"+rr,ir["Moz"+e]="moz"+rr,ir}var We$1={animationend:Ve$2("Animation","AnimationEnd"),animationiteration:Ve$2("Animation","AnimationIteration"),animationstart:Ve$2("Animation","AnimationStart"),transitionend:Ve$2("Transition","TransitionEnd")},Xe$1={},Ye$2={};ia&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$2(e){if(Xe$1[e])return Xe$1[e];if(!We$1[e])return e;var rr=We$1[e],ir;for(ir in rr)if(rr.hasOwnProperty(ir)&&ir in Ye$2)return Xe$1[e]=rr[ir];return e}var $e$2=Ze$2("animationend"),af=Ze$2("animationiteration"),bf=Ze$2("animationstart"),cf=Ze$2("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,rr){df.set(e,rr),fa(rr,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,rr,ir){var lr=e.type||"unknown-event";e.currentTarget=ir,Ub(lr,rr,void 0,e),e.currentTarget=null}function se$3(e,rr){rr=(rr&4)!==0;for(var ir=0;ir<e.length;ir++){var lr=e[ir],dr=lr.event;lr=lr.listeners;e:{var fr=void 0;if(rr)for(var mr=lr.length-1;0<=mr;mr--){var hr=lr[mr],gr=hr.instance,xr=hr.currentTarget;if(hr=hr.listener,gr!==fr&&dr.isPropagationStopped())break e;nf(dr,hr,xr),fr=gr}else for(mr=0;mr<lr.length;mr++){if(hr=lr[mr],gr=hr.instance,xr=hr.currentTarget,hr=hr.listener,gr!==fr&&dr.isPropagationStopped())break e;nf(dr,hr,xr),fr=gr}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$4(e,rr){var ir=rr[of];ir===void 0&&(ir=rr[of]=new Set);var lr=e+"__bubble";ir.has(lr)||(pf(rr,e,2,!1),ir.add(lr))}function qf(e,rr,ir){var lr=0;rr&&(lr|=4),pf(ir,e,lr,rr)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da.forEach(function(ir){ir!=="selectionchange"&&(mf.has(ir)||qf(ir,!1,e),qf(ir,!0,e))});var rr=e.nodeType===9?e:e.ownerDocument;rr===null||rr[rf]||(rr[rf]=!0,qf("selectionchange",!1,rr))}}function pf(e,rr,ir,lr){switch(jd(rr)){case 1:var dr=ed;break;case 4:dr=gd;break;default:dr=fd}ir=dr.bind(null,rr,ir,e),dr=void 0,!Lb||rr!=="touchstart"&&rr!=="touchmove"&&rr!=="wheel"||(dr=!0),lr?dr!==void 0?e.addEventListener(rr,ir,{capture:!0,passive:dr}):e.addEventListener(rr,ir,!0):dr!==void 0?e.addEventListener(rr,ir,{passive:dr}):e.addEventListener(rr,ir,!1)}function hd(e,rr,ir,lr,dr){var fr=lr;if(!(rr&1)&&!(rr&2)&&lr!==null)e:for(;;){if(lr===null)return;var mr=lr.tag;if(mr===3||mr===4){var hr=lr.stateNode.containerInfo;if(hr===dr||hr.nodeType===8&&hr.parentNode===dr)break;if(mr===4)for(mr=lr.return;mr!==null;){var gr=mr.tag;if((gr===3||gr===4)&&(gr=mr.stateNode.containerInfo,gr===dr||gr.nodeType===8&&gr.parentNode===dr))return;mr=mr.return}for(;hr!==null;){if(mr=Wc(hr),mr===null)return;if(gr=mr.tag,gr===5||gr===6){lr=fr=mr;continue e}hr=hr.parentNode}}lr=lr.return}Jb(function(){var xr=fr,_r=xb(ir),yr=[];e:{var vr=df.get(e);if(vr!==void 0){var br=td,Sr=e;switch(e){case"keypress":if(od(ir)===0)break e;case"keydown":case"keyup":br=Rd;break;case"focusin":Sr="focus",br=Fd;break;case"focusout":Sr="blur",br=Fd;break;case"beforeblur":case"afterblur":br=Fd;break;case"click":if(ir.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":br=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":br=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":br=Vd;break;case $e$2:case af:case bf:br=Hd;break;case cf:br=Xd;break;case"scroll":br=vd;break;case"wheel":br=Zd;break;case"copy":case"cut":case"paste":br=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":br=Td}var wr=(rr&4)!==0,Mr=!wr&&e==="scroll",kr=wr?vr!==null?vr+"Capture":null:vr;wr=[];for(var Ar=xr,Ir;Ar!==null;){Ir=Ar;var $r=Ir.stateNode;if(Ir.tag===5&&$r!==null&&(Ir=$r,kr!==null&&($r=Kb(Ar,kr),$r!=null&&wr.push(tf(Ar,$r,Ir)))),Mr)break;Ar=Ar.return}0<wr.length&&(vr=new br(vr,Sr,null,ir,_r),yr.push({event:vr,listeners:wr}))}}if(!(rr&7)){e:{if(vr=e==="mouseover"||e==="pointerover",br=e==="mouseout"||e==="pointerout",vr&&ir!==wb&&(Sr=ir.relatedTarget||ir.fromElement)&&(Wc(Sr)||Sr[uf]))break e;if((br||vr)&&(vr=_r.window===_r?_r:(vr=_r.ownerDocument)?vr.defaultView||vr.parentWindow:window,br?(Sr=ir.relatedTarget||ir.toElement,br=xr,Sr=Sr?Wc(Sr):null,Sr!==null&&(Mr=Vb(Sr),Sr!==Mr||Sr.tag!==5&&Sr.tag!==6)&&(Sr=null)):(br=null,Sr=xr),br!==Sr)){if(wr=Bd,$r="onMouseLeave",kr="onMouseEnter",Ar="mouse",(e==="pointerout"||e==="pointerover")&&(wr=Td,$r="onPointerLeave",kr="onPointerEnter",Ar="pointer"),Mr=br==null?vr:ue$2(br),Ir=Sr==null?vr:ue$2(Sr),vr=new wr($r,Ar+"leave",br,ir,_r),vr.target=Mr,vr.relatedTarget=Ir,$r=null,Wc(_r)===xr&&(wr=new wr(kr,Ar+"enter",Sr,ir,_r),wr.target=Ir,wr.relatedTarget=Mr,$r=wr),Mr=$r,br&&Sr)t:{for(wr=br,kr=Sr,Ar=0,Ir=wr;Ir;Ir=vf(Ir))Ar++;for(Ir=0,$r=kr;$r;$r=vf($r))Ir++;for(;0<Ar-Ir;)wr=vf(wr),Ar--;for(;0<Ir-Ar;)kr=vf(kr),Ir--;for(;Ar--;){if(wr===kr||kr!==null&&wr===kr.alternate)break t;wr=vf(wr),kr=vf(kr)}wr=null}else wr=null;br!==null&&wf(yr,vr,br,wr,!1),Sr!==null&&Mr!==null&&wf(yr,Mr,Sr,wr,!0)}}e:{if(vr=xr?ue$2(xr):window,br=vr.nodeName&&vr.nodeName.toLowerCase(),br==="select"||br==="input"&&vr.type==="file")var Dr=ve$1;else if(me$2(vr))if(we$1)Dr=Fe$1;else{Dr=De$3;var Or=Ce$2}else(br=vr.nodeName)&&br.toLowerCase()==="input"&&(vr.type==="checkbox"||vr.type==="radio")&&(Dr=Ee$2);if(Dr&&(Dr=Dr(e,xr))){ne$1(yr,Dr,ir,_r);break e}Or&&Or(e,vr,xr),e==="focusout"&&(Or=vr._wrapperState)&&Or.controlled&&vr.type==="number"&&cb(vr,"number",vr.value)}switch(Or=xr?ue$2(xr):window,e){case"focusin":(me$2(Or)||Or.contentEditable==="true")&&(Qe$2=Or,Re$2=xr,Se$1=null);break;case"focusout":Se$1=Re$2=Qe$2=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue$2(yr,ir,_r);break;case"selectionchange":if(Pe$2)break;case"keydown":case"keyup":Ue$2(yr,ir,_r)}var Fr;if(ae$2)e:{switch(e){case"compositionstart":var Lr="onCompositionStart";break e;case"compositionend":Lr="onCompositionEnd";break e;case"compositionupdate":Lr="onCompositionUpdate";break e}Lr=void 0}else ie$4?ge$1(e,ir)&&(Lr="onCompositionEnd"):e==="keydown"&&ir.keyCode===229&&(Lr="onCompositionStart");Lr&&(de$3&&ir.locale!=="ko"&&(ie$4||Lr!=="onCompositionStart"?Lr==="onCompositionEnd"&&ie$4&&(Fr=nd()):(kd=_r,ld="value"in kd?kd.value:kd.textContent,ie$4=!0)),Or=oe$1(xr,Lr),0<Or.length&&(Lr=new Ld(Lr,e,null,ir,_r),yr.push({event:Lr,listeners:Or}),Fr?Lr.data=Fr:(Fr=he$2(ir),Fr!==null&&(Lr.data=Fr)))),(Fr=ce$2?je$1(e,ir):ke$2(e,ir))&&(xr=oe$1(xr,"onBeforeInput"),0<xr.length&&(_r=new Ld("onBeforeInput","beforeinput",null,ir,_r),yr.push({event:_r,listeners:xr}),_r.data=Fr))}se$3(yr,rr)})}function tf(e,rr,ir){return{instance:e,listener:rr,currentTarget:ir}}function oe$1(e,rr){for(var ir=rr+"Capture",lr=[];e!==null;){var dr=e,fr=dr.stateNode;dr.tag===5&&fr!==null&&(dr=fr,fr=Kb(e,ir),fr!=null&&lr.unshift(tf(e,fr,dr)),fr=Kb(e,rr),fr!=null&&lr.push(tf(e,fr,dr))),e=e.return}return lr}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,rr,ir,lr,dr){for(var fr=rr._reactName,mr=[];ir!==null&&ir!==lr;){var hr=ir,gr=hr.alternate,xr=hr.stateNode;if(gr!==null&&gr===lr)break;hr.tag===5&&xr!==null&&(hr=xr,dr?(gr=Kb(ir,fr),gr!=null&&mr.unshift(tf(ir,gr,hr))):dr||(gr=Kb(ir,fr),gr!=null&&mr.push(tf(ir,gr,hr)))),ir=ir.return}mr.length!==0&&e.push({event:rr,listeners:mr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,rr,ir){if(rr=zf(rr),zf(e)!==rr&&ir)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,rr){return e==="textarea"||e==="noscript"||typeof rr.children=="string"||typeof rr.children=="number"||typeof rr.dangerouslySetInnerHTML=="object"&&rr.dangerouslySetInnerHTML!==null&&rr.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,rr){var ir=rr,lr=0;do{var dr=ir.nextSibling;if(e.removeChild(ir),dr&&dr.nodeType===8)if(ir=dr.data,ir==="/$"){if(lr===0){e.removeChild(dr),bd(rr);return}lr--}else ir!=="$"&&ir!=="$?"&&ir!=="$!"||lr++;ir=dr}while(ir);bd(rr)}function Lf(e){for(;e!=null;e=e.nextSibling){var rr=e.nodeType;if(rr===1||rr===3)break;if(rr===8){if(rr=e.data,rr==="$"||rr==="$!"||rr==="$?")break;if(rr==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var rr=0;e;){if(e.nodeType===8){var ir=e.data;if(ir==="$"||ir==="$!"||ir==="$?"){if(rr===0)return e;rr--}else ir==="/$"&&rr++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(e){var rr=e[Of];if(rr)return rr;for(var ir=e.parentNode;ir;){if(rr=ir[uf]||ir[Of]){if(ir=rr.alternate,rr.child!==null||ir!==null&&ir.child!==null)for(e=Mf(e);e!==null;){if(ir=e[Of])return ir;e=Mf(e)}return rr}e=ir,ir=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$2(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$2(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E$2(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(e,rr){Tf++,Sf[Tf]=e.current,e.current=rr}var Vf={},H$4=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,rr){var ir=e.type.contextTypes;if(!ir)return Vf;var lr=e.stateNode;if(lr&&lr.__reactInternalMemoizedUnmaskedChildContext===rr)return lr.__reactInternalMemoizedMaskedChildContext;var dr={},fr;for(fr in ir)dr[fr]=rr[fr];return lr&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=rr,e.__reactInternalMemoizedMaskedChildContext=dr),dr}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E$2(Wf),E$2(H$4)}function ag(e,rr,ir){if(H$4.current!==Vf)throw Error(p$2(168));G$1(H$4,rr),G$1(Wf,ir)}function bg(e,rr,ir){var lr=e.stateNode;if(rr=rr.childContextTypes,typeof lr.getChildContext!="function")return ir;lr=lr.getChildContext();for(var dr in lr)if(!(dr in rr))throw Error(p$2(108,Ra(e)||"Unknown",dr));return A$2({},ir,lr)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$4.current,G$1(H$4,e),G$1(Wf,Wf.current),!0}function dg(e,rr,ir){var lr=e.stateNode;if(!lr)throw Error(p$2(169));ir?(e=bg(e,rr,Xf),lr.__reactInternalMemoizedMergedChildContext=e,E$2(Wf),E$2(H$4),G$1(H$4,e)):E$2(Wf),G$1(Wf,ir)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,rr=C$2;try{var ir=eg;for(C$2=1;e<ir.length;e++){var lr=ir[e];do lr=lr(!0);while(lr!==null)}eg=null,fg=!1}catch(dr){throw eg!==null&&(eg=eg.slice(e+1)),ac(fc,jg),dr}finally{C$2=rr,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,rr){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=rr}function ug(e,rr,ir){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var lr=rg;e=sg;var dr=32-oc(lr)-1;lr&=~(1<<dr),ir+=1;var fr=32-oc(rr)+dr;if(30<fr){var mr=dr-dr%5;fr=(lr&(1<<mr)-1).toString(32),lr>>=mr,dr-=mr,rg=1<<32-oc(rr)+dr|ir<<dr|lr,sg=fr+e}else rg=1<<fr|ir<<dr|lr,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,rr){var ir=Bg(5,null,null,0);ir.elementType="DELETED",ir.stateNode=rr,ir.return=e,rr=e.deletions,rr===null?(e.deletions=[ir],e.flags|=16):rr.push(ir)}function Cg(e,rr){switch(e.tag){case 5:var ir=e.type;return rr=rr.nodeType!==1||ir.toLowerCase()!==rr.nodeName.toLowerCase()?null:rr,rr!==null?(e.stateNode=rr,xg=e,yg=Lf(rr.firstChild),!0):!1;case 6:return rr=e.pendingProps===""||rr.nodeType!==3?null:rr,rr!==null?(e.stateNode=rr,xg=e,yg=null,!0):!1;case 13:return rr=rr.nodeType!==8?null:rr,rr!==null?(ir=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:rr,treeContext:ir,retryLane:1073741824},ir=Bg(18,null,null,0),ir.stateNode=rr,ir.return=e,e.child=ir,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var rr=yg;if(rr){var ir=rr;if(!Cg(e,rr)){if(Dg(e))throw Error(p$2(418));rr=Lf(ir.nextSibling);var lr=xg;rr&&Cg(e,rr)?Ag(lr,ir):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$2(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var rr;if((rr=e.tag!==3)&&!(rr=e.tag!==5)&&(rr=e.type,rr=rr!=="head"&&rr!=="body"&&!Ef(e.type,e.memoizedProps)),rr&&(rr=yg)){if(Dg(e))throw Hg(),Error(p$2(418));for(;rr;)Ag(e,rr),rr=Lf(rr.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$2(317));e:{for(e=e.nextSibling,rr=0;e;){if(e.nodeType===8){var ir=e.data;if(ir==="/$"){if(rr===0){yg=Lf(e.nextSibling);break e}rr--}else ir!=="$"&&ir!=="$!"&&ir!=="$?"||rr++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(e,rr,ir){if(e=ir.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(ir._owner){if(ir=ir._owner,ir){if(ir.tag!==1)throw Error(p$2(309));var lr=ir.stateNode}if(!lr)throw Error(p$2(147,e));var dr=lr,fr=""+e;return rr!==null&&rr.ref!==null&&typeof rr.ref=="function"&&rr.ref._stringRef===fr?rr.ref:(rr=function(mr){var hr=dr.refs;mr===null?delete hr[fr]:hr[fr]=mr},rr._stringRef=fr,rr)}if(typeof e!="string")throw Error(p$2(284));if(!ir._owner)throw Error(p$2(290,e))}return e}function Mg(e,rr){throw e=Object.prototype.toString.call(rr),Error(p$2(31,e==="[object Object]"?"object with keys {"+Object.keys(rr).join(", ")+"}":e))}function Ng(e){var rr=e._init;return rr(e._payload)}function Og(e){function rr(kr,Ar){if(e){var Ir=kr.deletions;Ir===null?(kr.deletions=[Ar],kr.flags|=16):Ir.push(Ar)}}function ir(kr,Ar){if(!e)return null;for(;Ar!==null;)rr(kr,Ar),Ar=Ar.sibling;return null}function lr(kr,Ar){for(kr=new Map;Ar!==null;)Ar.key!==null?kr.set(Ar.key,Ar):kr.set(Ar.index,Ar),Ar=Ar.sibling;return kr}function dr(kr,Ar){return kr=Pg(kr,Ar),kr.index=0,kr.sibling=null,kr}function fr(kr,Ar,Ir){return kr.index=Ir,e?(Ir=kr.alternate,Ir!==null?(Ir=Ir.index,Ir<Ar?(kr.flags|=2,Ar):Ir):(kr.flags|=2,Ar)):(kr.flags|=1048576,Ar)}function mr(kr){return e&&kr.alternate===null&&(kr.flags|=2),kr}function hr(kr,Ar,Ir,$r){return Ar===null||Ar.tag!==6?(Ar=Qg(Ir,kr.mode,$r),Ar.return=kr,Ar):(Ar=dr(Ar,Ir),Ar.return=kr,Ar)}function gr(kr,Ar,Ir,$r){var Dr=Ir.type;return Dr===ya?_r(kr,Ar,Ir.props.children,$r,Ir.key):Ar!==null&&(Ar.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===Ha&&Ng(Dr)===Ar.type)?($r=dr(Ar,Ir.props),$r.ref=Lg(kr,Ar,Ir),$r.return=kr,$r):($r=Rg(Ir.type,Ir.key,Ir.props,null,kr.mode,$r),$r.ref=Lg(kr,Ar,Ir),$r.return=kr,$r)}function xr(kr,Ar,Ir,$r){return Ar===null||Ar.tag!==4||Ar.stateNode.containerInfo!==Ir.containerInfo||Ar.stateNode.implementation!==Ir.implementation?(Ar=Sg(Ir,kr.mode,$r),Ar.return=kr,Ar):(Ar=dr(Ar,Ir.children||[]),Ar.return=kr,Ar)}function _r(kr,Ar,Ir,$r,Dr){return Ar===null||Ar.tag!==7?(Ar=Tg(Ir,kr.mode,$r,Dr),Ar.return=kr,Ar):(Ar=dr(Ar,Ir),Ar.return=kr,Ar)}function yr(kr,Ar,Ir){if(typeof Ar=="string"&&Ar!==""||typeof Ar=="number")return Ar=Qg(""+Ar,kr.mode,Ir),Ar.return=kr,Ar;if(typeof Ar=="object"&&Ar!==null){switch(Ar.$$typeof){case va:return Ir=Rg(Ar.type,Ar.key,Ar.props,null,kr.mode,Ir),Ir.ref=Lg(kr,null,Ar),Ir.return=kr,Ir;case wa:return Ar=Sg(Ar,kr.mode,Ir),Ar.return=kr,Ar;case Ha:var $r=Ar._init;return yr(kr,$r(Ar._payload),Ir)}if(eb(Ar)||Ka(Ar))return Ar=Tg(Ar,kr.mode,Ir,null),Ar.return=kr,Ar;Mg(kr,Ar)}return null}function vr(kr,Ar,Ir,$r){var Dr=Ar!==null?Ar.key:null;if(typeof Ir=="string"&&Ir!==""||typeof Ir=="number")return Dr!==null?null:hr(kr,Ar,""+Ir,$r);if(typeof Ir=="object"&&Ir!==null){switch(Ir.$$typeof){case va:return Ir.key===Dr?gr(kr,Ar,Ir,$r):null;case wa:return Ir.key===Dr?xr(kr,Ar,Ir,$r):null;case Ha:return Dr=Ir._init,vr(kr,Ar,Dr(Ir._payload),$r)}if(eb(Ir)||Ka(Ir))return Dr!==null?null:_r(kr,Ar,Ir,$r,null);Mg(kr,Ir)}return null}function br(kr,Ar,Ir,$r,Dr){if(typeof $r=="string"&&$r!==""||typeof $r=="number")return kr=kr.get(Ir)||null,hr(Ar,kr,""+$r,Dr);if(typeof $r=="object"&&$r!==null){switch($r.$$typeof){case va:return kr=kr.get($r.key===null?Ir:$r.key)||null,gr(Ar,kr,$r,Dr);case wa:return kr=kr.get($r.key===null?Ir:$r.key)||null,xr(Ar,kr,$r,Dr);case Ha:var Or=$r._init;return br(kr,Ar,Ir,Or($r._payload),Dr)}if(eb($r)||Ka($r))return kr=kr.get(Ir)||null,_r(Ar,kr,$r,Dr,null);Mg(Ar,$r)}return null}function Sr(kr,Ar,Ir,$r){for(var Dr=null,Or=null,Fr=Ar,Lr=Ar=0,zr=null;Fr!==null&&Lr<Ir.length;Lr++){Fr.index>Lr?(zr=Fr,Fr=null):zr=Fr.sibling;var Gr=vr(kr,Fr,Ir[Lr],$r);if(Gr===null){Fr===null&&(Fr=zr);break}e&&Fr&&Gr.alternate===null&&rr(kr,Fr),Ar=fr(Gr,Ar,Lr),Or===null?Dr=Gr:Or.sibling=Gr,Or=Gr,Fr=zr}if(Lr===Ir.length)return ir(kr,Fr),I&&tg(kr,Lr),Dr;if(Fr===null){for(;Lr<Ir.length;Lr++)Fr=yr(kr,Ir[Lr],$r),Fr!==null&&(Ar=fr(Fr,Ar,Lr),Or===null?Dr=Fr:Or.sibling=Fr,Or=Fr);return I&&tg(kr,Lr),Dr}for(Fr=lr(kr,Fr);Lr<Ir.length;Lr++)zr=br(Fr,kr,Lr,Ir[Lr],$r),zr!==null&&(e&&zr.alternate!==null&&Fr.delete(zr.key===null?Lr:zr.key),Ar=fr(zr,Ar,Lr),Or===null?Dr=zr:Or.sibling=zr,Or=zr);return e&&Fr.forEach(function(Jr){return rr(kr,Jr)}),I&&tg(kr,Lr),Dr}function wr(kr,Ar,Ir,$r){var Dr=Ka(Ir);if(typeof Dr!="function")throw Error(p$2(150));if(Ir=Dr.call(Ir),Ir==null)throw Error(p$2(151));for(var Or=Dr=null,Fr=Ar,Lr=Ar=0,zr=null,Gr=Ir.next();Fr!==null&&!Gr.done;Lr++,Gr=Ir.next()){Fr.index>Lr?(zr=Fr,Fr=null):zr=Fr.sibling;var Jr=vr(kr,Fr,Gr.value,$r);if(Jr===null){Fr===null&&(Fr=zr);break}e&&Fr&&Jr.alternate===null&&rr(kr,Fr),Ar=fr(Jr,Ar,Lr),Or===null?Dr=Jr:Or.sibling=Jr,Or=Jr,Fr=zr}if(Gr.done)return ir(kr,Fr),I&&tg(kr,Lr),Dr;if(Fr===null){for(;!Gr.done;Lr++,Gr=Ir.next())Gr=yr(kr,Gr.value,$r),Gr!==null&&(Ar=fr(Gr,Ar,Lr),Or===null?Dr=Gr:Or.sibling=Gr,Or=Gr);return I&&tg(kr,Lr),Dr}for(Fr=lr(kr,Fr);!Gr.done;Lr++,Gr=Ir.next())Gr=br(Fr,kr,Lr,Gr.value,$r),Gr!==null&&(e&&Gr.alternate!==null&&Fr.delete(Gr.key===null?Lr:Gr.key),Ar=fr(Gr,Ar,Lr),Or===null?Dr=Gr:Or.sibling=Gr,Or=Gr);return e&&Fr.forEach(function(Yn){return rr(kr,Yn)}),I&&tg(kr,Lr),Dr}function Mr(kr,Ar,Ir,$r){if(typeof Ir=="object"&&Ir!==null&&Ir.type===ya&&Ir.key===null&&(Ir=Ir.props.children),typeof Ir=="object"&&Ir!==null){switch(Ir.$$typeof){case va:e:{for(var Dr=Ir.key,Or=Ar;Or!==null;){if(Or.key===Dr){if(Dr=Ir.type,Dr===ya){if(Or.tag===7){ir(kr,Or.sibling),Ar=dr(Or,Ir.props.children),Ar.return=kr,kr=Ar;break e}}else if(Or.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===Ha&&Ng(Dr)===Or.type){ir(kr,Or.sibling),Ar=dr(Or,Ir.props),Ar.ref=Lg(kr,Or,Ir),Ar.return=kr,kr=Ar;break e}ir(kr,Or);break}else rr(kr,Or);Or=Or.sibling}Ir.type===ya?(Ar=Tg(Ir.props.children,kr.mode,$r,Ir.key),Ar.return=kr,kr=Ar):($r=Rg(Ir.type,Ir.key,Ir.props,null,kr.mode,$r),$r.ref=Lg(kr,Ar,Ir),$r.return=kr,kr=$r)}return mr(kr);case wa:e:{for(Or=Ir.key;Ar!==null;){if(Ar.key===Or)if(Ar.tag===4&&Ar.stateNode.containerInfo===Ir.containerInfo&&Ar.stateNode.implementation===Ir.implementation){ir(kr,Ar.sibling),Ar=dr(Ar,Ir.children||[]),Ar.return=kr,kr=Ar;break e}else{ir(kr,Ar);break}else rr(kr,Ar);Ar=Ar.sibling}Ar=Sg(Ir,kr.mode,$r),Ar.return=kr,kr=Ar}return mr(kr);case Ha:return Or=Ir._init,Mr(kr,Ar,Or(Ir._payload),$r)}if(eb(Ir))return Sr(kr,Ar,Ir,$r);if(Ka(Ir))return wr(kr,Ar,Ir,$r);Mg(kr,Ir)}return typeof Ir=="string"&&Ir!==""||typeof Ir=="number"?(Ir=""+Ir,Ar!==null&&Ar.tag===6?(ir(kr,Ar.sibling),Ar=dr(Ar,Ir),Ar.return=kr,kr=Ar):(ir(kr,Ar),Ar=Qg(Ir,kr.mode,$r),Ar.return=kr,kr=Ar),mr(kr)):ir(kr,Ar)}return Mr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var rr=Wg.current;E$2(Wg),e._currentValue=rr}function bh(e,rr,ir){for(;e!==null;){var lr=e.alternate;if((e.childLanes&rr)!==rr?(e.childLanes|=rr,lr!==null&&(lr.childLanes|=rr)):lr!==null&&(lr.childLanes&rr)!==rr&&(lr.childLanes|=rr),e===ir)break;e=e.return}}function ch(e,rr){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&rr&&(dh=!0),e.firstContext=null)}function eh(e){var rr=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:rr,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return rr}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,rr,ir,lr){var dr=rr.interleaved;return dr===null?(ir.next=ir,gh(rr)):(ir.next=dr.next,dr.next=ir),rr.interleaved=ir,ih(e,lr)}function ih(e,rr){e.lanes|=rr;var ir=e.alternate;for(ir!==null&&(ir.lanes|=rr),ir=e,e=e.return;e!==null;)e.childLanes|=rr,ir=e.alternate,ir!==null&&(ir.childLanes|=rr),ir=e,e=e.return;return ir.tag===3?ir.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,rr){e=e.updateQueue,rr.updateQueue===e&&(rr.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,rr){return{eventTime:e,lane:rr,tag:0,payload:null,callback:null,next:null}}function nh(e,rr,ir){var lr=e.updateQueue;if(lr===null)return null;if(lr=lr.shared,K$2&2){var dr=lr.pending;return dr===null?rr.next=rr:(rr.next=dr.next,dr.next=rr),lr.pending=rr,ih(e,ir)}return dr=lr.interleaved,dr===null?(rr.next=rr,gh(lr)):(rr.next=dr.next,dr.next=rr),lr.interleaved=rr,ih(e,ir)}function oh(e,rr,ir){if(rr=rr.updateQueue,rr!==null&&(rr=rr.shared,(ir&4194240)!==0)){var lr=rr.lanes;lr&=e.pendingLanes,ir|=lr,rr.lanes=ir,Cc(e,ir)}}function ph(e,rr){var ir=e.updateQueue,lr=e.alternate;if(lr!==null&&(lr=lr.updateQueue,ir===lr)){var dr=null,fr=null;if(ir=ir.firstBaseUpdate,ir!==null){do{var mr={eventTime:ir.eventTime,lane:ir.lane,tag:ir.tag,payload:ir.payload,callback:ir.callback,next:null};fr===null?dr=fr=mr:fr=fr.next=mr,ir=ir.next}while(ir!==null);fr===null?dr=fr=rr:fr=fr.next=rr}else dr=fr=rr;ir={baseState:lr.baseState,firstBaseUpdate:dr,lastBaseUpdate:fr,shared:lr.shared,effects:lr.effects},e.updateQueue=ir;return}e=ir.lastBaseUpdate,e===null?ir.firstBaseUpdate=rr:e.next=rr,ir.lastBaseUpdate=rr}function qh(e,rr,ir,lr){var dr=e.updateQueue;jh=!1;var fr=dr.firstBaseUpdate,mr=dr.lastBaseUpdate,hr=dr.shared.pending;if(hr!==null){dr.shared.pending=null;var gr=hr,xr=gr.next;gr.next=null,mr===null?fr=xr:mr.next=xr,mr=gr;var _r=e.alternate;_r!==null&&(_r=_r.updateQueue,hr=_r.lastBaseUpdate,hr!==mr&&(hr===null?_r.firstBaseUpdate=xr:hr.next=xr,_r.lastBaseUpdate=gr))}if(fr!==null){var yr=dr.baseState;mr=0,_r=xr=gr=null,hr=fr;do{var vr=hr.lane,br=hr.eventTime;if((lr&vr)===vr){_r!==null&&(_r=_r.next={eventTime:br,lane:0,tag:hr.tag,payload:hr.payload,callback:hr.callback,next:null});e:{var Sr=e,wr=hr;switch(vr=rr,br=ir,wr.tag){case 1:if(Sr=wr.payload,typeof Sr=="function"){yr=Sr.call(br,yr,vr);break e}yr=Sr;break e;case 3:Sr.flags=Sr.flags&-65537|128;case 0:if(Sr=wr.payload,vr=typeof Sr=="function"?Sr.call(br,yr,vr):Sr,vr==null)break e;yr=A$2({},yr,vr);break e;case 2:jh=!0}}hr.callback!==null&&hr.lane!==0&&(e.flags|=64,vr=dr.effects,vr===null?dr.effects=[hr]:vr.push(hr))}else br={eventTime:br,lane:vr,tag:hr.tag,payload:hr.payload,callback:hr.callback,next:null},_r===null?(xr=_r=br,gr=yr):_r=_r.next=br,mr|=vr;if(hr=hr.next,hr===null){if(hr=dr.shared.pending,hr===null)break;vr=hr,hr=vr.next,vr.next=null,dr.lastBaseUpdate=vr,dr.shared.pending=null}}while(!0);if(_r===null&&(gr=yr),dr.baseState=gr,dr.firstBaseUpdate=xr,dr.lastBaseUpdate=_r,rr=dr.shared.interleaved,rr!==null){dr=rr;do mr|=dr.lane,dr=dr.next;while(dr!==rr)}else fr===null&&(dr.shared.lanes=0);rh|=mr,e.lanes=mr,e.memoizedState=yr}}function sh(e,rr,ir){if(e=rr.effects,rr.effects=null,e!==null)for(rr=0;rr<e.length;rr++){var lr=e[rr],dr=lr.callback;if(dr!==null){if(lr.callback=null,lr=ir,typeof dr!="function")throw Error(p$2(191,dr));dr.call(lr)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p$2(174));return e}function yh(e,rr){switch(G$1(wh,rr),G$1(vh,e),G$1(uh,th),e=rr.nodeType,e){case 9:case 11:rr=(rr=rr.documentElement)?rr.namespaceURI:lb(null,"");break;default:e=e===8?rr.parentNode:rr,rr=e.namespaceURI||null,e=e.tagName,rr=lb(rr,e)}E$2(uh),G$1(uh,rr)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(e){xh(wh.current);var rr=xh(uh.current),ir=lb(rr,e.type);rr!==ir&&(G$1(vh,e),G$1(uh,ir))}function Bh(e){vh.current===e&&(E$2(uh),E$2(vh))}var L$3=Uf(0);function Ch(e){for(var rr=e;rr!==null;){if(rr.tag===13){var ir=rr.memoizedState;if(ir!==null&&(ir=ir.dehydrated,ir===null||ir.data==="$?"||ir.data==="$!"))return rr}else if(rr.tag===19&&rr.memoizedProps.revealOrder!==void 0){if(rr.flags&128)return rr}else if(rr.child!==null){rr.child.return=rr,rr=rr.child;continue}if(rr===e)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===e)return null;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$1=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(e,rr){if(rr===null)return!1;for(var ir=0;ir<rr.length&&ir<e.length;ir++)if(!He$2(e[ir],rr[ir]))return!1;return!0}function Nh(e,rr,ir,lr,dr,fr){if(Hh=fr,M$2=rr,rr.memoizedState=null,rr.updateQueue=null,rr.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=ir(lr,dr),Jh){fr=0;do{if(Jh=!1,Kh=0,25<=fr)throw Error(p$2(301));fr+=1,O$2=N$1=null,rr.updateQueue=null,Fh.current=Qh,e=ir(lr,dr)}while(Jh)}if(Fh.current=Rh,rr=N$1!==null&&N$1.next!==null,Hh=0,O$2=N$1=M$2=null,Ih=!1,rr)throw Error(p$2(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$2.memoizedState=O$2=e:O$2=O$2.next=e,O$2}function Uh(){if(N$1===null){var e=M$2.alternate;e=e!==null?e.memoizedState:null}else e=N$1.next;var rr=O$2===null?M$2.memoizedState:O$2.next;if(rr!==null)O$2=rr,N$1=e;else{if(e===null)throw Error(p$2(310));N$1=e,e={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O$2===null?M$2.memoizedState=O$2=e:O$2=O$2.next=e}return O$2}function Vh(e,rr){return typeof rr=="function"?rr(e):rr}function Wh(e){var rr=Uh(),ir=rr.queue;if(ir===null)throw Error(p$2(311));ir.lastRenderedReducer=e;var lr=N$1,dr=lr.baseQueue,fr=ir.pending;if(fr!==null){if(dr!==null){var mr=dr.next;dr.next=fr.next,fr.next=mr}lr.baseQueue=dr=fr,ir.pending=null}if(dr!==null){fr=dr.next,lr=lr.baseState;var hr=mr=null,gr=null,xr=fr;do{var _r=xr.lane;if((Hh&_r)===_r)gr!==null&&(gr=gr.next={lane:0,action:xr.action,hasEagerState:xr.hasEagerState,eagerState:xr.eagerState,next:null}),lr=xr.hasEagerState?xr.eagerState:e(lr,xr.action);else{var yr={lane:_r,action:xr.action,hasEagerState:xr.hasEagerState,eagerState:xr.eagerState,next:null};gr===null?(hr=gr=yr,mr=lr):gr=gr.next=yr,M$2.lanes|=_r,rh|=_r}xr=xr.next}while(xr!==null&&xr!==fr);gr===null?mr=lr:gr.next=hr,He$2(lr,rr.memoizedState)||(dh=!0),rr.memoizedState=lr,rr.baseState=mr,rr.baseQueue=gr,ir.lastRenderedState=lr}if(e=ir.interleaved,e!==null){dr=e;do fr=dr.lane,M$2.lanes|=fr,rh|=fr,dr=dr.next;while(dr!==e)}else dr===null&&(ir.lanes=0);return[rr.memoizedState,ir.dispatch]}function Xh(e){var rr=Uh(),ir=rr.queue;if(ir===null)throw Error(p$2(311));ir.lastRenderedReducer=e;var lr=ir.dispatch,dr=ir.pending,fr=rr.memoizedState;if(dr!==null){ir.pending=null;var mr=dr=dr.next;do fr=e(fr,mr.action),mr=mr.next;while(mr!==dr);He$2(fr,rr.memoizedState)||(dh=!0),rr.memoizedState=fr,rr.baseQueue===null&&(rr.baseState=fr),ir.lastRenderedState=fr}return[fr,lr]}function Yh(){}function Zh(e,rr){var ir=M$2,lr=Uh(),dr=rr(),fr=!He$2(lr.memoizedState,dr);if(fr&&(lr.memoizedState=dr,dh=!0),lr=lr.queue,$h(ai.bind(null,ir,lr,e),[e]),lr.getSnapshot!==rr||fr||O$2!==null&&O$2.memoizedState.tag&1){if(ir.flags|=2048,bi(9,ci.bind(null,ir,lr,dr,rr),void 0,null),Q$3===null)throw Error(p$2(349));Hh&30||di(ir,rr,dr)}return dr}function di(e,rr,ir){e.flags|=16384,e={getSnapshot:rr,value:ir},rr=M$2.updateQueue,rr===null?(rr={lastEffect:null,stores:null},M$2.updateQueue=rr,rr.stores=[e]):(ir=rr.stores,ir===null?rr.stores=[e]:ir.push(e))}function ci(e,rr,ir,lr){rr.value=ir,rr.getSnapshot=lr,ei(rr)&&fi(e)}function ai(e,rr,ir){return ir(function(){ei(rr)&&fi(e)})}function ei(e){var rr=e.getSnapshot;e=e.value;try{var ir=rr();return!He$2(e,ir)}catch{return!0}}function fi(e){var rr=ih(e,1);rr!==null&&gi(rr,e,1,-1)}function hi(e){var rr=Th();return typeof e=="function"&&(e=e()),rr.memoizedState=rr.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},rr.queue=e,e=e.dispatch=ii.bind(null,M$2,e),[rr.memoizedState,e]}function bi(e,rr,ir,lr){return e={tag:e,create:rr,destroy:ir,deps:lr,next:null},rr=M$2.updateQueue,rr===null?(rr={lastEffect:null,stores:null},M$2.updateQueue=rr,rr.lastEffect=e.next=e):(ir=rr.lastEffect,ir===null?rr.lastEffect=e.next=e:(lr=ir.next,ir.next=e,e.next=lr,rr.lastEffect=e)),e}function ji(){return Uh().memoizedState}function ki(e,rr,ir,lr){var dr=Th();M$2.flags|=e,dr.memoizedState=bi(1|rr,ir,void 0,lr===void 0?null:lr)}function li(e,rr,ir,lr){var dr=Uh();lr=lr===void 0?null:lr;var fr=void 0;if(N$1!==null){var mr=N$1.memoizedState;if(fr=mr.destroy,lr!==null&&Mh(lr,mr.deps)){dr.memoizedState=bi(rr,ir,fr,lr);return}}M$2.flags|=e,dr.memoizedState=bi(1|rr,ir,fr,lr)}function mi(e,rr){return ki(8390656,8,e,rr)}function $h(e,rr){return li(2048,8,e,rr)}function ni(e,rr){return li(4,2,e,rr)}function oi(e,rr){return li(4,4,e,rr)}function pi(e,rr){if(typeof rr=="function")return e=e(),rr(e),function(){rr(null)};if(rr!=null)return e=e(),rr.current=e,function(){rr.current=null}}function qi(e,rr,ir){return ir=ir!=null?ir.concat([e]):null,li(4,4,pi.bind(null,rr,e),ir)}function ri(){}function si(e,rr){var ir=Uh();rr=rr===void 0?null:rr;var lr=ir.memoizedState;return lr!==null&&rr!==null&&Mh(rr,lr[1])?lr[0]:(ir.memoizedState=[e,rr],e)}function ti(e,rr){var ir=Uh();rr=rr===void 0?null:rr;var lr=ir.memoizedState;return lr!==null&&rr!==null&&Mh(rr,lr[1])?lr[0]:(e=e(),ir.memoizedState=[e,rr],e)}function ui(e,rr,ir){return Hh&21?(He$2(ir,rr)||(ir=yc(),M$2.lanes|=ir,rh|=ir,e.baseState=!0),rr):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=ir)}function vi(e,rr){var ir=C$2;C$2=ir!==0&&4>ir?ir:4,e(!0);var lr=Gh.transition;Gh.transition={};try{e(!1),rr()}finally{C$2=ir,Gh.transition=lr}}function wi(){return Uh().memoizedState}function xi(e,rr,ir){var lr=yi(e);if(ir={lane:lr,action:ir,hasEagerState:!1,eagerState:null,next:null},zi(e))Ai(rr,ir);else if(ir=hh(e,rr,ir,lr),ir!==null){var dr=R$2();gi(ir,e,lr,dr),Bi(ir,rr,lr)}}function ii(e,rr,ir){var lr=yi(e),dr={lane:lr,action:ir,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Ai(rr,dr);else{var fr=e.alternate;if(e.lanes===0&&(fr===null||fr.lanes===0)&&(fr=rr.lastRenderedReducer,fr!==null))try{var mr=rr.lastRenderedState,hr=fr(mr,ir);if(dr.hasEagerState=!0,dr.eagerState=hr,He$2(hr,mr)){var gr=rr.interleaved;gr===null?(dr.next=dr,gh(rr)):(dr.next=gr.next,gr.next=dr),rr.interleaved=dr;return}}catch{}finally{}ir=hh(e,rr,dr,lr),ir!==null&&(dr=R$2(),gi(ir,e,lr,dr),Bi(ir,rr,lr))}}function zi(e){var rr=e.alternate;return e===M$2||rr!==null&&rr===M$2}function Ai(e,rr){Jh=Ih=!0;var ir=e.pending;ir===null?rr.next=rr:(rr.next=ir.next,ir.next=rr),e.pending=rr}function Bi(e,rr,ir){if(ir&4194240){var lr=rr.lanes;lr&=e.pendingLanes,ir|=lr,rr.lanes=ir,Cc(e,ir)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,rr){return Th().memoizedState=[e,rr===void 0?null:rr],e},useContext:eh,useEffect:mi,useImperativeHandle:function(e,rr,ir){return ir=ir!=null?ir.concat([e]):null,ki(4194308,4,pi.bind(null,rr,e),ir)},useLayoutEffect:function(e,rr){return ki(4194308,4,e,rr)},useInsertionEffect:function(e,rr){return ki(4,2,e,rr)},useMemo:function(e,rr){var ir=Th();return rr=rr===void 0?null:rr,e=e(),ir.memoizedState=[e,rr],e},useReducer:function(e,rr,ir){var lr=Th();return rr=ir!==void 0?ir(rr):rr,lr.memoizedState=lr.baseState=rr,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:rr},lr.queue=e,e=e.dispatch=xi.bind(null,M$2,e),[lr.memoizedState,e]},useRef:function(e){var rr=Th();return e={current:e},rr.memoizedState=e},useState:hi,useDebugValue:ri,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi(!1),rr=e[0];return e=vi.bind(null,e[1]),Th().memoizedState=e,[rr,e]},useMutableSource:function(){},useSyncExternalStore:function(e,rr,ir){var lr=M$2,dr=Th();if(I){if(ir===void 0)throw Error(p$2(407));ir=ir()}else{if(ir=rr(),Q$3===null)throw Error(p$2(349));Hh&30||di(lr,rr,ir)}dr.memoizedState=ir;var fr={value:ir,getSnapshot:rr};return dr.queue=fr,mi(ai.bind(null,lr,fr,e),[e]),lr.flags|=2048,bi(9,ci.bind(null,lr,fr,ir,rr),void 0,null),ir},useId:function(){var e=Th(),rr=Q$3.identifierPrefix;if(I){var ir=sg,lr=rg;ir=(lr&~(1<<32-oc(lr)-1)).toString(32)+ir,rr=":"+rr+"R"+ir,ir=Kh++,0<ir&&(rr+="H"+ir.toString(32)),rr+=":"}else ir=Lh++,rr=":"+rr+"r"+ir.toString(32)+":";return e.memoizedState=rr},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var rr=Uh();return ui(rr,N$1.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],rr=Uh().memoizedState;return[e,rr]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(e){var rr=Uh();return N$1===null?rr.memoizedState=e:ui(rr,N$1.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],rr=Uh().memoizedState;return[e,rr]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(e,rr){if(e&&e.defaultProps){rr=A$2({},rr),e=e.defaultProps;for(var ir in e)rr[ir]===void 0&&(rr[ir]=e[ir]);return rr}return rr}function Di(e,rr,ir,lr){rr=e.memoizedState,ir=ir(lr,rr),ir=ir==null?rr:A$2({},rr,ir),e.memoizedState=ir,e.lanes===0&&(e.updateQueue.baseState=ir)}var Ei={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,rr,ir){e=e._reactInternals;var lr=R$2(),dr=yi(e),fr=mh(lr,dr);fr.payload=rr,ir!=null&&(fr.callback=ir),rr=nh(e,fr,dr),rr!==null&&(gi(rr,e,dr,lr),oh(rr,e,dr))},enqueueReplaceState:function(e,rr,ir){e=e._reactInternals;var lr=R$2(),dr=yi(e),fr=mh(lr,dr);fr.tag=1,fr.payload=rr,ir!=null&&(fr.callback=ir),rr=nh(e,fr,dr),rr!==null&&(gi(rr,e,dr,lr),oh(rr,e,dr))},enqueueForceUpdate:function(e,rr){e=e._reactInternals;var ir=R$2(),lr=yi(e),dr=mh(ir,lr);dr.tag=2,rr!=null&&(dr.callback=rr),rr=nh(e,dr,lr),rr!==null&&(gi(rr,e,lr,ir),oh(rr,e,lr))}};function Fi(e,rr,ir,lr,dr,fr,mr){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(lr,fr,mr):rr.prototype&&rr.prototype.isPureReactComponent?!Ie$1(ir,lr)||!Ie$1(dr,fr):!0}function Gi(e,rr,ir){var lr=!1,dr=Vf,fr=rr.contextType;return typeof fr=="object"&&fr!==null?fr=eh(fr):(dr=Zf(rr)?Xf:H$4.current,lr=rr.contextTypes,fr=(lr=lr!=null)?Yf(e,dr):Vf),rr=new rr(ir,fr),e.memoizedState=rr.state!==null&&rr.state!==void 0?rr.state:null,rr.updater=Ei,e.stateNode=rr,rr._reactInternals=e,lr&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=dr,e.__reactInternalMemoizedMaskedChildContext=fr),rr}function Hi(e,rr,ir,lr){e=rr.state,typeof rr.componentWillReceiveProps=="function"&&rr.componentWillReceiveProps(ir,lr),typeof rr.UNSAFE_componentWillReceiveProps=="function"&&rr.UNSAFE_componentWillReceiveProps(ir,lr),rr.state!==e&&Ei.enqueueReplaceState(rr,rr.state,null)}function Ii(e,rr,ir,lr){var dr=e.stateNode;dr.props=ir,dr.state=e.memoizedState,dr.refs={},kh(e);var fr=rr.contextType;typeof fr=="object"&&fr!==null?dr.context=eh(fr):(fr=Zf(rr)?Xf:H$4.current,dr.context=Yf(e,fr)),dr.state=e.memoizedState,fr=rr.getDerivedStateFromProps,typeof fr=="function"&&(Di(e,rr,fr,ir),dr.state=e.memoizedState),typeof rr.getDerivedStateFromProps=="function"||typeof dr.getSnapshotBeforeUpdate=="function"||typeof dr.UNSAFE_componentWillMount!="function"&&typeof dr.componentWillMount!="function"||(rr=dr.state,typeof dr.componentWillMount=="function"&&dr.componentWillMount(),typeof dr.UNSAFE_componentWillMount=="function"&&dr.UNSAFE_componentWillMount(),rr!==dr.state&&Ei.enqueueReplaceState(dr,dr.state,null),qh(e,ir,dr,lr),dr.state=e.memoizedState),typeof dr.componentDidMount=="function"&&(e.flags|=4194308)}function Ji(e,rr){try{var ir="",lr=rr;do ir+=Pa(lr),lr=lr.return;while(lr);var dr=ir}catch(fr){dr=`
Error generating stack: `+fr.message+`
`+fr.stack}return{value:e,source:rr,stack:dr,digest:null}}function Ki(e,rr,ir){return{value:e,source:null,stack:ir??null,digest:rr??null}}function Li(e,rr){try{console.error(rr.value)}catch(ir){setTimeout(function(){throw ir})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(e,rr,ir){ir=mh(-1,ir),ir.tag=3,ir.payload={element:null};var lr=rr.value;return ir.callback=function(){Oi||(Oi=!0,Pi=lr),Li(e,rr)},ir}function Qi(e,rr,ir){ir=mh(-1,ir),ir.tag=3;var lr=e.type.getDerivedStateFromError;if(typeof lr=="function"){var dr=rr.value;ir.payload=function(){return lr(dr)},ir.callback=function(){Li(e,rr)}}var fr=e.stateNode;return fr!==null&&typeof fr.componentDidCatch=="function"&&(ir.callback=function(){Li(e,rr),typeof lr!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var mr=rr.stack;this.componentDidCatch(rr.value,{componentStack:mr!==null?mr:""})}),ir}function Si(e,rr,ir){var lr=e.pingCache;if(lr===null){lr=e.pingCache=new Mi;var dr=new Set;lr.set(rr,dr)}else dr=lr.get(rr),dr===void 0&&(dr=new Set,lr.set(rr,dr));dr.has(ir)||(dr.add(ir),e=Ti.bind(null,e,rr,ir),rr.then(e,e))}function Ui(e){do{var rr;if((rr=e.tag===13)&&(rr=e.memoizedState,rr=rr!==null?rr.dehydrated!==null:!0),rr)return e;e=e.return}while(e!==null);return null}function Vi(e,rr,ir,lr,dr){return e.mode&1?(e.flags|=65536,e.lanes=dr,e):(e===rr?e.flags|=65536:(e.flags|=128,ir.flags|=131072,ir.flags&=-52805,ir.tag===1&&(ir.alternate===null?ir.tag=17:(rr=mh(-1,1),rr.tag=2,nh(ir,rr,1))),ir.lanes|=1),e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(e,rr,ir,lr){rr.child=e===null?Vg(rr,null,ir,lr):Ug(rr,e.child,ir,lr)}function Yi(e,rr,ir,lr,dr){ir=ir.render;var fr=rr.ref;return ch(rr,dr),lr=Nh(e,rr,ir,lr,fr,dr),ir=Sh(),e!==null&&!dh?(rr.updateQueue=e.updateQueue,rr.flags&=-2053,e.lanes&=~dr,Zi(e,rr,dr)):(I&&ir&&vg(rr),rr.flags|=1,Xi(e,rr,lr,dr),rr.child)}function $i(e,rr,ir,lr,dr){if(e===null){var fr=ir.type;return typeof fr=="function"&&!aj(fr)&&fr.defaultProps===void 0&&ir.compare===null&&ir.defaultProps===void 0?(rr.tag=15,rr.type=fr,bj(e,rr,fr,lr,dr)):(e=Rg(ir.type,null,lr,rr,rr.mode,dr),e.ref=rr.ref,e.return=rr,rr.child=e)}if(fr=e.child,!(e.lanes&dr)){var mr=fr.memoizedProps;if(ir=ir.compare,ir=ir!==null?ir:Ie$1,ir(mr,lr)&&e.ref===rr.ref)return Zi(e,rr,dr)}return rr.flags|=1,e=Pg(fr,lr),e.ref=rr.ref,e.return=rr,rr.child=e}function bj(e,rr,ir,lr,dr){if(e!==null){var fr=e.memoizedProps;if(Ie$1(fr,lr)&&e.ref===rr.ref)if(dh=!1,rr.pendingProps=lr=fr,(e.lanes&dr)!==0)e.flags&131072&&(dh=!0);else return rr.lanes=e.lanes,Zi(e,rr,dr)}return cj(e,rr,ir,lr,dr)}function dj(e,rr,ir){var lr=rr.pendingProps,dr=lr.children,fr=e!==null?e.memoizedState:null;if(lr.mode==="hidden")if(!(rr.mode&1))rr.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=ir;else{if(!(ir&1073741824))return e=fr!==null?fr.baseLanes|ir:ir,rr.lanes=rr.childLanes=1073741824,rr.memoizedState={baseLanes:e,cachePool:null,transitions:null},rr.updateQueue=null,G$1(ej,fj),fj|=e,null;rr.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr=fr!==null?fr.baseLanes:ir,G$1(ej,fj),fj|=lr}else fr!==null?(lr=fr.baseLanes|ir,rr.memoizedState=null):lr=ir,G$1(ej,fj),fj|=lr;return Xi(e,rr,dr,ir),rr.child}function gj(e,rr){var ir=rr.ref;(e===null&&ir!==null||e!==null&&e.ref!==ir)&&(rr.flags|=512,rr.flags|=2097152)}function cj(e,rr,ir,lr,dr){var fr=Zf(ir)?Xf:H$4.current;return fr=Yf(rr,fr),ch(rr,dr),ir=Nh(e,rr,ir,lr,fr,dr),lr=Sh(),e!==null&&!dh?(rr.updateQueue=e.updateQueue,rr.flags&=-2053,e.lanes&=~dr,Zi(e,rr,dr)):(I&&lr&&vg(rr),rr.flags|=1,Xi(e,rr,ir,dr),rr.child)}function hj(e,rr,ir,lr,dr){if(Zf(ir)){var fr=!0;cg(rr)}else fr=!1;if(ch(rr,dr),rr.stateNode===null)ij(e,rr),Gi(rr,ir,lr),Ii(rr,ir,lr,dr),lr=!0;else if(e===null){var mr=rr.stateNode,hr=rr.memoizedProps;mr.props=hr;var gr=mr.context,xr=ir.contextType;typeof xr=="object"&&xr!==null?xr=eh(xr):(xr=Zf(ir)?Xf:H$4.current,xr=Yf(rr,xr));var _r=ir.getDerivedStateFromProps,yr=typeof _r=="function"||typeof mr.getSnapshotBeforeUpdate=="function";yr||typeof mr.UNSAFE_componentWillReceiveProps!="function"&&typeof mr.componentWillReceiveProps!="function"||(hr!==lr||gr!==xr)&&Hi(rr,mr,lr,xr),jh=!1;var vr=rr.memoizedState;mr.state=vr,qh(rr,lr,mr,dr),gr=rr.memoizedState,hr!==lr||vr!==gr||Wf.current||jh?(typeof _r=="function"&&(Di(rr,ir,_r,lr),gr=rr.memoizedState),(hr=jh||Fi(rr,ir,hr,lr,vr,gr,xr))?(yr||typeof mr.UNSAFE_componentWillMount!="function"&&typeof mr.componentWillMount!="function"||(typeof mr.componentWillMount=="function"&&mr.componentWillMount(),typeof mr.UNSAFE_componentWillMount=="function"&&mr.UNSAFE_componentWillMount()),typeof mr.componentDidMount=="function"&&(rr.flags|=4194308)):(typeof mr.componentDidMount=="function"&&(rr.flags|=4194308),rr.memoizedProps=lr,rr.memoizedState=gr),mr.props=lr,mr.state=gr,mr.context=xr,lr=hr):(typeof mr.componentDidMount=="function"&&(rr.flags|=4194308),lr=!1)}else{mr=rr.stateNode,lh(e,rr),hr=rr.memoizedProps,xr=rr.type===rr.elementType?hr:Ci(rr.type,hr),mr.props=xr,yr=rr.pendingProps,vr=mr.context,gr=ir.contextType,typeof gr=="object"&&gr!==null?gr=eh(gr):(gr=Zf(ir)?Xf:H$4.current,gr=Yf(rr,gr));var br=ir.getDerivedStateFromProps;(_r=typeof br=="function"||typeof mr.getSnapshotBeforeUpdate=="function")||typeof mr.UNSAFE_componentWillReceiveProps!="function"&&typeof mr.componentWillReceiveProps!="function"||(hr!==yr||vr!==gr)&&Hi(rr,mr,lr,gr),jh=!1,vr=rr.memoizedState,mr.state=vr,qh(rr,lr,mr,dr);var Sr=rr.memoizedState;hr!==yr||vr!==Sr||Wf.current||jh?(typeof br=="function"&&(Di(rr,ir,br,lr),Sr=rr.memoizedState),(xr=jh||Fi(rr,ir,xr,lr,vr,Sr,gr)||!1)?(_r||typeof mr.UNSAFE_componentWillUpdate!="function"&&typeof mr.componentWillUpdate!="function"||(typeof mr.componentWillUpdate=="function"&&mr.componentWillUpdate(lr,Sr,gr),typeof mr.UNSAFE_componentWillUpdate=="function"&&mr.UNSAFE_componentWillUpdate(lr,Sr,gr)),typeof mr.componentDidUpdate=="function"&&(rr.flags|=4),typeof mr.getSnapshotBeforeUpdate=="function"&&(rr.flags|=1024)):(typeof mr.componentDidUpdate!="function"||hr===e.memoizedProps&&vr===e.memoizedState||(rr.flags|=4),typeof mr.getSnapshotBeforeUpdate!="function"||hr===e.memoizedProps&&vr===e.memoizedState||(rr.flags|=1024),rr.memoizedProps=lr,rr.memoizedState=Sr),mr.props=lr,mr.state=Sr,mr.context=gr,lr=xr):(typeof mr.componentDidUpdate!="function"||hr===e.memoizedProps&&vr===e.memoizedState||(rr.flags|=4),typeof mr.getSnapshotBeforeUpdate!="function"||hr===e.memoizedProps&&vr===e.memoizedState||(rr.flags|=1024),lr=!1)}return jj(e,rr,ir,lr,fr,dr)}function jj(e,rr,ir,lr,dr,fr){gj(e,rr);var mr=(rr.flags&128)!==0;if(!lr&&!mr)return dr&&dg(rr,ir,!1),Zi(e,rr,fr);lr=rr.stateNode,Wi.current=rr;var hr=mr&&typeof ir.getDerivedStateFromError!="function"?null:lr.render();return rr.flags|=1,e!==null&&mr?(rr.child=Ug(rr,e.child,null,fr),rr.child=Ug(rr,null,hr,fr)):Xi(e,rr,hr,fr),rr.memoizedState=lr.state,dr&&dg(rr,ir,!0),rr.child}function kj(e){var rr=e.stateNode;rr.pendingContext?ag(e,rr.pendingContext,rr.pendingContext!==rr.context):rr.context&&ag(e,rr.context,!1),yh(e,rr.containerInfo)}function lj(e,rr,ir,lr,dr){return Ig(),Jg(dr),rr.flags|=256,Xi(e,rr,ir,lr),rr.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,rr,ir){var lr=rr.pendingProps,dr=L$3.current,fr=!1,mr=(rr.flags&128)!==0,hr;if((hr=mr)||(hr=e!==null&&e.memoizedState===null?!1:(dr&2)!==0),hr?(fr=!0,rr.flags&=-129):(e===null||e.memoizedState!==null)&&(dr|=1),G$1(L$3,dr&1),e===null)return Eg(rr),e=rr.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(rr.mode&1?e.data==="$!"?rr.lanes=8:rr.lanes=1073741824:rr.lanes=1,null):(mr=lr.children,e=lr.fallback,fr?(lr=rr.mode,fr=rr.child,mr={mode:"hidden",children:mr},!(lr&1)&&fr!==null?(fr.childLanes=0,fr.pendingProps=mr):fr=pj(mr,lr,0,null),e=Tg(e,lr,ir,null),fr.return=rr,e.return=rr,fr.sibling=e,rr.child=fr,rr.child.memoizedState=nj(ir),rr.memoizedState=mj,e):qj(rr,mr));if(dr=e.memoizedState,dr!==null&&(hr=dr.dehydrated,hr!==null))return rj(e,rr,mr,lr,hr,dr,ir);if(fr){fr=lr.fallback,mr=rr.mode,dr=e.child,hr=dr.sibling;var gr={mode:"hidden",children:lr.children};return!(mr&1)&&rr.child!==dr?(lr=rr.child,lr.childLanes=0,lr.pendingProps=gr,rr.deletions=null):(lr=Pg(dr,gr),lr.subtreeFlags=dr.subtreeFlags&14680064),hr!==null?fr=Pg(hr,fr):(fr=Tg(fr,mr,ir,null),fr.flags|=2),fr.return=rr,lr.return=rr,lr.sibling=fr,rr.child=lr,lr=fr,fr=rr.child,mr=e.child.memoizedState,mr=mr===null?nj(ir):{baseLanes:mr.baseLanes|ir,cachePool:null,transitions:mr.transitions},fr.memoizedState=mr,fr.childLanes=e.childLanes&~ir,rr.memoizedState=mj,lr}return fr=e.child,e=fr.sibling,lr=Pg(fr,{mode:"visible",children:lr.children}),!(rr.mode&1)&&(lr.lanes=ir),lr.return=rr,lr.sibling=null,e!==null&&(ir=rr.deletions,ir===null?(rr.deletions=[e],rr.flags|=16):ir.push(e)),rr.child=lr,rr.memoizedState=null,lr}function qj(e,rr){return rr=pj({mode:"visible",children:rr},e.mode,0,null),rr.return=e,e.child=rr}function sj(e,rr,ir,lr){return lr!==null&&Jg(lr),Ug(rr,e.child,null,ir),e=qj(rr,rr.pendingProps.children),e.flags|=2,rr.memoizedState=null,e}function rj(e,rr,ir,lr,dr,fr,mr){if(ir)return rr.flags&256?(rr.flags&=-257,lr=Ki(Error(p$2(422))),sj(e,rr,mr,lr)):rr.memoizedState!==null?(rr.child=e.child,rr.flags|=128,null):(fr=lr.fallback,dr=rr.mode,lr=pj({mode:"visible",children:lr.children},dr,0,null),fr=Tg(fr,dr,mr,null),fr.flags|=2,lr.return=rr,fr.return=rr,lr.sibling=fr,rr.child=lr,rr.mode&1&&Ug(rr,e.child,null,mr),rr.child.memoizedState=nj(mr),rr.memoizedState=mj,fr);if(!(rr.mode&1))return sj(e,rr,mr,null);if(dr.data==="$!"){if(lr=dr.nextSibling&&dr.nextSibling.dataset,lr)var hr=lr.dgst;return lr=hr,fr=Error(p$2(419)),lr=Ki(fr,lr,void 0),sj(e,rr,mr,lr)}if(hr=(mr&e.childLanes)!==0,dh||hr){if(lr=Q$3,lr!==null){switch(mr&-mr){case 4:dr=2;break;case 16:dr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:dr=32;break;case 536870912:dr=268435456;break;default:dr=0}dr=dr&(lr.suspendedLanes|mr)?0:dr,dr!==0&&dr!==fr.retryLane&&(fr.retryLane=dr,ih(e,dr),gi(lr,e,dr,-1))}return tj(),lr=Ki(Error(p$2(421))),sj(e,rr,mr,lr)}return dr.data==="$?"?(rr.flags|=128,rr.child=e.child,rr=uj.bind(null,e),dr._reactRetry=rr,null):(e=fr.treeContext,yg=Lf(dr.nextSibling),xg=rr,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=rr),rr=qj(rr,lr.children),rr.flags|=4096,rr)}function vj(e,rr,ir){e.lanes|=rr;var lr=e.alternate;lr!==null&&(lr.lanes|=rr),bh(e.return,rr,ir)}function wj(e,rr,ir,lr,dr){var fr=e.memoizedState;fr===null?e.memoizedState={isBackwards:rr,rendering:null,renderingStartTime:0,last:lr,tail:ir,tailMode:dr}:(fr.isBackwards=rr,fr.rendering=null,fr.renderingStartTime=0,fr.last=lr,fr.tail=ir,fr.tailMode=dr)}function xj(e,rr,ir){var lr=rr.pendingProps,dr=lr.revealOrder,fr=lr.tail;if(Xi(e,rr,lr.children,ir),lr=L$3.current,lr&2)lr=lr&1|2,rr.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=rr.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,ir,rr);else if(e.tag===19)vj(e,ir,rr);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===rr)break e;for(;e.sibling===null;){if(e.return===null||e.return===rr)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}lr&=1}if(G$1(L$3,lr),!(rr.mode&1))rr.memoizedState=null;else switch(dr){case"forwards":for(ir=rr.child,dr=null;ir!==null;)e=ir.alternate,e!==null&&Ch(e)===null&&(dr=ir),ir=ir.sibling;ir=dr,ir===null?(dr=rr.child,rr.child=null):(dr=ir.sibling,ir.sibling=null),wj(rr,!1,dr,ir,fr);break;case"backwards":for(ir=null,dr=rr.child,rr.child=null;dr!==null;){if(e=dr.alternate,e!==null&&Ch(e)===null){rr.child=dr;break}e=dr.sibling,dr.sibling=ir,ir=dr,dr=e}wj(rr,!0,ir,null,fr);break;case"together":wj(rr,!1,null,null,void 0);break;default:rr.memoizedState=null}return rr.child}function ij(e,rr){!(rr.mode&1)&&e!==null&&(e.alternate=null,rr.alternate=null,rr.flags|=2)}function Zi(e,rr,ir){if(e!==null&&(rr.dependencies=e.dependencies),rh|=rr.lanes,!(ir&rr.childLanes))return null;if(e!==null&&rr.child!==e.child)throw Error(p$2(153));if(rr.child!==null){for(e=rr.child,ir=Pg(e,e.pendingProps),rr.child=ir,ir.return=rr;e.sibling!==null;)e=e.sibling,ir=ir.sibling=Pg(e,e.pendingProps),ir.return=rr;ir.sibling=null}return rr.child}function yj(e,rr,ir){switch(rr.tag){case 3:kj(rr),Ig();break;case 5:Ah(rr);break;case 1:Zf(rr.type)&&cg(rr);break;case 4:yh(rr,rr.stateNode.containerInfo);break;case 10:var lr=rr.type._context,dr=rr.memoizedProps.value;G$1(Wg,lr._currentValue),lr._currentValue=dr;break;case 13:if(lr=rr.memoizedState,lr!==null)return lr.dehydrated!==null?(G$1(L$3,L$3.current&1),rr.flags|=128,null):ir&rr.child.childLanes?oj(e,rr,ir):(G$1(L$3,L$3.current&1),e=Zi(e,rr,ir),e!==null?e.sibling:null);G$1(L$3,L$3.current&1);break;case 19:if(lr=(ir&rr.childLanes)!==0,e.flags&128){if(lr)return xj(e,rr,ir);rr.flags|=128}if(dr=rr.memoizedState,dr!==null&&(dr.rendering=null,dr.tail=null,dr.lastEffect=null),G$1(L$3,L$3.current),lr)break;return null;case 22:case 23:return rr.lanes=0,dj(e,rr,ir)}return Zi(e,rr,ir)}var zj,Aj,Bj,Cj;zj=function(e,rr){for(var ir=rr.child;ir!==null;){if(ir.tag===5||ir.tag===6)e.appendChild(ir.stateNode);else if(ir.tag!==4&&ir.child!==null){ir.child.return=ir,ir=ir.child;continue}if(ir===rr)break;for(;ir.sibling===null;){if(ir.return===null||ir.return===rr)return;ir=ir.return}ir.sibling.return=ir.return,ir=ir.sibling}};Aj=function(){};Bj=function(e,rr,ir,lr){var dr=e.memoizedProps;if(dr!==lr){e=rr.stateNode,xh(uh.current);var fr=null;switch(ir){case"input":dr=Ya(e,dr),lr=Ya(e,lr),fr=[];break;case"select":dr=A$2({},dr,{value:void 0}),lr=A$2({},lr,{value:void 0}),fr=[];break;case"textarea":dr=gb(e,dr),lr=gb(e,lr),fr=[];break;default:typeof dr.onClick!="function"&&typeof lr.onClick=="function"&&(e.onclick=Bf)}ub(ir,lr);var mr;ir=null;for(xr in dr)if(!lr.hasOwnProperty(xr)&&dr.hasOwnProperty(xr)&&dr[xr]!=null)if(xr==="style"){var hr=dr[xr];for(mr in hr)hr.hasOwnProperty(mr)&&(ir||(ir={}),ir[mr]="")}else xr!=="dangerouslySetInnerHTML"&&xr!=="children"&&xr!=="suppressContentEditableWarning"&&xr!=="suppressHydrationWarning"&&xr!=="autoFocus"&&(ea.hasOwnProperty(xr)?fr||(fr=[]):(fr=fr||[]).push(xr,null));for(xr in lr){var gr=lr[xr];if(hr=dr?.[xr],lr.hasOwnProperty(xr)&&gr!==hr&&(gr!=null||hr!=null))if(xr==="style")if(hr){for(mr in hr)!hr.hasOwnProperty(mr)||gr&&gr.hasOwnProperty(mr)||(ir||(ir={}),ir[mr]="");for(mr in gr)gr.hasOwnProperty(mr)&&hr[mr]!==gr[mr]&&(ir||(ir={}),ir[mr]=gr[mr])}else ir||(fr||(fr=[]),fr.push(xr,ir)),ir=gr;else xr==="dangerouslySetInnerHTML"?(gr=gr?gr.__html:void 0,hr=hr?hr.__html:void 0,gr!=null&&hr!==gr&&(fr=fr||[]).push(xr,gr)):xr==="children"?typeof gr!="string"&&typeof gr!="number"||(fr=fr||[]).push(xr,""+gr):xr!=="suppressContentEditableWarning"&&xr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(xr)?(gr!=null&&xr==="onScroll"&&D$4("scroll",e),fr||hr===gr||(fr=[])):(fr=fr||[]).push(xr,gr))}ir&&(fr=fr||[]).push("style",ir);var xr=fr;(rr.updateQueue=xr)&&(rr.flags|=4)}};Cj=function(e,rr,ir,lr){ir!==lr&&(rr.flags|=4)};function Dj(e,rr){if(!I)switch(e.tailMode){case"hidden":rr=e.tail;for(var ir=null;rr!==null;)rr.alternate!==null&&(ir=rr),rr=rr.sibling;ir===null?e.tail=null:ir.sibling=null;break;case"collapsed":ir=e.tail;for(var lr=null;ir!==null;)ir.alternate!==null&&(lr=ir),ir=ir.sibling;lr===null?rr||e.tail===null?e.tail=null:e.tail.sibling=null:lr.sibling=null}}function S$2(e){var rr=e.alternate!==null&&e.alternate.child===e.child,ir=0,lr=0;if(rr)for(var dr=e.child;dr!==null;)ir|=dr.lanes|dr.childLanes,lr|=dr.subtreeFlags&14680064,lr|=dr.flags&14680064,dr.return=e,dr=dr.sibling;else for(dr=e.child;dr!==null;)ir|=dr.lanes|dr.childLanes,lr|=dr.subtreeFlags,lr|=dr.flags,dr.return=e,dr=dr.sibling;return e.subtreeFlags|=lr,e.childLanes=ir,rr}function Ej(e,rr,ir){var lr=rr.pendingProps;switch(wg(rr),rr.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(rr),null;case 1:return Zf(rr.type)&&$f(),S$2(rr),null;case 3:return lr=rr.stateNode,zh(),E$2(Wf),E$2(H$4),Eh(),lr.pendingContext&&(lr.context=lr.pendingContext,lr.pendingContext=null),(e===null||e.child===null)&&(Gg(rr)?rr.flags|=4:e===null||e.memoizedState.isDehydrated&&!(rr.flags&256)||(rr.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,rr),S$2(rr),null;case 5:Bh(rr);var dr=xh(wh.current);if(ir=rr.type,e!==null&&rr.stateNode!=null)Bj(e,rr,ir,lr,dr),e.ref!==rr.ref&&(rr.flags|=512,rr.flags|=2097152);else{if(!lr){if(rr.stateNode===null)throw Error(p$2(166));return S$2(rr),null}if(e=xh(uh.current),Gg(rr)){lr=rr.stateNode,ir=rr.type;var fr=rr.memoizedProps;switch(lr[Of]=rr,lr[Pf]=fr,e=(rr.mode&1)!==0,ir){case"dialog":D$4("cancel",lr),D$4("close",lr);break;case"iframe":case"object":case"embed":D$4("load",lr);break;case"video":case"audio":for(dr=0;dr<lf.length;dr++)D$4(lf[dr],lr);break;case"source":D$4("error",lr);break;case"img":case"image":case"link":D$4("error",lr),D$4("load",lr);break;case"details":D$4("toggle",lr);break;case"input":Za(lr,fr),D$4("invalid",lr);break;case"select":lr._wrapperState={wasMultiple:!!fr.multiple},D$4("invalid",lr);break;case"textarea":hb(lr,fr),D$4("invalid",lr)}ub(ir,fr),dr=null;for(var mr in fr)if(fr.hasOwnProperty(mr)){var hr=fr[mr];mr==="children"?typeof hr=="string"?lr.textContent!==hr&&(fr.suppressHydrationWarning!==!0&&Af(lr.textContent,hr,e),dr=["children",hr]):typeof hr=="number"&&lr.textContent!==""+hr&&(fr.suppressHydrationWarning!==!0&&Af(lr.textContent,hr,e),dr=["children",""+hr]):ea.hasOwnProperty(mr)&&hr!=null&&mr==="onScroll"&&D$4("scroll",lr)}switch(ir){case"input":Va(lr),db$1(lr,fr,!0);break;case"textarea":Va(lr),jb(lr);break;case"select":case"option":break;default:typeof fr.onClick=="function"&&(lr.onclick=Bf)}lr=dr,rr.updateQueue=lr,lr!==null&&(rr.flags|=4)}else{mr=dr.nodeType===9?dr:dr.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(ir)),e==="http://www.w3.org/1999/xhtml"?ir==="script"?(e=mr.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof lr.is=="string"?e=mr.createElement(ir,{is:lr.is}):(e=mr.createElement(ir),ir==="select"&&(mr=e,lr.multiple?mr.multiple=!0:lr.size&&(mr.size=lr.size))):e=mr.createElementNS(e,ir),e[Of]=rr,e[Pf]=lr,zj(e,rr,!1,!1),rr.stateNode=e;e:{switch(mr=vb(ir,lr),ir){case"dialog":D$4("cancel",e),D$4("close",e),dr=lr;break;case"iframe":case"object":case"embed":D$4("load",e),dr=lr;break;case"video":case"audio":for(dr=0;dr<lf.length;dr++)D$4(lf[dr],e);dr=lr;break;case"source":D$4("error",e),dr=lr;break;case"img":case"image":case"link":D$4("error",e),D$4("load",e),dr=lr;break;case"details":D$4("toggle",e),dr=lr;break;case"input":Za(e,lr),dr=Ya(e,lr),D$4("invalid",e);break;case"option":dr=lr;break;case"select":e._wrapperState={wasMultiple:!!lr.multiple},dr=A$2({},lr,{value:void 0}),D$4("invalid",e);break;case"textarea":hb(e,lr),dr=gb(e,lr),D$4("invalid",e);break;default:dr=lr}ub(ir,dr),hr=dr;for(fr in hr)if(hr.hasOwnProperty(fr)){var gr=hr[fr];fr==="style"?sb(e,gr):fr==="dangerouslySetInnerHTML"?(gr=gr?gr.__html:void 0,gr!=null&&nb(e,gr)):fr==="children"?typeof gr=="string"?(ir!=="textarea"||gr!=="")&&ob(e,gr):typeof gr=="number"&&ob(e,""+gr):fr!=="suppressContentEditableWarning"&&fr!=="suppressHydrationWarning"&&fr!=="autoFocus"&&(ea.hasOwnProperty(fr)?gr!=null&&fr==="onScroll"&&D$4("scroll",e):gr!=null&&ta$1(e,fr,gr,mr))}switch(ir){case"input":Va(e),db$1(e,lr,!1);break;case"textarea":Va(e),jb(e);break;case"option":lr.value!=null&&e.setAttribute("value",""+Sa(lr.value));break;case"select":e.multiple=!!lr.multiple,fr=lr.value,fr!=null?fb(e,!!lr.multiple,fr,!1):lr.defaultValue!=null&&fb(e,!!lr.multiple,lr.defaultValue,!0);break;default:typeof dr.onClick=="function"&&(e.onclick=Bf)}switch(ir){case"button":case"input":case"select":case"textarea":lr=!!lr.autoFocus;break e;case"img":lr=!0;break e;default:lr=!1}}lr&&(rr.flags|=4)}rr.ref!==null&&(rr.flags|=512,rr.flags|=2097152)}return S$2(rr),null;case 6:if(e&&rr.stateNode!=null)Cj(e,rr,e.memoizedProps,lr);else{if(typeof lr!="string"&&rr.stateNode===null)throw Error(p$2(166));if(ir=xh(wh.current),xh(uh.current),Gg(rr)){if(lr=rr.stateNode,ir=rr.memoizedProps,lr[Of]=rr,(fr=lr.nodeValue!==ir)&&(e=xg,e!==null))switch(e.tag){case 3:Af(lr.nodeValue,ir,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(lr.nodeValue,ir,(e.mode&1)!==0)}fr&&(rr.flags|=4)}else lr=(ir.nodeType===9?ir:ir.ownerDocument).createTextNode(lr),lr[Of]=rr,rr.stateNode=lr}return S$2(rr),null;case 13:if(E$2(L$3),lr=rr.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&rr.mode&1&&!(rr.flags&128))Hg(),Ig(),rr.flags|=98560,fr=!1;else if(fr=Gg(rr),lr!==null&&lr.dehydrated!==null){if(e===null){if(!fr)throw Error(p$2(318));if(fr=rr.memoizedState,fr=fr!==null?fr.dehydrated:null,!fr)throw Error(p$2(317));fr[Of]=rr}else Ig(),!(rr.flags&128)&&(rr.memoizedState=null),rr.flags|=4;S$2(rr),fr=!1}else zg!==null&&(Fj(zg),zg=null),fr=!0;if(!fr)return rr.flags&65536?rr:null}return rr.flags&128?(rr.lanes=ir,rr):(lr=lr!==null,lr!==(e!==null&&e.memoizedState!==null)&&lr&&(rr.child.flags|=8192,rr.mode&1&&(e===null||L$3.current&1?T$2===0&&(T$2=3):tj())),rr.updateQueue!==null&&(rr.flags|=4),S$2(rr),null);case 4:return zh(),Aj(e,rr),e===null&&sf(rr.stateNode.containerInfo),S$2(rr),null;case 10:return ah(rr.type._context),S$2(rr),null;case 17:return Zf(rr.type)&&$f(),S$2(rr),null;case 19:if(E$2(L$3),fr=rr.memoizedState,fr===null)return S$2(rr),null;if(lr=(rr.flags&128)!==0,mr=fr.rendering,mr===null)if(lr)Dj(fr,!1);else{if(T$2!==0||e!==null&&e.flags&128)for(e=rr.child;e!==null;){if(mr=Ch(e),mr!==null){for(rr.flags|=128,Dj(fr,!1),lr=mr.updateQueue,lr!==null&&(rr.updateQueue=lr,rr.flags|=4),rr.subtreeFlags=0,lr=ir,ir=rr.child;ir!==null;)fr=ir,e=lr,fr.flags&=14680066,mr=fr.alternate,mr===null?(fr.childLanes=0,fr.lanes=e,fr.child=null,fr.subtreeFlags=0,fr.memoizedProps=null,fr.memoizedState=null,fr.updateQueue=null,fr.dependencies=null,fr.stateNode=null):(fr.childLanes=mr.childLanes,fr.lanes=mr.lanes,fr.child=mr.child,fr.subtreeFlags=0,fr.deletions=null,fr.memoizedProps=mr.memoizedProps,fr.memoizedState=mr.memoizedState,fr.updateQueue=mr.updateQueue,fr.type=mr.type,e=mr.dependencies,fr.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),ir=ir.sibling;return G$1(L$3,L$3.current&1|2),rr.child}e=e.sibling}fr.tail!==null&&B()>Gj&&(rr.flags|=128,lr=!0,Dj(fr,!1),rr.lanes=4194304)}else{if(!lr)if(e=Ch(mr),e!==null){if(rr.flags|=128,lr=!0,ir=e.updateQueue,ir!==null&&(rr.updateQueue=ir,rr.flags|=4),Dj(fr,!0),fr.tail===null&&fr.tailMode==="hidden"&&!mr.alternate&&!I)return S$2(rr),null}else 2*B()-fr.renderingStartTime>Gj&&ir!==1073741824&&(rr.flags|=128,lr=!0,Dj(fr,!1),rr.lanes=4194304);fr.isBackwards?(mr.sibling=rr.child,rr.child=mr):(ir=fr.last,ir!==null?ir.sibling=mr:rr.child=mr,fr.last=mr)}return fr.tail!==null?(rr=fr.tail,fr.rendering=rr,fr.tail=rr.sibling,fr.renderingStartTime=B(),rr.sibling=null,ir=L$3.current,G$1(L$3,lr?ir&1|2:ir&1),rr):(S$2(rr),null);case 22:case 23:return Hj(),lr=rr.memoizedState!==null,e!==null&&e.memoizedState!==null!==lr&&(rr.flags|=8192),lr&&rr.mode&1?fj&1073741824&&(S$2(rr),rr.subtreeFlags&6&&(rr.flags|=8192)):S$2(rr),null;case 24:return null;case 25:return null}throw Error(p$2(156,rr.tag))}function Ij(e,rr){switch(wg(rr),rr.tag){case 1:return Zf(rr.type)&&$f(),e=rr.flags,e&65536?(rr.flags=e&-65537|128,rr):null;case 3:return zh(),E$2(Wf),E$2(H$4),Eh(),e=rr.flags,e&65536&&!(e&128)?(rr.flags=e&-65537|128,rr):null;case 5:return Bh(rr),null;case 13:if(E$2(L$3),e=rr.memoizedState,e!==null&&e.dehydrated!==null){if(rr.alternate===null)throw Error(p$2(340));Ig()}return e=rr.flags,e&65536?(rr.flags=e&-65537|128,rr):null;case 19:return E$2(L$3),null;case 4:return zh(),null;case 10:return ah(rr.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$3=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(e,rr){var ir=e.ref;if(ir!==null)if(typeof ir=="function")try{ir(null)}catch(lr){W$2(e,rr,lr)}else ir.current=null}function Mj(e,rr,ir){try{ir()}catch(lr){W$2(e,rr,lr)}}var Nj=!1;function Oj(e,rr){if(Cf=dd,e=Me$2(),Ne$2(e)){if("selectionStart"in e)var ir={start:e.selectionStart,end:e.selectionEnd};else e:{ir=(ir=e.ownerDocument)&&ir.defaultView||window;var lr=ir.getSelection&&ir.getSelection();if(lr&&lr.rangeCount!==0){ir=lr.anchorNode;var dr=lr.anchorOffset,fr=lr.focusNode;lr=lr.focusOffset;try{ir.nodeType,fr.nodeType}catch{ir=null;break e}var mr=0,hr=-1,gr=-1,xr=0,_r=0,yr=e,vr=null;t:for(;;){for(var br;yr!==ir||dr!==0&&yr.nodeType!==3||(hr=mr+dr),yr!==fr||lr!==0&&yr.nodeType!==3||(gr=mr+lr),yr.nodeType===3&&(mr+=yr.nodeValue.length),(br=yr.firstChild)!==null;)vr=yr,yr=br;for(;;){if(yr===e)break t;if(vr===ir&&++xr===dr&&(hr=mr),vr===fr&&++_r===lr&&(gr=mr),(br=yr.nextSibling)!==null)break;yr=vr,vr=yr.parentNode}yr=br}ir=hr===-1||gr===-1?null:{start:hr,end:gr}}else ir=null}ir=ir||{start:0,end:0}}else ir=null;for(Df={focusedElem:e,selectionRange:ir},dd=!1,V$2=rr;V$2!==null;)if(rr=V$2,e=rr.child,(rr.subtreeFlags&1028)!==0&&e!==null)e.return=rr,V$2=e;else for(;V$2!==null;){rr=V$2;try{var Sr=rr.alternate;if(rr.flags&1024)switch(rr.tag){case 0:case 11:case 15:break;case 1:if(Sr!==null){var wr=Sr.memoizedProps,Mr=Sr.memoizedState,kr=rr.stateNode,Ar=kr.getSnapshotBeforeUpdate(rr.elementType===rr.type?wr:Ci(rr.type,wr),Mr);kr.__reactInternalSnapshotBeforeUpdate=Ar}break;case 3:var Ir=rr.stateNode.containerInfo;Ir.nodeType===1?Ir.textContent="":Ir.nodeType===9&&Ir.documentElement&&Ir.removeChild(Ir.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch($r){W$2(rr,rr.return,$r)}if(e=rr.sibling,e!==null){e.return=rr.return,V$2=e;break}V$2=rr.return}return Sr=Nj,Nj=!1,Sr}function Pj(e,rr,ir){var lr=rr.updateQueue;if(lr=lr!==null?lr.lastEffect:null,lr!==null){var dr=lr=lr.next;do{if((dr.tag&e)===e){var fr=dr.destroy;dr.destroy=void 0,fr!==void 0&&Mj(rr,ir,fr)}dr=dr.next}while(dr!==lr)}}function Qj(e,rr){if(rr=rr.updateQueue,rr=rr!==null?rr.lastEffect:null,rr!==null){var ir=rr=rr.next;do{if((ir.tag&e)===e){var lr=ir.create;ir.destroy=lr()}ir=ir.next}while(ir!==rr)}}function Rj(e){var rr=e.ref;if(rr!==null){var ir=e.stateNode;switch(e.tag){case 5:e=ir;break;default:e=ir}typeof rr=="function"?rr(e):rr.current=e}}function Sj(e){var rr=e.alternate;rr!==null&&(e.alternate=null,Sj(rr)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(rr=e.stateNode,rr!==null&&(delete rr[Of],delete rr[Pf],delete rr[of],delete rr[Qf],delete rr[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,rr,ir){var lr=e.tag;if(lr===5||lr===6)e=e.stateNode,rr?ir.nodeType===8?ir.parentNode.insertBefore(e,rr):ir.insertBefore(e,rr):(ir.nodeType===8?(rr=ir.parentNode,rr.insertBefore(e,ir)):(rr=ir,rr.appendChild(e)),ir=ir._reactRootContainer,ir!=null||rr.onclick!==null||(rr.onclick=Bf));else if(lr!==4&&(e=e.child,e!==null))for(Vj(e,rr,ir),e=e.sibling;e!==null;)Vj(e,rr,ir),e=e.sibling}function Wj(e,rr,ir){var lr=e.tag;if(lr===5||lr===6)e=e.stateNode,rr?ir.insertBefore(e,rr):ir.appendChild(e);else if(lr!==4&&(e=e.child,e!==null))for(Wj(e,rr,ir),e=e.sibling;e!==null;)Wj(e,rr,ir),e=e.sibling}var X$2=null,Xj=!1;function Yj(e,rr,ir){for(ir=ir.child;ir!==null;)Zj(e,rr,ir),ir=ir.sibling}function Zj(e,rr,ir){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ir)}catch{}switch(ir.tag){case 5:U$3||Lj(ir,rr);case 6:var lr=X$2,dr=Xj;X$2=null,Yj(e,rr,ir),X$2=lr,Xj=dr,X$2!==null&&(Xj?(e=X$2,ir=ir.stateNode,e.nodeType===8?e.parentNode.removeChild(ir):e.removeChild(ir)):X$2.removeChild(ir.stateNode));break;case 18:X$2!==null&&(Xj?(e=X$2,ir=ir.stateNode,e.nodeType===8?Kf(e.parentNode,ir):e.nodeType===1&&Kf(e,ir),bd(e)):Kf(X$2,ir.stateNode));break;case 4:lr=X$2,dr=Xj,X$2=ir.stateNode.containerInfo,Xj=!0,Yj(e,rr,ir),X$2=lr,Xj=dr;break;case 0:case 11:case 14:case 15:if(!U$3&&(lr=ir.updateQueue,lr!==null&&(lr=lr.lastEffect,lr!==null))){dr=lr=lr.next;do{var fr=dr,mr=fr.destroy;fr=fr.tag,mr!==void 0&&(fr&2||fr&4)&&Mj(ir,rr,mr),dr=dr.next}while(dr!==lr)}Yj(e,rr,ir);break;case 1:if(!U$3&&(Lj(ir,rr),lr=ir.stateNode,typeof lr.componentWillUnmount=="function"))try{lr.props=ir.memoizedProps,lr.state=ir.memoizedState,lr.componentWillUnmount()}catch(hr){W$2(ir,rr,hr)}Yj(e,rr,ir);break;case 21:Yj(e,rr,ir);break;case 22:ir.mode&1?(U$3=(lr=U$3)||ir.memoizedState!==null,Yj(e,rr,ir),U$3=lr):Yj(e,rr,ir);break;default:Yj(e,rr,ir)}}function ak(e){var rr=e.updateQueue;if(rr!==null){e.updateQueue=null;var ir=e.stateNode;ir===null&&(ir=e.stateNode=new Kj),rr.forEach(function(lr){var dr=bk.bind(null,e,lr);ir.has(lr)||(ir.add(lr),lr.then(dr,dr))})}}function ck(e,rr){var ir=rr.deletions;if(ir!==null)for(var lr=0;lr<ir.length;lr++){var dr=ir[lr];try{var fr=e,mr=rr,hr=mr;e:for(;hr!==null;){switch(hr.tag){case 5:X$2=hr.stateNode,Xj=!1;break e;case 3:X$2=hr.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=hr.stateNode.containerInfo,Xj=!0;break e}hr=hr.return}if(X$2===null)throw Error(p$2(160));Zj(fr,mr,dr),X$2=null,Xj=!1;var gr=dr.alternate;gr!==null&&(gr.return=null),dr.return=null}catch(xr){W$2(dr,rr,xr)}}if(rr.subtreeFlags&12854)for(rr=rr.child;rr!==null;)dk(rr,e),rr=rr.sibling}function dk(e,rr){var ir=e.alternate,lr=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(rr,e),ek(e),lr&4){try{Pj(3,e,e.return),Qj(3,e)}catch(wr){W$2(e,e.return,wr)}try{Pj(5,e,e.return)}catch(wr){W$2(e,e.return,wr)}}break;case 1:ck(rr,e),ek(e),lr&512&&ir!==null&&Lj(ir,ir.return);break;case 5:if(ck(rr,e),ek(e),lr&512&&ir!==null&&Lj(ir,ir.return),e.flags&32){var dr=e.stateNode;try{ob(dr,"")}catch(wr){W$2(e,e.return,wr)}}if(lr&4&&(dr=e.stateNode,dr!=null)){var fr=e.memoizedProps,mr=ir!==null?ir.memoizedProps:fr,hr=e.type,gr=e.updateQueue;if(e.updateQueue=null,gr!==null)try{hr==="input"&&fr.type==="radio"&&fr.name!=null&&ab(dr,fr),vb(hr,mr);var xr=vb(hr,fr);for(mr=0;mr<gr.length;mr+=2){var _r=gr[mr],yr=gr[mr+1];_r==="style"?sb(dr,yr):_r==="dangerouslySetInnerHTML"?nb(dr,yr):_r==="children"?ob(dr,yr):ta$1(dr,_r,yr,xr)}switch(hr){case"input":bb(dr,fr);break;case"textarea":ib(dr,fr);break;case"select":var vr=dr._wrapperState.wasMultiple;dr._wrapperState.wasMultiple=!!fr.multiple;var br=fr.value;br!=null?fb(dr,!!fr.multiple,br,!1):vr!==!!fr.multiple&&(fr.defaultValue!=null?fb(dr,!!fr.multiple,fr.defaultValue,!0):fb(dr,!!fr.multiple,fr.multiple?[]:"",!1))}dr[Pf]=fr}catch(wr){W$2(e,e.return,wr)}}break;case 6:if(ck(rr,e),ek(e),lr&4){if(e.stateNode===null)throw Error(p$2(162));dr=e.stateNode,fr=e.memoizedProps;try{dr.nodeValue=fr}catch(wr){W$2(e,e.return,wr)}}break;case 3:if(ck(rr,e),ek(e),lr&4&&ir!==null&&ir.memoizedState.isDehydrated)try{bd(rr.containerInfo)}catch(wr){W$2(e,e.return,wr)}break;case 4:ck(rr,e),ek(e);break;case 13:ck(rr,e),ek(e),dr=e.child,dr.flags&8192&&(fr=dr.memoizedState!==null,dr.stateNode.isHidden=fr,!fr||dr.alternate!==null&&dr.alternate.memoizedState!==null||(fk=B())),lr&4&&ak(e);break;case 22:if(_r=ir!==null&&ir.memoizedState!==null,e.mode&1?(U$3=(xr=U$3)||_r,ck(rr,e),U$3=xr):ck(rr,e),ek(e),lr&8192){if(xr=e.memoizedState!==null,(e.stateNode.isHidden=xr)&&!_r&&e.mode&1)for(V$2=e,_r=e.child;_r!==null;){for(yr=V$2=_r;V$2!==null;){switch(vr=V$2,br=vr.child,vr.tag){case 0:case 11:case 14:case 15:Pj(4,vr,vr.return);break;case 1:Lj(vr,vr.return);var Sr=vr.stateNode;if(typeof Sr.componentWillUnmount=="function"){lr=vr,ir=vr.return;try{rr=lr,Sr.props=rr.memoizedProps,Sr.state=rr.memoizedState,Sr.componentWillUnmount()}catch(wr){W$2(lr,ir,wr)}}break;case 5:Lj(vr,vr.return);break;case 22:if(vr.memoizedState!==null){gk(yr);continue}}br!==null?(br.return=vr,V$2=br):gk(yr)}_r=_r.sibling}e:for(_r=null,yr=e;;){if(yr.tag===5){if(_r===null){_r=yr;try{dr=yr.stateNode,xr?(fr=dr.style,typeof fr.setProperty=="function"?fr.setProperty("display","none","important"):fr.display="none"):(hr=yr.stateNode,gr=yr.memoizedProps.style,mr=gr!=null&&gr.hasOwnProperty("display")?gr.display:null,hr.style.display=rb("display",mr))}catch(wr){W$2(e,e.return,wr)}}}else if(yr.tag===6){if(_r===null)try{yr.stateNode.nodeValue=xr?"":yr.memoizedProps}catch(wr){W$2(e,e.return,wr)}}else if((yr.tag!==22&&yr.tag!==23||yr.memoizedState===null||yr===e)&&yr.child!==null){yr.child.return=yr,yr=yr.child;continue}if(yr===e)break e;for(;yr.sibling===null;){if(yr.return===null||yr.return===e)break e;_r===yr&&(_r=null),yr=yr.return}_r===yr&&(_r=null),yr.sibling.return=yr.return,yr=yr.sibling}}break;case 19:ck(rr,e),ek(e),lr&4&&ak(e);break;case 21:break;default:ck(rr,e),ek(e)}}function ek(e){var rr=e.flags;if(rr&2){try{e:{for(var ir=e.return;ir!==null;){if(Tj(ir)){var lr=ir;break e}ir=ir.return}throw Error(p$2(160))}switch(lr.tag){case 5:var dr=lr.stateNode;lr.flags&32&&(ob(dr,""),lr.flags&=-33);var fr=Uj(e);Wj(e,fr,dr);break;case 3:case 4:var mr=lr.stateNode.containerInfo,hr=Uj(e);Vj(e,hr,mr);break;default:throw Error(p$2(161))}}catch(gr){W$2(e,e.return,gr)}e.flags&=-3}rr&4096&&(e.flags&=-4097)}function hk(e,rr,ir){V$2=e,ik(e)}function ik(e,rr,ir){for(var lr=(e.mode&1)!==0;V$2!==null;){var dr=V$2,fr=dr.child;if(dr.tag===22&&lr){var mr=dr.memoizedState!==null||Jj;if(!mr){var hr=dr.alternate,gr=hr!==null&&hr.memoizedState!==null||U$3;hr=Jj;var xr=U$3;if(Jj=mr,(U$3=gr)&&!xr)for(V$2=dr;V$2!==null;)mr=V$2,gr=mr.child,mr.tag===22&&mr.memoizedState!==null?jk(dr):gr!==null?(gr.return=mr,V$2=gr):jk(dr);for(;fr!==null;)V$2=fr,ik(fr),fr=fr.sibling;V$2=dr,Jj=hr,U$3=xr}kk(e)}else dr.subtreeFlags&8772&&fr!==null?(fr.return=dr,V$2=fr):kk(e)}}function kk(e){for(;V$2!==null;){var rr=V$2;if(rr.flags&8772){var ir=rr.alternate;try{if(rr.flags&8772)switch(rr.tag){case 0:case 11:case 15:U$3||Qj(5,rr);break;case 1:var lr=rr.stateNode;if(rr.flags&4&&!U$3)if(ir===null)lr.componentDidMount();else{var dr=rr.elementType===rr.type?ir.memoizedProps:Ci(rr.type,ir.memoizedProps);lr.componentDidUpdate(dr,ir.memoizedState,lr.__reactInternalSnapshotBeforeUpdate)}var fr=rr.updateQueue;fr!==null&&sh(rr,fr,lr);break;case 3:var mr=rr.updateQueue;if(mr!==null){if(ir=null,rr.child!==null)switch(rr.child.tag){case 5:ir=rr.child.stateNode;break;case 1:ir=rr.child.stateNode}sh(rr,mr,ir)}break;case 5:var hr=rr.stateNode;if(ir===null&&rr.flags&4){ir=hr;var gr=rr.memoizedProps;switch(rr.type){case"button":case"input":case"select":case"textarea":gr.autoFocus&&ir.focus();break;case"img":gr.src&&(ir.src=gr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(rr.memoizedState===null){var xr=rr.alternate;if(xr!==null){var _r=xr.memoizedState;if(_r!==null){var yr=_r.dehydrated;yr!==null&&bd(yr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$3||rr.flags&512&&Rj(rr)}catch(vr){W$2(rr,rr.return,vr)}}if(rr===e){V$2=null;break}if(ir=rr.sibling,ir!==null){ir.return=rr.return,V$2=ir;break}V$2=rr.return}}function gk(e){for(;V$2!==null;){var rr=V$2;if(rr===e){V$2=null;break}var ir=rr.sibling;if(ir!==null){ir.return=rr.return,V$2=ir;break}V$2=rr.return}}function jk(e){for(;V$2!==null;){var rr=V$2;try{switch(rr.tag){case 0:case 11:case 15:var ir=rr.return;try{Qj(4,rr)}catch(gr){W$2(rr,ir,gr)}break;case 1:var lr=rr.stateNode;if(typeof lr.componentDidMount=="function"){var dr=rr.return;try{lr.componentDidMount()}catch(gr){W$2(rr,dr,gr)}}var fr=rr.return;try{Rj(rr)}catch(gr){W$2(rr,fr,gr)}break;case 5:var mr=rr.return;try{Rj(rr)}catch(gr){W$2(rr,mr,gr)}}}catch(gr){W$2(rr,rr.return,gr)}if(rr===e){V$2=null;break}var hr=rr.sibling;if(hr!==null){hr.return=rr.return,V$2=hr;break}V$2=rr.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$3=null,Y$3=null,Z$3=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk$1=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B():Ak!==-1?Ak:Ak=B()}function yi(e){return e.mode&1?K$2&2&&Z$3!==0?Z$3&-Z$3:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(e=C$2,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi(e,rr,ir,lr){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(e,ir,lr),(!(K$2&2)||e!==Q$3)&&(e===Q$3&&(!(K$2&2)&&(qk|=ir),T$2===4&&Ck(e,Z$3)),Dk(e,lr),ir===1&&K$2===0&&!(rr.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,rr){var ir=e.callbackNode;wc(e,rr);var lr=uc(e,e===Q$3?Z$3:0);if(lr===0)ir!==null&&bc(ir),e.callbackNode=null,e.callbackPriority=0;else if(rr=lr&-lr,e.callbackPriority!==rr){if(ir!=null&&bc(ir),rr===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K$2&6)&&jg()}),ir=null;else{switch(Dc(lr)){case 1:ir=fc;break;case 4:ir=gc;break;case 16:ir=hc$1;break;case 536870912:ir=jc;break;default:ir=hc$1}ir=Fk(ir,Gk.bind(null,e))}e.callbackPriority=rr,e.callbackNode=ir}}function Gk(e,rr){if(Ak=-1,Bk=0,K$2&6)throw Error(p$2(327));var ir=e.callbackNode;if(Hk()&&e.callbackNode!==ir)return null;var lr=uc(e,e===Q$3?Z$3:0);if(lr===0)return null;if(lr&30||lr&e.expiredLanes||rr)rr=Ik(e,lr);else{rr=lr;var dr=K$2;K$2|=2;var fr=Jk();(Q$3!==e||Z$3!==rr)&&(uk=null,Gj=B()+500,Kk(e,rr));do try{Lk();break}catch(hr){Mk(e,hr)}while(!0);$g(),mk.current=fr,K$2=dr,Y$3!==null?rr=0:(Q$3=null,Z$3=0,rr=T$2)}if(rr!==0){if(rr===2&&(dr=xc(e),dr!==0&&(lr=dr,rr=Nk(e,dr))),rr===1)throw ir=pk,Kk(e,0),Ck(e,lr),Dk(e,B()),ir;if(rr===6)Ck(e,lr);else{if(dr=e.current.alternate,!(lr&30)&&!Ok(dr)&&(rr=Ik(e,lr),rr===2&&(fr=xc(e),fr!==0&&(lr=fr,rr=Nk(e,fr))),rr===1))throw ir=pk,Kk(e,0),Ck(e,lr),Dk(e,B()),ir;switch(e.finishedWork=dr,e.finishedLanes=lr,rr){case 0:case 1:throw Error(p$2(345));case 2:Pk(e,tk$1,uk);break;case 3:if(Ck(e,lr),(lr&130023424)===lr&&(rr=fk+500-B(),10<rr)){if(uc(e,0)!==0)break;if(dr=e.suspendedLanes,(dr&lr)!==lr){R$2(),e.pingedLanes|=e.suspendedLanes&dr;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk$1,uk),rr);break}Pk(e,tk$1,uk);break;case 4:if(Ck(e,lr),(lr&4194240)===lr)break;for(rr=e.eventTimes,dr=-1;0<lr;){var mr=31-oc(lr);fr=1<<mr,mr=rr[mr],mr>dr&&(dr=mr),lr&=~fr}if(lr=dr,lr=B()-lr,lr=(120>lr?120:480>lr?480:1080>lr?1080:1920>lr?1920:3e3>lr?3e3:4320>lr?4320:1960*lk(lr/1960))-lr,10<lr){e.timeoutHandle=Ff(Pk.bind(null,e,tk$1,uk),lr);break}Pk(e,tk$1,uk);break;case 5:Pk(e,tk$1,uk);break;default:throw Error(p$2(329))}}}return Dk(e,B()),e.callbackNode===ir?Gk.bind(null,e):null}function Nk(e,rr){var ir=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,rr).flags|=256),e=Ik(e,rr),e!==2&&(rr=tk$1,tk$1=ir,rr!==null&&Fj(rr)),e}function Fj(e){tk$1===null?tk$1=e:tk$1.push.apply(tk$1,e)}function Ok(e){for(var rr=e;;){if(rr.flags&16384){var ir=rr.updateQueue;if(ir!==null&&(ir=ir.stores,ir!==null))for(var lr=0;lr<ir.length;lr++){var dr=ir[lr],fr=dr.getSnapshot;dr=dr.value;try{if(!He$2(fr(),dr))return!1}catch{return!1}}}if(ir=rr.child,rr.subtreeFlags&16384&&ir!==null)ir.return=rr,rr=ir;else{if(rr===e)break;for(;rr.sibling===null;){if(rr.return===null||rr.return===e)return!0;rr=rr.return}rr.sibling.return=rr.return,rr=rr.sibling}}return!0}function Ck(e,rr){for(rr&=~rk,rr&=~qk,e.suspendedLanes|=rr,e.pingedLanes&=~rr,e=e.expirationTimes;0<rr;){var ir=31-oc(rr),lr=1<<ir;e[ir]=-1,rr&=~lr}}function Ek(e){if(K$2&6)throw Error(p$2(327));Hk();var rr=uc(e,0);if(!(rr&1))return Dk(e,B()),null;var ir=Ik(e,rr);if(e.tag!==0&&ir===2){var lr=xc(e);lr!==0&&(rr=lr,ir=Nk(e,lr))}if(ir===1)throw ir=pk,Kk(e,0),Ck(e,rr),Dk(e,B()),ir;if(ir===6)throw Error(p$2(345));return e.finishedWork=e.current.alternate,e.finishedLanes=rr,Pk(e,tk$1,uk),Dk(e,B()),null}function Qk(e,rr){var ir=K$2;K$2|=1;try{return e(rr)}finally{K$2=ir,K$2===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var rr=K$2;K$2|=1;var ir=ok.transition,lr=C$2;try{if(ok.transition=null,C$2=1,e)return e()}finally{C$2=lr,ok.transition=ir,K$2=rr,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(e,rr){e.finishedWork=null,e.finishedLanes=0;var ir=e.timeoutHandle;if(ir!==-1&&(e.timeoutHandle=-1,Gf(ir)),Y$3!==null)for(ir=Y$3.return;ir!==null;){var lr=ir;switch(wg(lr),lr.tag){case 1:lr=lr.type.childContextTypes,lr!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$4),Eh();break;case 5:Bh(lr);break;case 4:zh();break;case 13:E$2(L$3);break;case 19:E$2(L$3);break;case 10:ah(lr.type._context);break;case 22:case 23:Hj()}ir=ir.return}if(Q$3=e,Y$3=e=Pg(e.current,null),Z$3=fj=rr,T$2=0,pk=null,rk=qk=rh=0,tk$1=sk=null,fh!==null){for(rr=0;rr<fh.length;rr++)if(ir=fh[rr],lr=ir.interleaved,lr!==null){ir.interleaved=null;var dr=lr.next,fr=ir.pending;if(fr!==null){var mr=fr.next;fr.next=dr,lr.next=mr}ir.pending=lr}fh=null}return e}function Mk(e,rr){do{var ir=Y$3;try{if($g(),Fh.current=Rh,Ih){for(var lr=M$2.memoizedState;lr!==null;){var dr=lr.queue;dr!==null&&(dr.pending=null),lr=lr.next}Ih=!1}if(Hh=0,O$2=N$1=M$2=null,Jh=!1,Kh=0,nk.current=null,ir===null||ir.return===null){T$2=1,pk=rr,Y$3=null;break}e:{var fr=e,mr=ir.return,hr=ir,gr=rr;if(rr=Z$3,hr.flags|=32768,gr!==null&&typeof gr=="object"&&typeof gr.then=="function"){var xr=gr,_r=hr,yr=_r.tag;if(!(_r.mode&1)&&(yr===0||yr===11||yr===15)){var vr=_r.alternate;vr?(_r.updateQueue=vr.updateQueue,_r.memoizedState=vr.memoizedState,_r.lanes=vr.lanes):(_r.updateQueue=null,_r.memoizedState=null)}var br=Ui(mr);if(br!==null){br.flags&=-257,Vi(br,mr,hr,fr,rr),br.mode&1&&Si(fr,xr,rr),rr=br,gr=xr;var Sr=rr.updateQueue;if(Sr===null){var wr=new Set;wr.add(gr),rr.updateQueue=wr}else Sr.add(gr);break e}else{if(!(rr&1)){Si(fr,xr,rr),tj();break e}gr=Error(p$2(426))}}else if(I&&hr.mode&1){var Mr=Ui(mr);if(Mr!==null){!(Mr.flags&65536)&&(Mr.flags|=256),Vi(Mr,mr,hr,fr,rr),Jg(Ji(gr,hr));break e}}fr=gr=Ji(gr,hr),T$2!==4&&(T$2=2),sk===null?sk=[fr]:sk.push(fr),fr=mr;do{switch(fr.tag){case 3:fr.flags|=65536,rr&=-rr,fr.lanes|=rr;var kr=Ni(fr,gr,rr);ph(fr,kr);break e;case 1:hr=gr;var Ar=fr.type,Ir=fr.stateNode;if(!(fr.flags&128)&&(typeof Ar.getDerivedStateFromError=="function"||Ir!==null&&typeof Ir.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ir)))){fr.flags|=65536,rr&=-rr,fr.lanes|=rr;var $r=Qi(fr,hr,rr);ph(fr,$r);break e}}fr=fr.return}while(fr!==null)}Sk(ir)}catch(Dr){rr=Dr,Y$3===ir&&ir!==null&&(Y$3=ir=ir.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$3===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$3,Z$3)}function Ik(e,rr){var ir=K$2;K$2|=2;var lr=Jk();(Q$3!==e||Z$3!==rr)&&(uk=null,Kk(e,rr));do try{Tk();break}catch(dr){Mk(e,dr)}while(!0);if($g(),K$2=ir,mk.current=lr,Y$3!==null)throw Error(p$2(261));return Q$3=null,Z$3=0,T$2}function Tk(){for(;Y$3!==null;)Uk(Y$3)}function Lk(){for(;Y$3!==null&&!cc();)Uk(Y$3)}function Uk(e){var rr=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,rr===null?Sk(e):Y$3=rr,nk.current=null}function Sk(e){var rr=e;do{var ir=rr.alternate;if(e=rr.return,rr.flags&32768){if(ir=Ij(ir,rr),ir!==null){ir.flags&=32767,Y$3=ir;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$2=6,Y$3=null;return}}else if(ir=Ej(ir,rr,fj),ir!==null){Y$3=ir;return}if(rr=rr.sibling,rr!==null){Y$3=rr;return}Y$3=rr=e}while(rr!==null);T$2===0&&(T$2=5)}function Pk(e,rr,ir){var lr=C$2,dr=ok.transition;try{ok.transition=null,C$2=1,Wk(e,rr,ir,lr)}finally{ok.transition=dr,C$2=lr}return null}function Wk(e,rr,ir,lr){do Hk();while(wk!==null);if(K$2&6)throw Error(p$2(327));ir=e.finishedWork;var dr=e.finishedLanes;if(ir===null)return null;if(e.finishedWork=null,e.finishedLanes=0,ir===e.current)throw Error(p$2(177));e.callbackNode=null,e.callbackPriority=0;var fr=ir.lanes|ir.childLanes;if(Bc(e,fr),e===Q$3&&(Y$3=Q$3=null,Z$3=0),!(ir.subtreeFlags&2064)&&!(ir.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),fr=(ir.flags&15990)!==0,ir.subtreeFlags&15990||fr){fr=ok.transition,ok.transition=null;var mr=C$2;C$2=1;var hr=K$2;K$2|=4,nk.current=null,Oj(e,ir),dk(ir,e),Oe$2(Df),dd=!!Cf,Df=Cf=null,e.current=ir,hk(ir),dc(),K$2=hr,C$2=mr,ok.transition=fr}else e.current=ir;if(vk&&(vk=!1,wk=e,xk=dr),fr=e.pendingLanes,fr===0&&(Ri=null),mc(ir.stateNode),Dk(e,B()),rr!==null)for(lr=e.onRecoverableError,ir=0;ir<rr.length;ir++)dr=rr[ir],lr(dr.value,{componentStack:dr.stack,digest:dr.digest});if(Oi)throw Oi=!1,e=Pi,Pi=null,e;return xk&1&&e.tag!==0&&Hk(),fr=e.pendingLanes,fr&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc(xk),rr=ok.transition,ir=C$2;try{if(ok.transition=null,C$2=16>e?16:e,wk===null)var lr=!1;else{if(e=wk,wk=null,xk=0,K$2&6)throw Error(p$2(331));var dr=K$2;for(K$2|=4,V$2=e.current;V$2!==null;){var fr=V$2,mr=fr.child;if(V$2.flags&16){var hr=fr.deletions;if(hr!==null){for(var gr=0;gr<hr.length;gr++){var xr=hr[gr];for(V$2=xr;V$2!==null;){var _r=V$2;switch(_r.tag){case 0:case 11:case 15:Pj(8,_r,fr)}var yr=_r.child;if(yr!==null)yr.return=_r,V$2=yr;else for(;V$2!==null;){_r=V$2;var vr=_r.sibling,br=_r.return;if(Sj(_r),_r===xr){V$2=null;break}if(vr!==null){vr.return=br,V$2=vr;break}V$2=br}}}var Sr=fr.alternate;if(Sr!==null){var wr=Sr.child;if(wr!==null){Sr.child=null;do{var Mr=wr.sibling;wr.sibling=null,wr=Mr}while(wr!==null)}}V$2=fr}}if(fr.subtreeFlags&2064&&mr!==null)mr.return=fr,V$2=mr;else e:for(;V$2!==null;){if(fr=V$2,fr.flags&2048)switch(fr.tag){case 0:case 11:case 15:Pj(9,fr,fr.return)}var kr=fr.sibling;if(kr!==null){kr.return=fr.return,V$2=kr;break e}V$2=fr.return}}var Ar=e.current;for(V$2=Ar;V$2!==null;){mr=V$2;var Ir=mr.child;if(mr.subtreeFlags&2064&&Ir!==null)Ir.return=mr,V$2=Ir;else e:for(mr=Ar;V$2!==null;){if(hr=V$2,hr.flags&2048)try{switch(hr.tag){case 0:case 11:case 15:Qj(9,hr)}}catch(Dr){W$2(hr,hr.return,Dr)}if(hr===mr){V$2=null;break e}var $r=hr.sibling;if($r!==null){$r.return=hr.return,V$2=$r;break e}V$2=hr.return}}if(K$2=dr,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,e)}catch{}lr=!0}return lr}finally{C$2=ir,ok.transition=rr}}return!1}function Xk(e,rr,ir){rr=Ji(ir,rr),rr=Ni(e,rr,1),e=nh(e,rr,1),rr=R$2(),e!==null&&(Ac(e,1,rr),Dk(e,rr))}function W$2(e,rr,ir){if(e.tag===3)Xk(e,e,ir);else for(;rr!==null;){if(rr.tag===3){Xk(rr,e,ir);break}else if(rr.tag===1){var lr=rr.stateNode;if(typeof rr.type.getDerivedStateFromError=="function"||typeof lr.componentDidCatch=="function"&&(Ri===null||!Ri.has(lr))){e=Ji(ir,e),e=Qi(rr,e,1),rr=nh(rr,e,1),e=R$2(),rr!==null&&(Ac(rr,1,e),Dk(rr,e));break}}rr=rr.return}}function Ti(e,rr,ir){var lr=e.pingCache;lr!==null&&lr.delete(rr),rr=R$2(),e.pingedLanes|=e.suspendedLanes&ir,Q$3===e&&(Z$3&ir)===ir&&(T$2===4||T$2===3&&(Z$3&130023424)===Z$3&&500>B()-fk?Kk(e,0):rk|=ir),Dk(e,rr)}function Yk(e,rr){rr===0&&(e.mode&1?(rr=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):rr=1);var ir=R$2();e=ih(e,rr),e!==null&&(Ac(e,rr,ir),Dk(e,ir))}function uj(e){var rr=e.memoizedState,ir=0;rr!==null&&(ir=rr.retryLane),Yk(e,ir)}function bk(e,rr){var ir=0;switch(e.tag){case 13:var lr=e.stateNode,dr=e.memoizedState;dr!==null&&(ir=dr.retryLane);break;case 19:lr=e.stateNode;break;default:throw Error(p$2(314))}lr!==null&&lr.delete(rr),Yk(e,ir)}var Vk;Vk=function(e,rr,ir){if(e!==null)if(e.memoizedProps!==rr.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&ir)&&!(rr.flags&128))return dh=!1,yj(e,rr,ir);dh=!!(e.flags&131072)}else dh=!1,I&&rr.flags&1048576&&ug(rr,ng,rr.index);switch(rr.lanes=0,rr.tag){case 2:var lr=rr.type;ij(e,rr),e=rr.pendingProps;var dr=Yf(rr,H$4.current);ch(rr,ir),dr=Nh(null,rr,lr,e,dr,ir);var fr=Sh();return rr.flags|=1,typeof dr=="object"&&dr!==null&&typeof dr.render=="function"&&dr.$$typeof===void 0?(rr.tag=1,rr.memoizedState=null,rr.updateQueue=null,Zf(lr)?(fr=!0,cg(rr)):fr=!1,rr.memoizedState=dr.state!==null&&dr.state!==void 0?dr.state:null,kh(rr),dr.updater=Ei,rr.stateNode=dr,dr._reactInternals=rr,Ii(rr,lr,e,ir),rr=jj(null,rr,lr,!0,fr,ir)):(rr.tag=0,I&&fr&&vg(rr),Xi(null,rr,dr,ir),rr=rr.child),rr;case 16:lr=rr.elementType;e:{switch(ij(e,rr),e=rr.pendingProps,dr=lr._init,lr=dr(lr._payload),rr.type=lr,dr=rr.tag=Zk(lr),e=Ci(lr,e),dr){case 0:rr=cj(null,rr,lr,e,ir);break e;case 1:rr=hj(null,rr,lr,e,ir);break e;case 11:rr=Yi(null,rr,lr,e,ir);break e;case 14:rr=$i(null,rr,lr,Ci(lr.type,e),ir);break e}throw Error(p$2(306,lr,""))}return rr;case 0:return lr=rr.type,dr=rr.pendingProps,dr=rr.elementType===lr?dr:Ci(lr,dr),cj(e,rr,lr,dr,ir);case 1:return lr=rr.type,dr=rr.pendingProps,dr=rr.elementType===lr?dr:Ci(lr,dr),hj(e,rr,lr,dr,ir);case 3:e:{if(kj(rr),e===null)throw Error(p$2(387));lr=rr.pendingProps,fr=rr.memoizedState,dr=fr.element,lh(e,rr),qh(rr,lr,null,ir);var mr=rr.memoizedState;if(lr=mr.element,fr.isDehydrated)if(fr={element:lr,isDehydrated:!1,cache:mr.cache,pendingSuspenseBoundaries:mr.pendingSuspenseBoundaries,transitions:mr.transitions},rr.updateQueue.baseState=fr,rr.memoizedState=fr,rr.flags&256){dr=Ji(Error(p$2(423)),rr),rr=lj(e,rr,lr,ir,dr);break e}else if(lr!==dr){dr=Ji(Error(p$2(424)),rr),rr=lj(e,rr,lr,ir,dr);break e}else for(yg=Lf(rr.stateNode.containerInfo.firstChild),xg=rr,I=!0,zg=null,ir=Vg(rr,null,lr,ir),rr.child=ir;ir;)ir.flags=ir.flags&-3|4096,ir=ir.sibling;else{if(Ig(),lr===dr){rr=Zi(e,rr,ir);break e}Xi(e,rr,lr,ir)}rr=rr.child}return rr;case 5:return Ah(rr),e===null&&Eg(rr),lr=rr.type,dr=rr.pendingProps,fr=e!==null?e.memoizedProps:null,mr=dr.children,Ef(lr,dr)?mr=null:fr!==null&&Ef(lr,fr)&&(rr.flags|=32),gj(e,rr),Xi(e,rr,mr,ir),rr.child;case 6:return e===null&&Eg(rr),null;case 13:return oj(e,rr,ir);case 4:return yh(rr,rr.stateNode.containerInfo),lr=rr.pendingProps,e===null?rr.child=Ug(rr,null,lr,ir):Xi(e,rr,lr,ir),rr.child;case 11:return lr=rr.type,dr=rr.pendingProps,dr=rr.elementType===lr?dr:Ci(lr,dr),Yi(e,rr,lr,dr,ir);case 7:return Xi(e,rr,rr.pendingProps,ir),rr.child;case 8:return Xi(e,rr,rr.pendingProps.children,ir),rr.child;case 12:return Xi(e,rr,rr.pendingProps.children,ir),rr.child;case 10:e:{if(lr=rr.type._context,dr=rr.pendingProps,fr=rr.memoizedProps,mr=dr.value,G$1(Wg,lr._currentValue),lr._currentValue=mr,fr!==null)if(He$2(fr.value,mr)){if(fr.children===dr.children&&!Wf.current){rr=Zi(e,rr,ir);break e}}else for(fr=rr.child,fr!==null&&(fr.return=rr);fr!==null;){var hr=fr.dependencies;if(hr!==null){mr=fr.child;for(var gr=hr.firstContext;gr!==null;){if(gr.context===lr){if(fr.tag===1){gr=mh(-1,ir&-ir),gr.tag=2;var xr=fr.updateQueue;if(xr!==null){xr=xr.shared;var _r=xr.pending;_r===null?gr.next=gr:(gr.next=_r.next,_r.next=gr),xr.pending=gr}}fr.lanes|=ir,gr=fr.alternate,gr!==null&&(gr.lanes|=ir),bh(fr.return,ir,rr),hr.lanes|=ir;break}gr=gr.next}}else if(fr.tag===10)mr=fr.type===rr.type?null:fr.child;else if(fr.tag===18){if(mr=fr.return,mr===null)throw Error(p$2(341));mr.lanes|=ir,hr=mr.alternate,hr!==null&&(hr.lanes|=ir),bh(mr,ir,rr),mr=fr.sibling}else mr=fr.child;if(mr!==null)mr.return=fr;else for(mr=fr;mr!==null;){if(mr===rr){mr=null;break}if(fr=mr.sibling,fr!==null){fr.return=mr.return,mr=fr;break}mr=mr.return}fr=mr}Xi(e,rr,dr.children,ir),rr=rr.child}return rr;case 9:return dr=rr.type,lr=rr.pendingProps.children,ch(rr,ir),dr=eh(dr),lr=lr(dr),rr.flags|=1,Xi(e,rr,lr,ir),rr.child;case 14:return lr=rr.type,dr=Ci(lr,rr.pendingProps),dr=Ci(lr.type,dr),$i(e,rr,lr,dr,ir);case 15:return bj(e,rr,rr.type,rr.pendingProps,ir);case 17:return lr=rr.type,dr=rr.pendingProps,dr=rr.elementType===lr?dr:Ci(lr,dr),ij(e,rr),rr.tag=1,Zf(lr)?(e=!0,cg(rr)):e=!1,ch(rr,ir),Gi(rr,lr,dr),Ii(rr,lr,dr,ir),jj(null,rr,lr,!0,e,ir);case 19:return xj(e,rr,ir);case 22:return dj(e,rr,ir)}throw Error(p$2(156,rr.tag))};function Fk(e,rr){return ac(e,rr)}function $k(e,rr,ir,lr){this.tag=e,this.key=ir,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=rr,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,rr,ir,lr){return new $k(e,rr,ir,lr)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da)return 11;if(e===Ga)return 14}return 2}function Pg(e,rr){var ir=e.alternate;return ir===null?(ir=Bg(e.tag,rr,e.key,e.mode),ir.elementType=e.elementType,ir.type=e.type,ir.stateNode=e.stateNode,ir.alternate=e,e.alternate=ir):(ir.pendingProps=rr,ir.type=e.type,ir.flags=0,ir.subtreeFlags=0,ir.deletions=null),ir.flags=e.flags&14680064,ir.childLanes=e.childLanes,ir.lanes=e.lanes,ir.child=e.child,ir.memoizedProps=e.memoizedProps,ir.memoizedState=e.memoizedState,ir.updateQueue=e.updateQueue,rr=e.dependencies,ir.dependencies=rr===null?null:{lanes:rr.lanes,firstContext:rr.firstContext},ir.sibling=e.sibling,ir.index=e.index,ir.ref=e.ref,ir}function Rg(e,rr,ir,lr,dr,fr){var mr=2;if(lr=e,typeof e=="function")aj(e)&&(mr=1);else if(typeof e=="string")mr=5;else e:switch(e){case ya:return Tg(ir.children,dr,fr,rr);case za:mr=8,dr|=8;break;case Aa:return e=Bg(12,ir,rr,dr|2),e.elementType=Aa,e.lanes=fr,e;case Ea:return e=Bg(13,ir,rr,dr),e.elementType=Ea,e.lanes=fr,e;case Fa:return e=Bg(19,ir,rr,dr),e.elementType=Fa,e.lanes=fr,e;case Ia:return pj(ir,dr,fr,rr);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba:mr=10;break e;case Ca:mr=9;break e;case Da:mr=11;break e;case Ga:mr=14;break e;case Ha:mr=16,lr=null;break e}throw Error(p$2(130,e==null?e:typeof e,""))}return rr=Bg(mr,ir,rr,dr),rr.elementType=e,rr.type=lr,rr.lanes=fr,rr}function Tg(e,rr,ir,lr){return e=Bg(7,e,lr,rr),e.lanes=ir,e}function pj(e,rr,ir,lr){return e=Bg(22,e,lr,rr),e.elementType=Ia,e.lanes=ir,e.stateNode={isHidden:!1},e}function Qg(e,rr,ir){return e=Bg(6,e,null,rr),e.lanes=ir,e}function Sg(e,rr,ir){return rr=Bg(4,e.children!==null?e.children:[],e.key,rr),rr.lanes=ir,rr.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},rr}function al(e,rr,ir,lr,dr){this.tag=rr,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=lr,this.onRecoverableError=dr,this.mutableSourceEagerHydrationData=null}function bl(e,rr,ir,lr,dr,fr,mr,hr,gr){return e=new al(e,rr,ir,hr,gr),rr===1?(rr=1,fr===!0&&(rr|=8)):rr=0,fr=Bg(3,null,null,rr),e.current=fr,fr.stateNode=e,fr.memoizedState={element:lr,isDehydrated:ir,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(fr),e}function cl(e,rr,ir){var lr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:lr==null?null:""+lr,children:e,containerInfo:rr,implementation:ir}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$2(170));var rr=e;do{switch(rr.tag){case 3:rr=rr.stateNode.context;break e;case 1:if(Zf(rr.type)){rr=rr.stateNode.__reactInternalMemoizedMergedChildContext;break e}}rr=rr.return}while(rr!==null);throw Error(p$2(171))}if(e.tag===1){var ir=e.type;if(Zf(ir))return bg(e,ir,rr)}return rr}function el(e,rr,ir,lr,dr,fr,mr,hr,gr){return e=bl(ir,lr,!0,e,dr,fr,mr,hr,gr),e.context=dl(null),ir=e.current,lr=R$2(),dr=yi(ir),fr=mh(lr,dr),fr.callback=rr??null,nh(ir,fr,dr),e.current.lanes=dr,Ac(e,dr,lr),Dk(e,lr),e}function fl(e,rr,ir,lr){var dr=rr.current,fr=R$2(),mr=yi(dr);return ir=dl(ir),rr.context===null?rr.context=ir:rr.pendingContext=ir,rr=mh(fr,mr),rr.payload={element:e},lr=lr===void 0?null:lr,lr!==null&&(rr.callback=lr),e=nh(dr,rr,mr),e!==null&&(gi(e,dr,mr,fr),oh(e,dr,mr)),mr}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,rr){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var ir=e.retryLane;e.retryLane=ir!==0&&ir<rr?ir:rr}}function il(e,rr){hl(e,rr),(e=e.alternate)&&hl(e,rr)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var rr=this._internalRoot;if(rr===null)throw Error(p$2(409));fl(e,rr,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var rr=e.containerInfo;Rk(function(){fl(null,e,null,null)}),rr[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var rr=Hc();e={blockedOn:null,target:e,priority:rr};for(var ir=0;ir<Qc.length&&rr!==0&&rr<Qc[ir].priority;ir++);Qc.splice(ir,0,e),ir===0&&Vc(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,rr,ir,lr,dr){if(dr){if(typeof lr=="function"){var fr=lr;lr=function(){var xr=gl(mr);fr.call(xr)}}var mr=el(rr,lr,e,0,null,!1,!1,"",pl);return e._reactRootContainer=mr,e[uf]=mr.current,sf(e.nodeType===8?e.parentNode:e),Rk(),mr}for(;dr=e.lastChild;)e.removeChild(dr);if(typeof lr=="function"){var hr=lr;lr=function(){var xr=gl(gr);hr.call(xr)}}var gr=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=gr,e[uf]=gr.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(rr,gr,ir,lr)}),gr}function rl(e,rr,ir,lr,dr){var fr=ir._reactRootContainer;if(fr){var mr=fr;if(typeof dr=="function"){var hr=dr;dr=function(){var gr=gl(mr);hr.call(gr)}}fl(rr,mr,e,dr)}else mr=ql(ir,rr,e,dr,lr);return gl(mr)}Ec=function(e){switch(e.tag){case 3:var rr=e.stateNode;if(rr.current.memoizedState.isDehydrated){var ir=tc(rr.pendingLanes);ir!==0&&(Cc(rr,ir|1),Dk(rr,B()),!(K$2&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var lr=ih(e,1);if(lr!==null){var dr=R$2();gi(lr,e,1,dr)}}),il(e,1)}};Fc=function(e){if(e.tag===13){var rr=ih(e,134217728);if(rr!==null){var ir=R$2();gi(rr,e,134217728,ir)}il(e,134217728)}};Gc=function(e){if(e.tag===13){var rr=yi(e),ir=ih(e,rr);if(ir!==null){var lr=R$2();gi(ir,e,rr,lr)}il(e,rr)}};Hc=function(){return C$2};Ic=function(e,rr){var ir=C$2;try{return C$2=e,rr()}finally{C$2=ir}};yb=function(e,rr,ir){switch(rr){case"input":if(bb(e,ir),rr=ir.name,ir.type==="radio"&&rr!=null){for(ir=e;ir.parentNode;)ir=ir.parentNode;for(ir=ir.querySelectorAll("input[name="+JSON.stringify(""+rr)+'][type="radio"]'),rr=0;rr<ir.length;rr++){var lr=ir[rr];if(lr!==e&&lr.form===e.form){var dr=Db(lr);if(!dr)throw Error(p$2(90));Wa(lr),bb(lr,dr)}}}break;case"textarea":ib(e,ir);break;case"select":rr=ir.value,rr!=null&&fb(e,!!ir.multiple,rr,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$2,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,rr){var ir=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(rr))throw Error(p$2(200));return cl(e,rr,null,ir)};reactDom_production_min.createRoot=function(e,rr){if(!nl(e))throw Error(p$2(299));var ir=!1,lr="",dr=kl;return rr!=null&&(rr.unstable_strictMode===!0&&(ir=!0),rr.identifierPrefix!==void 0&&(lr=rr.identifierPrefix),rr.onRecoverableError!==void 0&&(dr=rr.onRecoverableError)),rr=bl(e,1,!1,null,null,ir,!1,lr,dr),e[uf]=rr.current,sf(e.nodeType===8?e.parentNode:e),new ll(rr)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var rr=e._reactInternals;if(rr===void 0)throw typeof e.render=="function"?Error(p$2(188)):(e=Object.keys(e).join(","),Error(p$2(268,e)));return e=Zb(rr),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,rr,ir){if(!ol(rr))throw Error(p$2(200));return rl(null,e,rr,!0,ir)};reactDom_production_min.hydrateRoot=function(e,rr,ir){if(!nl(e))throw Error(p$2(405));var lr=ir!=null&&ir.hydratedSources||null,dr=!1,fr="",mr=kl;if(ir!=null&&(ir.unstable_strictMode===!0&&(dr=!0),ir.identifierPrefix!==void 0&&(fr=ir.identifierPrefix),ir.onRecoverableError!==void 0&&(mr=ir.onRecoverableError)),rr=el(rr,null,e,1,ir??null,dr,!1,fr,mr),e[uf]=rr.current,sf(e),lr)for(e=0;e<lr.length;e++)ir=lr[e],dr=ir._getVersion,dr=dr(ir._source),rr.mutableSourceEagerHydrationData==null?rr.mutableSourceEagerHydrationData=[ir,dr]:rr.mutableSourceEagerHydrationData.push(ir,dr);return new ml(rr)};reactDom_production_min.render=function(e,rr,ir){if(!ol(rr))throw Error(p$2(200));return rl(null,e,rr,!1,ir)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p$2(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,rr,ir,lr){if(!ol(ir))throw Error(p$2(200));if(e==null||e._reactInternals===void 0)throw Error(p$2(38));return rl(e,rr,ir,!1,lr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs$1(reactDomExports);var m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer=typeof window>"u"||"Deno"in globalThis;function noop$b(){}function functionalUpdate$1(e,rr){return typeof e=="function"?e(rr):e}function isValidTimeout(e){return typeof e=="number"&&e>=0&&e!==1/0}function timeUntilStale(e,rr){return Math.max(e+(rr||0)-Date.now(),0)}function resolveStaleTime(e,rr){return typeof e=="function"?e(rr):e}function resolveEnabled(e,rr){return typeof e=="function"?e(rr):e}function matchQuery(e,rr){const{type:ir="all",exact:lr,fetchStatus:dr,predicate:fr,queryKey:mr,stale:hr}=e;if(mr){if(lr){if(rr.queryHash!==hashQueryKeyByOptions(mr,rr.options))return!1}else if(!partialMatchKey(rr.queryKey,mr))return!1}if(ir!=="all"){const gr=rr.isActive();if(ir==="active"&&!gr||ir==="inactive"&&gr)return!1}return!(typeof hr=="boolean"&&rr.isStale()!==hr||dr&&dr!==rr.state.fetchStatus||fr&&!fr(rr))}function matchMutation(e,rr){const{exact:ir,status:lr,predicate:dr,mutationKey:fr}=e;if(fr){if(!rr.options.mutationKey)return!1;if(ir){if(hashKey(rr.options.mutationKey)!==hashKey(fr))return!1}else if(!partialMatchKey(rr.options.mutationKey,fr))return!1}return!(lr&&rr.state.status!==lr||dr&&!dr(rr))}function hashQueryKeyByOptions(e,rr){return(rr?.queryKeyHashFn||hashKey)(e)}function hashKey(e){return JSON.stringify(e,(rr,ir)=>isPlainObject$3(ir)?Object.keys(ir).sort().reduce((lr,dr)=>(lr[dr]=ir[dr],lr),{}):ir)}function partialMatchKey(e,rr){return e===rr?!0:typeof e!=typeof rr?!1:e&&rr&&typeof e=="object"&&typeof rr=="object"?Object.keys(rr).every(ir=>partialMatchKey(e[ir],rr[ir])):!1}function replaceEqualDeep$1(e,rr){if(e===rr)return e;const ir=isPlainArray$1(e)&&isPlainArray$1(rr);if(ir||isPlainObject$3(e)&&isPlainObject$3(rr)){const lr=ir?e:Object.keys(e),dr=lr.length,fr=ir?rr:Object.keys(rr),mr=fr.length,hr=ir?[]:{},gr=new Set(lr);let xr=0;for(let _r=0;_r<mr;_r++){const yr=ir?_r:fr[_r];(!ir&&gr.has(yr)||ir)&&e[yr]===void 0&&rr[yr]===void 0?(hr[yr]=void 0,xr++):(hr[yr]=replaceEqualDeep$1(e[yr],rr[yr]),hr[yr]===e[yr]&&e[yr]!==void 0&&xr++)}return dr===mr&&xr===dr?e:hr}return rr}function shallowEqualObjects(e,rr){if(!rr||Object.keys(e).length!==Object.keys(rr).length)return!1;for(const ir in e)if(e[ir]!==rr[ir])return!1;return!0}function isPlainArray$1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject$3(e){if(!hasObjectPrototype$1(e))return!1;const rr=e.constructor;if(rr===void 0)return!0;const ir=rr.prototype;return!(!hasObjectPrototype$1(ir)||!ir.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hasObjectPrototype$1(e){return Object.prototype.toString.call(e)==="[object Object]"}function sleep$1(e){return new Promise(rr=>{setTimeout(rr,e)})}function replaceData(e,rr,ir){return typeof ir.structuralSharing=="function"?ir.structuralSharing(e,rr):ir.structuralSharing!==!1?replaceEqualDeep$1(e,rr):rr}function addToEnd(e,rr,ir=0){const lr=[...e,rr];return ir&&lr.length>ir?lr.slice(1):lr}function addToStart(e,rr,ir=0){const lr=[rr,...e];return ir&&lr.length>ir?lr.slice(0,-1):lr}var skipToken=Symbol();function ensureQueryFn(e,rr){return!e.queryFn&&rr?.initialPromise?()=>rr.initialPromise:!e.queryFn||e.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function shouldThrowError(e,rr){return typeof e=="function"?e(...rr):!!e}var FocusManager=class extends Subscribable{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!isServer&&window.addEventListener){const rr=()=>e();return window.addEventListener("visibilitychange",rr,!1),()=>{window.removeEventListener("visibilitychange",rr)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(rr=>{typeof rr=="boolean"?this.setFocused(rr):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(rr=>{rr(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},focusManager=new FocusManager,OnlineManager=class extends Subscribable{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!isServer&&window.addEventListener){const rr=()=>e(!0),ir=()=>e(!1);return window.addEventListener("online",rr,!1),window.addEventListener("offline",ir,!1),()=>{window.removeEventListener("online",rr),window.removeEventListener("offline",ir)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(ir=>{ir(e)}))}isOnline(){return this.#t}},onlineManager=new OnlineManager;function pendingThenable(){let e,rr;const ir=new Promise((dr,fr)=>{e=dr,rr=fr});ir.status="pending",ir.catch(()=>{});function lr(dr){Object.assign(ir,dr),delete ir.resolve,delete ir.reject}return ir.resolve=dr=>{lr({status:"fulfilled",value:dr}),e(dr)},ir.reject=dr=>{lr({status:"rejected",reason:dr}),rr(dr)},ir}function defaultRetryDelay(e){return Math.min(1e3*2**e,3e4)}function canFetch(e){return(e??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function isCancelledError(e){return e instanceof CancelledError}function createRetryer(e){let rr=!1,ir=0,lr=!1,dr;const fr=pendingThenable(),mr=wr=>{lr||(vr(new CancelledError(wr)),e.abort?.())},hr=()=>{rr=!0},gr=()=>{rr=!1},xr=()=>focusManager.isFocused()&&(e.networkMode==="always"||onlineManager.isOnline())&&e.canRun(),_r=()=>canFetch(e.networkMode)&&e.canRun(),yr=wr=>{lr||(lr=!0,e.onSuccess?.(wr),dr?.(),fr.resolve(wr))},vr=wr=>{lr||(lr=!0,e.onError?.(wr),dr?.(),fr.reject(wr))},br=()=>new Promise(wr=>{dr=Mr=>{(lr||xr())&&wr(Mr)},e.onPause?.()}).then(()=>{dr=void 0,lr||e.onContinue?.()}),Sr=()=>{if(lr)return;let wr;const Mr=ir===0?e.initialPromise:void 0;try{wr=Mr??e.fn()}catch(kr){wr=Promise.reject(kr)}Promise.resolve(wr).then(yr).catch(kr=>{if(lr)return;const Ar=e.retry??(isServer?0:3),Ir=e.retryDelay??defaultRetryDelay,$r=typeof Ir=="function"?Ir(ir,kr):Ir,Dr=Ar===!0||typeof Ar=="number"&&ir<Ar||typeof Ar=="function"&&Ar(ir,kr);if(rr||!Dr){vr(kr);return}ir++,e.onFail?.(ir,kr),sleep$1($r).then(()=>xr()?void 0:br()).then(()=>{rr?vr(kr):Sr()})})};return{promise:fr,cancel:mr,continue:()=>(dr?.(),fr),cancelRetry:hr,continueRetry:gr,canStart:_r,start:()=>(_r()?Sr():br().then(Sr),fr)}}var defaultScheduler=e=>setTimeout(e,0);function createNotifyManager(){let e=[],rr=0,ir=hr=>{hr()},lr=hr=>{hr()},dr=defaultScheduler;const fr=hr=>{rr?e.push(hr):dr(()=>{ir(hr)})},mr=()=>{const hr=e;e=[],hr.length&&dr(()=>{lr(()=>{hr.forEach(gr=>{ir(gr)})})})};return{batch:hr=>{let gr;rr++;try{gr=hr()}finally{rr--,rr||mr()}return gr},batchCalls:hr=>(...gr)=>{fr(()=>{hr(...gr)})},schedule:fr,setNotifyFunction:hr=>{ir=hr},setBatchNotifyFunction:hr=>{lr=hr},setScheduler:hr=>{dr=hr}}}var notifyManager=createNotifyManager(),Removable=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Query=class extends Removable{#t;#e;#r;#n;#s;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=getDefaultState$1(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,rr){const ir=replaceData(this.state.data,e,this.options);return this.#o({data:ir,type:"success",dataUpdatedAt:rr?.updatedAt,manual:rr?.manual}),ir}setState(e,rr){this.#o({type:"setState",state:e,setStateOptions:rr})}cancel(e){const rr=this.#s?.promise;return this.#s?.cancel(e),rr?rr.then(noop$b).catch(noop$b):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>resolveEnabled(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>resolveStaleTime(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(rr=>rr.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(rr=>rr.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(rr=>rr!==e),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(e,rr){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&rr?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const gr=this.observers.find(xr=>xr.options.queryFn);gr&&this.setOptions(gr.options)}const ir=new AbortController,lr=gr=>{Object.defineProperty(gr,"signal",{enumerable:!0,get:()=>(this.#a=!0,ir.signal)})},dr=()=>{const gr=ensureQueryFn(this.options,rr),_r=(()=>{const yr={client:this.#n,queryKey:this.queryKey,meta:this.meta};return lr(yr),yr})();return this.#a=!1,this.options.persister?this.options.persister(gr,_r,this):gr(_r)},mr=(()=>{const gr={fetchOptions:rr,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:dr};return lr(gr),gr})();this.options.behavior?.onFetch(mr,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==mr.fetchOptions?.meta)&&this.#o({type:"fetch",meta:mr.fetchOptions?.meta});const hr=gr=>{isCancelledError(gr)&&gr.silent||this.#o({type:"error",error:gr}),isCancelledError(gr)||(this.#r.config.onError?.(gr,this),this.#r.config.onSettled?.(this.state.data,gr,this)),this.scheduleGc()};return this.#s=createRetryer({initialPromise:rr?.initialPromise,fn:mr.fetchFn,abort:ir.abort.bind(ir),onSuccess:gr=>{if(gr===void 0){hr(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(gr)}catch(xr){hr(xr);return}this.#r.config.onSuccess?.(gr,this),this.#r.config.onSettled?.(gr,this.state.error,this),this.scheduleGc()},onError:hr,onFail:(gr,xr)=>{this.#o({type:"failed",failureCount:gr,error:xr})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:mr.options.retry,retryDelay:mr.options.retryDelay,networkMode:mr.options.networkMode,canRun:()=>!0}),this.#s.start()}#o(e){const rr=ir=>{switch(e.type){case"failed":return{...ir,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...ir,fetchStatus:"paused"};case"continue":return{...ir,fetchStatus:"fetching"};case"fetch":return{...ir,...fetchState(ir.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...ir,data:e.data,dataUpdateCount:ir.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const lr=e.error;return isCancelledError(lr)&&lr.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...ir,error:lr,errorUpdateCount:ir.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:ir.fetchFailureCount+1,fetchFailureReason:lr,fetchStatus:"idle",status:"error"};case"invalidate":return{...ir,isInvalidated:!0};case"setState":return{...ir,...e.state}}};this.state=rr(this.state),notifyManager.batch(()=>{this.observers.forEach(ir=>{ir.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function fetchState(e,rr){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(rr.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function getDefaultState$1(e){const rr=typeof e.initialData=="function"?e.initialData():e.initialData,ir=rr!==void 0,lr=ir?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:rr,dataUpdateCount:0,dataUpdatedAt:ir?lr??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:ir?"success":"pending",fetchStatus:"idle"}}var QueryCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,rr,ir){const lr=rr.queryKey,dr=rr.queryHash??hashQueryKeyByOptions(lr,rr);let fr=this.get(dr);return fr||(fr=new Query({client:e,queryKey:lr,queryHash:dr,options:e.defaultQueryOptions(rr),state:ir,defaultOptions:e.getQueryDefaults(lr)}),this.add(fr)),fr}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const rr=this.#t.get(e.queryHash);rr&&(e.destroy(),rr===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const rr={exact:!0,...e};return this.getAll().find(ir=>matchQuery(rr,ir))}findAll(e={}){const rr=this.getAll();return Object.keys(e).length>0?rr.filter(ir=>matchQuery(e,ir)):rr}notify(e){notifyManager.batch(()=>{this.listeners.forEach(rr=>{rr(e)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Mutation=class extends Removable{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(rr=>rr!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const rr=()=>{this.#n({type:"continue"})};this.#r=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(dr,fr)=>{this.#n({type:"failed",failureCount:dr,error:fr})},onPause:()=>{this.#n({type:"pause"})},onContinue:rr,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const ir=this.state.status==="pending",lr=!this.#r.canStart();try{if(ir)rr();else{this.#n({type:"pending",variables:e,isPaused:lr}),await this.#e.config.onMutate?.(e,this);const fr=await this.options.onMutate?.(e);fr!==this.state.context&&this.#n({type:"pending",context:fr,variables:e,isPaused:lr})}const dr=await this.#r.start();return await this.#e.config.onSuccess?.(dr,e,this.state.context,this),await this.options.onSuccess?.(dr,e,this.state.context),await this.#e.config.onSettled?.(dr,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(dr,null,e,this.state.context),this.#n({type:"success",data:dr}),dr}catch(dr){try{throw await this.#e.config.onError?.(dr,e,this.state.context,this),await this.options.onError?.(dr,e,this.state.context),await this.#e.config.onSettled?.(void 0,dr,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,dr,e,this.state.context),dr}finally{this.#n({type:"error",error:dr})}}finally{this.#e.runNext(this)}}#n(e){const rr=ir=>{switch(e.type){case"failed":return{...ir,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...ir,isPaused:!0};case"continue":return{...ir,isPaused:!1};case"pending":return{...ir,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...ir,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...ir,data:void 0,error:e.error,failureCount:ir.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=rr(this.state),notifyManager.batch(()=>{this.#t.forEach(ir=>{ir.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,rr,ir){const lr=new Mutation({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(rr),state:ir});return this.add(lr),lr}add(e){this.#t.add(e);const rr=scopeFor(e);if(typeof rr=="string"){const ir=this.#e.get(rr);ir?ir.push(e):this.#e.set(rr,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const rr=scopeFor(e);if(typeof rr=="string"){const ir=this.#e.get(rr);if(ir)if(ir.length>1){const lr=ir.indexOf(e);lr!==-1&&ir.splice(lr,1)}else ir[0]===e&&this.#e.delete(rr)}}this.notify({type:"removed",mutation:e})}canRun(e){const rr=scopeFor(e);if(typeof rr=="string"){const lr=this.#e.get(rr)?.find(dr=>dr.state.status==="pending");return!lr||lr===e}else return!0}runNext(e){const rr=scopeFor(e);return typeof rr=="string"?this.#e.get(rr)?.find(lr=>lr!==e&&lr.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){notifyManager.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const rr={exact:!0,...e};return this.getAll().find(ir=>matchMutation(rr,ir))}findAll(e={}){return this.getAll().filter(rr=>matchMutation(e,rr))}notify(e){notifyManager.batch(()=>{this.listeners.forEach(rr=>{rr(e)})})}resumePausedMutations(){const e=this.getAll().filter(rr=>rr.state.isPaused);return notifyManager.batch(()=>Promise.all(e.map(rr=>rr.continue().catch(noop$b))))}};function scopeFor(e){return e.options.scope?.id}function infiniteQueryBehavior(e){return{onFetch:(rr,ir)=>{const lr=rr.options,dr=rr.fetchOptions?.meta?.fetchMore?.direction,fr=rr.state.data?.pages||[],mr=rr.state.data?.pageParams||[];let hr={pages:[],pageParams:[]},gr=0;const xr=async()=>{let _r=!1;const yr=Sr=>{Object.defineProperty(Sr,"signal",{enumerable:!0,get:()=>(rr.signal.aborted?_r=!0:rr.signal.addEventListener("abort",()=>{_r=!0}),rr.signal)})},vr=ensureQueryFn(rr.options,rr.fetchOptions),br=async(Sr,wr,Mr)=>{if(_r)return Promise.reject();if(wr==null&&Sr.pages.length)return Promise.resolve(Sr);const Ar=(()=>{const Or={client:rr.client,queryKey:rr.queryKey,pageParam:wr,direction:Mr?"backward":"forward",meta:rr.options.meta};return yr(Or),Or})(),Ir=await vr(Ar),{maxPages:$r}=rr.options,Dr=Mr?addToStart:addToEnd;return{pages:Dr(Sr.pages,Ir,$r),pageParams:Dr(Sr.pageParams,wr,$r)}};if(dr&&fr.length){const Sr=dr==="backward",wr=Sr?getPreviousPageParam:getNextPageParam,Mr={pages:fr,pageParams:mr},kr=wr(lr,Mr);hr=await br(Mr,kr,Sr)}else{const Sr=e??fr.length;do{const wr=gr===0?mr[0]??lr.initialPageParam:getNextPageParam(lr,hr);if(gr>0&&wr==null)break;hr=await br(hr,wr),gr++}while(gr<Sr)}return hr};rr.options.persister?rr.fetchFn=()=>rr.options.persister?.(xr,{client:rr.client,queryKey:rr.queryKey,meta:rr.options.meta,signal:rr.signal},ir):rr.fetchFn=xr}}}function getNextPageParam(e,{pages:rr,pageParams:ir}){const lr=rr.length-1;return rr.length>0?e.getNextPageParam(rr[lr],rr,ir[lr],ir):void 0}function getPreviousPageParam(e,{pages:rr,pageParams:ir}){return rr.length>0?e.getPreviousPageParam?.(rr[0],rr,ir[0],ir):void 0}function hasNextPage(e,rr){return rr?getNextPageParam(e,rr)!=null:!1}function hasPreviousPage(e,rr){return!rr||!e.getPreviousPageParam?!1:getPreviousPageParam(e,rr)!=null}var QueryClient=class{#t;#e;#r;#n;#s;#i;#a;#o;constructor(e={}){this.#t=e.queryCache||new QueryCache,this.#e=e.mutationCache||new MutationCache,this.#r=e.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#a=focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const rr=this.defaultQueryOptions({queryKey:e});return this.#t.get(rr.queryHash)?.state.data}ensureQueryData(e){const rr=this.defaultQueryOptions(e),ir=this.#t.build(this,rr),lr=ir.state.data;return lr===void 0?this.fetchQuery(e):(e.revalidateIfStale&&ir.isStaleByTime(resolveStaleTime(rr.staleTime,ir))&&this.prefetchQuery(rr),Promise.resolve(lr))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:rr,state:ir})=>{const lr=ir.data;return[rr,lr]})}setQueryData(e,rr,ir){const lr=this.defaultQueryOptions({queryKey:e}),fr=this.#t.get(lr.queryHash)?.state.data,mr=functionalUpdate$1(rr,fr);if(mr!==void 0)return this.#t.build(this,lr).setData(mr,{...ir,manual:!0})}setQueriesData(e,rr,ir){return notifyManager.batch(()=>this.#t.findAll(e).map(({queryKey:lr})=>[lr,this.setQueryData(lr,rr,ir)]))}getQueryState(e){const rr=this.defaultQueryOptions({queryKey:e});return this.#t.get(rr.queryHash)?.state}removeQueries(e){const rr=this.#t;notifyManager.batch(()=>{rr.findAll(e).forEach(ir=>{rr.remove(ir)})})}resetQueries(e,rr){const ir=this.#t;return notifyManager.batch(()=>(ir.findAll(e).forEach(lr=>{lr.reset()}),this.refetchQueries({type:"active",...e},rr)))}cancelQueries(e,rr={}){const ir={revert:!0,...rr},lr=notifyManager.batch(()=>this.#t.findAll(e).map(dr=>dr.cancel(ir)));return Promise.all(lr).then(noop$b).catch(noop$b)}invalidateQueries(e,rr={}){return notifyManager.batch(()=>(this.#t.findAll(e).forEach(ir=>{ir.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},rr)))}refetchQueries(e,rr={}){const ir={...rr,cancelRefetch:rr.cancelRefetch??!0},lr=notifyManager.batch(()=>this.#t.findAll(e).filter(dr=>!dr.isDisabled()&&!dr.isStatic()).map(dr=>{let fr=dr.fetch(void 0,ir);return ir.throwOnError||(fr=fr.catch(noop$b)),dr.state.fetchStatus==="paused"?Promise.resolve():fr}));return Promise.all(lr).then(noop$b)}fetchQuery(e){const rr=this.defaultQueryOptions(e);rr.retry===void 0&&(rr.retry=!1);const ir=this.#t.build(this,rr);return ir.isStaleByTime(resolveStaleTime(rr.staleTime,ir))?ir.fetch(rr):Promise.resolve(ir.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$b).catch(noop$b)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$b).catch(noop$b)}ensureInfiniteQueryData(e){return e.behavior=infiniteQueryBehavior(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return onlineManager.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,rr){this.#n.set(hashKey(e),{queryKey:e,defaultOptions:rr})}getQueryDefaults(e){const rr=[...this.#n.values()],ir={};return rr.forEach(lr=>{partialMatchKey(e,lr.queryKey)&&Object.assign(ir,lr.defaultOptions)}),ir}setMutationDefaults(e,rr){this.#s.set(hashKey(e),{mutationKey:e,defaultOptions:rr})}getMutationDefaults(e){const rr=[...this.#s.values()],ir={};return rr.forEach(lr=>{partialMatchKey(e,lr.mutationKey)&&Object.assign(ir,lr.defaultOptions)}),ir}defaultQueryOptions(e){if(e._defaulted)return e;const rr={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return rr.queryHash||(rr.queryHash=hashQueryKeyByOptions(rr.queryKey,rr)),rr.refetchOnReconnect===void 0&&(rr.refetchOnReconnect=rr.networkMode!=="always"),rr.throwOnError===void 0&&(rr.throwOnError=!!rr.suspense),!rr.networkMode&&rr.persister&&(rr.networkMode="offlineFirst"),rr.queryFn===skipToken&&(rr.enabled=!1),rr}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},QueryObserver=class extends Subscribable{constructor(e,rr){super(),this.options=rr,this.#t=e,this.#o=null,this.#a=pendingThenable(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(rr)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#i;#a;#o;#h;#p;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),shouldFetchOnMount(this.#e,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#E(),this.#e.removeObserver(this)}setOptions(e){const rr=this.options,ir=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#e.setOptions(this.options),rr._defaulted&&!shallowEqualObjects(this.options,rr)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const lr=this.hasListeners();lr&&shouldFetchOptionally(this.#e,ir,this.options,rr)&&this.#d(),this.updateResult(),lr&&(this.#e!==ir||resolveEnabled(this.options.enabled,this.#e)!==resolveEnabled(rr.enabled,this.#e)||resolveStaleTime(this.options.staleTime,this.#e)!==resolveStaleTime(rr.staleTime,this.#e))&&this.#g();const dr=this.#x();lr&&(this.#e!==ir||resolveEnabled(this.options.enabled,this.#e)!==resolveEnabled(rr.enabled,this.#e)||dr!==this.#l)&&this.#_(dr)}getOptimisticResult(e){const rr=this.#t.getQueryCache().build(this.#t,e),ir=this.createResult(rr,e);return shouldAssignObserverCurrentProperties(this,ir)&&(this.#n=ir,this.#i=this.options,this.#s=this.#e.state),ir}getCurrentResult(){return this.#n}trackResult(e,rr){return new Proxy(e,{get:(ir,lr)=>(this.trackProp(lr),rr?.(lr),Reflect.get(ir,lr))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const rr=this.#t.defaultQueryOptions(e),ir=this.#t.getQueryCache().build(this.#t,rr);return ir.fetch().then(()=>this.createResult(ir,rr))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#b();let rr=this.#e.fetch(this.options,e);return e?.throwOnError||(rr=rr.catch(noop$b)),rr}#g(){this.#v();const e=resolveStaleTime(this.options.staleTime,this.#e);if(isServer||this.#n.isStale||!isValidTimeout(e))return;const ir=timeUntilStale(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},ir)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#_(e){this.#E(),this.#l=e,!(isServer||resolveEnabled(this.options.enabled,this.#e)===!1||!isValidTimeout(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#_(this.#x())}#v(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#E(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,rr){const ir=this.#e,lr=this.options,dr=this.#n,fr=this.#s,mr=this.#i,gr=e!==ir?e.state:this.#r,{state:xr}=e;let _r={...xr},yr=!1,vr;if(rr._optimisticResults){const Lr=this.hasListeners(),zr=!Lr&&shouldFetchOnMount(e,rr),Gr=Lr&&shouldFetchOptionally(e,ir,rr,lr);(zr||Gr)&&(_r={..._r,...fetchState(xr.data,e.options)}),rr._optimisticResults==="isRestoring"&&(_r.fetchStatus="idle")}let{error:br,errorUpdatedAt:Sr,status:wr}=_r;vr=_r.data;let Mr=!1;if(rr.placeholderData!==void 0&&vr===void 0&&wr==="pending"){let Lr;dr?.isPlaceholderData&&rr.placeholderData===mr?.placeholderData?(Lr=dr.data,Mr=!0):Lr=typeof rr.placeholderData=="function"?rr.placeholderData(this.#f?.state.data,this.#f):rr.placeholderData,Lr!==void 0&&(wr="success",vr=replaceData(dr?.data,Lr,rr),yr=!0)}if(rr.select&&vr!==void 0&&!Mr)if(dr&&vr===fr?.data&&rr.select===this.#h)vr=this.#p;else try{this.#h=rr.select,vr=rr.select(vr),vr=replaceData(dr?.data,vr,rr),this.#p=vr,this.#o=null}catch(Lr){this.#o=Lr}this.#o&&(br=this.#o,vr=this.#p,Sr=Date.now(),wr="error");const kr=_r.fetchStatus==="fetching",Ar=wr==="pending",Ir=wr==="error",$r=Ar&&kr,Dr=vr!==void 0,Fr={status:wr,fetchStatus:_r.fetchStatus,isPending:Ar,isSuccess:wr==="success",isError:Ir,isInitialLoading:$r,isLoading:$r,data:vr,dataUpdatedAt:_r.dataUpdatedAt,error:br,errorUpdatedAt:Sr,failureCount:_r.fetchFailureCount,failureReason:_r.fetchFailureReason,errorUpdateCount:_r.errorUpdateCount,isFetched:_r.dataUpdateCount>0||_r.errorUpdateCount>0,isFetchedAfterMount:_r.dataUpdateCount>gr.dataUpdateCount||_r.errorUpdateCount>gr.errorUpdateCount,isFetching:kr,isRefetching:kr&&!Ar,isLoadingError:Ir&&!Dr,isPaused:_r.fetchStatus==="paused",isPlaceholderData:yr,isRefetchError:Ir&&Dr,isStale:isStale(e,rr),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){const Lr=Jr=>{Fr.status==="error"?Jr.reject(Fr.error):Fr.data!==void 0&&Jr.resolve(Fr.data)},zr=()=>{const Jr=this.#a=Fr.promise=pendingThenable();Lr(Jr)},Gr=this.#a;switch(Gr.status){case"pending":e.queryHash===ir.queryHash&&Lr(Gr);break;case"fulfilled":(Fr.status==="error"||Fr.data!==Gr.value)&&zr();break;case"rejected":(Fr.status!=="error"||Fr.error!==Gr.reason)&&zr();break}}return Fr}updateResult(){const e=this.#n,rr=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#i=this.options,this.#s.data!==void 0&&(this.#f=this.#e),shallowEqualObjects(rr,e))return;this.#n=rr;const ir=()=>{if(!e)return!0;const{notifyOnChangeProps:lr}=this.options,dr=typeof lr=="function"?lr():lr;if(dr==="all"||!dr&&!this.#m.size)return!0;const fr=new Set(dr??this.#m);return this.options.throwOnError&&fr.add("error"),Object.keys(this.#n).some(mr=>{const hr=mr;return this.#n[hr]!==e[hr]&&fr.has(hr)})};this.#S({listeners:ir()})}#b(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const rr=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(rr?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(e){notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(rr=>{rr(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function shouldLoadOnMount(e,rr){return resolveEnabled(rr.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&rr.retryOnMount===!1)}function shouldFetchOnMount(e,rr){return shouldLoadOnMount(e,rr)||e.state.data!==void 0&&shouldFetchOn(e,rr,rr.refetchOnMount)}function shouldFetchOn(e,rr,ir){if(resolveEnabled(rr.enabled,e)!==!1&&resolveStaleTime(rr.staleTime,e)!=="static"){const lr=typeof ir=="function"?ir(e):ir;return lr==="always"||lr!==!1&&isStale(e,rr)}return!1}function shouldFetchOptionally(e,rr,ir,lr){return(e!==rr||resolveEnabled(lr.enabled,e)===!1)&&(!ir.suspense||e.state.status!=="error")&&isStale(e,ir)}function isStale(e,rr){return resolveEnabled(rr.enabled,e)!==!1&&e.isStaleByTime(resolveStaleTime(rr.staleTime,e))}function shouldAssignObserverCurrentProperties(e,rr){return!shallowEqualObjects(e.getCurrentResult(),rr)}var InfiniteQueryObserver=class extends QueryObserver{constructor(e,rr){super(e,rr)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:infiniteQueryBehavior()})}getOptimisticResult(e){return e.behavior=infiniteQueryBehavior(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,rr){const{state:ir}=e,lr=super.createResult(e,rr),{isFetching:dr,isRefetching:fr,isError:mr,isRefetchError:hr}=lr,gr=ir.fetchMeta?.fetchMore?.direction,xr=mr&&gr==="forward",_r=dr&&gr==="forward",yr=mr&&gr==="backward",vr=dr&&gr==="backward";return{...lr,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:hasNextPage(rr,ir.data),hasPreviousPage:hasPreviousPage(rr,ir.data),isFetchNextPageError:xr,isFetchingNextPage:_r,isFetchPreviousPageError:yr,isFetchingPreviousPage:vr,isRefetchError:hr&&!xr&&!yr,isRefetching:fr&&!_r&&!vr}}},MutationObserver$1=class extends Subscribable{#t;#e=void 0;#r;#n;constructor(rr,ir){super(),this.#t=rr,this.setOptions(ir),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(rr){const ir=this.options;this.options=this.#t.defaultMutationOptions(rr),shallowEqualObjects(this.options,ir)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),ir?.mutationKey&&this.options.mutationKey&&hashKey(ir.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(rr){this.#s(),this.#i(rr)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#i()}mutate(rr,ir){return this.#n=ir,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(rr)}#s(){const rr=this.#r?.state??getDefaultState();this.#e={...rr,isPending:rr.status==="pending",isSuccess:rr.status==="success",isError:rr.status==="error",isIdle:rr.status==="idle",mutate:this.mutate,reset:this.reset}}#i(rr){notifyManager.batch(()=>{if(this.#n&&this.hasListeners()){const ir=this.#e.variables,lr=this.#e.context;rr?.type==="success"?(this.#n.onSuccess?.(rr.data,ir,lr),this.#n.onSettled?.(rr.data,null,ir,lr)):rr?.type==="error"&&(this.#n.onError?.(rr.error,ir,lr),this.#n.onSettled?.(void 0,rr.error,ir,lr))}this.listeners.forEach(ir=>{ir(this.#e)})})}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=e=>{const rr=reactExports.useContext(QueryClientContext);if(!rr)throw new Error("No QueryClient set, use QueryClientProvider to set one");return rr},QueryClientProvider=({client:e,children:rr})=>(reactExports.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:e,children:rr})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(e,rr)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(rr.isReset()||(e.retryOnMount=!1))},useClearResetErrorBoundary=e=>{reactExports.useEffect(()=>{e.clearReset()},[e])},getHasError=({result:e,errorResetBoundary:rr,throwOnError:ir,query:lr,suspense:dr})=>e.isError&&!rr.isReset()&&!e.isFetching&&lr&&(dr&&e.data===void 0||shouldThrowError(ir,[e.error,lr])),defaultThrowOnError=(e,rr)=>rr.state.data===void 0,ensureSuspenseTimers=e=>{if(e.suspense){const rr=lr=>lr==="static"?lr:Math.max(lr??1e3,1e3),ir=e.staleTime;e.staleTime=typeof ir=="function"?(...lr)=>rr(ir(...lr)):rr(ir),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},willFetch=(e,rr)=>e.isLoading&&e.isFetching&&!rr,shouldSuspend=(e,rr)=>e?.suspense&&rr.isPending,fetchOptimistic=(e,rr,ir)=>rr.fetchOptimistic(e).catch(()=>{ir.clearReset()});function useBaseQuery(e,rr,ir){const lr=useIsRestoring(),dr=useQueryErrorResetBoundary(),fr=useQueryClient(),mr=fr.defaultQueryOptions(e);fr.getDefaultOptions().queries?._experimental_beforeQuery?.(mr),mr._optimisticResults=lr?"isRestoring":"optimistic",ensureSuspenseTimers(mr),ensurePreventErrorBoundaryRetry(mr,dr),useClearResetErrorBoundary(dr);const hr=!fr.getQueryCache().get(mr.queryHash),[gr]=reactExports.useState(()=>new rr(fr,mr)),xr=gr.getOptimisticResult(mr),_r=!lr&&e.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(yr=>{const vr=_r?gr.subscribe(notifyManager.batchCalls(yr)):noop$b;return gr.updateResult(),vr},[gr,_r]),()=>gr.getCurrentResult(),()=>gr.getCurrentResult()),reactExports.useEffect(()=>{gr.setOptions(mr)},[mr,gr]),shouldSuspend(mr,xr))throw fetchOptimistic(mr,gr,dr);if(getHasError({result:xr,errorResetBoundary:dr,throwOnError:mr.throwOnError,query:fr.getQueryCache().get(mr.queryHash),suspense:mr.suspense}))throw xr.error;return fr.getDefaultOptions().queries?._experimental_afterQuery?.(mr,xr),mr.experimental_prefetchInRender&&!isServer&&willFetch(xr,lr)&&(hr?fetchOptimistic(mr,gr,dr):fr.getQueryCache().get(mr.queryHash)?.promise)?.catch(noop$b).finally(()=>{gr.updateResult()}),mr.notifyOnChangeProps?xr:gr.trackResult(xr)}function useQuery(e,rr){return useBaseQuery(e,QueryObserver)}function useSuspenseQuery(e,rr){return useBaseQuery({...e,enabled:!0,suspense:!0,throwOnError:defaultThrowOnError,placeholderData:void 0},QueryObserver)}function queryOptions(e){return e}function getResult(e,rr){return e.findAll(rr.filters).map(ir=>rr.select?rr.select(ir):ir.state)}function useMutationState(e={},rr){const ir=useQueryClient().getMutationCache(),lr=reactExports.useRef(e),dr=reactExports.useRef(null);return dr.current||(dr.current=getResult(ir,e)),reactExports.useEffect(()=>{lr.current=e}),reactExports.useSyncExternalStore(reactExports.useCallback(fr=>ir.subscribe(()=>{const mr=replaceEqualDeep$1(dr.current,getResult(ir,lr.current));dr.current!==mr&&(dr.current=mr,notifyManager.schedule(fr))}),[ir]),()=>dr.current,()=>dr.current)}function useMutation(e,rr){const ir=useQueryClient(),[lr]=reactExports.useState(()=>new MutationObserver$1(ir,e));reactExports.useEffect(()=>{lr.setOptions(e)},[lr,e]);const dr=reactExports.useSyncExternalStore(reactExports.useCallback(mr=>lr.subscribe(notifyManager.batchCalls(mr)),[lr]),()=>lr.getCurrentResult(),()=>lr.getCurrentResult()),fr=reactExports.useCallback((mr,hr)=>{lr.mutate(mr,hr).catch(noop$b)},[lr]);if(dr.error&&shouldThrowError(lr.options.throwOnError,[dr.error]))throw dr.error;return{...dr,mutate:fr,mutateAsync:dr.mutate}}function useInfiniteQuery(e,rr){return useBaseQuery(e,InfiniteQueryObserver)}var prefix="Invariant failed";function invariant(e,rr){if(!e)throw new Error(prefix)}function warning(e,rr){}const __storeToDerived=new WeakMap,__derivedToStore=new WeakMap,__depsThatHaveWrittenThisTick={current:[]};let __isFlushing=!1,__batchDepth=0;const __pendingUpdates=new Set,__initialBatchValues=new Map;function __flush_internals(e){const rr=Array.from(e).sort((ir,lr)=>ir instanceof Derived&&ir.options.deps.includes(lr)?1:lr instanceof Derived&&lr.options.deps.includes(ir)?-1:0);for(const ir of rr){if(__depsThatHaveWrittenThisTick.current.includes(ir))continue;__depsThatHaveWrittenThisTick.current.push(ir),ir.recompute();const lr=__derivedToStore.get(ir);if(lr)for(const dr of lr){const fr=__storeToDerived.get(dr);fr&&__flush_internals(fr)}}}function __notifyListeners(e){e.listeners.forEach(rr=>rr({prevVal:e.prevState,currentVal:e.state}))}function __notifyDerivedListeners(e){e.listeners.forEach(rr=>rr({prevVal:e.prevState,currentVal:e.state}))}function __flush(e){if(__batchDepth>0&&!__initialBatchValues.has(e)&&__initialBatchValues.set(e,e.prevState),__pendingUpdates.add(e),!(__batchDepth>0)&&!__isFlushing)try{for(__isFlushing=!0;__pendingUpdates.size>0;){const rr=Array.from(__pendingUpdates);__pendingUpdates.clear();for(const ir of rr){const lr=__initialBatchValues.get(ir)??ir.prevState;ir.prevState=lr,__notifyListeners(ir)}for(const ir of rr){const lr=__storeToDerived.get(ir);lr&&(__depsThatHaveWrittenThisTick.current.push(ir),__flush_internals(lr))}for(const ir of rr){const lr=__storeToDerived.get(ir);if(lr)for(const dr of lr)__notifyDerivedListeners(dr)}}}finally{__isFlushing=!1,__depsThatHaveWrittenThisTick.current=[],__initialBatchValues.clear()}}function batch(e){__batchDepth++;try{e()}finally{if(__batchDepth--,__batchDepth===0){const rr=Array.from(__pendingUpdates)[0];rr&&__flush(rr)}}}function isUpdaterFunction(e){return typeof e=="function"}class Store{constructor(rr,ir){this.listeners=new Set,this.subscribe=lr=>{var dr,fr;this.listeners.add(lr);const mr=(fr=(dr=this.options)==null?void 0:dr.onSubscribe)==null?void 0:fr.call(dr,lr,this);return()=>{this.listeners.delete(lr),mr?.()}},this.prevState=rr,this.state=rr,this.options=ir}setState(rr){var ir,lr,dr;this.prevState=this.state,(ir=this.options)!=null&&ir.updateFn?this.state=this.options.updateFn(this.prevState)(rr):isUpdaterFunction(rr)?this.state=rr(this.prevState):this.state=rr,(dr=(lr=this.options)==null?void 0:lr.onUpdate)==null||dr.call(lr),__flush(this)}}class Derived{constructor(rr){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const ir=[],lr=[];for(const dr of this.options.deps)ir.push(dr.prevState),lr.push(dr.state);return this.lastSeenDepValues=lr,{prevDepVals:ir,currDepVals:lr,prevVal:this.prevState??void 0}},this.recompute=()=>{var ir,lr;this.prevState=this.state;const{prevDepVals:dr,currDepVals:fr,prevVal:mr}=this.getDepVals();this.state=this.options.fn({prevDepVals:dr,currDepVals:fr,prevVal:mr}),(lr=(ir=this.options).onUpdate)==null||lr.call(ir)},this.checkIfRecalculationNeededDeeply=()=>{for(const fr of this.options.deps)fr instanceof Derived&&fr.checkIfRecalculationNeededDeeply();let ir=!1;const lr=this.lastSeenDepValues,{currDepVals:dr}=this.getDepVals();for(let fr=0;fr<dr.length;fr++)if(dr[fr]!==lr[fr]){ir=!0;break}ir&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const ir of this._subscriptions)ir()}),this.subscribe=ir=>{var lr,dr;this.listeners.add(ir);const fr=(dr=(lr=this.options).onSubscribe)==null?void 0:dr.call(lr,ir,this);return()=>{this.listeners.delete(ir),fr?.()}},this.options=rr,this.state=rr.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(rr=this.options.deps){for(const ir of rr)if(ir instanceof Derived)ir.registerOnGraph(),this.registerOnGraph(ir.options.deps);else if(ir instanceof Store){let lr=__storeToDerived.get(ir);lr||(lr=new Set,__storeToDerived.set(ir,lr)),lr.add(this);let dr=__derivedToStore.get(this);dr||(dr=new Set,__derivedToStore.set(this,dr)),dr.add(ir)}}unregisterFromGraph(rr=this.options.deps){for(const ir of rr)if(ir instanceof Derived)this.unregisterFromGraph(ir.options.deps);else if(ir instanceof Store){const lr=__storeToDerived.get(ir);lr&&lr.delete(this);const dr=__derivedToStore.get(this);dr&&dr.delete(ir)}}}const stateIndexKey="__TSR_index",popStateEvent="popstate",beforeUnloadEvent="beforeunload";function createHistory(e){let rr=e.getLocation();const ir=new Set,lr=mr=>{rr=e.getLocation(),ir.forEach(hr=>hr({location:rr,action:mr}))},dr=mr=>{e.notifyOnIndexChange??!0?lr(mr):rr=e.getLocation()},fr=async({task:mr,navigateOpts:hr,...gr})=>{var xr,_r;if(hr?.ignoreBlocker??!1){mr();return}const vr=((xr=e.getBlockers)==null?void 0:xr.call(e))??[],br=gr.type==="PUSH"||gr.type==="REPLACE";if(typeof document<"u"&&vr.length&&br)for(const Sr of vr){const wr=parseHref(gr.path,gr.state);if(await Sr.blockerFn({currentLocation:rr,nextLocation:wr,action:gr.type})){(_r=e.onBlocked)==null||_r.call(e);return}}mr()};return{get location(){return rr},get length(){return e.getLength()},subscribers:ir,subscribe:mr=>(ir.add(mr),()=>{ir.delete(mr)}),push:(mr,hr,gr)=>{const xr=rr.state[stateIndexKey];hr=assignKeyAndIndex(xr+1,hr),fr({task:()=>{e.pushState(mr,hr),lr({type:"PUSH"})},navigateOpts:gr,type:"PUSH",path:mr,state:hr})},replace:(mr,hr,gr)=>{const xr=rr.state[stateIndexKey];hr=assignKeyAndIndex(xr,hr),fr({task:()=>{e.replaceState(mr,hr),lr({type:"REPLACE"})},navigateOpts:gr,type:"REPLACE",path:mr,state:hr})},go:(mr,hr)=>{fr({task:()=>{e.go(mr),dr({type:"GO",index:mr})},navigateOpts:hr,type:"GO"})},back:mr=>{fr({task:()=>{e.back(mr?.ignoreBlocker??!1),dr({type:"BACK"})},navigateOpts:mr,type:"BACK"})},forward:mr=>{fr({task:()=>{e.forward(mr?.ignoreBlocker??!1),dr({type:"FORWARD"})},navigateOpts:mr,type:"FORWARD"})},canGoBack:()=>rr.state[stateIndexKey]!==0,createHref:mr=>e.createHref(mr),block:mr=>{var hr;if(!e.setBlockers)return()=>{};const gr=((hr=e.getBlockers)==null?void 0:hr.call(e))??[];return e.setBlockers([...gr,mr]),()=>{var xr,_r;const yr=((xr=e.getBlockers)==null?void 0:xr.call(e))??[];(_r=e.setBlockers)==null||_r.call(e,yr.filter(vr=>vr!==mr))}},flush:()=>{var mr;return(mr=e.flush)==null?void 0:mr.call(e)},destroy:()=>{var mr;return(mr=e.destroy)==null?void 0:mr.call(e)},notify:lr}}function assignKeyAndIndex(e,rr){rr||(rr={});const ir=createRandomKey();return{...rr,key:ir,__TSR_key:ir,[stateIndexKey]:e}}function createBrowserHistory(e){var rr,ir;const lr=typeof document<"u"?window:void 0,dr=lr.history.pushState,fr=lr.history.replaceState;let mr=[];const hr=()=>mr,gr=Gr=>mr=Gr,xr=Gr=>Gr,_r=()=>parseHref(`${lr.location.pathname}${lr.location.search}${lr.location.hash}`,lr.history.state);if(!((rr=lr.history.state)!=null&&rr.__TSR_key)&&!((ir=lr.history.state)!=null&&ir.key)){const Gr=createRandomKey();lr.history.replaceState({[stateIndexKey]:0,key:Gr,__TSR_key:Gr},"")}let yr=_r(),vr,br=!1,Sr=!1,wr=!1,Mr=!1;const kr=()=>yr;let Ar,Ir;const $r=()=>{Ar&&(zr._ignoreSubscribers=!0,(Ar.isPush?lr.history.pushState:lr.history.replaceState)(Ar.state,"",Ar.href),zr._ignoreSubscribers=!1,Ar=void 0,Ir=void 0,vr=void 0)},Dr=(Gr,Jr,Yn)=>{const Jn=xr(Jr);Ir||(vr=yr),yr=parseHref(Jr,Yn),Ar={href:Jn,state:Yn,isPush:Ar?.isPush||Gr==="push"},Ir||(Ir=Promise.resolve().then(()=>$r()))},Or=Gr=>{yr=_r(),zr.notify({type:Gr})},Fr=async()=>{if(Sr){Sr=!1;return}const Gr=_r(),Jr=Gr.state[stateIndexKey]-yr.state[stateIndexKey],Yn=Jr===1,Jn=Jr===-1,Zn=!Yn&&!Jn||br;br=!1;const Hn=Zn?"GO":Jn?"BACK":"FORWARD",Kn=Zn?{type:"GO",index:Jr}:{type:Jn?"BACK":"FORWARD"};if(wr)wr=!1;else{const qn=hr();if(typeof document<"u"&&qn.length){for(const Qr of qn)if(await Qr.blockerFn({currentLocation:yr,nextLocation:Gr,action:Hn})){Sr=!0,lr.history.go(1),zr.notify(Kn);return}}}yr=_r(),zr.notify(Kn)},Lr=Gr=>{if(Mr){Mr=!1;return}let Jr=!1;const Yn=hr();if(typeof document<"u"&&Yn.length)for(const Jn of Yn){const Zn=Jn.enableBeforeUnload??!0;if(Zn===!0){Jr=!0;break}if(typeof Zn=="function"&&Zn()===!0){Jr=!0;break}}if(Jr)return Gr.preventDefault(),Gr.returnValue=""},zr=createHistory({getLocation:kr,getLength:()=>lr.history.length,pushState:(Gr,Jr)=>Dr("push",Gr,Jr),replaceState:(Gr,Jr)=>Dr("replace",Gr,Jr),back:Gr=>(Gr&&(wr=!0),Mr=!0,lr.history.back()),forward:Gr=>{Gr&&(wr=!0),Mr=!0,lr.history.forward()},go:Gr=>{br=!0,lr.history.go(Gr)},createHref:Gr=>xr(Gr),flush:$r,destroy:()=>{lr.history.pushState=dr,lr.history.replaceState=fr,lr.removeEventListener(beforeUnloadEvent,Lr,{capture:!0}),lr.removeEventListener(popStateEvent,Fr)},onBlocked:()=>{vr&&yr!==vr&&(yr=vr)},getBlockers:hr,setBlockers:gr,notifyOnIndexChange:!1});return lr.addEventListener(beforeUnloadEvent,Lr,{capture:!0}),lr.addEventListener(popStateEvent,Fr),lr.history.pushState=function(...Gr){const Jr=dr.apply(lr.history,Gr);return zr._ignoreSubscribers||Or("PUSH"),Jr},lr.history.replaceState=function(...Gr){const Jr=fr.apply(lr.history,Gr);return zr._ignoreSubscribers||Or("REPLACE"),Jr},zr}function createMemoryHistory(e={initialEntries:["/"]}){const rr=e.initialEntries;let ir=e.initialIndex?Math.min(Math.max(e.initialIndex,0),rr.length-1):rr.length-1;const lr=rr.map((fr,mr)=>assignKeyAndIndex(mr,void 0));return createHistory({getLocation:()=>parseHref(rr[ir],lr[ir]),getLength:()=>rr.length,pushState:(fr,mr)=>{ir<rr.length-1&&(rr.splice(ir+1),lr.splice(ir+1)),lr.push(mr),rr.push(fr),ir=Math.max(rr.length-1,0)},replaceState:(fr,mr)=>{lr[ir]=mr,rr[ir]=fr},back:()=>{ir=Math.max(ir-1,0)},forward:()=>{ir=Math.min(ir+1,rr.length-1)},go:fr=>{ir=Math.min(Math.max(ir+fr,0),rr.length-1)},createHref:fr=>fr})}function parseHref(e,rr){const ir=e.indexOf("#"),lr=e.indexOf("?"),dr=createRandomKey();return{href:e,pathname:e.substring(0,ir>0?lr>0?Math.min(ir,lr):ir:lr>0?lr:e.length),hash:ir>-1?e.substring(ir):"",search:lr>-1?e.slice(lr,ir===-1?void 0:ir):"",state:rr||{[stateIndexKey]:0,key:dr,__TSR_key:dr}}}function createRandomKey(){return(Math.random()+1).toString(36).substring(7)}function last(e){return e[e.length-1]}function isFunction$3(e){return typeof e=="function"}function functionalUpdate(e,rr){return isFunction$3(e)?e(rr):e}function pick$1(e,rr){return rr.reduce((ir,lr)=>(ir[lr]=e[lr],ir),{})}function replaceEqualDeep(e,rr){if(e===rr)return e;const ir=rr,lr=isPlainArray(e)&&isPlainArray(ir);if(lr||isSimplePlainObject(e)&&isSimplePlainObject(ir)){const dr=lr?e:Object.keys(e).concat(Object.getOwnPropertySymbols(e)),fr=dr.length,mr=lr?ir:Object.keys(ir).concat(Object.getOwnPropertySymbols(ir)),hr=mr.length,gr=lr?[]:{};let xr=0;for(let _r=0;_r<hr;_r++){const yr=lr?_r:mr[_r];(!lr&&dr.includes(yr)||lr)&&e[yr]===void 0&&ir[yr]===void 0?(gr[yr]=void 0,xr++):(gr[yr]=replaceEqualDeep(e[yr],ir[yr]),gr[yr]===e[yr]&&e[yr]!==void 0&&xr++)}return fr===hr&&xr===fr?e:gr}return ir}function isSimplePlainObject(e){return isPlainObject$2(e)&&Object.getOwnPropertyNames(e).length===Object.keys(e).length}function isPlainObject$2(e){if(!hasObjectPrototype(e))return!1;const rr=e.constructor;if(typeof rr>"u")return!0;const ir=rr.prototype;return!(!hasObjectPrototype(ir)||!ir.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(e){return Object.prototype.toString.call(e)==="[object Object]"}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function getObjectKeys(e,rr){let ir=Object.keys(e);return rr&&(ir=ir.filter(lr=>e[lr]!==void 0)),ir}function deepEqual$2(e,rr,ir){if(e===rr)return!0;if(typeof e!=typeof rr)return!1;if(isPlainObject$2(e)&&isPlainObject$2(rr)){const lr=ir?.ignoreUndefined??!0,dr=getObjectKeys(e,lr),fr=getObjectKeys(rr,lr);return!ir?.partial&&dr.length!==fr.length?!1:fr.every(mr=>deepEqual$2(e[mr],rr[mr],ir))}return Array.isArray(e)&&Array.isArray(rr)?e.length!==rr.length?!1:!e.some((lr,dr)=>!deepEqual$2(lr,rr[dr],ir)):!1}function createControlledPromise(e){let rr,ir;const lr=new Promise((dr,fr)=>{rr=dr,ir=fr});return lr.status="pending",lr.resolve=dr=>{lr.status="resolved",lr.value=dr,rr(dr),e?.(dr)},lr.reject=dr=>{lr.status="rejected",ir(dr)},lr}function joinPaths(e){return cleanPath(e.filter(rr=>rr!==void 0).join("/"))}function cleanPath(e){return e.replace(/\/{2,}/g,"/")}function trimPathLeft(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function trimPathRight(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function trimPath(e){return trimPathRight(trimPathLeft(e))}function removeTrailingSlash(e,rr){return e?.endsWith("/")&&e!=="/"&&e!==`${rr}/`?e.slice(0,-1):e}function exactPathTest(e,rr,ir){return removeTrailingSlash(e,ir)===removeTrailingSlash(rr,ir)}function resolvePath({basepath:e,base:rr,to:ir,trailingSlash:lr="never",caseSensitive:dr}){var fr,mr;rr=removeBasepath(e,rr,dr),ir=removeBasepath(e,ir,dr);let hr=parsePathname(rr);const gr=parsePathname(ir);hr.length>1&&((fr=last(hr))==null?void 0:fr.value)==="/"&&hr.pop(),gr.forEach((yr,vr)=>{yr.value==="/"?vr?vr===gr.length-1&&hr.push(yr):hr=[yr]:yr.value===".."?hr.pop():yr.value==="."||hr.push(yr)}),hr.length>1&&(((mr=last(hr))==null?void 0:mr.value)==="/"?lr==="never"&&hr.pop():lr==="always"&&hr.push({type:"pathname",value:"/"}));const xr=hr.map(yr=>{if(yr.type==="param"){const vr=yr.value.substring(1);if(yr.prefixSegment&&yr.suffixSegment)return`${yr.prefixSegment}{$${vr}}${yr.suffixSegment}`;if(yr.prefixSegment)return`${yr.prefixSegment}{$${vr}}`;if(yr.suffixSegment)return`{$${vr}}${yr.suffixSegment}`}if(yr.type==="wildcard"){if(yr.prefixSegment&&yr.suffixSegment)return`${yr.prefixSegment}{$}${yr.suffixSegment}`;if(yr.prefixSegment)return`${yr.prefixSegment}{$}`;if(yr.suffixSegment)return`{$}${yr.suffixSegment}`}return yr.value}),_r=joinPaths([e,...xr]);return cleanPath(_r)}const PARAM_RE=/^\$.{1,}$/,PARAM_W_CURLY_BRACES_RE=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,WILDCARD_RE=/^\$$/,WILDCARD_W_CURLY_BRACES_RE=/^(.*?)\{\$\}(.*)$/;function parsePathname(e){if(!e)return[];e=cleanPath(e);const rr=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),rr.push({type:"pathname",value:"/"})),!e)return rr;const ir=e.split("/").filter(Boolean);return rr.push(...ir.map(lr=>{const dr=lr.match(WILDCARD_W_CURLY_BRACES_RE);if(dr){const mr=dr[1],hr=dr[2];return{type:"wildcard",value:"$",prefixSegment:mr||void 0,suffixSegment:hr||void 0}}const fr=lr.match(PARAM_W_CURLY_BRACES_RE);if(fr){const mr=fr[1],hr=fr[2],gr=fr[3];return{type:"param",value:""+hr,prefixSegment:mr||void 0,suffixSegment:gr||void 0}}return PARAM_RE.test(lr)?{type:"param",value:"$"+lr.substring(1),prefixSegment:void 0,suffixSegment:void 0}:WILDCARD_RE.test(lr)?{type:"wildcard",value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:"pathname",value:lr.includes("%25")?lr.split("%25").map(mr=>decodeURI(mr)).join("%25"):decodeURI(lr)}})),e.slice(-1)==="/"&&(e=e.substring(1),rr.push({type:"pathname",value:"/"})),rr}function interpolatePath({path:e,params:rr,leaveWildcards:ir,leaveParams:lr,decodeCharMap:dr}){const fr=parsePathname(e);function mr(_r){const yr=rr[_r],vr=typeof yr=="string";return["*","_splat"].includes(_r)?vr?encodeURI(yr):yr:vr?encodePathParam(yr,dr):yr}let hr=!1;const gr={},xr=joinPaths(fr.map(_r=>{if(_r.type==="wildcard"){gr._splat=rr._splat;const yr=_r.prefixSegment||"",vr=_r.suffixSegment||"",br=mr("_splat");return ir?`${yr}${_r.value}${br??""}${vr}`:`${yr}${br}${vr}`}if(_r.type==="param"){const yr=_r.value.substring(1);!hr&&!(yr in rr)&&(hr=!0),gr[yr]=rr[yr];const vr=_r.prefixSegment||"",br=_r.suffixSegment||"";if(lr){const Sr=mr(_r.value);return`${vr}${_r.value}${Sr??""}${br}`}return`${vr}${mr(yr)??"undefined"}${br}`}return _r.value}));return{usedParams:gr,interpolatedPath:xr,isMissingParams:hr}}function encodePathParam(e,rr){let ir=encodeURIComponent(e);if(rr)for(const[lr,dr]of rr)ir=ir.replaceAll(lr,dr);return ir}function matchPathname(e,rr,ir){const lr=matchByPath(e,rr,ir);if(!(ir.to&&!lr))return lr??{}}function removeBasepath(e,rr,ir=!1){const lr=ir?e:e.toLowerCase(),dr=ir?rr:rr.toLowerCase();switch(!0){case lr==="/":return rr;case dr===lr:return"";case rr.length<e.length:return rr;case dr[lr.length]!=="/":return rr;case dr.startsWith(lr):return rr.slice(e.length);default:return rr}}function matchByPath(e,rr,ir){if(e!=="/"&&!rr.startsWith(e))return;rr=removeBasepath(e,rr,ir.caseSensitive);const lr=removeBasepath(e,`${ir.to??"$"}`,ir.caseSensitive),dr=parsePathname(rr),fr=parsePathname(lr);rr.startsWith("/")||dr.unshift({type:"pathname",value:"/"}),lr.startsWith("/")||fr.unshift({type:"pathname",value:"/"});const mr={};return(()=>{var gr;for(let xr=0;xr<Math.max(dr.length,fr.length);xr++){const _r=dr[xr],yr=fr[xr],vr=xr>=dr.length-1,br=xr>=fr.length-1;if(yr){if(yr.type==="wildcard"){const Sr=dr.slice(xr);let wr;if(yr.prefixSegment||yr.suffixSegment){if(!_r)return!1;const Mr=yr.prefixSegment||"",kr=yr.suffixSegment||"",Ar=_r.value;if("prefixSegment"in yr&&!Ar.startsWith(Mr)||"suffixSegment"in yr&&!((gr=dr[dr.length-1])!=null&&gr.value.endsWith(kr)))return!1;let Ir=decodeURI(joinPaths(Sr.map($r=>$r.value)));Mr&&Ir.startsWith(Mr)&&(Ir=Ir.slice(Mr.length)),kr&&Ir.endsWith(kr)&&(Ir=Ir.slice(0,Ir.length-kr.length)),wr=Ir}else wr=decodeURI(joinPaths(Sr.map(Mr=>Mr.value)));return mr["*"]=wr,mr._splat=wr,!0}if(yr.type==="pathname"){if(yr.value==="/"&&!_r?.value)return!0;if(_r){if(ir.caseSensitive){if(yr.value!==_r.value)return!1}else if(yr.value.toLowerCase()!==_r.value.toLowerCase())return!1}}if(!_r)return!1;if(yr.type==="param"){if(_r.value==="/")return!1;let Sr;if(yr.prefixSegment||yr.suffixSegment){const wr=yr.prefixSegment||"",Mr=yr.suffixSegment||"",kr=_r.value;if(wr&&!kr.startsWith(wr)||Mr&&!kr.endsWith(Mr))return!1;let Ar=kr;wr&&Ar.startsWith(wr)&&(Ar=Ar.slice(wr.length)),Mr&&Ar.endsWith(Mr)&&(Ar=Ar.slice(0,Ar.length-Mr.length)),Sr=decodeURIComponent(Ar)}else Sr=decodeURIComponent(_r.value);mr[yr.value.substring(1)]=Sr}}if(!vr&&br)return mr["**"]=joinPaths(dr.slice(xr+1).map(Sr=>Sr.value)),!!ir.fuzzy&&yr?.value!=="/"}return!0})()?mr:void 0}function isNotFound(e){return!!e?.isNotFound}function getSafeSessionStorage(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const storageKey="tsr-scroll-restoration-v1_3",throttle=(e,rr)=>{let ir;return(...lr)=>{ir||(ir=setTimeout(()=>{e(...lr),ir=null},rr))}};function createScrollRestorationCache(){const e=getSafeSessionStorage();if(!e)return;const rr=e.getItem(storageKey);let ir=rr?JSON.parse(rr):{};return{state:ir,set:lr=>(ir=functionalUpdate(lr,ir)||ir,e.setItem(storageKey,JSON.stringify(ir)))}}const scrollRestorationCache=createScrollRestorationCache(),defaultGetScrollRestorationKey=e=>e.state.__TSR_key||e.href;function getCssSelector(e){const rr=[];let ir;for(;ir=e.parentNode;)rr.unshift(`${e.tagName}:nth-child(${[].indexOf.call(ir.children,e)+1})`),e=ir;return`${rr.join(" > ")}`.toLowerCase()}let ignoreScroll=!1;function restoreScroll(e,rr,ir,lr,dr){var fr;let mr;try{mr=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(xr){console.error(xr);return}const hr=rr||((fr=window.history.state)==null?void 0:fr.key),gr=mr[hr];ignoreScroll=!0,(()=>{if(lr&&gr){for(const _r in gr){const yr=gr[_r];if(_r==="window")window.scrollTo({top:yr.scrollY,left:yr.scrollX,behavior:ir});else if(_r){const vr=document.querySelector(_r);vr&&(vr.scrollLeft=yr.scrollX,vr.scrollTop=yr.scrollY)}}return}const xr=window.location.hash.split("#")[1];if(xr){const _r=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(_r){const yr=document.getElementById(xr);yr&&yr.scrollIntoView(_r)}return}["window",...dr?.filter(_r=>_r!=="window")??[]].forEach(_r=>{const yr=_r==="window"?window:typeof _r=="function"?_r():document.querySelector(_r);yr&&yr.scrollTo({top:0,left:0,behavior:ir})})})(),ignoreScroll=!1}function setupScrollRestoration(e,rr){if(scrollRestorationCache===void 0||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup))return;e.isScrollRestorationSetup=!0,ignoreScroll=!1;const lr=e.options.getScrollRestorationKey||defaultGetScrollRestorationKey;window.history.scrollRestoration="manual";const dr=fr=>{if(ignoreScroll||!e.isScrollRestoring)return;let mr="";if(fr.target===document||fr.target===window)mr="window";else{const gr=fr.target.getAttribute("data-scroll-restoration-id");gr?mr=`[data-scroll-restoration-id="${gr}"]`:mr=getCssSelector(fr.target)}const hr=lr(e.state.location);scrollRestorationCache.set(gr=>{const xr=gr[hr]=gr[hr]||{},_r=xr[mr]=xr[mr]||{};if(mr==="window")_r.scrollX=window.scrollX||0,_r.scrollY=window.scrollY||0;else if(mr){const yr=document.querySelector(mr);yr&&(_r.scrollX=yr.scrollLeft||0,_r.scrollY=yr.scrollTop||0)}return gr})};typeof document<"u"&&document.addEventListener("scroll",throttle(dr,100),!0),e.subscribe("onRendered",fr=>{const mr=lr(fr.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}restoreScroll(storageKey,mr,e.options.scrollRestorationBehavior||void 0,e.isScrollRestoring||void 0,e.options.scrollToTopSelectors||void 0),e.isScrollRestoring&&scrollRestorationCache.set(hr=>(hr[mr]=hr[mr]||{},hr))})}function handleHashScroll(e){if(typeof document<"u"&&document.querySelector){const rr=e.state.location.state.__hashScrollIntoViewOptions??!0;if(rr&&e.state.location.hash!==""){const ir=document.getElementById(e.state.location.hash);ir&&ir.scrollIntoView(rr)}}}function encode(e,rr){const ir=Object.entries(e).flatMap(([dr,fr])=>Array.isArray(fr)?fr.map(mr=>[dr,String(mr)]):[[dr,String(fr)]]);return""+new URLSearchParams(ir).toString()}function toValue(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function decode(e,rr){const ir=e;return[...new URLSearchParams(ir).entries()].reduce((fr,[mr,hr])=>{const gr=fr[mr];return gr==null?fr[mr]=toValue(hr):fr[mr]=Array.isArray(gr)?[...gr,toValue(hr)]:[gr,toValue(hr)],fr},{})}const defaultParseSearch=parseSearchWith(JSON.parse),defaultStringifySearch=stringifySearchWith(JSON.stringify,JSON.parse);function parseSearchWith(e){return rr=>{rr.substring(0,1)==="?"&&(rr=rr.substring(1));const ir=decode(rr);for(const lr in ir){const dr=ir[lr];if(typeof dr=="string")try{ir[lr]=e(dr)}catch{}}return ir}}function stringifySearchWith(e,rr){function ir(lr){if(typeof lr=="object"&&lr!==null)try{return e(lr)}catch{}else if(typeof lr=="string"&&typeof rr=="function")try{return rr(lr),e(lr)}catch{}return lr}return lr=>{lr={...lr},Object.keys(lr).forEach(fr=>{const mr=lr[fr];typeof mr>"u"||mr===void 0?delete lr[fr]:lr[fr]=ir(mr)});const dr=encode(lr).toString();return dr?`?${dr}`:""}}const rootRouteId="__root__";function redirect(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument)try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}const rr=new Headers(e.headers||{});e.href&&rr.get("Location")===null&&rr.set("Location",e.href);const ir=new Response(null,{status:e.statusCode,headers:rr});if(ir.options=e,e.throw)throw ir;return ir}function isRedirect(e){return e instanceof Response&&!!e.options}function getLocationChangeInfo(e){const rr=e.resolvedLocation,ir=e.location,lr=rr?.pathname!==ir.pathname,dr=rr?.href!==ir.href,fr=rr?.hash!==ir.hash;return{fromLocation:rr,toLocation:ir,pathChanged:lr,hrefChanged:dr,hashChanged:fr}}class RouterCore{constructor(rr){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=ir=>ir(),this.isShell=!1,this.update=ir=>{var lr;ir.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const dr=this.options;this.options={...this.options,...ir},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(fr=>[encodeURIComponent(fr),fr])):void 0,(!this.basepath||ir.basepath&&ir.basepath!==dr.basepath)&&(ir.basepath===void 0||ir.basepath===""||ir.basepath==="/"?this.basepath="/":this.basepath=`/${trimPath(ir.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?createMemoryHistory({initialEntries:[this.basepath||"/"]}):createBrowserHistory()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Store(getInitialRouterState(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(fr=>!["redirected"].includes(fr.status))}}}),setupScrollRestoration(this)),typeof window<"u"&&"CSS"in window&&typeof((lr=window.CSS)==null?void 0:lr.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)")),this.latestLocation.search.__TSS_SHELL&&(this.isShell=!0)},this.buildRouteTree=()=>{const{routesById:ir,routesByPath:lr,flatRoutes:dr}=processRouteTree({routeTree:this.routeTree,initRoute:(mr,hr)=>{mr.init({originalIndex:hr,defaultSsr:this.options.defaultSsr})}});this.routesById=ir,this.routesByPath=lr,this.flatRoutes=dr;const fr=this.options.notFoundRoute;fr&&(fr.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[fr.id]=fr)},this.subscribe=(ir,lr)=>{const dr={eventType:ir,fn:lr};return this.subscribers.add(dr),()=>{this.subscribers.delete(dr)}},this.emit=ir=>{this.subscribers.forEach(lr=>{lr.eventType===ir.type&&lr.fn(ir)})},this.parseLocation=(ir,lr)=>{const dr=({pathname:gr,search:xr,hash:_r,state:yr})=>{const vr=this.options.parseSearch(xr),br=this.options.stringifySearch(vr);return{pathname:gr,searchStr:br,search:replaceEqualDeep(ir?.search,vr),hash:_r.split("#").reverse()[0]??"",href:`${gr}${br}${_r}`,state:replaceEqualDeep(ir?.state,yr)}},fr=dr(lr??this.history.location),{__tempLocation:mr,__tempKey:hr}=fr.state;if(mr&&(!hr||hr===this.tempLocationKey)){const gr=dr(mr);return gr.state.key=fr.state.key,gr.state.__TSR_key=fr.state.__TSR_key,delete gr.state.__tempLocation,{...gr,maskedLocation:fr}}return fr},this.resolvePathWithBase=(ir,lr)=>resolvePath({basepath:this.basepath,base:ir,to:cleanPath(lr),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(ir,lr,dr)=>typeof ir=="string"?this.matchRoutesInternal({pathname:ir,search:lr},dr):this.matchRoutesInternal(ir,lr),this.getMatchedRoutes=(ir,lr)=>getMatchedRoutes({pathname:ir,routePathname:lr,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=ir=>{const lr=this.getMatch(ir);lr&&(lr.abortController.abort(),clearTimeout(lr.pendingTimeout))},this.cancelMatches=()=>{var ir;(ir=this.state.pendingMatches)==null||ir.forEach(lr=>{this.cancelMatch(lr.id)})},this.buildLocation=ir=>{const lr=(fr={})=>{var mr;const hr=fr._fromLocation||this.latestLocation,gr=this.matchRoutes(hr,{_buildLocation:!0}),xr=last(gr);let _r=xr.fullPath;fr.unsafeRelative==="path"?_r=hr.pathname:fr.to&&fr.from&&(_r=fr.from,[...gr].reverse().find(Fr=>Fr.fullPath===_r||Fr.fullPath===joinPaths([_r,"/"]))||console.warn(`Could not find match for from: ${fr.from}`));const yr=xr.search,vr={...xr.params},br=fr.to?this.resolvePathWithBase(_r,`${fr.to}`):this.resolvePathWithBase(_r,".");let Sr=(fr.params??!0)===!0?vr:{...vr,...functionalUpdate(fr.params,vr)};const wr=this.matchRoutes(br,{},{_buildLocation:!0}).map(Or=>this.looseRoutesById[Or.routeId]);Object.keys(Sr).length>0&&wr.map(Or=>{var Fr;return((Fr=Or.options.params)==null?void 0:Fr.stringify)??Or.options.stringifyParams}).filter(Boolean).forEach(Or=>{Sr={...Sr,...Or(Sr)}});const Mr=interpolatePath({path:br,params:Sr??{},leaveWildcards:!1,leaveParams:ir.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let kr=yr;if(ir._includeValidateSearch&&((mr=this.options.search)!=null&&mr.strict)){let Or={};wr.forEach(Fr=>{try{Fr.options.validateSearch&&(Or={...Or,...validateSearch(Fr.options.validateSearch,{...Or,...kr})??{}})}catch{}}),kr=Or}kr=applySearchMiddleware({search:kr,dest:fr,destRoutes:wr,_includeValidateSearch:ir._includeValidateSearch}),kr=replaceEqualDeep(yr,kr);const Ar=this.options.stringifySearch(kr),Ir=fr.hash===!0?hr.hash:fr.hash?functionalUpdate(fr.hash,hr.hash):void 0,$r=Ir?`#${Ir}`:"";let Dr=fr.state===!0?hr.state:fr.state?functionalUpdate(fr.state,hr.state):{};return Dr=replaceEqualDeep(hr.state,Dr),{pathname:Mr,search:kr,searchStr:Ar,state:Dr,hash:Ir??"",href:`${Mr}${Ar}${$r}`,unmaskOnReload:fr.unmaskOnReload}},dr=(fr={},mr)=>{var hr;const gr=lr(fr);let xr=mr?lr(mr):void 0;if(!xr){let _r={};const yr=(hr=this.options.routeMasks)==null?void 0:hr.find(vr=>{const br=matchPathname(this.basepath,gr.pathname,{to:vr.from,caseSensitive:!1,fuzzy:!1});return br?(_r=br,!0):!1});if(yr){const{from:vr,...br}=yr;mr={...pick$1(ir,["from"]),...br,params:_r},xr=lr(mr)}}if(xr){const _r=lr(mr);gr.maskedLocation=_r}return gr};return ir.mask?dr(ir,{...pick$1(ir,["from"]),...ir.mask}):dr(ir)},this.commitLocation=({viewTransition:ir,ignoreBlocker:lr,...dr})=>{const fr=()=>{const gr=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];gr.forEach(_r=>{dr.state[_r]=this.latestLocation.state[_r]});const xr=deepEqual$2(dr.state,this.latestLocation.state);return gr.forEach(_r=>{delete dr.state[_r]}),xr},mr=this.latestLocation.href===dr.href,hr=this.commitLocationPromise;if(this.commitLocationPromise=createControlledPromise(()=>{hr?.resolve()}),mr&&fr())this.load();else{let{maskedLocation:gr,hashScrollIntoView:xr,..._r}=dr;gr&&(_r={...gr,state:{...gr.state,__tempKey:void 0,__tempLocation:{..._r,search:_r.searchStr,state:{..._r.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(_r.unmaskOnReload??this.options.unmaskOnReload??!1)&&(_r.state.__tempKey=this.tempLocationKey)),_r.state.__hashScrollIntoViewOptions=xr??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=ir,this.history[dr.replace?"replace":"push"](_r.href,_r.state,{ignoreBlocker:lr})}return this.resetNextScroll=dr.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:ir,resetScroll:lr,hashScrollIntoView:dr,viewTransition:fr,ignoreBlocker:mr,href:hr,...gr}={})=>{if(hr){const _r=this.history.location.state.__TSR_index,yr=parseHref(hr,{__TSR_index:ir?_r:_r+1});gr.to=yr.pathname,gr.search=this.options.parseSearch(yr.search),gr.hash=yr.hash.slice(1)}const xr=this.buildLocation({...gr,_includeValidateSearch:!0});return this.commitLocation({...xr,viewTransition:fr,replace:ir,resetScroll:lr,hashScrollIntoView:dr,ignoreBlocker:mr})},this.navigate=({to:ir,reloadDocument:lr,href:dr,...fr})=>{if(!lr&&dr)try{new URL(`${dr}`),lr=!0}catch{}if(lr){if(!dr){const mr=this.buildLocation({to:ir,...fr});dr=this.history.createHref(mr.href)}fr.replace?window.location.replace(dr):window.location.href=dr;return}return this.buildAndCommitLocation({...fr,href:dr,to:ir})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const lr=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(trimPath(this.latestLocation.href)!==trimPath(lr.href))throw redirect({href:lr.href})}const ir=this.matchRoutes(this.latestLocation);this.__store.setState(lr=>({...lr,status:"pending",isLoading:!0,location:this.latestLocation,pendingMatches:ir,cachedMatches:lr.cachedMatches.filter(dr=>!ir.find(fr=>fr.id===dr.id))}))},this.load=async ir=>{let lr,dr,fr;for(fr=new Promise(mr=>{this.startTransition(async()=>{var hr;try{this.beforeLoad();const gr=this.latestLocation,xr=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...getLocationChangeInfo({resolvedLocation:xr,location:gr})}),this.emit({type:"onBeforeLoad",...getLocationChangeInfo({resolvedLocation:xr,location:gr})}),await this.loadMatches({sync:ir?.sync,matches:this.state.pendingMatches,location:gr,onReady:async()=>{this.startViewTransition(async()=>{let _r,yr,vr;batch(()=>{this.__store.setState(br=>{const Sr=br.matches,wr=br.pendingMatches||br.matches;return _r=Sr.filter(Mr=>!wr.find(kr=>kr.id===Mr.id)),yr=wr.filter(Mr=>!Sr.find(kr=>kr.id===Mr.id)),vr=Sr.filter(Mr=>wr.find(kr=>kr.id===Mr.id)),{...br,isLoading:!1,loadedAt:Date.now(),matches:wr,pendingMatches:void 0,cachedMatches:[...br.cachedMatches,..._r.filter(Mr=>Mr.status!=="error")]}}),this.clearExpiredCache()}),[[_r,"onLeave"],[yr,"onEnter"],[vr,"onStay"]].forEach(([br,Sr])=>{br.forEach(wr=>{var Mr,kr;(kr=(Mr=this.looseRoutesById[wr.routeId].options)[Sr])==null||kr.call(Mr,wr)})})})}})}catch(gr){isRedirect(gr)?(lr=gr,this.isServer||this.navigate({...lr.options,replace:!0,ignoreBlocker:!0})):isNotFound(gr)&&(dr=gr),this.__store.setState(xr=>({...xr,statusCode:lr?lr.status:dr?404:xr.matches.some(_r=>_r.status==="error")?500:200,redirect:lr}))}this.latestLoadPromise===fr&&((hr=this.commitLocationPromise)==null||hr.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),mr()})}),this.latestLoadPromise=fr,await fr;this.latestLoadPromise&&fr!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(mr=>({...mr,statusCode:404}))},this.startViewTransition=ir=>{const lr=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,lr&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let dr;if(typeof lr=="object"&&this.isViewTransitionTypesSupported){const fr=this.latestLocation,mr=this.state.resolvedLocation,hr=typeof lr.types=="function"?lr.types(getLocationChangeInfo({resolvedLocation:mr,location:fr})):lr.types;dr={update:ir,types:hr}}else dr=ir;document.startViewTransition(dr)}else ir()},this.updateMatch=(ir,lr)=>{var dr;let fr;const mr=(dr=this.state.pendingMatches)==null?void 0:dr.find(_r=>_r.id===ir),hr=this.state.matches.find(_r=>_r.id===ir),gr=this.state.cachedMatches.find(_r=>_r.id===ir),xr=mr?"pendingMatches":hr?"matches":gr?"cachedMatches":"";return xr&&this.__store.setState(_r=>{var yr;return{..._r,[xr]:(yr=_r[xr])==null?void 0:yr.map(vr=>vr.id===ir?fr=lr(vr):vr)}}),fr},this.getMatch=ir=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(lr=>lr.id===ir),this.loadMatches=async({location:ir,matches:lr,preload:dr,onReady:fr,updateMatch:mr=this.updateMatch,sync:hr})=>{let gr,xr=!1;const _r=async()=>{xr||(xr=!0,await fr?.())},yr=br=>!!(dr&&!this.state.matches.find(Sr=>Sr.id===br)),vr=(br,Sr)=>{var wr,Mr,kr,Ar;if(isRedirect(Sr)||isNotFound(Sr)){if(isRedirect(Sr)&&Sr.redirectHandled&&!Sr.options.reloadDocument)throw Sr;if((wr=br.beforeLoadPromise)==null||wr.resolve(),(Mr=br.loaderPromise)==null||Mr.resolve(),mr(br.id,Ir=>({...Ir,status:isRedirect(Sr)?"redirected":isNotFound(Sr)?"notFound":"error",isFetching:!1,error:Sr,beforeLoadPromise:void 0,loaderPromise:void 0})),Sr.routeId||(Sr.routeId=br.routeId),(kr=br.loadPromise)==null||kr.resolve(),isRedirect(Sr))throw xr=!0,Sr.options._fromLocation=ir,Sr.redirectHandled=!0,Sr=this.resolveRedirect(Sr),Sr;if(isNotFound(Sr))throw this._handleNotFound(lr,Sr,{updateMatch:mr}),(Ar=this.serverSsr)==null||Ar.onMatchSettled({router:this,match:this.getMatch(br.id)}),Sr}};try{await new Promise((br,Sr)=>{(async()=>{var wr,Mr,kr,Ar;try{const Ir=(Or,Fr,Lr)=>{var zr,Gr;const{id:Jr,routeId:Yn}=lr[Or],Jn=this.looseRoutesById[Yn];if(Fr instanceof Promise)throw Fr;Fr.routerCode=Lr,gr=gr??Or,vr(this.getMatch(Jr),Fr);try{(Gr=(zr=Jn.options).onError)==null||Gr.call(zr,Fr)}catch(Zn){Fr=Zn,vr(this.getMatch(Jr),Fr)}mr(Jr,Zn=>{var Hn,Kn;return(Hn=Zn.beforeLoadPromise)==null||Hn.resolve(),(Kn=Zn.loadPromise)==null||Kn.resolve(),{...Zn,error:Fr,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[Or,{id:Fr,routeId:Lr}]of lr.entries()){const zr=this.getMatch(Fr),Gr=(wr=lr[Or-1])==null?void 0:wr.id,Jr=this.looseRoutesById[Lr],Yn=Jr.options.pendingMs??this.options.defaultPendingMs,Jn=!!(fr&&!this.isServer&&!yr(Fr)&&(Jr.options.loader||Jr.options.beforeLoad||routeNeedsPreload(Jr))&&typeof Yn=="number"&&Yn!==1/0&&(Jr.options.pendingComponent??((Mr=this.options)==null?void 0:Mr.defaultPendingComponent)));let Zn=!0;if(zr.beforeLoadPromise||zr.loaderPromise){Jn&&setTimeout(()=>{try{_r()}catch{}},Yn),await zr.beforeLoadPromise;const Hn=this.getMatch(Fr);Hn.status==="error"?Zn=!0:Hn.preload&&(Hn.status==="redirected"||Hn.status==="notFound")&&vr(Hn,Hn.error)}if(Zn){try{mr(Fr,us=>{const hs=us.loadPromise;return{...us,loadPromise:createControlledPromise(()=>{hs?.resolve()}),beforeLoadPromise:createControlledPromise()}});const Hn=new AbortController;let Kn;Jn&&(Kn=setTimeout(()=>{try{_r()}catch{}},Yn));const{paramsError:qn,searchError:Qr}=this.getMatch(Fr);qn&&Ir(Or,qn,"PARSE_PARAMS"),Qr&&Ir(Or,Qr,"VALIDATE_SEARCH");const $n=()=>Gr?this.getMatch(Gr).context:this.options.context??{};mr(Fr,us=>({...us,isFetching:"beforeLoad",fetchCount:us.fetchCount+1,abortController:Hn,pendingTimeout:Kn,context:{...$n(),...us.__routeContext}}));const{search:es,params:Xn,context:rs,cause:ns}=this.getMatch(Fr),ls=yr(Fr),ss={search:es,abortController:Hn,params:Xn,preload:ls,context:rs,location:ir,navigate:us=>this.navigate({...us,_fromLocation:ir}),buildLocation:this.buildLocation,cause:ls?"preload":ns,matches:lr},as=await((Ar=(kr=Jr.options).beforeLoad)==null?void 0:Ar.call(kr,ss))??{};(isRedirect(as)||isNotFound(as))&&Ir(Or,as,"BEFORE_LOAD"),mr(Fr,us=>({...us,__beforeLoadContext:as,context:{...$n(),...us.__routeContext,...as},abortController:Hn}))}catch(Hn){Ir(Or,Hn,"BEFORE_LOAD")}mr(Fr,Hn=>{var Kn;return(Kn=Hn.beforeLoadPromise)==null||Kn.resolve(),{...Hn,beforeLoadPromise:void 0,isFetching:!1}})}}const $r=lr.slice(0,gr),Dr=[];$r.forEach(({id:Or,routeId:Fr},Lr)=>{Dr.push((async()=>{let zr=!1,Gr=!1;const Jr=this.getMatch(Or);if(Jr.loaderPromise){if(Jr.status==="success"&&!hr&&!Jr.preload)return this.getMatch(Or);await Jr.loaderPromise;const Yn=this.getMatch(Or);Yn.error&&vr(Yn,Yn.error)}else{const Yn=Dr[Lr-1],Jn=this.looseRoutesById[Fr],Zn=()=>{const{params:ls,loaderDeps:ss,abortController:as,context:us,cause:hs}=this.getMatch(Or),gs=yr(Or);return{params:ls,deps:ss,preload:!!gs,parentMatchPromise:Yn,abortController:as,context:us,location:ir,navigate:xs=>this.navigate({...xs,_fromLocation:ir}),cause:gs?"preload":hs,route:Jn}},Hn=Date.now()-this.getMatch(Or).updatedAt,Kn=yr(Or),qn=Kn?Jn.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:Jn.options.staleTime??this.options.defaultStaleTime??0,Qr=Jn.options.shouldReload,$n=typeof Qr=="function"?Qr(Zn()):Qr;mr(Or,ls=>({...ls,loaderPromise:createControlledPromise(),preload:!!Kn&&!this.state.matches.find(ss=>ss.id===Or)}));const es=async()=>{var ls,ss,as,us,hs,gs;const xs=this.getMatch(Or);if(!xs)return;const ms={matches:lr,match:xs,params:xs.params,loaderData:xs.loaderData},_s=await((ss=(ls=Jn.options).head)==null?void 0:ss.call(ls,ms)),Es=_s?.meta,vs=_s?.links,ws=_s?.scripts,Rs=_s?.styles,Ss=await((us=(as=Jn.options).scripts)==null?void 0:us.call(as,ms)),ps=await((gs=(hs=Jn.options).headers)==null?void 0:gs.call(hs,ms));return{meta:Es,links:vs,headScripts:ws,headers:ps,scripts:Ss,styles:Rs}},Xn=async()=>{var ls,ss,as,us,hs;try{const gs=async()=>{const xs=this.getMatch(Or);xs.minPendingPromise&&await xs.minPendingPromise};try{this.loadRouteChunk(Jn),mr(Or,_s=>({..._s,isFetching:"loader"}));const xs=await((ss=(ls=Jn.options).loader)==null?void 0:ss.call(ls,Zn()));vr(this.getMatch(Or),xs),await Jn._lazyPromise,await gs(),await Jn._componentsPromise,mr(Or,_s=>({..._s,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:xs}));const ms=await es();mr(Or,_s=>({..._s,...ms}))}catch(xs){let ms=xs;await gs(),vr(this.getMatch(Or),xs);try{(us=(as=Jn.options).onError)==null||us.call(as,xs)}catch(Es){ms=Es,vr(this.getMatch(Or),Es)}const _s=await es();mr(Or,Es=>({...Es,error:ms,status:"error",isFetching:!1,..._s}))}(hs=this.serverSsr)==null||hs.onMatchSettled({router:this,match:this.getMatch(Or)})}catch(gs){const xs=await es();mr(Or,ms=>({...ms,loaderPromise:void 0,...xs})),vr(this.getMatch(Or),gs)}},{status:rs,invalid:ns}=this.getMatch(Or);if(zr=rs==="success"&&(ns||($n??Hn>qn)),!(Kn&&Jn.options.preload===!1))if(zr&&!hr)Gr=!0,(async()=>{try{await Xn();const{loaderPromise:ls,loadPromise:ss}=this.getMatch(Or);ls?.resolve(),ss?.resolve(),mr(Or,as=>({...as,loaderPromise:void 0}))}catch(ls){isRedirect(ls)&&await this.navigate(ls.options)}})();else if(rs!=="success"||zr&&hr)await Xn();else{const ls=await es();mr(Or,ss=>({...ss,...ls}))}}if(!Gr){const{loaderPromise:Yn,loadPromise:Jn}=this.getMatch(Or);Yn?.resolve(),Jn?.resolve()}return mr(Or,Yn=>({...Yn,isFetching:Gr?Yn.isFetching:!1,loaderPromise:Gr?Yn.loaderPromise:void 0,invalid:!1})),this.getMatch(Or)})())}),await Promise.all(Dr),br()}catch(Ir){Sr(Ir)}})()}),await _r()}catch(br){if(isRedirect(br)||isNotFound(br))throw isNotFound(br)&&!dr&&await _r(),br}return lr},this.invalidate=ir=>{const lr=dr=>{var fr;return((fr=ir?.filter)==null?void 0:fr.call(ir,dr))??!0?{...dr,invalid:!0,...ir?.forcePending||dr.status==="error"?{status:"pending",error:void 0}:{}}:dr};return this.__store.setState(dr=>{var fr;return{...dr,matches:dr.matches.map(lr),cachedMatches:dr.cachedMatches.map(lr),pendingMatches:(fr=dr.pendingMatches)==null?void 0:fr.map(lr)}}),this.shouldViewTransition=!1,this.load({sync:ir?.sync})},this.resolveRedirect=ir=>(ir.options.href||(ir.options.href=this.buildLocation(ir.options).href,ir.headers.set("Location",ir.options.href)),ir.headers.get("Location")||ir.headers.set("Location",ir.options.href),ir),this.clearCache=ir=>{const lr=ir?.filter;lr!==void 0?this.__store.setState(dr=>({...dr,cachedMatches:dr.cachedMatches.filter(fr=>!lr(fr))})):this.__store.setState(dr=>({...dr,cachedMatches:[]}))},this.clearExpiredCache=()=>{const ir=lr=>{const dr=this.looseRoutesById[lr.routeId];if(!dr.options.loader)return!0;const fr=(lr.preload?dr.options.preloadGcTime??this.options.defaultPreloadGcTime:dr.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(lr.status!=="error"&&Date.now()-lr.updatedAt<fr)};this.clearCache({filter:ir})},this.loadRouteChunk=ir=>(ir._lazyPromise===void 0&&(ir.lazyFn?ir._lazyPromise=ir.lazyFn().then(lr=>{const{id:dr,...fr}=lr.options;Object.assign(ir.options,fr)}):ir._lazyPromise=Promise.resolve()),ir._componentsPromise===void 0&&(ir._componentsPromise=ir._lazyPromise.then(()=>Promise.all(componentTypes.map(async lr=>{const dr=ir.options[lr];dr?.preload&&await dr.preload()})))),ir._componentsPromise),this.preloadRoute=async ir=>{const lr=this.buildLocation(ir);let dr=this.matchRoutes(lr,{throwOnError:!0,preload:!0,dest:ir});const fr=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(hr=>hr.id)),mr=new Set([...fr,...this.state.cachedMatches.map(hr=>hr.id)]);batch(()=>{dr.forEach(hr=>{mr.has(hr.id)||this.__store.setState(gr=>({...gr,cachedMatches:[...gr.cachedMatches,hr]}))})});try{return dr=await this.loadMatches({matches:dr,location:lr,preload:!0,updateMatch:(hr,gr)=>{fr.has(hr)?dr=dr.map(xr=>xr.id===hr?gr(xr):xr):this.updateMatch(hr,gr)}}),dr}catch(hr){if(isRedirect(hr))return hr.options.reloadDocument?void 0:await this.preloadRoute({...hr.options,_fromLocation:lr});isNotFound(hr)||console.error(hr);return}},this.matchRoute=(ir,lr)=>{const dr={...ir,to:ir.to?this.resolvePathWithBase(ir.from||"",ir.to):void 0,params:ir.params||{},leaveParams:!0},fr=this.buildLocation(dr);if(lr?.pending&&this.state.status!=="pending")return!1;const hr=(lr?.pending===void 0?!this.state.isLoading:lr.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,gr=matchPathname(this.basepath,hr.pathname,{...lr,to:fr.pathname});return!gr||ir.params&&!deepEqual$2(gr,ir.params,{partial:!0})?!1:gr&&(lr?.includeSearch??!0)?deepEqual$2(hr.search,fr.search,{partial:!0})?gr:!1:gr},this._handleNotFound=(ir,lr,{updateMatch:dr=this.updateMatch}={})=>{var fr;const mr=this.routesById[lr.routeId??""]??this.routeTree,hr={};for(const xr of ir)hr[xr.routeId]=xr;!mr.options.notFoundComponent&&((fr=this.options)!=null&&fr.defaultNotFoundComponent)&&(mr.options.notFoundComponent=this.options.defaultNotFoundComponent),invariant(mr.options.notFoundComponent);const gr=hr[mr.id];invariant(gr,"Could not find match for route: "+mr.id),dr(gr.id,xr=>({...xr,status:"notFound",error:lr,isFetching:!1})),lr.routerCode==="BEFORE_LOAD"&&mr.parentRoute&&(lr.routeId=mr.parentRoute.id,this._handleNotFound(ir,lr,{updateMatch:dr}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(ir=>ir.status==="notFound"||ir.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...rr,caseSensitive:rr.caseSensitive??!1,notFoundMode:rr.notFoundMode??"fuzzy",stringifySearch:rr.stringifySearch??defaultStringifySearch,parseSearch:rr.parseSearch??defaultParseSearch}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(rr,ir){var lr;const{foundRoute:dr,matchedRoutes:fr,routeParams:mr}=this.getMatchedRoutes(rr.pathname,(lr=ir?.dest)==null?void 0:lr.to);let hr=!1;(dr?dr.path!=="/"&&mr["**"]:trimPathRight(rr.pathname))&&(this.options.notFoundRoute?fr.push(this.options.notFoundRoute):hr=!0);const gr=(()=>{if(hr){if(this.options.notFoundMode!=="root")for(let vr=fr.length-1;vr>=0;vr--){const br=fr[vr];if(br.children)return br.id}return rootRouteId}})(),xr=fr.map(vr=>{var br;let Sr;const wr=((br=vr.options.params)==null?void 0:br.parse)??vr.options.parseParams;if(wr)try{const Mr=wr(mr);Object.assign(mr,Mr)}catch(Mr){if(Sr=new PathParamError(Mr.message,{cause:Mr}),ir?.throwOnError)throw Sr;return Sr}}),_r=[],yr=vr=>vr?.id?vr.context??this.options.context??{}:this.options.context??{};return fr.forEach((vr,br)=>{var Sr,wr;const Mr=_r[br-1],[kr,Ar,Ir]=(()=>{const Zn=Mr?.search??rr.search,Hn=Mr?._strictSearch??{};try{const Kn=validateSearch(vr.options.validateSearch,{...Zn})??{};return[{...Zn,...Kn},{...Hn,...Kn},void 0]}catch(Kn){let qn=Kn;if(Kn instanceof SearchParamError||(qn=new SearchParamError(Kn.message,{cause:Kn})),ir?.throwOnError)throw qn;return[Zn,{},qn]}})(),$r=((wr=(Sr=vr.options).loaderDeps)==null?void 0:wr.call(Sr,{search:kr}))??"",Dr=$r?JSON.stringify($r):"",{usedParams:Or,interpolatedPath:Fr}=interpolatePath({path:vr.fullPath,params:mr,decodeCharMap:this.pathParamsDecodeCharMap}),Lr=interpolatePath({path:vr.id,params:mr,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+Dr,zr=this.getMatch(Lr),Gr=this.state.matches.find(Zn=>Zn.routeId===vr.id),Jr=Gr?"stay":"enter";let Yn;if(zr)Yn={...zr,cause:Jr,params:Gr?replaceEqualDeep(Gr.params,mr):mr,_strictParams:Or,search:replaceEqualDeep(Gr?Gr.search:zr.search,kr),_strictSearch:Ar};else{const Zn=vr.options.loader||vr.options.beforeLoad||vr.lazyFn||routeNeedsPreload(vr)?"pending":"success";Yn={id:Lr,index:br,routeId:vr.id,params:Gr?replaceEqualDeep(Gr.params,mr):mr,_strictParams:Or,pathname:joinPaths([this.basepath,Fr]),updatedAt:Date.now(),search:Gr?replaceEqualDeep(Gr.search,kr):kr,_strictSearch:Ar,searchError:void 0,status:Zn,isFetching:!1,error:void 0,paramsError:xr[br],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:Jr,loaderDeps:Gr?replaceEqualDeep(Gr.loaderDeps,$r):$r,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:vr.options.staticData||{},loadPromise:createControlledPromise(),fullPath:vr.fullPath}}ir?.preload||(Yn.globalNotFound=gr===vr.id),Yn.searchError=Ir;const Jn=yr(Mr);Yn.context={...Jn,...Yn.__routeContext,...Yn.__beforeLoadContext},_r.push(Yn)}),_r.forEach((vr,br)=>{var Sr,wr;const Mr=this.looseRoutesById[vr.routeId];if(!this.getMatch(vr.id)&&ir?._buildLocation!==!0){const Ar=_r[br-1],Ir=yr(Ar),$r={deps:vr.loaderDeps,params:vr.params,context:Ir,location:rr,navigate:Dr=>this.navigate({...Dr,_fromLocation:rr}),buildLocation:this.buildLocation,cause:vr.cause,abortController:vr.abortController,preload:!!vr.preload,matches:_r};vr.__routeContext=((wr=(Sr=Mr.options).context)==null?void 0:wr.call(Sr,$r))??{},vr.context={...Ir,...vr.__routeContext,...vr.__beforeLoadContext}}}),_r}}class SearchParamError extends Error{}class PathParamError extends Error{}function getInitialRouterState(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function validateSearch(e,rr){if(e==null)return{};if("~standard"in e){const ir=e["~standard"].validate(rr);if(ir instanceof Promise)throw new SearchParamError("Async validation not supported");if(ir.issues)throw new SearchParamError(JSON.stringify(ir.issues,void 0,2),{cause:ir});return ir.value}return"parse"in e?e.parse(rr):typeof e=="function"?e(rr):{}}const componentTypes=["component","errorComponent","pendingComponent","notFoundComponent"];function routeNeedsPreload(e){var rr;for(const ir of componentTypes)if((rr=e.options[ir])!=null&&rr.preload)return!0;return!1}function processRouteTree({routeTree:e,initRoute:rr}){const ir={},lr={},dr=gr=>{gr.forEach((xr,_r)=>{rr?.(xr,_r);const yr=ir[xr.id];if(invariant(!yr,`Duplicate routes found with id: ${String(xr.id)}`),ir[xr.id]=xr,!xr.isRoot&&xr.path){const br=trimPathRight(xr.fullPath);(!lr[br]||xr.fullPath.endsWith("/"))&&(lr[br]=xr)}const vr=xr.children;vr?.length&&dr(vr)})};dr([e]);const fr=[];Object.values(ir).forEach((gr,xr)=>{var _r;if(gr.isRoot||!gr.path)return;const yr=trimPathLeft(gr.fullPath),vr=parsePathname(yr);for(;vr.length>1&&((_r=vr[0])==null?void 0:_r.value)==="/";)vr.shift();const br=vr.map(Sr=>Sr.value==="/"?.75:Sr.type==="param"&&Sr.prefixSegment&&Sr.suffixSegment?.55:Sr.type==="param"&&Sr.prefixSegment?.52:Sr.type==="param"&&Sr.suffixSegment?.51:Sr.type==="param"?.5:Sr.type==="wildcard"&&Sr.prefixSegment&&Sr.suffixSegment?.3:Sr.type==="wildcard"&&Sr.prefixSegment?.27:Sr.type==="wildcard"&&Sr.suffixSegment?.26:Sr.type==="wildcard"?.25:1);fr.push({child:gr,trimmed:yr,parsed:vr,index:xr,scores:br})});const hr=fr.sort((gr,xr)=>{const _r=Math.min(gr.scores.length,xr.scores.length);for(let yr=0;yr<_r;yr++)if(gr.scores[yr]!==xr.scores[yr])return xr.scores[yr]-gr.scores[yr];if(gr.scores.length!==xr.scores.length)return xr.scores.length-gr.scores.length;for(let yr=0;yr<_r;yr++)if(gr.parsed[yr].value!==xr.parsed[yr].value)return gr.parsed[yr].value>xr.parsed[yr].value?1:-1;return gr.index-xr.index}).map((gr,xr)=>(gr.child.rank=xr,gr.child));return{routesById:ir,routesByPath:lr,flatRoutes:hr}}function getMatchedRoutes({pathname:e,routePathname:rr,basepath:ir,caseSensitive:lr,routesByPath:dr,routesById:fr,flatRoutes:mr}){let hr={};const gr=trimPathRight(e),xr=br=>{var Sr;return matchPathname(ir,gr,{to:br.fullPath,caseSensitive:((Sr=br.options)==null?void 0:Sr.caseSensitive)??lr,fuzzy:!0})};let _r=rr!==void 0?dr[rr]:void 0;_r?hr=xr(_r):_r=mr.find(br=>{const Sr=xr(br);return Sr?(hr=Sr,!0):!1});let yr=_r||fr[rootRouteId];const vr=[yr];for(;yr.parentRoute;)yr=yr.parentRoute,vr.unshift(yr);return{matchedRoutes:vr,routeParams:hr,foundRoute:_r}}function applySearchMiddleware({search:e,dest:rr,destRoutes:ir,_includeValidateSearch:lr}){const dr=ir.reduce((hr,gr)=>{var xr;const _r=[];if("search"in gr.options)(xr=gr.options.search)!=null&&xr.middlewares&&_r.push(...gr.options.search.middlewares);else if(gr.options.preSearchFilters||gr.options.postSearchFilters){const yr=({search:vr,next:br})=>{let Sr=vr;"preSearchFilters"in gr.options&&gr.options.preSearchFilters&&(Sr=gr.options.preSearchFilters.reduce((Mr,kr)=>kr(Mr),vr));const wr=br(Sr);return"postSearchFilters"in gr.options&&gr.options.postSearchFilters?gr.options.postSearchFilters.reduce((Mr,kr)=>kr(Mr),wr):wr};_r.push(yr)}if(lr&&gr.options.validateSearch){const yr=({search:vr,next:br})=>{const Sr=br(vr);try{return{...Sr,...validateSearch(gr.options.validateSearch,Sr)??{}}}catch{return Sr}};_r.push(yr)}return hr.concat(_r)},[])??[],fr=({search:hr})=>rr.search?rr.search===!0?hr:functionalUpdate(rr.search,hr):{};dr.push(fr);const mr=(hr,gr)=>{if(hr>=dr.length)return gr;const xr=dr[hr];return xr({search:gr,next:yr=>mr(hr+1,yr)})};return mr(0,e)}const preloadWarning="Error preloading route! ";class BaseRoute{constructor(rr){if(this.init=ir=>{var lr,dr;this.originalIndex=ir.originalIndex;const fr=this.options,mr=!fr?.path&&!fr?.id;this.parentRoute=(dr=(lr=this.options).getParentRoute)==null?void 0:dr.call(lr),mr?this._path=rootRouteId:this.parentRoute||invariant(!1);let hr=mr?rootRouteId:fr?.path;hr&&hr!=="/"&&(hr=trimPathLeft(hr));const gr=fr?.id||hr;let xr=mr?rootRouteId:joinPaths([this.parentRoute.id===rootRouteId?"":this.parentRoute.id,gr]);hr===rootRouteId&&(hr="/"),xr!==rootRouteId&&(xr=joinPaths(["/",xr]));const _r=xr===rootRouteId?"/":joinPaths([this.parentRoute.fullPath,hr]);this._path=hr,this._id=xr,this._fullPath=_r,this._to=_r,this._ssr=fr?.ssr??ir.defaultSsr??!0},this.clone=ir=>{this._path=ir._path,this._id=ir._id,this._fullPath=ir._fullPath,this._to=ir._to,this._ssr=ir._ssr,this.options.getParentRoute=ir.options.getParentRoute,this.children=ir.children},this.addChildren=ir=>this._addFileChildren(ir),this._addFileChildren=ir=>(Array.isArray(ir)&&(this.children=ir),typeof ir=="object"&&ir!==null&&(this.children=Object.values(ir)),this),this._addFileTypes=()=>this,this.updateLoader=ir=>(Object.assign(this.options,ir),this),this.update=ir=>(Object.assign(this.options,ir),this),this.lazy=ir=>(this.lazyFn=ir,this),this.options=rr||{},this.isRoot=!rr?.getParentRoute,rr?.id&&rr?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class BaseRootRoute extends BaseRoute{constructor(rr){super(rr)}}function CatchBoundary(e){const rr=e.errorComponent??ErrorComponent;return jsxRuntimeExports.jsx(CatchBoundaryImpl,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:ir,reset:lr})=>ir?reactExports.createElement(rr,{error:ir,reset:lr}):e.children})}class CatchBoundaryImpl extends reactExports.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(rr){return{resetKey:rr.getResetKey()}}static getDerivedStateFromError(rr){return{error:rr}}reset(){this.setState({error:null})}componentDidUpdate(rr,ir){ir.error&&ir.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(rr,ir){this.props.onCatch&&this.props.onCatch(rr,ir)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ErrorComponent({error:e}){const[rr,ir]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[jsxRuntimeExports.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),jsxRuntimeExports.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>ir(lr=>!lr),children:rr?"Hide Error":"Show Error"})]}),jsxRuntimeExports.jsx("div",{style:{height:".25rem"}}),rr?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?jsxRuntimeExports.jsx("code",{children:e.message}):null})}):null]})}var withSelector$1={exports:{}},withSelector_production={},shim$3={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React$1=reactExports;function is$1(e,rr){return e===rr&&(e!==0||1/e===1/rr)||e!==e&&rr!==rr}var objectIs$1=typeof Object.is=="function"?Object.is:is$1,useState=React$1.useState,useEffect$1=React$1.useEffect,useLayoutEffect$1=React$1.useLayoutEffect,useDebugValue$1=React$1.useDebugValue;function useSyncExternalStore$2(e,rr){var ir=rr(),lr=useState({inst:{value:ir,getSnapshot:rr}}),dr=lr[0].inst,fr=lr[1];return useLayoutEffect$1(function(){dr.value=ir,dr.getSnapshot=rr,checkIfSnapshotChanged(dr)&&fr({inst:dr})},[e,ir,rr]),useEffect$1(function(){return checkIfSnapshotChanged(dr)&&fr({inst:dr}),e(function(){checkIfSnapshotChanged(dr)&&fr({inst:dr})})},[e]),useDebugValue$1(ir),ir}function checkIfSnapshotChanged(e){var rr=e.getSnapshot;e=e.value;try{var ir=rr();return!objectIs$1(e,ir)}catch{return!0}}function useSyncExternalStore$1(e,rr){return rr()}var shim$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?useSyncExternalStore$1:useSyncExternalStore$2;useSyncExternalStoreShim_production.useSyncExternalStore=React$1.useSyncExternalStore!==void 0?React$1.useSyncExternalStore:shim$2;shim$3.exports=useSyncExternalStoreShim_production;var shimExports$1=shim$3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports,shim$1=shimExports$1;function is(e,rr){return e===rr&&(e!==0||1/e===1/rr)||e!==e&&rr!==rr}var objectIs=typeof Object.is=="function"?Object.is:is,useSyncExternalStore=shim$1.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;withSelector_production.useSyncExternalStoreWithSelector=function(e,rr,ir,lr,dr){var fr=useRef(null);if(fr.current===null){var mr={hasValue:!1,value:null};fr.current=mr}else mr=fr.current;fr=useMemo(function(){function gr(br){if(!xr){if(xr=!0,_r=br,br=lr(br),dr!==void 0&&mr.hasValue){var Sr=mr.value;if(dr(Sr,br))return yr=Sr}return yr=br}if(Sr=yr,objectIs(_r,br))return Sr;var wr=lr(br);return dr!==void 0&&dr(Sr,wr)?(_r=br,Sr):(_r=br,yr=wr)}var xr=!1,_r,yr,vr=ir===void 0?null:ir;return[function(){return gr(rr())},vr===null?void 0:function(){return gr(vr())}]},[rr,ir,lr,dr]);var hr=useSyncExternalStore(e,fr[0],fr[1]);return useEffect(function(){mr.hasValue=!0,mr.value=hr},[hr]),useDebugValue(hr),hr};withSelector$1.exports=withSelector_production;var withSelectorExports$1=withSelector$1.exports;function useStore$2(e,rr=ir=>ir){return withSelectorExports$1.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,rr,shallow)}function shallow(e,rr){if(Object.is(e,rr))return!0;if(typeof e!="object"||e===null||typeof rr!="object"||rr===null)return!1;if(e instanceof Map&&rr instanceof Map){if(e.size!==rr.size)return!1;for(const[lr,dr]of e)if(!rr.has(lr)||!Object.is(dr,rr.get(lr)))return!1;return!0}if(e instanceof Set&&rr instanceof Set){if(e.size!==rr.size)return!1;for(const lr of e)if(!rr.has(lr))return!1;return!0}const ir=Object.keys(e);if(ir.length!==Object.keys(rr).length)return!1;for(let lr=0;lr<ir.length;lr++)if(!Object.prototype.hasOwnProperty.call(rr,ir[lr])||!Object.is(e[ir[lr]],rr[ir[lr]]))return!1;return!0}const routerContext=reactExports.createContext(null);function getRouterContext(){return typeof document>"u"?routerContext:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=routerContext,routerContext)}function useRouter(e){const rr=reactExports.useContext(getRouterContext());return e?.warn,rr}function useRouterState(e){const rr=useRouter({warn:e?.router===void 0}),ir=e?.router||rr,lr=reactExports.useRef(void 0);return useStore$2(ir.__store,dr=>{if(e?.select){if(e.structuralSharing??ir.options.defaultStructuralSharing){const fr=replaceEqualDeep(lr.current,e.select(dr));return lr.current=fr,fr}return e.select(dr)}return dr})}const matchContext=reactExports.createContext(void 0),dummyMatchContext=reactExports.createContext(void 0);function useMatch(e){const rr=reactExports.useContext(e.from?dummyMatchContext:matchContext);return useRouterState({select:lr=>{const dr=lr.matches.find(fr=>e.from?e.from===fr.routeId:fr.id===rr);if(invariant(!((e.shouldThrow??!0)&&!dr),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),dr!==void 0)return e.select?e.select(dr):dr},structuralSharing:e.structuralSharing})}function useLoaderData(e){return useMatch({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:rr=>e.select?e.select(rr.loaderData):rr.loaderData})}function useLoaderDeps(e){const{select:rr,...ir}=e;return useMatch({...ir,select:lr=>rr?rr(lr.loaderDeps):lr.loaderDeps})}function useParams(e){return useMatch({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:rr=>e.select?e.select(rr.params):rr.params})}function useSearch(e){return useMatch({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,structuralSharing:e.structuralSharing,select:rr=>e.select?e.select(rr.search):rr.search})}function useNavigate(e){const{navigate:rr,state:ir}=useRouter(),lr=useMatch({strict:!1,select:dr=>dr.index});return reactExports.useCallback(dr=>{const fr=dr.from??e?.from??ir.matches[lr].fullPath;return rr({...dr,from:fr})},[e?.from,rr])}const useLayoutEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function usePrevious$2(e){const rr=reactExports.useRef({value:e,prev:null}),ir=rr.current.value;return e!==ir&&(rr.current={value:e,prev:ir}),rr.current.prev}function useIntersectionObserver(e,rr,ir={},lr={}){const dr=reactExports.useRef(typeof IntersectionObserver=="function"),fr=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!(!e.current||!dr.current||lr.disabled))return fr.current=new IntersectionObserver(([mr])=>{rr(mr)},ir),fr.current.observe(e.current),()=>{var mr;(mr=fr.current)==null||mr.disconnect()}},[rr,ir,lr.disabled,e]),fr.current}function useForwardedRef(e){const rr=reactExports.useRef(null);return reactExports.useImperativeHandle(e,()=>rr.current,[]),rr}function useLinkProps(e,rr){const ir=useRouter(),[lr,dr]=reactExports.useState(!1),fr=reactExports.useRef(!1),mr=useForwardedRef(rr),{activeProps:hr=()=>({className:"active"}),inactiveProps:gr=()=>({}),activeOptions:xr,to:_r,preload:yr,preloadDelay:vr,hashScrollIntoView:br,replace:Sr,startTransition:wr,resetScroll:Mr,viewTransition:kr,children:Ar,target:Ir,disabled:$r,style:Dr,className:Or,onClick:Fr,onFocus:Lr,onMouseEnter:zr,onMouseLeave:Gr,onTouchStart:Jr,ignoreBlocker:Yn,...Jn}=e,{params:Zn,search:Hn,hash:Kn,state:qn,mask:Qr,reloadDocument:$n,unsafeRelative:es,...Xn}=Jn,rs=reactExports.useMemo(()=>{try{return new URL(`${_r}`),"external"}catch{}return"internal"},[_r]),ns=useRouterState({select:ds=>ds.location.search,structuralSharing:!0}),ls=useMatch({strict:!1,select:ds=>ds.fullPath}),ss=e.from??ls;e={...e,from:ss};const as=reactExports.useMemo(()=>ir.buildLocation(e),[ir,e,ns]),us=reactExports.useMemo(()=>e.reloadDocument?!1:yr??ir.options.defaultPreload,[ir.options.defaultPreload,yr,e.reloadDocument]),hs=vr??ir.options.defaultPreloadDelay??0,gs=useRouterState({select:ds=>{if(xr?.exact){if(!exactPathTest(ds.location.pathname,as.pathname,ir.basepath))return!1}else{const ks=removeTrailingSlash(ds.location.pathname,ir.basepath).split("/");if(!removeTrailingSlash(as.pathname,ir.basepath).split("/").every((Ts,Ps)=>Ts===ks[Ps]))return!1}return(xr?.includeSearch??!0)&&!deepEqual$2(ds.location.search,as.search,{partial:!xr?.exact,ignoreUndefined:!xr?.explicitUndefined})?!1:xr?.includeHash?ds.location.hash===as.hash:!0}}),xs=reactExports.useCallback(()=>{ir.preloadRoute(e).catch(ds=>{console.warn(ds),console.warn(preloadWarning)})},[e,ir]),ms=reactExports.useCallback(ds=>{ds?.isIntersecting&&xs()},[xs]);if(useIntersectionObserver(mr,ms,{rootMargin:"100px"},{disabled:!!$r||us!=="viewport"}),useLayoutEffect(()=>{fr.current||!$r&&us==="render"&&(xs(),fr.current=!0)},[$r,xs,us]),rs==="external")return{...Xn,ref:mr,type:rs,href:_r,...Ar&&{children:Ar},...Ir&&{target:Ir},...$r&&{disabled:$r},...Dr&&{style:Dr},...Or&&{className:Or},...Fr&&{onClick:Fr},...Lr&&{onFocus:Lr},...zr&&{onMouseEnter:zr},...Gr&&{onMouseLeave:Gr},...Jr&&{onTouchStart:Jr}};const _s=ds=>{if(!$r&&!isCtrlEvent(ds)&&!ds.defaultPrevented&&(!Ir||Ir==="_self")&&ds.button===0){ds.preventDefault(),reactDomExports.flushSync(()=>{dr(!0)});const ks=ir.subscribe("onResolved",()=>{ks(),dr(!1)});return ir.navigate({...e,replace:Sr,resetScroll:Mr,hashScrollIntoView:br,startTransition:wr,viewTransition:kr,ignoreBlocker:Yn})}},Es=ds=>{$r||us&&xs()},vs=Es,ws=ds=>{if($r)return;const ks=ds.target||{};if(us){if(ks.preloadTimeout)return;hs?ks.preloadTimeout=setTimeout(()=>{ks.preloadTimeout=null,xs()},hs):xs()}},Rs=ds=>{if($r)return;const ks=ds.target||{};ks.preloadTimeout&&(clearTimeout(ks.preloadTimeout),ks.preloadTimeout=null)},Ss=ds=>ks=>{var cs;(cs=ks.persist)==null||cs.call(ks),ds.filter(Boolean).forEach(bs=>{ks.defaultPrevented||bs(ks)})},ps=gs?functionalUpdate(hr,{})??{}:{},ys=gs?{}:functionalUpdate(gr,{}),Cs=[Or,ps.className,ys.className].filter(Boolean).join(" "),Ms={...Dr,...ps.style,...ys.style};return{...Xn,...ps,...ys,href:$r?void 0:as.maskedLocation?ir.history.createHref(as.maskedLocation.href):ir.history.createHref(as.href),ref:mr,onClick:Ss([Fr,_s]),onFocus:Ss([Lr,Es]),onMouseEnter:Ss([zr,ws]),onMouseLeave:Ss([Gr,Rs]),onTouchStart:Ss([Jr,vs]),disabled:!!$r,target:Ir,...Object.keys(Ms).length&&{style:Ms},...Cs&&{className:Cs},...$r&&{role:"link","aria-disabled":!0},...gs&&{"data-status":"active","aria-current":"page"},...lr&&{"data-transitioning":"transitioning"}}}function createLink(e){return reactExports.forwardRef(function(ir,lr){return jsxRuntimeExports.jsx(Link$2,{...ir,_asChild:e,ref:lr})})}const Link$2=reactExports.forwardRef((e,rr)=>{const{_asChild:ir,...lr}=e,{type:dr,ref:fr,...mr}=useLinkProps(lr,rr),hr=typeof lr.children=="function"?lr.children({isActive:mr["data-status"]==="active"}):lr.children;return typeof ir>"u"&&delete mr.disabled,reactExports.createElement(ir||"a",{...mr,ref:fr},hr)});function isCtrlEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}let Route$h=class extends BaseRoute{constructor(rr){super(rr),this.useMatch=ir=>useMatch({select:ir?.select,from:this.id,structuralSharing:ir?.structuralSharing}),this.useRouteContext=ir=>useMatch({...ir,from:this.id,select:lr=>ir?.select?ir.select(lr.context):lr.context}),this.useSearch=ir=>useSearch({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.id}),this.useParams=ir=>useParams({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.id}),this.useLoaderDeps=ir=>useLoaderDeps({...ir,from:this.id}),this.useLoaderData=ir=>useLoaderData({...ir,from:this.id}),this.useNavigate=()=>useNavigate({from:this.fullPath}),this.Link=React$2.forwardRef((ir,lr)=>jsxRuntimeExports.jsx(Link$2,{ref:lr,from:this.fullPath,...ir})),this.$$typeof=Symbol.for("react.memo")}};function createRoute(e){return new Route$h(e)}function createRootRouteWithContext(){return e=>createRootRoute(e)}class RootRoute extends BaseRootRoute{constructor(rr){super(rr),this.useMatch=ir=>useMatch({select:ir?.select,from:this.id,structuralSharing:ir?.structuralSharing}),this.useRouteContext=ir=>useMatch({...ir,from:this.id,select:lr=>ir?.select?ir.select(lr.context):lr.context}),this.useSearch=ir=>useSearch({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.id}),this.useParams=ir=>useParams({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.id}),this.useLoaderDeps=ir=>useLoaderDeps({...ir,from:this.id}),this.useLoaderData=ir=>useLoaderData({...ir,from:this.id}),this.useNavigate=()=>useNavigate({from:this.fullPath}),this.Link=React$2.forwardRef((ir,lr)=>jsxRuntimeExports.jsx(Link$2,{ref:lr,from:this.fullPath,...ir})),this.$$typeof=Symbol.for("react.memo")}}function createRootRoute(e){return new RootRoute(e)}function createFileRoute(e){return typeof e=="object"?new FileRoute(e,{silent:!0}).createRoute(e):new FileRoute(e,{silent:!0}).createRoute}class FileRoute{constructor(rr,ir){this.path=rr,this.createRoute=lr=>{this.silent;const dr=createRoute(lr);return dr.isRoot=!1,dr},this.silent=ir?.silent}}class LazyRoute{constructor(rr){this.useMatch=ir=>useMatch({select:ir?.select,from:this.options.id,structuralSharing:ir?.structuralSharing}),this.useRouteContext=ir=>useMatch({from:this.options.id,select:lr=>ir?.select?ir.select(lr.context):lr.context}),this.useSearch=ir=>useSearch({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.options.id}),this.useParams=ir=>useParams({select:ir?.select,structuralSharing:ir?.structuralSharing,from:this.options.id}),this.useLoaderDeps=ir=>useLoaderDeps({...ir,from:this.options.id}),this.useLoaderData=ir=>useLoaderData({...ir,from:this.options.id}),this.useNavigate=()=>{const ir=useRouter();return useNavigate({from:ir.routesById[this.options.id].fullPath})},this.options=rr,this.$$typeof=Symbol.for("react.memo")}}function createLazyFileRoute(e){return typeof e=="object"?new LazyRoute(e):rr=>new LazyRoute({id:e,...rr})}function CatchNotFound(e){const rr=useRouterState({select:ir=>`not-found-${ir.location.pathname}-${ir.status}`});return jsxRuntimeExports.jsx(CatchBoundary,{getResetKey:()=>rr,onCatch:(ir,lr)=>{var dr;if(isNotFound(ir))(dr=e.onCatch)==null||dr.call(e,ir,lr);else throw ir},errorComponent:({error:ir})=>{var lr;if(isNotFound(ir))return(lr=e.fallback)==null?void 0:lr.call(e,ir);throw ir},children:e.children})}function DefaultGlobalNotFound(){return jsxRuntimeExports.jsx("p",{children:"Not Found"})}function SafeFragment(e){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e.children})}function renderRouteNotFound(e,rr,ir){return rr.options.notFoundComponent?jsxRuntimeExports.jsx(rr.options.notFoundComponent,{data:ir}):e.options.defaultNotFoundComponent?jsxRuntimeExports.jsx(e.options.defaultNotFoundComponent,{data:ir}):jsxRuntimeExports.jsx(DefaultGlobalNotFound,{})}const object={},hasOwnProperty$1=object.hasOwnProperty,forOwn=(e,rr)=>{for(const ir in e)hasOwnProperty$1.call(e,ir)&&rr(ir,e[ir])},extend=(e,rr)=>(rr&&forOwn(rr,(ir,lr)=>{e[ir]=lr}),e),forEach$1=(e,rr)=>{const ir=e.length;let lr=-1;for(;++lr<ir;)rr(e[lr])},fourHexEscape=e=>"\\u"+("0000"+e).slice(-4),hexadecimal=(e,rr)=>{let ir=e.toString(16);return rr?ir:ir.toUpperCase()},toString$2=object.toString,isArray=Array.isArray,isBuffer=e=>typeof Buffer=="function"&&Buffer.isBuffer(e),isObject$5=e=>toString$2.call(e)=="[object Object]",isString=e=>typeof e=="string"||toString$2.call(e)=="[object String]",isNumber$1=e=>typeof e=="number"||toString$2.call(e)=="[object Number]",isBigInt=e=>typeof e=="bigint",isFunction$2=e=>typeof e=="function",isMap=e=>toString$2.call(e)=="[object Map]",isSet=e=>toString$2.call(e)=="[object Set]",singleEscapes={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},regexSingleEscape=/[\\\b\f\n\r\t]/,regexDigit=/[0-9]/,regexWhitespace=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,escapeEverythingRegex=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,escapeNonAsciiRegex=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,jsesc=(e,rr)=>{const ir=()=>{xr=gr,++rr.indentLevel,gr=rr.indent.repeat(rr.indentLevel)},lr={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},dr=rr&&rr.json;dr&&(lr.quotes="double",lr.wrap=!0),rr=extend(lr,rr),rr.quotes!="single"&&rr.quotes!="double"&&rr.quotes!="backtick"&&(rr.quotes="single");const fr=rr.quotes=="double"?'"':rr.quotes=="backtick"?"`":"'",mr=rr.compact,hr=rr.lowercaseHex;let gr=rr.indent.repeat(rr.indentLevel),xr="";const _r=rr.__inline1__,yr=rr.__inline2__,vr=mr?"":`
`;let br,Sr=!0;const wr=rr.numbers=="binary",Mr=rr.numbers=="octal",kr=rr.numbers=="decimal",Ar=rr.numbers=="hexadecimal";if(dr&&e&&isFunction$2(e.toJSON)&&(e=e.toJSON()),!isString(e)){if(isMap(e))return e.size==0?"new Map()":(mr||(rr.__inline1__=!0,rr.__inline2__=!1),"new Map("+jsesc(Array.from(e),rr)+")");if(isSet(e))return e.size==0?"new Set()":"new Set("+jsesc(Array.from(e),rr)+")";if(isBuffer(e))return e.length==0?"Buffer.from([])":"Buffer.from("+jsesc(Array.from(e),rr)+")";if(isArray(e))return br=[],rr.wrap=!0,_r&&(rr.__inline1__=!1,rr.__inline2__=!0),yr||ir(),forEach$1(e,$r=>{Sr=!1,yr&&(rr.__inline2__=!1),br.push((mr||yr?"":gr)+jsesc($r,rr))}),Sr?"[]":yr?"["+br.join(", ")+"]":"["+vr+br.join(","+vr)+vr+(mr?"":xr)+"]";if(isNumber$1(e)||isBigInt(e)){if(dr)return JSON.stringify(Number(e));let $r;if(kr)$r=String(e);else if(Ar){let Dr=e.toString(16);hr||(Dr=Dr.toUpperCase()),$r="0x"+Dr}else wr?$r="0b"+e.toString(2):Mr&&($r="0o"+e.toString(8));return isBigInt(e)?$r+"n":$r}else return isBigInt(e)?dr?JSON.stringify(Number(e)):e+"n":isObject$5(e)?(br=[],rr.wrap=!0,ir(),forOwn(e,($r,Dr)=>{Sr=!1,br.push((mr?"":gr)+jsesc($r,rr)+":"+(mr?"":" ")+jsesc(Dr,rr))}),Sr?"{}":"{"+vr+br.join(","+vr)+vr+(mr?"":xr)+"}"):dr?JSON.stringify(e)||"null":String(e)}const Ir=rr.escapeEverything?escapeEverythingRegex:escapeNonAsciiRegex;return br=e.replace(Ir,($r,Dr,Or,Fr,Lr,zr)=>{if(Dr){if(rr.minimal)return Dr;const Jr=Dr.charCodeAt(0),Yn=Dr.charCodeAt(1);if(rr.es6){const Jn=(Jr-55296)*1024+Yn-56320+65536;return"\\u{"+hexadecimal(Jn,hr)+"}"}return fourHexEscape(hexadecimal(Jr,hr))+fourHexEscape(hexadecimal(Yn,hr))}if(Or)return fourHexEscape(hexadecimal(Or.charCodeAt(0),hr));if($r=="\0"&&!dr&&!regexDigit.test(zr.charAt(Lr+1)))return"\\0";if(Fr)return Fr==fr||rr.escapeEverything?"\\"+Fr:Fr;if(regexSingleEscape.test($r))return singleEscapes[$r];if(rr.minimal&&!regexWhitespace.test($r))return $r;const Gr=hexadecimal($r.charCodeAt(0),hr);return dr||Gr.length>2?fourHexEscape(Gr):"\\x"+("00"+Gr).slice(-2)}),fr=="`"&&(br=br.replace(/\$\{/g,"\\${")),rr.isScriptContext&&(br=br.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,dr?"\\u003C!--":"\\x3C!--")),rr.wrap&&(br=fr+br+fr),br};jsesc.version="3.0.2";function ScriptOnce({children:e,log:rr}){return typeof document<"u"?null:jsxRuntimeExports.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function ScrollRestoration(){const e=useRouter(),ir=(e.options.getScrollRestorationKey||defaultGetScrollRestorationKey)(e.latestLocation),lr=ir!==defaultGetScrollRestorationKey(e.latestLocation)?ir:null;return!e.isScrollRestoring||!e.isServer?null:jsxRuntimeExports.jsx(ScriptOnce,{children:`(${restoreScroll.toString()})(${JSON.stringify(storageKey)},${JSON.stringify(lr)}, undefined, true)`,log:!1})}const Match=reactExports.memo(function({matchId:rr}){var ir,lr;const dr=useRouter(),fr=useRouterState({select:Ar=>{var Ir;return(Ir=Ar.matches.find($r=>$r.id===rr))==null?void 0:Ir.routeId}});invariant(fr);const mr=dr.routesById[fr],hr=mr.options.pendingComponent??dr.options.defaultPendingComponent,gr=hr?jsxRuntimeExports.jsx(hr,{}):null,xr=mr.options.errorComponent??dr.options.defaultErrorComponent,_r=mr.options.onCatch??dr.options.defaultOnCatch,yr=mr.isRoot?mr.options.notFoundComponent??((ir=dr.options.notFoundRoute)==null?void 0:ir.options.component):mr.options.notFoundComponent,vr=(!mr.isRoot||mr.options.wrapInSuspense)&&(mr.options.wrapInSuspense??hr??((lr=mr.options.errorComponent)==null?void 0:lr.preload))?reactExports.Suspense:SafeFragment,br=xr?CatchBoundary:SafeFragment,Sr=yr?CatchNotFound:SafeFragment,wr=useRouterState({select:Ar=>Ar.loadedAt}),Mr=useRouterState({select:Ar=>{var Ir;const $r=Ar.matches.findIndex(Dr=>Dr.id===rr);return(Ir=Ar.matches[$r-1])==null?void 0:Ir.routeId}}),kr=mr.isRoot?mr.options.shellComponent??SafeFragment:SafeFragment;return jsxRuntimeExports.jsxs(kr,{children:[jsxRuntimeExports.jsx(matchContext.Provider,{value:rr,children:jsxRuntimeExports.jsx(vr,{fallback:gr,children:jsxRuntimeExports.jsx(br,{getResetKey:()=>wr,errorComponent:xr||ErrorComponent,onCatch:(Ar,Ir)=>{if(isNotFound(Ar))throw Ar;_r?.(Ar,Ir)},children:jsxRuntimeExports.jsx(Sr,{fallback:Ar=>{if(!yr||Ar.routeId&&Ar.routeId!==fr||!Ar.routeId&&!mr.isRoot)throw Ar;return reactExports.createElement(yr,Ar)},children:jsxRuntimeExports.jsx(MatchInner,{matchId:rr})})})})}),Mr===rootRouteId&&dr.options.scrollRestoration?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(OnRendered,{}),jsxRuntimeExports.jsx(ScrollRestoration,{})]}):null]})});function OnRendered(){const e=useRouter(),rr=reactExports.useRef(void 0);return jsxRuntimeExports.jsx("script",{suppressHydrationWarning:!0,ref:ir=>{ir&&(rr.current===void 0||rr.current.href!==e.latestLocation.href)&&(e.emit({type:"onRendered",...getLocationChangeInfo(e.state)}),rr.current=e.latestLocation)}},e.latestLocation.state.__TSR_key)}const MatchInner=reactExports.memo(function({matchId:rr}){var ir,lr,dr;const fr=useRouter(),{match:mr,key:hr,routeId:gr}=useRouterState({select:vr=>{const br=vr.matches.findIndex(Ir=>Ir.id===rr),Sr=vr.matches[br],wr=Sr.routeId,Mr=fr.routesById[wr].options.remountDeps??fr.options.defaultRemountDeps,kr=Mr?.({routeId:wr,loaderDeps:Sr.loaderDeps,params:Sr._strictParams,search:Sr._strictSearch});return{key:kr?JSON.stringify(kr):void 0,routeId:wr,match:pick$1(Sr,["id","status","error"])}},structuralSharing:!0}),xr=fr.routesById[gr],_r=reactExports.useMemo(()=>{const vr=xr.options.component??fr.options.defaultComponent;return vr?jsxRuntimeExports.jsx(vr,{},hr):jsxRuntimeExports.jsx(Outlet,{})},[hr,xr.options.component,fr.options.defaultComponent]),yr=(xr.options.errorComponent??fr.options.defaultErrorComponent)||ErrorComponent;if(mr.status==="notFound")return invariant(isNotFound(mr.error)),renderRouteNotFound(fr,xr,mr.error);if(mr.status==="redirected")throw invariant(isRedirect(mr.error)),(ir=fr.getMatch(mr.id))==null?void 0:ir.loadPromise;if(mr.status==="error"){if(fr.isServer)return jsxRuntimeExports.jsx(yr,{error:mr.error,reset:void 0,info:{componentStack:""}});throw mr.error}if(mr.status==="pending"){const vr=xr.options.pendingMinMs??fr.options.defaultPendingMinMs;if(vr&&!((lr=fr.getMatch(mr.id))!=null&&lr.minPendingPromise)&&!fr.isServer){const br=createControlledPromise();Promise.resolve().then(()=>{fr.updateMatch(mr.id,Sr=>({...Sr,minPendingPromise:br}))}),setTimeout(()=>{br.resolve(),fr.updateMatch(mr.id,Sr=>({...Sr,minPendingPromise:void 0}))},vr)}throw(dr=fr.getMatch(mr.id))==null?void 0:dr.loadPromise}return _r}),Outlet=reactExports.memo(function(){const rr=useRouter(),ir=reactExports.useContext(matchContext),lr=useRouterState({select:xr=>{var _r;return(_r=xr.matches.find(yr=>yr.id===ir))==null?void 0:_r.routeId}}),dr=rr.routesById[lr],fr=useRouterState({select:xr=>{const yr=xr.matches.find(vr=>vr.id===ir);return invariant(yr),yr.globalNotFound}}),mr=useRouterState({select:xr=>{var _r;const yr=xr.matches,vr=yr.findIndex(br=>br.id===ir);return(_r=yr[vr+1])==null?void 0:_r.id}}),hr=rr.options.defaultPendingComponent?jsxRuntimeExports.jsx(rr.options.defaultPendingComponent,{}):null;if(rr.isShell)return jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:hr,children:jsxRuntimeExports.jsx(ShellInner,{})});if(fr)return renderRouteNotFound(rr,dr,void 0);if(!mr)return null;const gr=jsxRuntimeExports.jsx(Match,{matchId:mr});return ir===rootRouteId?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:hr,children:gr}):gr});function ShellInner(){throw new Error("ShellBoundaryError")}function Transitioner(){const e=useRouter(),rr=reactExports.useRef({router:e,mounted:!1}),ir=useRouterState({select:({isLoading:yr})=>yr}),[lr,dr]=reactExports.useState(!1),fr=useRouterState({select:yr=>yr.matches.some(vr=>vr.status==="pending"),structuralSharing:!0}),mr=usePrevious$2(ir),hr=ir||lr||fr,gr=usePrevious$2(hr),xr=ir||fr,_r=usePrevious$2(xr);return e.isServer||(e.startTransition=yr=>{dr(!0),reactExports.startTransition(()=>{yr(),dr(!1)})}),reactExports.useEffect(()=>{const yr=e.history.subscribe(e.load),vr=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return trimPathRight(e.latestLocation.href)!==trimPathRight(vr.href)&&e.commitLocation({...vr,replace:!0}),()=>{yr()}},[e,e.history]),useLayoutEffect(()=>{if(typeof window<"u"&&e.clientSsr||rr.current.router===e&&rr.current.mounted)return;rr.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(vr){console.error(vr)}})()},[e]),useLayoutEffect(()=>{mr&&!ir&&e.emit({type:"onLoad",...getLocationChangeInfo(e.state)})},[mr,e,ir]),useLayoutEffect(()=>{_r&&!xr&&e.emit({type:"onBeforeRouteMount",...getLocationChangeInfo(e.state)})},[xr,_r,e]),useLayoutEffect(()=>{gr&&!hr&&(e.emit({type:"onResolved",...getLocationChangeInfo(e.state)}),e.__store.setState(yr=>({...yr,status:"idle",resolvedLocation:yr.location})),handleHashScroll(e))},[hr,gr,e]),null}function Matches(){const e=useRouter(),rr=e.options.defaultPendingComponent?jsxRuntimeExports.jsx(e.options.defaultPendingComponent,{}):null,ir=e.isServer||typeof document<"u"&&e.clientSsr?SafeFragment:reactExports.Suspense,lr=jsxRuntimeExports.jsxs(ir,{fallback:rr,children:[jsxRuntimeExports.jsx(Transitioner,{}),jsxRuntimeExports.jsx(MatchesInner,{})]});return e.options.InnerWrap?jsxRuntimeExports.jsx(e.options.InnerWrap,{children:lr}):lr}function MatchesInner(){const e=useRouterState({select:ir=>{var lr;return(lr=ir.matches[0])==null?void 0:lr.id}}),rr=useRouterState({select:ir=>ir.loadedAt});return jsxRuntimeExports.jsx(matchContext.Provider,{value:e,children:jsxRuntimeExports.jsx(CatchBoundary,{getResetKey:()=>rr,errorComponent:ErrorComponent,onCatch:ir=>{ir.message||ir.toString()},children:e?jsxRuntimeExports.jsx(Match,{matchId:e}):null})})}const createRouter=e=>new Router(e);class Router extends RouterCore{constructor(rr){super(rr)}}typeof globalThis<"u"?(globalThis.createFileRoute=createFileRoute,globalThis.createLazyFileRoute=createLazyFileRoute):typeof window<"u"&&(window.createFileRoute=createFileRoute,window.createFileRoute=createLazyFileRoute);function RouterContextProvider({router:e,children:rr,...ir}){Object.keys(ir).length>0&&e.update({...e.options,...ir,context:{...e.options.context,...ir.context}});const lr=getRouterContext(),dr=jsxRuntimeExports.jsx(lr.Provider,{value:e,children:rr});return e.options.Wrap?jsxRuntimeExports.jsx(e.options.Wrap,{children:dr}):dr}function RouterProvider({router:e,...rr}){return jsxRuntimeExports.jsx(RouterContextProvider,{router:e,...rr,children:jsxRuntimeExports.jsx(Matches,{})})}var __assign=function(){return __assign=Object.assign||function(rr){for(var ir,lr=1,dr=arguments.length;lr<dr;lr++){ir=arguments[lr];for(var fr in ir)Object.prototype.hasOwnProperty.call(ir,fr)&&(rr[fr]=ir[fr])}return rr},__assign.apply(this,arguments)};function __rest$3(e,rr){var ir={};for(var lr in e)Object.prototype.hasOwnProperty.call(e,lr)&&rr.indexOf(lr)<0&&(ir[lr]=e[lr]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dr=0,lr=Object.getOwnPropertySymbols(e);dr<lr.length;dr++)rr.indexOf(lr[dr])<0&&Object.prototype.propertyIsEnumerable.call(e,lr[dr])&&(ir[lr[dr]]=e[lr[dr]]);return ir}function __awaiter$8(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})}function __spreadArray(e,rr,ir){if(ir||arguments.length===2)for(var lr=0,dr=rr.length,fr;lr<dr;lr++)(fr||!(lr in rr))&&(fr||(fr=Array.prototype.slice.call(rr,0,lr)),fr[lr]=rr[lr]);return e.concat(fr||Array.prototype.slice.call(rr))}typeof SuppressedError=="function"&&SuppressedError;var zeroRightClassName="right-scroll-bar-position",fullWidthClassName="width-before-scroll-bar",noScrollbarsClassName="with-scroll-bars-hidden",removedBarSizeVariable="--removed-body-scroll-bar-size";function assignRef$1(e,rr){return typeof e=="function"?e(rr):e&&(e.current=rr),e}function useCallbackRef$1(e,rr){var ir=reactExports.useState(function(){return{value:e,callback:rr,facade:{get current(){return ir.value},set current(lr){var dr=ir.value;dr!==lr&&(ir.value=lr,ir.callback(lr,dr))}}}})[0];return ir.callback=rr,ir.facade}var useIsomorphicLayoutEffect$3=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,currentValues=new WeakMap;function useMergeRefs$2(e,rr){var ir=useCallbackRef$1(null,function(lr){return e.forEach(function(dr){return assignRef$1(dr,lr)})});return useIsomorphicLayoutEffect$3(function(){var lr=currentValues.get(ir);if(lr){var dr=new Set(lr),fr=new Set(e),mr=ir.current;dr.forEach(function(hr){fr.has(hr)||assignRef$1(hr,null)}),fr.forEach(function(hr){dr.has(hr)||assignRef$1(hr,mr)})}currentValues.set(ir,e)},[e]),ir}function ItoI(e){return e}function innerCreateMedium(e,rr){rr===void 0&&(rr=ItoI);var ir=[],lr=!1,dr={read:function(){if(lr)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return ir.length?ir[ir.length-1]:e},useMedium:function(fr){var mr=rr(fr,lr);return ir.push(mr),function(){ir=ir.filter(function(hr){return hr!==mr})}},assignSyncMedium:function(fr){for(lr=!0;ir.length;){var mr=ir;ir=[],mr.forEach(fr)}ir={push:function(hr){return fr(hr)},filter:function(){return ir}}},assignMedium:function(fr){lr=!0;var mr=[];if(ir.length){var hr=ir;ir=[],hr.forEach(fr),mr=ir}var gr=function(){var _r=mr;mr=[],_r.forEach(fr)},xr=function(){return Promise.resolve().then(gr)};xr(),ir={push:function(_r){mr.push(_r),xr()},filter:function(_r){return mr=mr.filter(_r),ir}}}};return dr}function createSidecarMedium(e){e===void 0&&(e={});var rr=innerCreateMedium(null);return rr.options=__assign({async:!0,ssr:!1},e),rr}var SideCar$1=function(e){var rr=e.sideCar,ir=__rest$3(e,["sideCar"]);if(!rr)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var lr=rr.read();if(!lr)throw new Error("Sidecar medium not found");return reactExports.createElement(lr,__assign({},ir))};SideCar$1.isSideCarExport=!0;function exportSidecar(e,rr){return e.useMedium(rr),SideCar$1}var effectCar=createSidecarMedium(),nothing=function(){},RemoveScroll=reactExports.forwardRef(function(e,rr){var ir=reactExports.useRef(null),lr=reactExports.useState({onScrollCapture:nothing,onWheelCapture:nothing,onTouchMoveCapture:nothing}),dr=lr[0],fr=lr[1],mr=e.forwardProps,hr=e.children,gr=e.className,xr=e.removeScrollBar,_r=e.enabled,yr=e.shards,vr=e.sideCar,br=e.noRelative,Sr=e.noIsolation,wr=e.inert,Mr=e.allowPinchZoom,kr=e.as,Ar=kr===void 0?"div":kr,Ir=e.gapMode,$r=__rest$3(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Dr=vr,Or=useMergeRefs$2([ir,rr]),Fr=__assign(__assign({},$r),dr);return reactExports.createElement(reactExports.Fragment,null,_r&&reactExports.createElement(Dr,{sideCar:effectCar,removeScrollBar:xr,shards:yr,noRelative:br,noIsolation:Sr,inert:wr,setCallbacks:fr,allowPinchZoom:!!Mr,lockRef:ir,gapMode:Ir}),mr?reactExports.cloneElement(reactExports.Children.only(hr),__assign(__assign({},Fr),{ref:Or})):reactExports.createElement(Ar,__assign({},Fr,{className:gr,ref:Or}),hr))});RemoveScroll.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RemoveScroll.classNames={fullWidth:fullWidthClassName,zeroRight:zeroRightClassName};var getNonce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function makeStyleTag(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var rr=getNonce();return rr&&e.setAttribute("nonce",rr),e}function injectStyles(e,rr){e.styleSheet?e.styleSheet.cssText=rr:e.appendChild(document.createTextNode(rr))}function insertStyleTag(e){var rr=document.head||document.getElementsByTagName("head")[0];rr.appendChild(e)}var stylesheetSingleton=function(){var e=0,rr=null;return{add:function(ir){e==0&&(rr=makeStyleTag())&&(injectStyles(rr,ir),insertStyleTag(rr)),e++},remove:function(){e--,!e&&rr&&(rr.parentNode&&rr.parentNode.removeChild(rr),rr=null)}}},styleHookSingleton=function(){var e=stylesheetSingleton();return function(rr,ir){reactExports.useEffect(function(){return e.add(rr),function(){e.remove()}},[rr&&ir])}},styleSingleton=function(){var e=styleHookSingleton(),rr=function(ir){var lr=ir.styles,dr=ir.dynamic;return e(lr,dr),null};return rr},zeroGap={left:0,top:0,right:0,gap:0},parse=function(e){return parseInt(e||"",10)||0},getOffset=function(e){var rr=window.getComputedStyle(document.body),ir=rr[e==="padding"?"paddingLeft":"marginLeft"],lr=rr[e==="padding"?"paddingTop":"marginTop"],dr=rr[e==="padding"?"paddingRight":"marginRight"];return[parse(ir),parse(lr),parse(dr)]},getGapWidth=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return zeroGap;var rr=getOffset(e),ir=document.documentElement.clientWidth,lr=window.innerWidth;return{left:rr[0],top:rr[1],right:rr[2],gap:Math.max(0,lr-ir+rr[2]-rr[0])}},Style=styleSingleton(),lockAttribute="data-scroll-locked",getStyles=function(e,rr,ir,lr){var dr=e.left,fr=e.top,mr=e.right,hr=e.gap;return ir===void 0&&(ir="margin"),`
  .`.concat(noScrollbarsClassName,` {
   overflow: hidden `).concat(lr,`;
   padding-right: `).concat(hr,"px ").concat(lr,`;
  }
  body[`).concat(lockAttribute,`] {
    overflow: hidden `).concat(lr,`;
    overscroll-behavior: contain;
    `).concat([rr&&"position: relative ".concat(lr,";"),ir==="margin"&&`
    padding-left: `.concat(dr,`px;
    padding-top: `).concat(fr,`px;
    padding-right: `).concat(mr,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(hr,"px ").concat(lr,`;
    `),ir==="padding"&&"padding-right: ".concat(hr,"px ").concat(lr,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zeroRightClassName,` {
    right: `).concat(hr,"px ").concat(lr,`;
  }
  
  .`).concat(fullWidthClassName,` {
    margin-right: `).concat(hr,"px ").concat(lr,`;
  }
  
  .`).concat(zeroRightClassName," .").concat(zeroRightClassName,` {
    right: 0 `).concat(lr,`;
  }
  
  .`).concat(fullWidthClassName," .").concat(fullWidthClassName,` {
    margin-right: 0 `).concat(lr,`;
  }
  
  body[`).concat(lockAttribute,`] {
    `).concat(removedBarSizeVariable,": ").concat(hr,`px;
  }
`)},getCurrentUseCounter=function(){var e=parseInt(document.body.getAttribute(lockAttribute)||"0",10);return isFinite(e)?e:0},useLockAttribute=function(){reactExports.useEffect(function(){return document.body.setAttribute(lockAttribute,(getCurrentUseCounter()+1).toString()),function(){var e=getCurrentUseCounter()-1;e<=0?document.body.removeAttribute(lockAttribute):document.body.setAttribute(lockAttribute,e.toString())}},[])},RemoveScrollBar=function(e){var rr=e.noRelative,ir=e.noImportant,lr=e.gapMode,dr=lr===void 0?"margin":lr;useLockAttribute();var fr=reactExports.useMemo(function(){return getGapWidth(dr)},[dr]);return reactExports.createElement(Style,{styles:getStyles(fr,!rr,dr,ir?"":"!important")})},passiveSupported=!1;if(typeof window<"u")try{var options=Object.defineProperty({},"passive",{get:function(){return passiveSupported=!0,!0}});window.addEventListener("test",options,options),window.removeEventListener("test",options,options)}catch{passiveSupported=!1}var nonPassive=passiveSupported?{passive:!1}:!1,alwaysContainsScroll=function(e){return e.tagName==="TEXTAREA"},elementCanBeScrolled=function(e,rr){if(!(e instanceof Element))return!1;var ir=window.getComputedStyle(e);return ir[rr]!=="hidden"&&!(ir.overflowY===ir.overflowX&&!alwaysContainsScroll(e)&&ir[rr]==="visible")},elementCouldBeVScrolled=function(e){return elementCanBeScrolled(e,"overflowY")},elementCouldBeHScrolled=function(e){return elementCanBeScrolled(e,"overflowX")},locationCouldBeScrolled=function(e,rr){var ir=rr.ownerDocument,lr=rr;do{typeof ShadowRoot<"u"&&lr instanceof ShadowRoot&&(lr=lr.host);var dr=elementCouldBeScrolled(e,lr);if(dr){var fr=getScrollVariables(e,lr),mr=fr[1],hr=fr[2];if(mr>hr)return!0}lr=lr.parentNode}while(lr&&lr!==ir.body);return!1},getVScrollVariables=function(e){var rr=e.scrollTop,ir=e.scrollHeight,lr=e.clientHeight;return[rr,ir,lr]},getHScrollVariables=function(e){var rr=e.scrollLeft,ir=e.scrollWidth,lr=e.clientWidth;return[rr,ir,lr]},elementCouldBeScrolled=function(e,rr){return e==="v"?elementCouldBeVScrolled(rr):elementCouldBeHScrolled(rr)},getScrollVariables=function(e,rr){return e==="v"?getVScrollVariables(rr):getHScrollVariables(rr)},getDirectionFactor=function(e,rr){return e==="h"&&rr==="rtl"?-1:1},handleScroll=function(e,rr,ir,lr,dr){var fr=getDirectionFactor(e,window.getComputedStyle(rr).direction),mr=fr*lr,hr=ir.target,gr=rr.contains(hr),xr=!1,_r=mr>0,yr=0,vr=0;do{if(!hr)break;var br=getScrollVariables(e,hr),Sr=br[0],wr=br[1],Mr=br[2],kr=wr-Mr-fr*Sr;(Sr||kr)&&elementCouldBeScrolled(e,hr)&&(yr+=kr,vr+=Sr);var Ar=hr.parentNode;hr=Ar&&Ar.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Ar.host:Ar}while(!gr&&hr!==document.body||gr&&(rr.contains(hr)||rr===hr));return(_r&&Math.abs(yr)<1||!_r&&Math.abs(vr)<1)&&(xr=!0),xr},getTouchXY=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},getDeltaXY=function(e){return[e.deltaX,e.deltaY]},extractRef=function(e){return e&&"current"in e?e.current:e},deltaCompare=function(e,rr){return e[0]===rr[0]&&e[1]===rr[1]},generateStyle=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},idCounter=0,lockStack=[];function RemoveScrollSideCar(e){var rr=reactExports.useRef([]),ir=reactExports.useRef([0,0]),lr=reactExports.useRef(),dr=reactExports.useState(idCounter++)[0],fr=reactExports.useState(styleSingleton)[0],mr=reactExports.useRef(e);reactExports.useEffect(function(){mr.current=e},[e]),reactExports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(dr));var wr=__spreadArray([e.lockRef.current],(e.shards||[]).map(extractRef),!0).filter(Boolean);return wr.forEach(function(Mr){return Mr.classList.add("allow-interactivity-".concat(dr))}),function(){document.body.classList.remove("block-interactivity-".concat(dr)),wr.forEach(function(Mr){return Mr.classList.remove("allow-interactivity-".concat(dr))})}}},[e.inert,e.lockRef.current,e.shards]);var hr=reactExports.useCallback(function(wr,Mr){if("touches"in wr&&wr.touches.length===2||wr.type==="wheel"&&wr.ctrlKey)return!mr.current.allowPinchZoom;var kr=getTouchXY(wr),Ar=ir.current,Ir="deltaX"in wr?wr.deltaX:Ar[0]-kr[0],$r="deltaY"in wr?wr.deltaY:Ar[1]-kr[1],Dr,Or=wr.target,Fr=Math.abs(Ir)>Math.abs($r)?"h":"v";if("touches"in wr&&Fr==="h"&&Or.type==="range")return!1;var Lr=locationCouldBeScrolled(Fr,Or);if(!Lr)return!0;if(Lr?Dr=Fr:(Dr=Fr==="v"?"h":"v",Lr=locationCouldBeScrolled(Fr,Or)),!Lr)return!1;if(!lr.current&&"changedTouches"in wr&&(Ir||$r)&&(lr.current=Dr),!Dr)return!0;var zr=lr.current||Dr;return handleScroll(zr,Mr,wr,zr==="h"?Ir:$r)},[]),gr=reactExports.useCallback(function(wr){var Mr=wr;if(!(!lockStack.length||lockStack[lockStack.length-1]!==fr)){var kr="deltaY"in Mr?getDeltaXY(Mr):getTouchXY(Mr),Ar=rr.current.filter(function(Dr){return Dr.name===Mr.type&&(Dr.target===Mr.target||Mr.target===Dr.shadowParent)&&deltaCompare(Dr.delta,kr)})[0];if(Ar&&Ar.should){Mr.cancelable&&Mr.preventDefault();return}if(!Ar){var Ir=(mr.current.shards||[]).map(extractRef).filter(Boolean).filter(function(Dr){return Dr.contains(Mr.target)}),$r=Ir.length>0?hr(Mr,Ir[0]):!mr.current.noIsolation;$r&&Mr.cancelable&&Mr.preventDefault()}}},[]),xr=reactExports.useCallback(function(wr,Mr,kr,Ar){var Ir={name:wr,delta:Mr,target:kr,should:Ar,shadowParent:getOutermostShadowParent(kr)};rr.current.push(Ir),setTimeout(function(){rr.current=rr.current.filter(function($r){return $r!==Ir})},1)},[]),_r=reactExports.useCallback(function(wr){ir.current=getTouchXY(wr),lr.current=void 0},[]),yr=reactExports.useCallback(function(wr){xr(wr.type,getDeltaXY(wr),wr.target,hr(wr,e.lockRef.current))},[]),vr=reactExports.useCallback(function(wr){xr(wr.type,getTouchXY(wr),wr.target,hr(wr,e.lockRef.current))},[]);reactExports.useEffect(function(){return lockStack.push(fr),e.setCallbacks({onScrollCapture:yr,onWheelCapture:yr,onTouchMoveCapture:vr}),document.addEventListener("wheel",gr,nonPassive),document.addEventListener("touchmove",gr,nonPassive),document.addEventListener("touchstart",_r,nonPassive),function(){lockStack=lockStack.filter(function(wr){return wr!==fr}),document.removeEventListener("wheel",gr,nonPassive),document.removeEventListener("touchmove",gr,nonPassive),document.removeEventListener("touchstart",_r,nonPassive)}},[]);var br=e.removeScrollBar,Sr=e.inert;return reactExports.createElement(reactExports.Fragment,null,Sr?reactExports.createElement(fr,{styles:generateStyle(dr)}):null,br?reactExports.createElement(RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function getOutermostShadowParent(e){for(var rr=null;e!==null;)e instanceof ShadowRoot&&(rr=e.host,e=e.host),e=e.parentNode;return rr}const SideCar=exportSidecar(effectCar,RemoveScrollSideCar);var ReactRemoveScroll=reactExports.forwardRef(function(e,rr){return reactExports.createElement(RemoveScroll,__assign({},e,{ref:rr,sideCar:SideCar}))});ReactRemoveScroll.classNames=RemoveScroll.classNames;function keys$1(e){return Object.keys(e)}function isObject$4(e){return e&&typeof e=="object"&&!Array.isArray(e)}function deepMerge$1(e,rr){const ir={...e},lr=rr;return isObject$4(e)&&isObject$4(rr)&&Object.keys(rr).forEach(dr=>{isObject$4(lr[dr])&&dr in e?ir[dr]=deepMerge$1(ir[dr],lr[dr]):ir[dr]=lr[dr]}),ir}function camelToKebabCase(e){return e.replace(/[A-Z]/g,rr=>`-${rr.toLowerCase()}`)}function getTransformedScaledValue(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function px(e){const rr=getTransformedScaledValue(e);return typeof rr=="number"?rr:typeof rr=="string"?rr.includes("calc")||rr.includes("var")?rr:rr.includes("px")?Number(rr.replace("px","")):rr.includes("rem")?Number(rr.replace("rem",""))*16:rr.includes("em")?Number(rr.replace("em",""))*16:Number(rr):NaN}function scaleRem(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function createConverter(e,{shouldScale:rr=!1}={}){function ir(lr){if(lr===0||lr==="0")return`0${e}`;if(typeof lr=="number"){const dr=`${lr/16}${e}`;return rr?scaleRem(dr):dr}if(typeof lr=="string"){if(lr===""||lr.startsWith("calc(")||lr.startsWith("clamp(")||lr.includes("rgba("))return lr;if(lr.includes(","))return lr.split(",").map(fr=>ir(fr)).join(",");if(lr.includes(" "))return lr.split(" ").map(fr=>ir(fr)).join(" ");const dr=lr.replace("px","");if(!Number.isNaN(Number(dr))){const fr=`${Number(dr)/16}${e}`;return rr?scaleRem(fr):fr}}return lr}return ir}const rem=createConverter("rem",{shouldScale:!0}),em=createConverter("em");function filterProps(e){return Object.keys(e).reduce((rr,ir)=>(e[ir]!==void 0&&(rr[ir]=e[ir]),rr),{})}function isNumberLike(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const rr=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(lr=>rr.test(lr))}return!1}function isElement$1(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==reactExports.Fragment:!1}function createSafeContext(e){const rr=reactExports.createContext(null);return[({children:dr,value:fr})=>jsxRuntimeExports.jsx(rr.Provider,{value:fr,children:dr}),()=>{const dr=reactExports.useContext(rr);if(dr===null)throw new Error(e);return dr}]}function createOptionalContext(e=null){const rr=reactExports.createContext(e);return[({children:dr,value:fr})=>jsxRuntimeExports.jsx(rr.Provider,{value:fr,children:dr}),()=>reactExports.useContext(rr)]}function getSafeId(e,rr){return ir=>{if(typeof ir!="string"||ir.trim().length===0)throw new Error(rr);return`${e}-${ir}`}}function findElementAncestor(e,rr){let ir=e;for(;(ir=ir.parentElement)&&!ir.matches(rr););return ir}function getPreviousIndex$1(e,rr,ir){for(let lr=e-1;lr>=0;lr-=1)if(!rr[lr].disabled)return lr;if(ir){for(let lr=rr.length-1;lr>-1;lr-=1)if(!rr[lr].disabled)return lr}return e}function getNextIndex$2(e,rr,ir){for(let lr=e+1;lr<rr.length;lr+=1)if(!rr[lr].disabled)return lr;if(ir){for(let lr=0;lr<rr.length;lr+=1)if(!rr[lr].disabled)return lr}return e}function onSameLevel(e,rr,ir){return findElementAncestor(e,ir)===findElementAncestor(rr,ir)}function createScopedKeydownHandler({parentSelector:e,siblingSelector:rr,onKeyDown:ir,loop:lr=!0,activateOnFocus:dr=!1,dir:fr="rtl",orientation:mr}){return hr=>{ir?.(hr);const gr=Array.from(findElementAncestor(hr.currentTarget,e)?.querySelectorAll(rr)||[]).filter(Sr=>onSameLevel(hr.currentTarget,Sr,e)),xr=gr.findIndex(Sr=>hr.currentTarget===Sr),_r=getNextIndex$2(xr,gr,lr),yr=getPreviousIndex$1(xr,gr,lr),vr=fr==="rtl"?yr:_r,br=fr==="rtl"?_r:yr;switch(hr.key){case"ArrowRight":{mr==="horizontal"&&(hr.stopPropagation(),hr.preventDefault(),gr[vr].focus(),dr&&gr[vr].click());break}case"ArrowLeft":{mr==="horizontal"&&(hr.stopPropagation(),hr.preventDefault(),gr[br].focus(),dr&&gr[br].click());break}case"ArrowUp":{mr==="vertical"&&(hr.stopPropagation(),hr.preventDefault(),gr[yr].focus(),dr&&gr[yr].click());break}case"ArrowDown":{mr==="vertical"&&(hr.stopPropagation(),hr.preventDefault(),gr[_r].focus(),dr&&gr[_r].click());break}case"Home":{hr.stopPropagation(),hr.preventDefault(),!gr[0].disabled&&gr[0].focus();break}case"End":{hr.stopPropagation(),hr.preventDefault();const Sr=gr.length-1;!gr[Sr].disabled&&gr[Sr].focus();break}}}}const elevations={app:100,modal:200,popover:300,overlay:400,max:9999};function getDefaultZIndex(e){return elevations[e]}const noop$a=()=>{};function closeOnEscape(e,rr={active:!0}){return typeof e!="function"||!rr.active?rr.onKeyDown||noop$a:ir=>{ir.key==="Escape"&&(e(ir),rr.onTrigger?.())}}function getSize(e,rr="size",ir=!0){if(e!==void 0)return isNumberLike(e)?ir?rem(e):e:`var(--${rr}-${e})`}function getSpacing(e){return getSize(e,"mantine-spacing")}function getRadius(e){return e===void 0?"var(--mantine-radius-default)":getSize(e,"mantine-radius")}function getFontSize(e){return getSize(e,"mantine-font-size")}function getLineHeight(e){return getSize(e,"mantine-line-height",!1)}function getShadow(e){if(e)return getSize(e,"mantine-shadow",!1)}function createEventHandler(e,rr){return ir=>{e?.(ir),rr?.(ir)}}function getBreakpointValue$1(e,rr){return e in rr?px(rr[e]):px(e)}function getSortedBreakpoints(e,rr){const ir=e.map(lr=>({value:lr,px:getBreakpointValue$1(lr,rr)}));return ir.sort((lr,dr)=>lr.px-dr.px),ir}function getBaseValue$1(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function clamp$3(e,rr,ir){return rr===void 0&&ir===void 0?e:rr!==void 0&&ir===void 0?Math.max(e,rr):Math.min(rr===void 0&&ir!==void 0?e:Math.max(e,rr),ir)}function randomId(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function upperFirst(e){return typeof e!="string"?"":e.charAt(0).toUpperCase()+e.slice(1)}function useCallbackRef(e){const rr=reactExports.useRef(e);return reactExports.useEffect(()=>{rr.current=e}),reactExports.useMemo(()=>(...ir)=>rr.current?.(...ir),[])}function useDebouncedCallback(e,rr){const{delay:ir,flushOnUnmount:lr,leading:dr}=typeof rr=="number"?{delay:rr,flushOnUnmount:!1,leading:!1}:rr,fr=useCallbackRef(e),mr=reactExports.useRef(0),hr=reactExports.useMemo(()=>{const gr=Object.assign((...xr)=>{window.clearTimeout(mr.current);const _r=gr._isFirstCall;if(gr._isFirstCall=!1,dr&&_r){fr(...xr);return}function yr(){window.clearTimeout(mr.current),mr.current=0,gr._isFirstCall=!0}const vr=()=>{mr.current!==0&&(yr(),fr(...xr))},br=()=>{yr()};gr.flush=vr,gr.cancel=br,mr.current=window.setTimeout(vr,ir)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return gr},[fr,ir,dr]);return reactExports.useEffect(()=>()=>{lr?hr.flush():hr.cancel()},[hr,lr]),hr}const DEFAULT_EVENTS=["mousedown","touchstart"];function useClickOutside(e,rr,ir){const lr=reactExports.useRef(null);return reactExports.useEffect(()=>{const dr=fr=>{const{target:mr}=fr??{};if(Array.isArray(ir)){const hr=mr?.hasAttribute("data-ignore-outside-clicks")||!document.body.contains(mr)&&mr.tagName!=="HTML";ir.every(xr=>!!xr&&!fr.composedPath().includes(xr))&&!hr&&e()}else lr.current&&!lr.current.contains(mr)&&e()};return(rr||DEFAULT_EVENTS).forEach(fr=>document.addEventListener(fr,dr)),()=>{(rr||DEFAULT_EVENTS).forEach(fr=>document.removeEventListener(fr,dr))}},[lr,e,ir]),lr}function attachMediaListener(e,rr){try{return e.addEventListener("change",rr),()=>e.removeEventListener("change",rr)}catch{return e.addListener(rr),()=>e.removeListener(rr)}}function getInitialValue(e,rr){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function useMediaQuery(e,rr,{getInitialValueInEffect:ir}={getInitialValueInEffect:!0}){const[lr,dr]=reactExports.useState(ir?rr:getInitialValue(e)),fr=reactExports.useRef(null);return reactExports.useEffect(()=>{if("matchMedia"in window)return fr.current=window.matchMedia(e),dr(fr.current.matches),attachMediaListener(fr.current,mr=>dr(mr.matches))},[e]),lr||!1}function useDebouncedValue(e,rr,ir={leading:!1}){const[lr,dr]=reactExports.useState(e),fr=reactExports.useRef(!1),mr=reactExports.useRef(null),hr=reactExports.useRef(!1),gr=()=>window.clearTimeout(mr.current);return reactExports.useEffect(()=>{fr.current&&(!hr.current&&ir.leading?(hr.current=!0,dr(e)):(gr(),mr.current=window.setTimeout(()=>{hr.current=!1,dr(e)},rr)))},[e,ir.leading,rr]),reactExports.useEffect(()=>(fr.current=!0,gr),[]),[lr,gr]}const useIsomorphicEffect$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useDidUpdate(e,rr){const ir=reactExports.useRef(!1);reactExports.useEffect(()=>()=>{ir.current=!1},[]),reactExports.useEffect(()=>{if(ir.current)return e();ir.current=!0},rr)}function useFocusReturn({opened:e,shouldReturnFocus:rr=!0}){const ir=reactExports.useRef(null),lr=()=>{ir.current&&"focus"in ir.current&&typeof ir.current.focus=="function"&&ir.current?.focus({preventScroll:!0})};return useDidUpdate(()=>{let dr=-1;const fr=mr=>{mr.key==="Tab"&&window.clearTimeout(dr)};return document.addEventListener("keydown",fr),e?ir.current=document.activeElement:rr&&(dr=window.setTimeout(lr,10)),()=>{window.clearTimeout(dr),document.removeEventListener("keydown",fr)}},[e,rr]),lr}const TABBABLE_NODES=/input|select|textarea|button|object/,FOCUS_SELECTOR="a, input, select, textarea, button, object, [tabindex]";function hidden(e){return e.style.display==="none"}function visible(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let ir=e;for(;ir&&!(ir===document.body||ir.nodeType===11);){if(hidden(ir))return!1;ir=ir.parentNode}return!0}function getElementTabIndex(e){let rr=e.getAttribute("tabindex");return rr===null&&(rr=void 0),parseInt(rr,10)}function focusable$1(e){const rr=e.nodeName.toLowerCase(),ir=!Number.isNaN(getElementTabIndex(e));return(TABBABLE_NODES.test(rr)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||ir)&&visible(e)}function tabbable$1(e){const rr=getElementTabIndex(e);return(Number.isNaN(rr)||rr>=0)&&focusable$1(e)}function findTabbableDescendants(e){return Array.from(e.querySelectorAll(FOCUS_SELECTOR)).filter(tabbable$1)}function scopeTab(e,rr){const ir=findTabbableDescendants(e);if(!ir.length){rr.preventDefault();return}const lr=ir[rr.shiftKey?0:ir.length-1],dr=e.getRootNode();let fr=lr===dr.activeElement||e===dr.activeElement;const mr=dr.activeElement;if(mr.tagName==="INPUT"&&mr.getAttribute("type")==="radio"&&(fr=ir.filter(_r=>_r.getAttribute("type")==="radio"&&_r.getAttribute("name")===mr.getAttribute("name")).includes(lr)),!fr)return;rr.preventDefault();const gr=ir[rr.shiftKey?ir.length-1:0];gr&&gr.focus()}function useFocusTrap(e=!0){const rr=reactExports.useRef(null),ir=dr=>{let fr=dr.querySelector("[data-autofocus]");if(!fr){const mr=Array.from(dr.querySelectorAll(FOCUS_SELECTOR));fr=mr.find(tabbable$1)||mr.find(focusable$1)||null,!fr&&focusable$1(dr)&&(fr=dr)}fr&&fr.focus({preventScroll:!0})},lr=reactExports.useCallback(dr=>{e&&dr!==null&&rr.current!==dr&&(dr?(setTimeout(()=>{dr.getRootNode()&&ir(dr)}),rr.current=dr):rr.current=null)},[e]);return reactExports.useEffect(()=>{if(!e)return;rr.current&&setTimeout(()=>ir(rr.current));const dr=fr=>{fr.key==="Tab"&&rr.current&&scopeTab(rr.current,fr)};return document.addEventListener("keydown",dr),()=>document.removeEventListener("keydown",dr)},[e]),lr}const reducer$2=e=>(e+1)%1e6;function useForceUpdate$1(){const[,e]=reactExports.useReducer(reducer$2,0);return e}const __useId=React$2.useId||(()=>{});function useReactId$2(){const e=__useId();return e?`mantine-${e.replace(/:/g,"")}`:""}function useId$3(e){const rr=useReactId$2(),[ir,lr]=reactExports.useState(rr);return useIsomorphicEffect$1(()=>{lr(randomId())},[]),typeof e=="string"?e:typeof window>"u"?rr:ir}function useListState$1(e=[]){const[rr,ir]=reactExports.useState(e);return[rr,{setState:ir,append:(...Mr)=>ir(kr=>[...kr,...Mr]),prepend:(...Mr)=>ir(kr=>[...Mr,...kr]),insert:(Mr,...kr)=>ir(Ar=>[...Ar.slice(0,Mr),...kr,...Ar.slice(Mr)]),pop:()=>ir(Mr=>{const kr=[...Mr];return kr.pop(),kr}),shift:()=>ir(Mr=>{const kr=[...Mr];return kr.shift(),kr}),apply:Mr=>ir(kr=>kr.map((Ar,Ir)=>Mr(Ar,Ir))),applyWhere:(Mr,kr)=>ir(Ar=>Ar.map((Ir,$r)=>Mr(Ir,$r)?kr(Ir,$r):Ir)),remove:(...Mr)=>ir(kr=>kr.filter((Ar,Ir)=>!Mr.includes(Ir))),reorder:({from:Mr,to:kr})=>ir(Ar=>{const Ir=[...Ar],$r=Ar[Mr];return Ir.splice(Mr,1),Ir.splice(kr,0,$r),Ir}),swap:({from:Mr,to:kr})=>ir(Ar=>{const Ir=[...Ar],$r=Ir[Mr],Dr=Ir[kr];return Ir.splice(kr,1,$r),Ir.splice(Mr,1,Dr),Ir}),setItem:(Mr,kr)=>ir(Ar=>{const Ir=[...Ar];return Ir[Mr]=kr,Ir}),setItemProp:(Mr,kr,Ar)=>ir(Ir=>{const $r=[...Ir];return $r[Mr]={...$r[Mr],[kr]:Ar},$r}),filter:Mr=>{ir(kr=>kr.filter(Mr))}}]}function useWindowEvent(e,rr,ir){reactExports.useEffect(()=>(window.addEventListener(e,rr,ir),()=>window.removeEventListener(e,rr,ir)),[e,rr])}function assignRef(e,rr){if(typeof e=="function")return e(rr);typeof e=="object"&&e!==null&&"current"in e&&(e.current=rr)}function mergeRefs$2(...e){const rr=new Map;return ir=>{if(e.forEach(lr=>{const dr=assignRef(lr,ir);dr&&rr.set(lr,dr)}),rr.size>0)return()=>{e.forEach(lr=>{const dr=rr.get(lr);dr?dr():assignRef(lr,null)}),rr.clear()}}}function useMergedRef(...e){return reactExports.useCallback(mergeRefs$2(...e),e)}function useUncontrolled({value:e,defaultValue:rr,finalValue:ir,onChange:lr=()=>{}}){const[dr,fr]=reactExports.useState(rr!==void 0?rr:ir),mr=(hr,...gr)=>{fr(hr),lr?.(hr,...gr)};return e!==void 0?[e,lr,!0]:[dr,mr,!1]}function range(e,rr){const ir=rr-e+1;return Array.from({length:ir},(lr,dr)=>dr+e)}const DOTS="dots";function usePagination({total:e,siblings:rr=1,boundaries:ir=1,page:lr,initialPage:dr=1,onChange:fr}){const mr=Math.max(Math.trunc(e),0),[hr,gr]=useUncontrolled({value:lr,onChange:fr,defaultValue:dr,finalValue:dr}),xr=wr=>{wr<=0?gr(1):wr>mr?gr(mr):gr(wr)},_r=()=>xr(hr+1),yr=()=>xr(hr-1),vr=()=>xr(1),br=()=>xr(mr);return{range:reactExports.useMemo(()=>{if(rr*2+3+ir*2>=mr)return range(1,mr);const Mr=Math.max(hr-rr,ir),kr=Math.min(hr+rr,mr-ir),Ar=Mr>ir+2,Ir=kr<mr-(ir+1);if(!Ar&&Ir){const $r=rr*2+ir+2;return[...range(1,$r),DOTS,...range(mr-(ir-1),mr)]}if(Ar&&!Ir){const $r=ir+1+2*rr;return[...range(1,ir),DOTS,...range(mr-$r,mr)]}return[...range(1,ir),DOTS,...range(Mr,kr),DOTS,...range(mr-ir+1,mr)]},[mr,rr,hr]),active:hr,setPage:xr,next:_r,previous:yr,first:vr,last:br}}function useReducedMotion(e,rr){return useMediaQuery("(prefers-reduced-motion: reduce)",e,rr)}function useDisclosure(e=!1,rr={}){const[ir,lr]=reactExports.useState(e),dr=reactExports.useCallback(()=>{lr(hr=>hr||(rr.onOpen?.(),!0))},[rr.onOpen]),fr=reactExports.useCallback(()=>{lr(hr=>hr&&(rr.onClose?.(),!1))},[rr.onClose]),mr=reactExports.useCallback(()=>{ir?fr():dr()},[fr,dr,ir]);return[ir,{open:dr,close:fr,toggle:mr}]}function containsRelatedTarget(e){return e.currentTarget instanceof HTMLElement&&e.relatedTarget instanceof HTMLElement?e.currentTarget.contains(e.relatedTarget):!1}function useFocusWithin({onBlur:e,onFocus:rr}={}){const[ir,lr]=reactExports.useState(!1),dr=reactExports.useRef(!1),fr=reactExports.useRef(null),mr=reactExports.useCallback(_r=>{lr(_r),dr.current=_r},[]),hr=reactExports.useCallback(_r=>{dr.current||(mr(!0),rr?.(_r))},[rr]),gr=reactExports.useCallback(_r=>{dr.current&&!containsRelatedTarget(_r)&&(mr(!1),e?.(_r))},[e]),xr=reactExports.useCallback(_r=>{_r&&(fr.current&&(fr.current.removeEventListener("focusin",hr),fr.current.removeEventListener("focusout",gr)),_r.addEventListener("focusin",hr),_r.addEventListener("focusout",gr))},[hr,gr]);return reactExports.useEffect(()=>()=>{fr.current&&(fr.current.removeEventListener("focusin",hr),fr.current.removeEventListener("focusout",gr))},[]),{ref:xr,focused:ir}}function usePrevious$1(e){const rr=reactExports.useRef(void 0);return reactExports.useEffect(()=>{rr.current=e},[e]),rr.current}var define_process_env_default={};function getEnv(){return typeof process<"u"&&define_process_env_default?"production":"development"}function getRefProp(e){const rr=React$2.version;return typeof React$2.version!="string"||rr.startsWith("18.")?e?.ref:e?.props?.ref}function createVarsResolver(e){return e}function r(e){var rr,ir,lr="";if(typeof e=="string"||typeof e=="number")lr+=e;else if(typeof e=="object")if(Array.isArray(e)){var dr=e.length;for(rr=0;rr<dr;rr++)e[rr]&&(ir=r(e[rr]))&&(lr&&(lr+=" "),lr+=ir)}else for(ir in e)e[ir]&&(lr&&(lr+=" "),lr+=ir);return lr}function clsx(){for(var e,rr,ir=0,lr="",dr=arguments.length;ir<dr;ir++)(e=arguments[ir])&&(rr=r(e))&&(lr&&(lr+=" "),lr+=rr);return lr}const EMPTY_CLASS_NAMES={};function mergeClassNames(e){const rr={};return e.forEach(ir=>{Object.entries(ir).forEach(([lr,dr])=>{rr[lr]?rr[lr]=clsx(rr[lr],dr):rr[lr]=dr})}),rr}function resolveClassNames({theme:e,classNames:rr,props:ir,stylesCtx:lr}){const fr=(Array.isArray(rr)?rr:[rr]).map(mr=>typeof mr=="function"?mr(e,ir,lr):mr||EMPTY_CLASS_NAMES);return mergeClassNames(fr)}function resolveStyles({theme:e,styles:rr,props:ir,stylesCtx:lr}){return(Array.isArray(rr)?rr:[rr]).reduce((fr,mr)=>typeof mr=="function"?{...fr,...mr(e,ir,lr)}:{...fr,...mr},{})}const MantineContext=reactExports.createContext(null);function useMantineContext(){const e=reactExports.useContext(MantineContext);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function useMantineCssVariablesResolver(){return useMantineContext().cssVariablesResolver}function useMantineClassNamesPrefix(){return useMantineContext().classNamesPrefix}function useMantineStyleNonce(){return useMantineContext().getStyleNonce}function useMantineWithStaticClasses(){return useMantineContext().withStaticClasses}function useMantineIsHeadless(){return useMantineContext().headless}function useMantineSxTransform(){return useMantineContext().stylesTransform?.sx}function useMantineStylesTransform(){return useMantineContext().stylesTransform?.styles}function useMantineEnv(){return useMantineContext().env||"default"}function isHexColor(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function hexToRgba(e){let rr=e.replace("#","");if(rr.length===3){const mr=rr.split("");rr=[mr[0],mr[0],mr[1],mr[1],mr[2],mr[2]].join("")}if(rr.length===8){const mr=parseInt(rr.slice(6,8),16)/255;return{r:parseInt(rr.slice(0,2),16),g:parseInt(rr.slice(2,4),16),b:parseInt(rr.slice(4,6),16),a:mr}}const ir=parseInt(rr,16),lr=ir>>16&255,dr=ir>>8&255,fr=ir&255;return{r:lr,g:dr,b:fr,a:1}}function rgbStringToRgba(e){const[rr,ir,lr,dr]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:rr,g:ir,b:lr,a:dr===void 0?1:dr}}function hslStringToRgba(e){const rr=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,ir=e.match(rr);if(!ir)return{r:0,g:0,b:0,a:1};const lr=parseInt(ir[1],10),dr=parseInt(ir[2],10)/100,fr=parseInt(ir[3],10)/100,mr=ir[5]?parseFloat(ir[5]):void 0,hr=(1-Math.abs(2*fr-1))*dr,gr=lr/60,xr=hr*(1-Math.abs(gr%2-1)),_r=fr-hr/2;let yr,vr,br;return gr>=0&&gr<1?(yr=hr,vr=xr,br=0):gr>=1&&gr<2?(yr=xr,vr=hr,br=0):gr>=2&&gr<3?(yr=0,vr=hr,br=xr):gr>=3&&gr<4?(yr=0,vr=xr,br=hr):gr>=4&&gr<5?(yr=xr,vr=0,br=hr):(yr=hr,vr=0,br=xr),{r:Math.round((yr+_r)*255),g:Math.round((vr+_r)*255),b:Math.round((br+_r)*255),a:mr||1}}function toRgba(e){return isHexColor(e)?hexToRgba(e):e.startsWith("rgb")?rgbStringToRgba(e):e.startsWith("hsl")?hslStringToRgba(e):{r:0,g:0,b:0,a:1}}function darken(e,rr){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${rr*100}%)`;const{r:ir,g:lr,b:dr,a:fr}=toRgba(e),mr=1-rr,hr=gr=>Math.round(gr*mr);return`rgba(${hr(ir)}, ${hr(lr)}, ${hr(dr)}, ${fr})`}function getPrimaryShade(e,rr){return typeof e.primaryShade=="number"?e.primaryShade:rr==="dark"?e.primaryShade.dark:e.primaryShade.light}function gammaCorrect(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function getLightnessFromOklch(e){const rr=e.match(/oklch\((.*?)%\s/);return rr?parseFloat(rr[1]):null}function luminance(e){if(e.startsWith("oklch("))return(getLightnessFromOklch(e)||0)/100;const{r:rr,g:ir,b:lr}=toRgba(e),dr=rr/255,fr=ir/255,mr=lr/255,hr=gammaCorrect(dr),gr=gammaCorrect(fr),xr=gammaCorrect(mr);return .2126*hr+.7152*gr+.0722*xr}function isLightColor(e,rr=.179){return e.startsWith("var(")?!1:luminance(e)>rr}function parseThemeColor({color:e,theme:rr,colorScheme:ir}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:ir==="dark"?rr.white:rr.black,shade:void 0,isThemeColor:!1,isLight:isLightColor(ir==="dark"?rr.white:rr.black,rr.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:ir==="dark"?rr.colors.dark[2]:rr.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:isLightColor(ir==="dark"?rr.colors.dark[2]:rr.colors.gray[6],rr.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?rr.white:rr.black,shade:void 0,isThemeColor:!1,isLight:isLightColor(e==="white"?rr.white:rr.black,rr.luminanceThreshold),variable:`--mantine-color-${e}`};const[lr,dr]=e.split("."),fr=dr?Number(dr):void 0,mr=lr in rr.colors;if(mr){const hr=fr!==void 0?rr.colors[lr][fr]:rr.colors[lr][getPrimaryShade(rr,ir||"light")];return{color:lr,value:hr,shade:fr,isThemeColor:mr,isLight:isLightColor(hr,rr.luminanceThreshold),variable:dr?`--mantine-color-${lr}-${fr}`:`--mantine-color-${lr}-filled`}}return{color:e,value:e,isThemeColor:mr,isLight:isLightColor(e,rr.luminanceThreshold),shade:fr,variable:void 0}}function getThemeColor(e,rr){const ir=parseThemeColor({color:e||rr.primaryColor,theme:rr});return ir.variable?`var(${ir.variable})`:e}function getGradient(e,rr){const ir={from:e?.from||rr.defaultGradient.from,to:e?.to||rr.defaultGradient.to,deg:e?.deg??rr.defaultGradient.deg??0},lr=getThemeColor(ir.from,rr),dr=getThemeColor(ir.to,rr);return`linear-gradient(${ir.deg}deg, ${lr} 0%, ${dr} 100%)`}function rgba(e,rr){if(typeof e!="string"||rr>1||rr<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const fr=(1-rr)*100;return`color-mix(in srgb, ${e}, transparent ${fr}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${rr})`):e.replace(")",` / ${rr})`);const{r:ir,g:lr,b:dr}=toRgba(e);return`rgba(${ir}, ${lr}, ${dr}, ${rr})`}const alpha$1=rgba,defaultVariantColorsResolver=({color:e,theme:rr,variant:ir,gradient:lr,autoContrast:dr})=>{const fr=parseThemeColor({color:e,theme:rr}),mr=typeof dr=="boolean"?dr:rr.autoContrast;if(ir==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(ir==="filled"){const hr=mr&&fr.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return fr.isThemeColor?fr.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:hr,border:`${rem(1)} solid transparent`}:{background:`var(--mantine-color-${fr.color}-${fr.shade})`,hover:`var(--mantine-color-${fr.color}-${fr.shade===9?8:fr.shade+1})`,color:hr,border:`${rem(1)} solid transparent`}:{background:e,hover:darken(e,.1),color:hr,border:`${rem(1)} solid transparent`}}if(ir==="light"){if(fr.isThemeColor){if(fr.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${rem(1)} solid transparent`};const hr=rr.colors[fr.color][fr.shade];return{background:rgba(hr,.1),hover:rgba(hr,.12),color:`var(--mantine-color-${fr.color}-${Math.min(fr.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:rgba(e,.1),hover:rgba(e,.12),color:e,border:`${rem(1)} solid transparent`}}if(ir==="outline")return fr.isThemeColor?fr.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${rem(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:rgba(rr.colors[fr.color][fr.shade],.05),color:`var(--mantine-color-${fr.color}-${fr.shade})`,border:`${rem(1)} solid var(--mantine-color-${fr.color}-${fr.shade})`}:{background:"transparent",hover:rgba(e,.05),color:e,border:`${rem(1)} solid ${e}`};if(ir==="subtle"){if(fr.isThemeColor){if(fr.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${rem(1)} solid transparent`};const hr=rr.colors[fr.color][fr.shade];return{background:"transparent",hover:rgba(hr,.12),color:`var(--mantine-color-${fr.color}-${Math.min(fr.shade,6)})`,border:`${rem(1)} solid transparent`}}return{background:"transparent",hover:rgba(e,.12),color:e,border:`${rem(1)} solid transparent`}}return ir==="transparent"?fr.isThemeColor?fr.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${fr.color}-${Math.min(fr.shade,6)})`,border:`${rem(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${rem(1)} solid transparent`}:ir==="white"?fr.isThemeColor?fr.shade===void 0?{background:"var(--mantine-color-white)",hover:darken(rr.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(rr.white,.01),color:`var(--mantine-color-${fr.color}-${fr.shade})`,border:`${rem(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:darken(rr.white,.01),color:e,border:`${rem(1)} solid transparent`}:ir==="gradient"?{background:getGradient(lr,rr),hover:getGradient(lr,rr),color:"var(--mantine-color-white)",border:"none"}:ir==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${rem(1)} solid var(--mantine-color-default-border)`}:{}},DEFAULT_COLORS={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},DEFAULT_FONT_FAMILY="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",DEFAULT_THEME={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:DEFAULT_COLORS,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:defaultVariantColorsResolver,autoContrast:!1,luminanceThreshold:.3,fontFamily:DEFAULT_FONT_FAMILY,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:DEFAULT_FONT_FAMILY,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:rem(34),lineHeight:"1.3"},h2:{fontSize:rem(26),lineHeight:"1.35"},h3:{fontSize:rem(22),lineHeight:"1.4"},h4:{fontSize:rem(18),lineHeight:"1.45"},h5:{fontSize:rem(16),lineHeight:"1.5"},h6:{fontSize:rem(14),lineHeight:"1.5"}}},fontSizes:{xs:rem(12),sm:rem(14),md:rem(16),lg:rem(18),xl:rem(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:rem(2),sm:rem(4),md:rem(8),lg:rem(16),xl:rem(32)},spacing:{xs:rem(10),sm:rem(12),md:rem(16),lg:rem(20),xl:rem(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), 0 ${rem(1)} ${rem(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(10)} ${rem(15)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(7)} ${rem(7)} ${rem(-5)}`,md:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(20)} ${rem(25)} ${rem(-5)}, rgba(0, 0, 0, 0.04) 0 ${rem(10)} ${rem(10)} ${rem(-5)}`,lg:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(28)} ${rem(23)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(12)} ${rem(12)} ${rem(-7)}`,xl:`0 ${rem(1)} ${rem(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${rem(36)} ${rem(28)} ${rem(-7)}, rgba(0, 0, 0, 0.04) 0 ${rem(17)} ${rem(17)} ${rem(-7)}`},other:{},components:{}};function isMantineColorScheme(e){return e==="auto"||e==="dark"||e==="light"}function localStorageColorSchemeManager({key:e="mantine-color-scheme-value"}={}){let rr;return{get:ir=>{if(typeof window>"u")return ir;try{const lr=window.localStorage.getItem(e);return isMantineColorScheme(lr)?lr:ir}catch{return ir}},set:ir=>{try{window.localStorage.setItem(e,ir)}catch(lr){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",lr)}},subscribe:ir=>{rr=lr=>{lr.storageArea===window.localStorage&&lr.key===e&&isMantineColorScheme(lr.newValue)&&ir(lr.newValue)},window.addEventListener("storage",rr)},unsubscribe:()=>{window.removeEventListener("storage",rr)},clear:()=>{window.localStorage.removeItem(e)}}}const INVALID_PRIMARY_COLOR_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",INVALID_PRIMARY_SHADE_ERROR="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function isValidPrimaryShade(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function validateMantineTheme(e){if(!(e.primaryColor in e.colors))throw new Error(INVALID_PRIMARY_COLOR_ERROR);if(typeof e.primaryShade=="object"&&(!isValidPrimaryShade(e.primaryShade.dark)||!isValidPrimaryShade(e.primaryShade.light)))throw new Error(INVALID_PRIMARY_SHADE_ERROR);if(typeof e.primaryShade=="number"&&!isValidPrimaryShade(e.primaryShade))throw new Error(INVALID_PRIMARY_SHADE_ERROR)}function mergeMantineTheme(e,rr){if(!rr)return validateMantineTheme(e),e;const ir=deepMerge$1(e,rr);return rr.fontFamily&&!rr.headings?.fontFamily&&(ir.headings.fontFamily=rr.fontFamily),validateMantineTheme(ir),ir}const MantineThemeContext=reactExports.createContext(null),useSafeMantineTheme=()=>reactExports.useContext(MantineThemeContext)||DEFAULT_THEME;function useMantineTheme(){const e=reactExports.useContext(MantineThemeContext);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function MantineThemeProvider({theme:e,children:rr,inherit:ir=!0}){const lr=useSafeMantineTheme(),dr=reactExports.useMemo(()=>mergeMantineTheme(ir?lr:DEFAULT_THEME,e),[e,lr,ir]);return jsxRuntimeExports.jsx(MantineThemeContext.Provider,{value:dr,children:rr})}MantineThemeProvider.displayName="@mantine/core/MantineThemeProvider";function MantineClasses(){const e=useMantineTheme(),rr=useMantineStyleNonce(),ir=keys$1(e.breakpoints).reduce((lr,dr)=>{const fr=e.breakpoints[dr].includes("px"),mr=px(e.breakpoints[dr]),hr=fr?`${mr-.1}px`:em(mr-.1),gr=fr?`${mr}px`:em(mr);return`${lr}@media (max-width: ${hr}) {.mantine-visible-from-${dr} {display: none !important;}}@media (min-width: ${gr}) {.mantine-hidden-from-${dr} {display: none !important;}}`},"");return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"classes",nonce:rr?.(),dangerouslySetInnerHTML:{__html:ir}})}function cssVariablesObjectToString(e){return Object.entries(e).map(([rr,ir])=>`${rr}: ${ir};`).join("")}function wrapWithSelector(e,rr){return(Array.isArray(e)?e:[e]).reduce((lr,dr)=>`${dr}{${lr}}`,rr)}function convertCssVariables(e,rr){const ir=cssVariablesObjectToString(e.variables),lr=ir?wrapWithSelector(rr,ir):"",dr=cssVariablesObjectToString(e.dark),fr=cssVariablesObjectToString(e.light),mr=dr?wrapWithSelector(rr===":host"?`${rr}([data-mantine-color-scheme="dark"])`:`${rr}[data-mantine-color-scheme="dark"]`,dr):"",hr=fr?wrapWithSelector(rr===":host"?`${rr}([data-mantine-color-scheme="light"])`:`${rr}[data-mantine-color-scheme="light"]`,fr):"";return`${lr}${mr}${hr}`}function getContrastColor({color:e,theme:rr,autoContrast:ir}){return(typeof ir=="boolean"?ir:rr.autoContrast)&&parseThemeColor({color:e||rr.primaryColor,theme:rr}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function getPrimaryContrastColor(e,rr){return getContrastColor({color:e.colors[e.primaryColor][getPrimaryShade(e,rr)],theme:e,autoContrast:null})}function getCSSColorVariables({theme:e,color:rr,colorScheme:ir,name:lr=rr,withColorValues:dr=!0}){if(!e.colors[rr])return{};if(ir==="light"){const hr=getPrimaryShade(e,"light"),gr={[`--mantine-color-${lr}-text`]:`var(--mantine-color-${lr}-filled)`,[`--mantine-color-${lr}-filled`]:`var(--mantine-color-${lr}-${hr})`,[`--mantine-color-${lr}-filled-hover`]:`var(--mantine-color-${lr}-${hr===9?8:hr+1})`,[`--mantine-color-${lr}-light`]:alpha$1(e.colors[rr][hr],.1),[`--mantine-color-${lr}-light-hover`]:alpha$1(e.colors[rr][hr],.12),[`--mantine-color-${lr}-light-color`]:`var(--mantine-color-${lr}-${hr})`,[`--mantine-color-${lr}-outline`]:`var(--mantine-color-${lr}-${hr})`,[`--mantine-color-${lr}-outline-hover`]:alpha$1(e.colors[rr][hr],.05)};return dr?{[`--mantine-color-${lr}-0`]:e.colors[rr][0],[`--mantine-color-${lr}-1`]:e.colors[rr][1],[`--mantine-color-${lr}-2`]:e.colors[rr][2],[`--mantine-color-${lr}-3`]:e.colors[rr][3],[`--mantine-color-${lr}-4`]:e.colors[rr][4],[`--mantine-color-${lr}-5`]:e.colors[rr][5],[`--mantine-color-${lr}-6`]:e.colors[rr][6],[`--mantine-color-${lr}-7`]:e.colors[rr][7],[`--mantine-color-${lr}-8`]:e.colors[rr][8],[`--mantine-color-${lr}-9`]:e.colors[rr][9],...gr}:gr}const fr=getPrimaryShade(e,"dark"),mr={[`--mantine-color-${lr}-text`]:`var(--mantine-color-${lr}-4)`,[`--mantine-color-${lr}-filled`]:`var(--mantine-color-${lr}-${fr})`,[`--mantine-color-${lr}-filled-hover`]:`var(--mantine-color-${lr}-${fr===9?8:fr+1})`,[`--mantine-color-${lr}-light`]:alpha$1(e.colors[rr][Math.max(0,fr-2)],.15),[`--mantine-color-${lr}-light-hover`]:alpha$1(e.colors[rr][Math.max(0,fr-2)],.2),[`--mantine-color-${lr}-light-color`]:`var(--mantine-color-${lr}-${Math.max(fr-5,0)})`,[`--mantine-color-${lr}-outline`]:`var(--mantine-color-${lr}-${Math.max(fr-4,0)})`,[`--mantine-color-${lr}-outline-hover`]:alpha$1(e.colors[rr][Math.max(fr-4,0)],.05)};return dr?{[`--mantine-color-${lr}-0`]:e.colors[rr][0],[`--mantine-color-${lr}-1`]:e.colors[rr][1],[`--mantine-color-${lr}-2`]:e.colors[rr][2],[`--mantine-color-${lr}-3`]:e.colors[rr][3],[`--mantine-color-${lr}-4`]:e.colors[rr][4],[`--mantine-color-${lr}-5`]:e.colors[rr][5],[`--mantine-color-${lr}-6`]:e.colors[rr][6],[`--mantine-color-${lr}-7`]:e.colors[rr][7],[`--mantine-color-${lr}-8`]:e.colors[rr][8],[`--mantine-color-${lr}-9`]:e.colors[rr][9],...mr}:mr}function colorsTuple(e){return Array.isArray(e)?e:Array(10).fill(e)}function virtualColor(e){const rr=colorsTuple(Array.from({length:10}).map((ir,lr)=>`var(--mantine-color-${e.name}-${lr})`));return Object.defineProperty(rr,"mantine-virtual-color",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(rr,"dark",{enumerable:!1,writable:!1,configurable:!1,value:e.dark}),Object.defineProperty(rr,"light",{enumerable:!1,writable:!1,configurable:!1,value:e.light}),Object.defineProperty(rr,"name",{enumerable:!1,writable:!1,configurable:!1,value:e.name}),rr}function isVirtualColor(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function assignSizeVariables(e,rr,ir){keys$1(rr).forEach(lr=>Object.assign(e,{[`--mantine-${ir}-${lr}`]:rr[lr]}))}const defaultCssVariablesResolver=e=>{const rr=getPrimaryShade(e,"light"),ir=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:rem(e.defaultRadius),lr={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":ir,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":getPrimaryContrastColor(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${rr})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-primary-color-contrast":getPrimaryContrastColor(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-gray-6)"}};assignSizeVariables(lr.variables,e.breakpoints,"breakpoint"),assignSizeVariables(lr.variables,e.spacing,"spacing"),assignSizeVariables(lr.variables,e.fontSizes,"font-size"),assignSizeVariables(lr.variables,e.lineHeights,"line-height"),assignSizeVariables(lr.variables,e.shadows,"shadow"),assignSizeVariables(lr.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((fr,mr)=>{lr.variables[`--mantine-primary-color-${mr}`]=`var(--mantine-color-${e.primaryColor}-${mr})`}),keys$1(e.colors).forEach(fr=>{const mr=e.colors[fr];if(isVirtualColor(mr)){Object.assign(lr.light,getCSSColorVariables({theme:e,name:mr.name,color:mr.light,colorScheme:"light",withColorValues:!0})),Object.assign(lr.dark,getCSSColorVariables({theme:e,name:mr.name,color:mr.dark,colorScheme:"dark",withColorValues:!0}));return}mr.forEach((hr,gr)=>{lr.variables[`--mantine-color-${fr}-${gr}`]=hr}),Object.assign(lr.light,getCSSColorVariables({theme:e,color:fr,colorScheme:"light",withColorValues:!1})),Object.assign(lr.dark,getCSSColorVariables({theme:e,color:fr,colorScheme:"dark",withColorValues:!1}))});const dr=e.headings.sizes;return keys$1(dr).forEach(fr=>{lr.variables[`--mantine-${fr}-font-size`]=dr[fr].fontSize,lr.variables[`--mantine-${fr}-line-height`]=dr[fr].lineHeight,lr.variables[`--mantine-${fr}-font-weight`]=dr[fr].fontWeight||e.headings.fontWeight}),lr};function getMergedVariables({theme:e,generator:rr}){const ir=defaultCssVariablesResolver(e),lr=rr?.(e);return lr?deepMerge$1(ir,lr):ir}const defaultCssVariables=defaultCssVariablesResolver(DEFAULT_THEME);function removeDefaultVariables(e){const rr={variables:{},light:{},dark:{}};return keys$1(e.variables).forEach(ir=>{defaultCssVariables.variables[ir]!==e.variables[ir]&&(rr.variables[ir]=e.variables[ir])}),keys$1(e.light).forEach(ir=>{defaultCssVariables.light[ir]!==e.light[ir]&&(rr.light[ir]=e.light[ir])}),keys$1(e.dark).forEach(ir=>{defaultCssVariables.dark[ir]!==e.dark[ir]&&(rr.dark[ir]=e.dark[ir])}),rr}function getColorSchemeCssVariables(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function MantineCssVariables({cssVariablesSelector:e,deduplicateCssVariables:rr}){const ir=useMantineTheme(),lr=useMantineStyleNonce(),dr=useMantineCssVariablesResolver(),fr=getMergedVariables({theme:ir,generator:dr}),mr=e===":root"&&rr,hr=mr?removeDefaultVariables(fr):fr,gr=convertCssVariables(hr,e);return gr?jsxRuntimeExports.jsx("style",{"data-mantine-styles":!0,nonce:lr?.(),dangerouslySetInnerHTML:{__html:`${gr}${mr?"":getColorSchemeCssVariables(e)}`}}):null}MantineCssVariables.displayName="@mantine/CssVariables";function setColorSchemeAttribute(e,rr){const ir=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,lr=e!=="auto"?e:ir?"dark":"light";rr()?.setAttribute("data-mantine-color-scheme",lr)}function useProviderColorScheme({manager:e,defaultColorScheme:rr,getRootElement:ir,forceColorScheme:lr}){const dr=reactExports.useRef(null),[fr,mr]=reactExports.useState(()=>e.get(rr)),hr=lr||fr,gr=reactExports.useCallback(_r=>{lr||(setColorSchemeAttribute(_r,ir),mr(_r),e.set(_r))},[e.set,hr,lr]),xr=reactExports.useCallback(()=>{mr(rr),setColorSchemeAttribute(rr,ir),e.clear()},[e.clear,rr]);return reactExports.useEffect(()=>(e.subscribe(gr),e.unsubscribe),[e.subscribe,e.unsubscribe]),useIsomorphicEffect$1(()=>{setColorSchemeAttribute(e.get(rr),ir)},[]),reactExports.useEffect(()=>{if(lr)return setColorSchemeAttribute(lr,ir),()=>{};lr===void 0&&setColorSchemeAttribute(fr,ir),typeof window<"u"&&"matchMedia"in window&&(dr.current=window.matchMedia("(prefers-color-scheme: dark)"));const _r=yr=>{fr==="auto"&&setColorSchemeAttribute(yr.matches?"dark":"light",ir)};return dr.current?.addEventListener("change",_r),()=>dr.current?.removeEventListener("change",_r)},[fr,lr]),{colorScheme:hr,setColorScheme:gr,clearColorScheme:xr}}function useRespectReduceMotion({respectReducedMotion:e,getRootElement:rr}){useIsomorphicEffect$1(()=>{e&&rr()?.setAttribute("data-respect-reduced-motion","true")},[e])}function MantineProvider({theme:e,children:rr,getStyleNonce:ir,withStaticClasses:lr=!0,withGlobalClasses:dr=!0,deduplicateCssVariables:fr=!0,withCssVariables:mr=!0,cssVariablesSelector:hr=":root",classNamesPrefix:gr="mantine",colorSchemeManager:xr=localStorageColorSchemeManager(),defaultColorScheme:_r="light",getRootElement:yr=()=>document.documentElement,cssVariablesResolver:vr,forceColorScheme:br,stylesTransform:Sr,env:wr}){const{colorScheme:Mr,setColorScheme:kr,clearColorScheme:Ar}=useProviderColorScheme({defaultColorScheme:_r,forceColorScheme:br,manager:xr,getRootElement:yr});return useRespectReduceMotion({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:yr}),jsxRuntimeExports.jsx(MantineContext.Provider,{value:{colorScheme:Mr,setColorScheme:kr,clearColorScheme:Ar,getRootElement:yr,classNamesPrefix:gr,getStyleNonce:ir,cssVariablesResolver:vr,cssVariablesSelector:hr,withStaticClasses:lr,stylesTransform:Sr,env:wr},children:jsxRuntimeExports.jsxs(MantineThemeProvider,{theme:e,children:[mr&&jsxRuntimeExports.jsx(MantineCssVariables,{cssVariablesSelector:hr,deduplicateCssVariables:fr}),dr&&jsxRuntimeExports.jsx(MantineClasses,{}),rr]})})}MantineProvider.displayName="@mantine/core/MantineProvider";function useResolvedStylesApi({classNames:e,styles:rr,props:ir,stylesCtx:lr}){const dr=useMantineTheme();return{resolvedClassNames:resolveClassNames({theme:dr,classNames:e,props:ir,stylesCtx:lr||void 0}),resolvedStyles:resolveStyles({theme:dr,styles:rr,props:ir,stylesCtx:lr||void 0})}}const FOCUS_CLASS_NAMES={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function getGlobalClassNames({theme:e,options:rr,unstyled:ir}){return clsx(rr?.focusable&&!ir&&(e.focusClassName||FOCUS_CLASS_NAMES[e.focusRing]),rr?.active&&!ir&&e.activeClassName)}function getOptionsClassNames({selector:e,stylesCtx:rr,options:ir,props:lr,theme:dr}){return resolveClassNames({theme:dr,classNames:ir?.classNames,props:ir?.props||lr,stylesCtx:rr})[e]}function getResolvedClassNames({selector:e,stylesCtx:rr,theme:ir,classNames:lr,props:dr}){return resolveClassNames({theme:ir,classNames:lr,props:dr,stylesCtx:rr})[e]}function getRootClassName({rootSelector:e,selector:rr,className:ir}){return e===rr?ir:void 0}function getSelectorClassName({selector:e,classes:rr,unstyled:ir}){return ir?void 0:rr[e]}function getStaticClassNames({themeName:e,classNamesPrefix:rr,selector:ir,withStaticClass:lr}){return lr===!1?[]:e.map(dr=>`${rr}-${dr}-${ir}`)}function getThemeClassNames({themeName:e,theme:rr,selector:ir,props:lr,stylesCtx:dr}){return e.map(fr=>resolveClassNames({theme:rr,classNames:rr.components[fr]?.classNames,props:lr,stylesCtx:dr})?.[ir])}function getVariantClassName({options:e,classes:rr,selector:ir,unstyled:lr}){return e?.variant&&!lr?rr[`${ir}--${e.variant}`]:void 0}function getClassName({theme:e,options:rr,themeName:ir,selector:lr,classNamesPrefix:dr,classNames:fr,classes:mr,unstyled:hr,className:gr,rootSelector:xr,props:_r,stylesCtx:yr,withStaticClasses:vr,headless:br,transformedStyles:Sr}){return clsx(getGlobalClassNames({theme:e,options:rr,unstyled:hr||br}),getThemeClassNames({theme:e,themeName:ir,selector:lr,props:_r,stylesCtx:yr}),getVariantClassName({options:rr,classes:mr,selector:lr,unstyled:hr}),getResolvedClassNames({selector:lr,stylesCtx:yr,theme:e,classNames:fr,props:_r}),getResolvedClassNames({selector:lr,stylesCtx:yr,theme:e,classNames:Sr,props:_r}),getOptionsClassNames({selector:lr,stylesCtx:yr,options:rr,props:_r,theme:e}),getRootClassName({rootSelector:xr,selector:lr,className:gr}),getSelectorClassName({selector:lr,classes:mr,unstyled:hr||br}),vr&&!br&&getStaticClassNames({themeName:ir,classNamesPrefix:dr,selector:lr,withStaticClass:rr?.withStaticClass}),rr?.className)}function getThemeStyles({theme:e,themeName:rr,props:ir,stylesCtx:lr,selector:dr}){return rr.map(fr=>resolveStyles({theme:e,styles:e.components[fr]?.styles,props:ir,stylesCtx:lr})[dr]).reduce((fr,mr)=>({...fr,...mr}),{})}function resolveStyle({style:e,theme:rr}){return Array.isArray(e)?[...e].reduce((ir,lr)=>({...ir,...resolveStyle({style:lr,theme:rr})}),{}):typeof e=="function"?e(rr):e??{}}function mergeVars(e){return e.reduce((rr,ir)=>(ir&&Object.keys(ir).forEach(lr=>{rr[lr]={...rr[lr],...filterProps(ir[lr])}}),rr),{})}function resolveVars({vars:e,varsResolver:rr,theme:ir,props:lr,stylesCtx:dr,selector:fr,themeName:mr,headless:hr}){return mergeVars([hr?{}:rr?.(ir,lr,dr),...mr.map(gr=>ir.components?.[gr]?.vars?.(ir,lr,dr)),e?.(ir,lr,dr)])?.[fr]}function getStyle({theme:e,themeName:rr,selector:ir,options:lr,props:dr,stylesCtx:fr,rootSelector:mr,styles:hr,style:gr,vars:xr,varsResolver:_r,headless:yr,withStylesTransform:vr}){return{...!vr&&getThemeStyles({theme:e,themeName:rr,props:dr,stylesCtx:fr,selector:ir}),...!vr&&resolveStyles({theme:e,styles:hr,props:dr,stylesCtx:fr})[ir],...!vr&&resolveStyles({theme:e,styles:lr?.styles,props:lr?.props||dr,stylesCtx:fr})[ir],...resolveVars({theme:e,props:dr,stylesCtx:fr,vars:xr,varsResolver:_r,selector:ir,themeName:rr,headless:yr}),...mr===ir?resolveStyle({style:gr,theme:e}):null,...resolveStyle({style:lr?.style,theme:e})}}function useStylesTransform({props:e,stylesCtx:rr,themeName:ir}){const lr=useMantineTheme(),dr=useMantineStylesTransform()?.();return{getTransformedStyles:mr=>dr?[...mr.map(gr=>dr(gr,{props:e,theme:lr,ctx:rr})),...ir.map(gr=>dr(lr.components[gr]?.styles,{props:e,theme:lr,ctx:rr}))].filter(Boolean):[],withStylesTransform:!!dr}}function useStyles({name:e,classes:rr,props:ir,stylesCtx:lr,className:dr,style:fr,rootSelector:mr="root",unstyled:hr,classNames:gr,styles:xr,vars:_r,varsResolver:yr}){const vr=useMantineTheme(),br=useMantineClassNamesPrefix(),Sr=useMantineWithStaticClasses(),wr=useMantineIsHeadless(),Mr=(Array.isArray(e)?e:[e]).filter(Ir=>Ir),{withStylesTransform:kr,getTransformedStyles:Ar}=useStylesTransform({props:ir,stylesCtx:lr,themeName:Mr});return(Ir,$r)=>({className:getClassName({theme:vr,options:$r,themeName:Mr,selector:Ir,classNamesPrefix:br,classNames:gr,classes:rr,unstyled:hr,className:dr,rootSelector:mr,props:ir,stylesCtx:lr,withStaticClasses:Sr,headless:wr,transformedStyles:Ar([$r?.styles,xr])}),style:getStyle({theme:vr,themeName:Mr,selector:Ir,options:$r,props:ir,stylesCtx:lr,rootSelector:mr,styles:xr,style:fr,vars:_r,varsResolver:yr,headless:wr,withStylesTransform:kr})})}function getAutoContrastValue(e,rr){return typeof e=="boolean"?e:rr.autoContrast}function useProps(e,rr,ir){const lr=useMantineTheme(),dr=lr.components[e]?.defaultProps,fr=typeof dr=="function"?dr(lr):dr;return{...rr,...fr,...filterProps(ir)}}function createTheme(e){return e}function cssObjectToString(e){return keys$1(e).reduce((rr,ir)=>e[ir]!==void 0?`${rr}${camelToKebabCase(ir)}:${e[ir]};`:rr,"").trim()}function stylesToString({selector:e,styles:rr,media:ir,container:lr}){const dr=rr?cssObjectToString(rr):"",fr=Array.isArray(ir)?ir.map(hr=>`@media${hr.query}{${e}{${cssObjectToString(hr.styles)}}}`):[],mr=Array.isArray(lr)?lr.map(hr=>`@container ${hr.query}{${e}{${cssObjectToString(hr.styles)}}}`):[];return`${dr?`${e}{${dr}}`:""}${fr.join("")}${mr.join("")}`.trim()}function InlineStyles(e){const rr=useMantineStyleNonce();return jsxRuntimeExports.jsx("style",{"data-mantine-styles":"inline",nonce:rr?.(),dangerouslySetInnerHTML:{__html:stylesToString(e)}})}function extractStyleProps(e){const{m:rr,mx:ir,my:lr,mt:dr,mb:fr,ml:mr,mr:hr,me:gr,ms:xr,p:_r,px:yr,py:vr,pt:br,pb:Sr,pl:wr,pr:Mr,pe:kr,ps:Ar,bd:Ir,bdrs:$r,bg:Dr,c:Or,opacity:Fr,ff:Lr,fz:zr,fw:Gr,lts:Jr,ta:Yn,lh:Jn,fs:Zn,tt:Hn,td:Kn,w:qn,miw:Qr,maw:$n,h:es,mih:Xn,mah:rs,bgsz:ns,bgp:ls,bgr:ss,bga:as,pos:us,top:hs,left:gs,bottom:xs,right:ms,inset:_s,display:Es,flex:vs,hiddenFrom:ws,visibleFrom:Rs,lightHidden:Ss,darkHidden:ps,sx:ys,...Cs}=e;return{styleProps:filterProps({m:rr,mx:ir,my:lr,mt:dr,mb:fr,ml:mr,mr:hr,me:gr,ms:xr,p:_r,px:yr,py:vr,pt:br,pb:Sr,pl:wr,pr:Mr,pe:kr,ps:Ar,bd:Ir,bg:Dr,c:Or,opacity:Fr,ff:Lr,fz:zr,fw:Gr,lts:Jr,ta:Yn,lh:Jn,fs:Zn,tt:Hn,td:Kn,w:qn,miw:Qr,maw:$n,h:es,mih:Xn,mah:rs,bgsz:ns,bgp:ls,bgr:ss,bga:as,pos:us,top:hs,left:gs,bottom:xs,right:ms,inset:_s,display:Es,flex:vs,bdrs:$r,hiddenFrom:ws,visibleFrom:Rs,lightHidden:Ss,darkHidden:ps,sx:ys}),rest:Cs}}const STYlE_PROPS_DATA={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function colorResolver(e,rr){const ir=parseThemeColor({color:e,theme:rr});return ir.color==="dimmed"?"var(--mantine-color-dimmed)":ir.color==="bright"?"var(--mantine-color-bright)":ir.variable?`var(${ir.variable})`:ir.color}function textColorResolver(e,rr){const ir=parseThemeColor({color:e,theme:rr});return ir.isThemeColor&&ir.shade===void 0?`var(--mantine-color-${ir.color}-text)`:colorResolver(e,rr)}function borderResolver(e,rr){if(typeof e=="number")return rem(e);if(typeof e=="string"){const[ir,lr,...dr]=e.split(" ").filter(mr=>mr.trim()!=="");let fr=`${rem(ir)}`;return lr&&(fr+=` ${lr}`),dr.length>0&&(fr+=` ${colorResolver(dr.join(" "),rr)}`),fr.trim()}return e}const values$1={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function fontFamilyResolver(e){return typeof e=="string"&&e in values$1?values$1[e]:e}const headings$2=["h1","h2","h3","h4","h5","h6"];function fontSizeResolver(e,rr){return typeof e=="string"&&e in rr.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&headings$2.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?rem(e):e}function identityResolver(e){return e}const headings$1=["h1","h2","h3","h4","h5","h6"];function lineHeightResolver(e,rr){return typeof e=="string"&&e in rr.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&headings$1.includes(e)?`var(--mantine-${e}-line-height)`:e}function radiusResolver(e,rr){return typeof e=="string"&&e in rr.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?rem(e):e}function sizeResolver(e){return typeof e=="number"?rem(e):e}function spacingResolver(e,rr){if(typeof e=="number")return rem(e);if(typeof e=="string"){const ir=e.replace("-","");if(!(ir in rr.spacing))return rem(e);const lr=`--mantine-spacing-${ir}`;return e.startsWith("-")?`calc(var(${lr}) * -1)`:`var(${lr})`}return e}const resolvers={color:colorResolver,textColor:textColorResolver,fontSize:fontSizeResolver,spacing:spacingResolver,radius:radiusResolver,identity:identityResolver,size:sizeResolver,lineHeight:lineHeightResolver,fontFamily:fontFamilyResolver,border:borderResolver};function replaceMediaQuery(e){return e.replace("(min-width: ","").replace("em)","")}function sortMediaQueries({media:e,...rr}){const lr=Object.keys(e).sort((dr,fr)=>Number(replaceMediaQuery(dr))-Number(replaceMediaQuery(fr))).map(dr=>({query:dr,styles:e[dr]}));return{...rr,media:lr}}function hasResponsiveStyles(e){if(typeof e!="object"||e===null)return!1;const rr=Object.keys(e);return!(rr.length===1&&rr[0]==="base")}function getBaseValue(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function getBreakpointKeys(e){return typeof e=="object"&&e!==null?keys$1(e).filter(rr=>rr!=="base"):[]}function getBreakpointValue(e,rr){return typeof e=="object"&&e!==null&&rr in e?e[rr]:e}function parseStyleProps({styleProps:e,data:rr,theme:ir}){return sortMediaQueries(keys$1(e).reduce((lr,dr)=>{if(dr==="hiddenFrom"||dr==="visibleFrom"||dr==="sx")return lr;const fr=rr[dr],mr=Array.isArray(fr.property)?fr.property:[fr.property],hr=getBaseValue(e[dr]);if(!hasResponsiveStyles(e[dr]))return mr.forEach(xr=>{lr.inlineStyles[xr]=resolvers[fr.type](hr,ir)}),lr;lr.hasResponsiveStyles=!0;const gr=getBreakpointKeys(e[dr]);return mr.forEach(xr=>{hr&&(lr.styles[xr]=resolvers[fr.type](hr,ir)),gr.forEach(_r=>{const yr=`(min-width: ${ir.breakpoints[_r]})`;lr.media[yr]={...lr.media[yr],[xr]:resolvers[fr.type](getBreakpointValue(e[dr],_r),ir)}})}),lr},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function useRandomClassName(){return`__m__-${reactExports.useId().replace(/:/g,"")}`}function getStyleObject(e,rr){return Array.isArray(e)?[...e].reduce((ir,lr)=>({...ir,...getStyleObject(lr,rr)}),{}):typeof e=="function"?e(rr):e??{}}function createPolymorphicComponent(e){return e}function transformModKey(e){return e.startsWith("data-")?e:`data-${e}`}function getMod(e){return Object.keys(e).reduce((rr,ir)=>{const lr=e[ir];return lr===void 0||lr===""||lr===!1||lr===null||(rr[transformModKey(ir)]=e[ir]),rr},{})}function getBoxMod(e){return e?typeof e=="string"?{[transformModKey(e)]:!0}:Array.isArray(e)?[...e].reduce((rr,ir)=>({...rr,...getBoxMod(ir)}),{}):getMod(e):null}function mergeStyles(e,rr){return Array.isArray(e)?[...e].reduce((ir,lr)=>({...ir,...mergeStyles(lr,rr)}),{}):typeof e=="function"?e(rr):e??{}}function getBoxStyle({theme:e,style:rr,vars:ir,styleProps:lr}){const dr=mergeStyles(rr,e),fr=mergeStyles(ir,e);return{...dr,...fr,...lr}}const _Box=reactExports.forwardRef(({component:e,style:rr,__vars:ir,className:lr,variant:dr,mod:fr,size:mr,hiddenFrom:hr,visibleFrom:gr,lightHidden:xr,darkHidden:_r,renderRoot:yr,__size:vr,...br},Sr)=>{const wr=useMantineTheme(),Mr=e||"div",{styleProps:kr,rest:Ar}=extractStyleProps(br),$r=useMantineSxTransform()?.()?.(kr.sx),Dr=useRandomClassName(),Or=parseStyleProps({styleProps:kr,theme:wr,data:STYlE_PROPS_DATA}),Fr={ref:Sr,style:getBoxStyle({theme:wr,style:rr,vars:ir,styleProps:Or.inlineStyles}),className:clsx(lr,$r,{[Dr]:Or.hasResponsiveStyles,"mantine-light-hidden":xr,"mantine-dark-hidden":_r,[`mantine-hidden-from-${hr}`]:hr,[`mantine-visible-from-${gr}`]:gr}),"data-variant":dr,"data-size":isNumberLike(mr)?void 0:mr||void 0,size:vr,...getBoxMod(fr),...Ar};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Or.hasResponsiveStyles&&jsxRuntimeExports.jsx(InlineStyles,{selector:`.${Dr}`,styles:Or.styles,media:Or.media}),typeof yr=="function"?yr(Fr):jsxRuntimeExports.jsx(Mr,{...Fr})]})});_Box.displayName="@mantine/core/Box";const Box=_Box;function identity$1(e){return e}function getWithProps(e){const rr=e;return ir=>{const lr=reactExports.forwardRef((dr,fr)=>jsxRuntimeExports.jsx(rr,{...ir,...dr,ref:fr}));return lr.extend=rr.extend,lr.displayName=`WithProps(${rr.displayName})`,lr}}function factory(e){const rr=reactExports.forwardRef(e);return rr.extend=identity$1,rr.withProps=ir=>{const lr=reactExports.forwardRef((dr,fr)=>jsxRuntimeExports.jsx(rr,{...ir,...dr,ref:fr}));return lr.extend=rr.extend,lr.displayName=`WithProps(${rr.displayName})`,lr},rr}function polymorphicFactory(e){const rr=reactExports.forwardRef(e);return rr.withProps=ir=>{const lr=reactExports.forwardRef((dr,fr)=>jsxRuntimeExports.jsx(rr,{...ir,...dr,ref:fr}));return lr.extend=rr.extend,lr.displayName=`WithProps(${rr.displayName})`,lr},rr.extend=identity$1,rr}const DirectionContext=reactExports.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function useDirection(){return reactExports.useContext(DirectionContext)}function getAutoHeightDuration(e){if(!e||typeof e=="string")return 0;const rr=e/36;return Math.round((4+15*rr**.25+rr/5)*10)}function getElementHeight(e){return e?.current?e.current.scrollHeight:"auto"}const raf=typeof window<"u"&&window.requestAnimationFrame;function useCollapse({transitionDuration:e,transitionTimingFunction:rr="ease",onTransitionEnd:ir=()=>{},opened:lr}){const dr=reactExports.useRef(null),fr=0,mr={height:0,overflow:"hidden"},[hr,gr]=reactExports.useState(lr?{}:mr),xr=Sr=>{reactDomExports.flushSync(()=>gr(Sr))},_r=Sr=>{xr(wr=>({...wr,...Sr}))};function yr(Sr){const wr=e||getAutoHeightDuration(Sr);return{transition:`height ${wr}ms ${rr}, opacity ${wr}ms ${rr}`}}useDidUpdate(()=>{typeof raf=="function"&&raf(lr?()=>{_r({willChange:"height",display:"block",overflow:"hidden"}),raf(()=>{const Sr=getElementHeight(dr);_r({...yr(Sr),height:Sr})})}:()=>{const Sr=getElementHeight(dr);_r({...yr(Sr),willChange:"height",height:Sr}),raf(()=>_r({height:fr,overflow:"hidden"}))})},[lr]);const vr=Sr=>{if(!(Sr.target!==dr.current||Sr.propertyName!=="height"))if(lr){const wr=getElementHeight(dr);wr===hr.height?xr({}):_r({height:wr}),ir()}else hr.height===fr&&(xr(mr),ir())};function br({style:Sr={},refKey:wr="ref",...Mr}={}){const kr=Mr[wr],Ar={"aria-hidden":!lr,...Mr,[wr]:mergeRefs$2(dr,kr),onTransitionEnd:vr,style:{boxSizing:"border-box",...Sr,...hr}};return React$2.version.startsWith("18")?lr||(Ar.inert=""):Ar.inert=!lr,Ar}return br}const defaultProps$2h={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},Collapse=factory((e,rr)=>{const{children:ir,in:lr,transitionDuration:dr,transitionTimingFunction:fr,style:mr,onTransitionEnd:hr,animateOpacity:gr,...xr}=useProps("Collapse",defaultProps$2h,e),_r=useMantineTheme(),yr=useReducedMotion(),br=(_r.respectReducedMotion?yr:!1)?0:dr,Sr=useCollapse({opened:lr,transitionDuration:br,transitionTimingFunction:fr,onTransitionEnd:hr});return br===0?lr?jsxRuntimeExports.jsx(Box,{...xr,children:ir}):null:jsxRuntimeExports.jsx(Box,{...Sr({style:{opacity:lr||!gr?1:0,transition:gr?`opacity ${br}ms ${fr}`:"none",...getStyleObject(mr,_r)},ref:rr,...xr}),children:ir})});Collapse.displayName="@mantine/core/Collapse";function hasWindow(){return typeof window<"u"}function getNodeName(e){return isNode$1(e)?(e.nodeName||"").toLowerCase():"#document"}function getWindow$1(e){var rr;return(e==null||(rr=e.ownerDocument)==null?void 0:rr.defaultView)||window}function getDocumentElement(e){var rr;return(rr=(isNode$1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:rr.documentElement}function isNode$1(e){return hasWindow()?e instanceof Node||e instanceof getWindow$1(e).Node:!1}function isElement(e){return hasWindow()?e instanceof Element||e instanceof getWindow$1(e).Element:!1}function isHTMLElement$1(e){return hasWindow()?e instanceof HTMLElement||e instanceof getWindow$1(e).HTMLElement:!1}function isShadowRoot(e){return!hasWindow()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof getWindow$1(e).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(e){const{overflow:rr,overflowX:ir,overflowY:lr,display:dr}=getComputedStyle$1(e);return/auto|scroll|overlay|hidden|clip/.test(rr+lr+ir)&&!invalidOverflowDisplayValues.has(dr)}const tableElements=new Set(["table","td","th"]);function isTableElement(e){return tableElements.has(getNodeName(e))}const topLayerSelectors=[":popover-open",":modal"];function isTopLayer(e){return topLayerSelectors.some(rr=>{try{return e.matches(rr)}catch{return!1}})}const transformProperties=["transform","translate","scale","rotate","perspective"],willChangeValues=["transform","translate","scale","rotate","perspective","filter"],containValues=["paint","layout","strict","content"];function isContainingBlock(e){const rr=isWebKit(),ir=isElement(e)?getComputedStyle$1(e):e;return transformProperties.some(lr=>ir[lr]?ir[lr]!=="none":!1)||(ir.containerType?ir.containerType!=="normal":!1)||!rr&&(ir.backdropFilter?ir.backdropFilter!=="none":!1)||!rr&&(ir.filter?ir.filter!=="none":!1)||willChangeValues.some(lr=>(ir.willChange||"").includes(lr))||containValues.some(lr=>(ir.contain||"").includes(lr))}function getContainingBlock(e){let rr=getParentNode(e);for(;isHTMLElement$1(rr)&&!isLastTraversableNode(rr);){if(isContainingBlock(rr))return rr;if(isTopLayer(rr))return null;rr=getParentNode(rr)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(e){return lastTraversableNodeNames.has(getNodeName(e))}function getComputedStyle$1(e){return getWindow$1(e).getComputedStyle(e)}function getNodeScroll(e){return isElement(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function getParentNode(e){if(getNodeName(e)==="html")return e;const rr=e.assignedSlot||e.parentNode||isShadowRoot(e)&&e.host||getDocumentElement(e);return isShadowRoot(rr)?rr.host:rr}function getNearestOverflowAncestor(e){const rr=getParentNode(e);return isLastTraversableNode(rr)?e.ownerDocument?e.ownerDocument.body:e.body:isHTMLElement$1(rr)&&isOverflowElement(rr)?rr:getNearestOverflowAncestor(rr)}function getOverflowAncestors(e,rr,ir){var lr;rr===void 0&&(rr=[]),ir===void 0&&(ir=!0);const dr=getNearestOverflowAncestor(e),fr=dr===((lr=e.ownerDocument)==null?void 0:lr.body),mr=getWindow$1(dr);if(fr){const hr=getFrameElement(mr);return rr.concat(mr,mr.visualViewport||[],isOverflowElement(dr)?dr:[],hr&&ir?getOverflowAncestors(hr):[])}return rr.concat(dr,getOverflowAncestors(dr,[],ir))}function getFrameElement(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function activeElement$1(e){let rr=e.activeElement;for(;((ir=rr)==null||(ir=ir.shadowRoot)==null?void 0:ir.activeElement)!=null;){var ir;rr=rr.shadowRoot.activeElement}return rr}function contains$1(e,rr){if(!e||!rr)return!1;const ir=rr.getRootNode==null?void 0:rr.getRootNode();if(e.contains(rr))return!0;if(ir&&isShadowRoot(ir)){let lr=rr;for(;lr;){if(e===lr)return!0;lr=lr.parentNode||lr.host}}return!1}function getPlatform$1(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function getUserAgent$1(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(rr=>{let{brand:ir,version:lr}=rr;return ir+"/"+lr}).join(" "):navigator.userAgent}function isVirtualPointerEvent$1(e){return isJSDOM$1()?!1:!isAndroid$2()&&e.width===0&&e.height===0||isAndroid$2()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function isSafari$1(){return/apple/i.test(navigator.vendor)}function isAndroid$2(){const e=/android/i;return e.test(getPlatform$1())||e.test(getUserAgent$1())}function isMac$1(){return getPlatform$1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function isJSDOM$1(){return getUserAgent$1().includes("jsdom/")}function isMouseLikePointerType$1(e,rr){const ir=["mouse","pen"];return ir.push("",void 0),ir.includes(e)}function isReactEvent$1(e){return"nativeEvent"in e}function isRootElement$1(e){return e.matches("html,body")}function getDocument$2(e){return e?.ownerDocument||document}function isEventTargetWithin$1(e,rr){if(rr==null)return!1;if("composedPath"in e)return e.composedPath().includes(rr);const ir=e;return ir.target!=null&&rr.contains(ir.target)}function getTarget$1(e){return"composedPath"in e?e.composedPath()[0]:e.target}const TYPEABLE_SELECTOR$1="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function isTypeableElement$1(e){return isHTMLElement$1(e)&&e.matches(TYPEABLE_SELECTOR$1)}const sides=["top","right","bottom","left"],min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=e=>({x:e,y:e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$2(e,rr,ir){return max(e,min(rr,ir))}function evaluate(e,rr){return typeof e=="function"?e(rr):e}function getSide$1(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return e==="x"?"y":"x"}function getAxisLength(e){return e==="y"?"height":"width"}const yAxisSides=new Set(["top","bottom"]);function getSideAxis(e){return yAxisSides.has(getSide$1(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,rr,ir){ir===void 0&&(ir=!1);const lr=getAlignment(e),dr=getAlignmentAxis(e),fr=getAxisLength(dr);let mr=dr==="x"?lr===(ir?"end":"start")?"right":"left":lr==="start"?"bottom":"top";return rr.reference[fr]>rr.floating[fr]&&(mr=getOppositePlacement(mr)),[mr,getOppositePlacement(mr)]}function getExpandedPlacements(e){const rr=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),rr,getOppositeAlignmentPlacement(rr)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,rr=>oppositeAlignmentMap[rr])}const lrPlacement=["left","right"],rlPlacement=["right","left"],tbPlacement=["top","bottom"],btPlacement=["bottom","top"];function getSideList(e,rr,ir){switch(e){case"top":case"bottom":return ir?rr?rlPlacement:lrPlacement:rr?lrPlacement:rlPlacement;case"left":case"right":return rr?tbPlacement:btPlacement;default:return[]}}function getOppositeAxisPlacements(e,rr,ir,lr){const dr=getAlignment(e);let fr=getSideList(getSide$1(e),ir==="start",lr);return dr&&(fr=fr.map(mr=>mr+"-"+dr),rr&&(fr=fr.concat(fr.map(getOppositeAlignmentPlacement)))),fr}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,rr=>oppositeSideMap[rr])}function expandPaddingObject(e){return{top:0,right:0,bottom:0,left:0,...e}}function getPaddingObject(e){return typeof e!="number"?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){const{x:rr,y:ir,width:lr,height:dr}=e;return{width:lr,height:dr,top:ir,left:rr,right:rr+lr,bottom:ir+dr,x:rr,y:ir}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches$1=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(e){var rr;return e==null||(rr=e.getRootNode)===null||rr===void 0?void 0:rr.call(e)}:function(e){return e?.ownerDocument},isInert=function e(rr,ir){var lr;ir===void 0&&(ir=!0);var dr=rr==null||(lr=rr.getAttribute)===null||lr===void 0?void 0:lr.call(rr,"inert"),fr=dr===""||dr==="true",mr=fr||ir&&rr&&e(rr.parentNode);return mr},isContentEditable=function(rr){var ir,lr=rr==null||(ir=rr.getAttribute)===null||ir===void 0?void 0:ir.call(rr,"contenteditable");return lr===""||lr==="true"},getCandidates=function(rr,ir,lr){if(isInert(rr))return[];var dr=Array.prototype.slice.apply(rr.querySelectorAll(candidateSelector));return ir&&matches$1.call(rr,candidateSelector)&&dr.unshift(rr),dr=dr.filter(lr),dr},getCandidatesIteratively=function e(rr,ir,lr){for(var dr=[],fr=Array.from(rr);fr.length;){var mr=fr.shift();if(!isInert(mr,!1))if(mr.tagName==="SLOT"){var hr=mr.assignedElements(),gr=hr.length?hr:mr.children,xr=e(gr,!0,lr);lr.flatten?dr.push.apply(dr,xr):dr.push({scopeParent:mr,candidates:xr})}else{var _r=matches$1.call(mr,candidateSelector);_r&&lr.filter(mr)&&(ir||!rr.includes(mr))&&dr.push(mr);var yr=mr.shadowRoot||typeof lr.getShadowRoot=="function"&&lr.getShadowRoot(mr),vr=!isInert(yr,!1)&&(!lr.shadowRootFilter||lr.shadowRootFilter(mr));if(yr&&vr){var br=e(yr===!0?mr.children:yr.children,!0,lr);lr.flatten?dr.push.apply(dr,br):dr.push({scopeParent:mr,candidates:br})}else fr.unshift.apply(fr,mr.children)}}return dr},hasTabIndex=function(rr){return!isNaN(parseInt(rr.getAttribute("tabindex"),10))},getTabIndex=function(rr){if(!rr)throw new Error("No node provided");return rr.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(rr.tagName)||isContentEditable(rr))&&!hasTabIndex(rr)?0:rr.tabIndex},getSortOrderTabIndex=function(rr,ir){var lr=getTabIndex(rr);return lr<0&&ir&&!hasTabIndex(rr)?0:lr},sortOrderedTabbables=function(rr,ir){return rr.tabIndex===ir.tabIndex?rr.documentOrder-ir.documentOrder:rr.tabIndex-ir.tabIndex},isInput=function(rr){return rr.tagName==="INPUT"},isHiddenInput=function(rr){return isInput(rr)&&rr.type==="hidden"},isDetailsWithSummary=function(rr){var ir=rr.tagName==="DETAILS"&&Array.prototype.slice.apply(rr.children).some(function(lr){return lr.tagName==="SUMMARY"});return ir},getCheckedRadio=function(rr,ir){for(var lr=0;lr<rr.length;lr++)if(rr[lr].checked&&rr[lr].form===ir)return rr[lr]},isTabbableRadio=function(rr){if(!rr.name)return!0;var ir=rr.form||getRootNode(rr),lr=function(hr){return ir.querySelectorAll('input[type="radio"][name="'+hr+'"]')},dr;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")dr=lr(window.CSS.escape(rr.name));else try{dr=lr(rr.name)}catch(mr){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",mr.message),!1}var fr=getCheckedRadio(dr,rr.form);return!fr||fr===rr},isRadio=function(rr){return isInput(rr)&&rr.type==="radio"},isNonTabbableRadio=function(rr){return isRadio(rr)&&!isTabbableRadio(rr)},isNodeAttached=function(rr){var ir,lr=rr&&getRootNode(rr),dr=(ir=lr)===null||ir===void 0?void 0:ir.host,fr=!1;if(lr&&lr!==rr){var mr,hr,gr;for(fr=!!((mr=dr)!==null&&mr!==void 0&&(hr=mr.ownerDocument)!==null&&hr!==void 0&&hr.contains(dr)||rr!=null&&(gr=rr.ownerDocument)!==null&&gr!==void 0&&gr.contains(rr));!fr&&dr;){var xr,_r,yr;lr=getRootNode(dr),dr=(xr=lr)===null||xr===void 0?void 0:xr.host,fr=!!((_r=dr)!==null&&_r!==void 0&&(yr=_r.ownerDocument)!==null&&yr!==void 0&&yr.contains(dr))}}return fr},isZeroArea=function(rr){var ir=rr.getBoundingClientRect(),lr=ir.width,dr=ir.height;return lr===0&&dr===0},isHidden=function(rr,ir){var lr=ir.displayCheck,dr=ir.getShadowRoot;if(getComputedStyle(rr).visibility==="hidden")return!0;var fr=matches$1.call(rr,"details>summary:first-of-type"),mr=fr?rr.parentElement:rr;if(matches$1.call(mr,"details:not([open]) *"))return!0;if(!lr||lr==="full"||lr==="legacy-full"){if(typeof dr=="function"){for(var hr=rr;rr;){var gr=rr.parentElement,xr=getRootNode(rr);if(gr&&!gr.shadowRoot&&dr(gr)===!0)return isZeroArea(rr);rr.assignedSlot?rr=rr.assignedSlot:!gr&&xr!==rr.ownerDocument?rr=xr.host:rr=gr}rr=hr}if(isNodeAttached(rr))return!rr.getClientRects().length;if(lr!=="legacy-full")return!0}else if(lr==="non-zero-area")return isZeroArea(rr);return!1},isDisabledFromFieldset=function(rr){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(rr.tagName))for(var ir=rr.parentElement;ir;){if(ir.tagName==="FIELDSET"&&ir.disabled){for(var lr=0;lr<ir.children.length;lr++){var dr=ir.children.item(lr);if(dr.tagName==="LEGEND")return matches$1.call(ir,"fieldset[disabled] *")?!0:!dr.contains(rr)}return!0}ir=ir.parentElement}return!1},isNodeMatchingSelectorFocusable=function(rr,ir){return!(ir.disabled||isInert(ir)||isHiddenInput(ir)||isHidden(ir,rr)||isDetailsWithSummary(ir)||isDisabledFromFieldset(ir))},isNodeMatchingSelectorTabbable=function(rr,ir){return!(isNonTabbableRadio(ir)||getTabIndex(ir)<0||!isNodeMatchingSelectorFocusable(rr,ir))},isValidShadowRootTabbable=function(rr){var ir=parseInt(rr.getAttribute("tabindex"),10);return!!(isNaN(ir)||ir>=0)},sortByOrder=function e(rr){var ir=[],lr=[];return rr.forEach(function(dr,fr){var mr=!!dr.scopeParent,hr=mr?dr.scopeParent:dr,gr=getSortOrderTabIndex(hr,mr),xr=mr?e(dr.candidates):hr;gr===0?mr?ir.push.apply(ir,xr):ir.push(hr):lr.push({documentOrder:fr,tabIndex:gr,item:dr,isScope:mr,content:xr})}),lr.sort(sortOrderedTabbables).reduce(function(dr,fr){return fr.isScope?dr.push.apply(dr,fr.content):dr.push(fr.content),dr},[]).concat(ir)},tabbable=function(rr,ir){ir=ir||{};var lr;return ir.getShadowRoot?lr=getCandidatesIteratively([rr],ir.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,ir),flatten:!1,getShadowRoot:ir.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):lr=getCandidates(rr,ir.includeContainer,isNodeMatchingSelectorTabbable.bind(null,ir)),sortByOrder(lr)},focusable=function(rr,ir){ir=ir||{};var lr;return ir.getShadowRoot?lr=getCandidatesIteratively([rr],ir.includeContainer,{filter:isNodeMatchingSelectorFocusable.bind(null,ir),flatten:!0,getShadowRoot:ir.getShadowRoot}):lr=getCandidates(rr,ir.includeContainer,isNodeMatchingSelectorFocusable.bind(null,ir)),lr},isTabbable=function(rr,ir){if(ir=ir||{},!rr)throw new Error("No node provided");return matches$1.call(rr,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(ir,rr)};function computeCoordsFromPlacement(e,rr,ir){let{reference:lr,floating:dr}=e;const fr=getSideAxis(rr),mr=getAlignmentAxis(rr),hr=getAxisLength(mr),gr=getSide$1(rr),xr=fr==="y",_r=lr.x+lr.width/2-dr.width/2,yr=lr.y+lr.height/2-dr.height/2,vr=lr[hr]/2-dr[hr]/2;let br;switch(gr){case"top":br={x:_r,y:lr.y-dr.height};break;case"bottom":br={x:_r,y:lr.y+lr.height};break;case"right":br={x:lr.x+lr.width,y:yr};break;case"left":br={x:lr.x-dr.width,y:yr};break;default:br={x:lr.x,y:lr.y}}switch(getAlignment(rr)){case"start":br[mr]-=vr*(ir&&xr?-1:1);break;case"end":br[mr]+=vr*(ir&&xr?-1:1);break}return br}const computePosition$1=async(e,rr,ir)=>{const{placement:lr="bottom",strategy:dr="absolute",middleware:fr=[],platform:mr}=ir,hr=fr.filter(Boolean),gr=await(mr.isRTL==null?void 0:mr.isRTL(rr));let xr=await mr.getElementRects({reference:e,floating:rr,strategy:dr}),{x:_r,y:yr}=computeCoordsFromPlacement(xr,lr,gr),vr=lr,br={},Sr=0;for(let wr=0;wr<hr.length;wr++){const{name:Mr,fn:kr}=hr[wr],{x:Ar,y:Ir,data:$r,reset:Dr}=await kr({x:_r,y:yr,initialPlacement:lr,placement:vr,strategy:dr,middlewareData:br,rects:xr,platform:mr,elements:{reference:e,floating:rr}});_r=Ar??_r,yr=Ir??yr,br={...br,[Mr]:{...br[Mr],...$r}},Dr&&Sr<=50&&(Sr++,typeof Dr=="object"&&(Dr.placement&&(vr=Dr.placement),Dr.rects&&(xr=Dr.rects===!0?await mr.getElementRects({reference:e,floating:rr,strategy:dr}):Dr.rects),{x:_r,y:yr}=computeCoordsFromPlacement(xr,vr,gr)),wr=-1)}return{x:_r,y:yr,placement:vr,strategy:dr,middlewareData:br}};async function detectOverflow(e,rr){var ir;rr===void 0&&(rr={});const{x:lr,y:dr,platform:fr,rects:mr,elements:hr,strategy:gr}=e,{boundary:xr="clippingAncestors",rootBoundary:_r="viewport",elementContext:yr="floating",altBoundary:vr=!1,padding:br=0}=evaluate(rr,e),Sr=getPaddingObject(br),Mr=hr[vr?yr==="floating"?"reference":"floating":yr],kr=rectToClientRect(await fr.getClippingRect({element:(ir=await(fr.isElement==null?void 0:fr.isElement(Mr)))==null||ir?Mr:Mr.contextElement||await(fr.getDocumentElement==null?void 0:fr.getDocumentElement(hr.floating)),boundary:xr,rootBoundary:_r,strategy:gr})),Ar=yr==="floating"?{x:lr,y:dr,width:mr.floating.width,height:mr.floating.height}:mr.reference,Ir=await(fr.getOffsetParent==null?void 0:fr.getOffsetParent(hr.floating)),$r=await(fr.isElement==null?void 0:fr.isElement(Ir))?await(fr.getScale==null?void 0:fr.getScale(Ir))||{x:1,y:1}:{x:1,y:1},Dr=rectToClientRect(fr.convertOffsetParentRelativeRectToViewportRelativeRect?await fr.convertOffsetParentRelativeRectToViewportRelativeRect({elements:hr,rect:Ar,offsetParent:Ir,strategy:gr}):Ar);return{top:(kr.top-Dr.top+Sr.top)/$r.y,bottom:(Dr.bottom-kr.bottom+Sr.bottom)/$r.y,left:(kr.left-Dr.left+Sr.left)/$r.x,right:(Dr.right-kr.right+Sr.right)/$r.x}}const arrow$4=e=>({name:"arrow",options:e,async fn(rr){const{x:ir,y:lr,placement:dr,rects:fr,platform:mr,elements:hr,middlewareData:gr}=rr,{element:xr,padding:_r=0}=evaluate(e,rr)||{};if(xr==null)return{};const yr=getPaddingObject(_r),vr={x:ir,y:lr},br=getAlignmentAxis(dr),Sr=getAxisLength(br),wr=await mr.getDimensions(xr),Mr=br==="y",kr=Mr?"top":"left",Ar=Mr?"bottom":"right",Ir=Mr?"clientHeight":"clientWidth",$r=fr.reference[Sr]+fr.reference[br]-vr[br]-fr.floating[Sr],Dr=vr[br]-fr.reference[br],Or=await(mr.getOffsetParent==null?void 0:mr.getOffsetParent(xr));let Fr=Or?Or[Ir]:0;(!Fr||!await(mr.isElement==null?void 0:mr.isElement(Or)))&&(Fr=hr.floating[Ir]||fr.floating[Sr]);const Lr=$r/2-Dr/2,zr=Fr/2-wr[Sr]/2-1,Gr=min(yr[kr],zr),Jr=min(yr[Ar],zr),Yn=Gr,Jn=Fr-wr[Sr]-Jr,Zn=Fr/2-wr[Sr]/2+Lr,Hn=clamp$2(Yn,Zn,Jn),Kn=!gr.arrow&&getAlignment(dr)!=null&&Zn!==Hn&&fr.reference[Sr]/2-(Zn<Yn?Gr:Jr)-wr[Sr]/2<0,qn=Kn?Zn<Yn?Zn-Yn:Zn-Jn:0;return{[br]:vr[br]+qn,data:{[br]:Hn,centerOffset:Zn-Hn-qn,...Kn&&{alignmentOffset:qn}},reset:Kn}}}),flip$2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(rr){var ir,lr;const{placement:dr,middlewareData:fr,rects:mr,initialPlacement:hr,platform:gr,elements:xr}=rr,{mainAxis:_r=!0,crossAxis:yr=!0,fallbackPlacements:vr,fallbackStrategy:br="bestFit",fallbackAxisSideDirection:Sr="none",flipAlignment:wr=!0,...Mr}=evaluate(e,rr);if((ir=fr.arrow)!=null&&ir.alignmentOffset)return{};const kr=getSide$1(dr),Ar=getSideAxis(hr),Ir=getSide$1(hr)===hr,$r=await(gr.isRTL==null?void 0:gr.isRTL(xr.floating)),Dr=vr||(Ir||!wr?[getOppositePlacement(hr)]:getExpandedPlacements(hr)),Or=Sr!=="none";!vr&&Or&&Dr.push(...getOppositeAxisPlacements(hr,wr,Sr,$r));const Fr=[hr,...Dr],Lr=await detectOverflow(rr,Mr),zr=[];let Gr=((lr=fr.flip)==null?void 0:lr.overflows)||[];if(_r&&zr.push(Lr[kr]),yr){const Zn=getAlignmentSides(dr,mr,$r);zr.push(Lr[Zn[0]],Lr[Zn[1]])}if(Gr=[...Gr,{placement:dr,overflows:zr}],!zr.every(Zn=>Zn<=0)){var Jr,Yn;const Zn=(((Jr=fr.flip)==null?void 0:Jr.index)||0)+1,Hn=Fr[Zn];if(Hn&&(!(yr==="alignment"?Ar!==getSideAxis(Hn):!1)||Gr.every(Qr=>Qr.overflows[0]>0&&getSideAxis(Qr.placement)===Ar)))return{data:{index:Zn,overflows:Gr},reset:{placement:Hn}};let Kn=(Yn=Gr.filter(qn=>qn.overflows[0]<=0).sort((qn,Qr)=>qn.overflows[1]-Qr.overflows[1])[0])==null?void 0:Yn.placement;if(!Kn)switch(br){case"bestFit":{var Jn;const qn=(Jn=Gr.filter(Qr=>{if(Or){const $n=getSideAxis(Qr.placement);return $n===Ar||$n==="y"}return!0}).map(Qr=>[Qr.placement,Qr.overflows.filter($n=>$n>0).reduce(($n,es)=>$n+es,0)]).sort((Qr,$n)=>Qr[1]-$n[1])[0])==null?void 0:Jn[0];qn&&(Kn=qn);break}case"initialPlacement":Kn=hr;break}if(dr!==Kn)return{reset:{placement:Kn}}}return{}}}};function getSideOffsets(e,rr){return{top:e.top-rr.height,right:e.right-rr.width,bottom:e.bottom-rr.height,left:e.left-rr.width}}function isAnySideFullyClipped(e){return sides.some(rr=>e[rr]>=0)}const hide$2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(rr){const{rects:ir}=rr,{strategy:lr="referenceHidden",...dr}=evaluate(e,rr);switch(lr){case"referenceHidden":{const fr=await detectOverflow(rr,{...dr,elementContext:"reference"}),mr=getSideOffsets(fr,ir.reference);return{data:{referenceHiddenOffsets:mr,referenceHidden:isAnySideFullyClipped(mr)}}}case"escaped":{const fr=await detectOverflow(rr,{...dr,altBoundary:!0}),mr=getSideOffsets(fr,ir.floating);return{data:{escapedOffsets:mr,escaped:isAnySideFullyClipped(mr)}}}default:return{}}}}};function getBoundingRect(e){const rr=min(...e.map(fr=>fr.left)),ir=min(...e.map(fr=>fr.top)),lr=max(...e.map(fr=>fr.right)),dr=max(...e.map(fr=>fr.bottom));return{x:rr,y:ir,width:lr-rr,height:dr-ir}}function getRectsByLine(e){const rr=e.slice().sort((dr,fr)=>dr.y-fr.y),ir=[];let lr=null;for(let dr=0;dr<rr.length;dr++){const fr=rr[dr];!lr||fr.y-lr.y>lr.height/2?ir.push([fr]):ir[ir.length-1].push(fr),lr=fr}return ir.map(dr=>rectToClientRect(getBoundingRect(dr)))}const inline$2=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(rr){const{placement:ir,elements:lr,rects:dr,platform:fr,strategy:mr}=rr,{padding:hr=2,x:gr,y:xr}=evaluate(e,rr),_r=Array.from(await(fr.getClientRects==null?void 0:fr.getClientRects(lr.reference))||[]),yr=getRectsByLine(_r),vr=rectToClientRect(getBoundingRect(_r)),br=getPaddingObject(hr);function Sr(){if(yr.length===2&&yr[0].left>yr[1].right&&gr!=null&&xr!=null)return yr.find(Mr=>gr>Mr.left-br.left&&gr<Mr.right+br.right&&xr>Mr.top-br.top&&xr<Mr.bottom+br.bottom)||vr;if(yr.length>=2){if(getSideAxis(ir)==="y"){const Gr=yr[0],Jr=yr[yr.length-1],Yn=getSide$1(ir)==="top",Jn=Gr.top,Zn=Jr.bottom,Hn=Yn?Gr.left:Jr.left,Kn=Yn?Gr.right:Jr.right,qn=Kn-Hn,Qr=Zn-Jn;return{top:Jn,bottom:Zn,left:Hn,right:Kn,width:qn,height:Qr,x:Hn,y:Jn}}const Mr=getSide$1(ir)==="left",kr=max(...yr.map(Gr=>Gr.right)),Ar=min(...yr.map(Gr=>Gr.left)),Ir=yr.filter(Gr=>Mr?Gr.left===Ar:Gr.right===kr),$r=Ir[0].top,Dr=Ir[Ir.length-1].bottom,Or=Ar,Fr=kr,Lr=Fr-Or,zr=Dr-$r;return{top:$r,bottom:Dr,left:Or,right:Fr,width:Lr,height:zr,x:Or,y:$r}}return vr}const wr=await fr.getElementRects({reference:{getBoundingClientRect:Sr},floating:lr.floating,strategy:mr});return dr.reference.x!==wr.reference.x||dr.reference.y!==wr.reference.y||dr.reference.width!==wr.reference.width||dr.reference.height!==wr.reference.height?{reset:{rects:wr}}:{}}}},originSides=new Set(["left","top"]);async function convertValueToCoords(e,rr){const{placement:ir,platform:lr,elements:dr}=e,fr=await(lr.isRTL==null?void 0:lr.isRTL(dr.floating)),mr=getSide$1(ir),hr=getAlignment(ir),gr=getSideAxis(ir)==="y",xr=originSides.has(mr)?-1:1,_r=fr&&gr?-1:1,yr=evaluate(rr,e);let{mainAxis:vr,crossAxis:br,alignmentAxis:Sr}=typeof yr=="number"?{mainAxis:yr,crossAxis:0,alignmentAxis:null}:{mainAxis:yr.mainAxis||0,crossAxis:yr.crossAxis||0,alignmentAxis:yr.alignmentAxis};return hr&&typeof Sr=="number"&&(br=hr==="end"?Sr*-1:Sr),gr?{x:br*_r,y:vr*xr}:{x:vr*xr,y:br*_r}}const offset$2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(rr){var ir,lr;const{x:dr,y:fr,placement:mr,middlewareData:hr}=rr,gr=await convertValueToCoords(rr,e);return mr===((ir=hr.offset)==null?void 0:ir.placement)&&(lr=hr.arrow)!=null&&lr.alignmentOffset?{}:{x:dr+gr.x,y:fr+gr.y,data:{...gr,placement:mr}}}}},shift$3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(rr){const{x:ir,y:lr,placement:dr}=rr,{mainAxis:fr=!0,crossAxis:mr=!1,limiter:hr={fn:Mr=>{let{x:kr,y:Ar}=Mr;return{x:kr,y:Ar}}},...gr}=evaluate(e,rr),xr={x:ir,y:lr},_r=await detectOverflow(rr,gr),yr=getSideAxis(getSide$1(dr)),vr=getOppositeAxis(yr);let br=xr[vr],Sr=xr[yr];if(fr){const Mr=vr==="y"?"top":"left",kr=vr==="y"?"bottom":"right",Ar=br+_r[Mr],Ir=br-_r[kr];br=clamp$2(Ar,br,Ir)}if(mr){const Mr=yr==="y"?"top":"left",kr=yr==="y"?"bottom":"right",Ar=Sr+_r[Mr],Ir=Sr-_r[kr];Sr=clamp$2(Ar,Sr,Ir)}const wr=hr.fn({...rr,[vr]:br,[yr]:Sr});return{...wr,data:{x:wr.x-ir,y:wr.y-lr,enabled:{[vr]:fr,[yr]:mr}}}}}},limitShift$2=function(e){return e===void 0&&(e={}),{options:e,fn(rr){const{x:ir,y:lr,placement:dr,rects:fr,middlewareData:mr}=rr,{offset:hr=0,mainAxis:gr=!0,crossAxis:xr=!0}=evaluate(e,rr),_r={x:ir,y:lr},yr=getSideAxis(dr),vr=getOppositeAxis(yr);let br=_r[vr],Sr=_r[yr];const wr=evaluate(hr,rr),Mr=typeof wr=="number"?{mainAxis:wr,crossAxis:0}:{mainAxis:0,crossAxis:0,...wr};if(gr){const Ir=vr==="y"?"height":"width",$r=fr.reference[vr]-fr.floating[Ir]+Mr.mainAxis,Dr=fr.reference[vr]+fr.reference[Ir]-Mr.mainAxis;br<$r?br=$r:br>Dr&&(br=Dr)}if(xr){var kr,Ar;const Ir=vr==="y"?"width":"height",$r=originSides.has(getSide$1(dr)),Dr=fr.reference[yr]-fr.floating[Ir]+($r&&((kr=mr.offset)==null?void 0:kr[yr])||0)+($r?0:Mr.crossAxis),Or=fr.reference[yr]+fr.reference[Ir]+($r?0:((Ar=mr.offset)==null?void 0:Ar[yr])||0)-($r?Mr.crossAxis:0);Sr<Dr?Sr=Dr:Sr>Or&&(Sr=Or)}return{[vr]:br,[yr]:Sr}}}},size$2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(rr){var ir,lr;const{placement:dr,rects:fr,platform:mr,elements:hr}=rr,{apply:gr=()=>{},...xr}=evaluate(e,rr),_r=await detectOverflow(rr,xr),yr=getSide$1(dr),vr=getAlignment(dr),br=getSideAxis(dr)==="y",{width:Sr,height:wr}=fr.floating;let Mr,kr;yr==="top"||yr==="bottom"?(Mr=yr,kr=vr===(await(mr.isRTL==null?void 0:mr.isRTL(hr.floating))?"start":"end")?"left":"right"):(kr=yr,Mr=vr==="end"?"top":"bottom");const Ar=wr-_r.top-_r.bottom,Ir=Sr-_r.left-_r.right,$r=min(wr-_r[Mr],Ar),Dr=min(Sr-_r[kr],Ir),Or=!rr.middlewareData.shift;let Fr=$r,Lr=Dr;if((ir=rr.middlewareData.shift)!=null&&ir.enabled.x&&(Lr=Ir),(lr=rr.middlewareData.shift)!=null&&lr.enabled.y&&(Fr=Ar),Or&&!vr){const Gr=max(_r.left,0),Jr=max(_r.right,0),Yn=max(_r.top,0),Jn=max(_r.bottom,0);br?Lr=Sr-2*(Gr!==0||Jr!==0?Gr+Jr:max(_r.left,_r.right)):Fr=wr-2*(Yn!==0||Jn!==0?Yn+Jn:max(_r.top,_r.bottom))}await gr({...rr,availableWidth:Lr,availableHeight:Fr});const zr=await mr.getDimensions(hr.floating);return Sr!==zr.width||wr!==zr.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(e){const rr=getComputedStyle$1(e);let ir=parseFloat(rr.width)||0,lr=parseFloat(rr.height)||0;const dr=isHTMLElement$1(e),fr=dr?e.offsetWidth:ir,mr=dr?e.offsetHeight:lr,hr=round(ir)!==fr||round(lr)!==mr;return hr&&(ir=fr,lr=mr),{width:ir,height:lr,$:hr}}function unwrapElement(e){return isElement(e)?e:e.contextElement}function getScale(e){const rr=unwrapElement(e);if(!isHTMLElement$1(rr))return createCoords(1);const ir=rr.getBoundingClientRect(),{width:lr,height:dr,$:fr}=getCssDimensions(rr);let mr=(fr?round(ir.width):ir.width)/lr,hr=(fr?round(ir.height):ir.height)/dr;return(!mr||!Number.isFinite(mr))&&(mr=1),(!hr||!Number.isFinite(hr))&&(hr=1),{x:mr,y:hr}}const noOffsets=createCoords(0);function getVisualOffsets(e){const rr=getWindow$1(e);return!isWebKit()||!rr.visualViewport?noOffsets:{x:rr.visualViewport.offsetLeft,y:rr.visualViewport.offsetTop}}function shouldAddVisualOffsets(e,rr,ir){return rr===void 0&&(rr=!1),!ir||rr&&ir!==getWindow$1(e)?!1:rr}function getBoundingClientRect(e,rr,ir,lr){rr===void 0&&(rr=!1),ir===void 0&&(ir=!1);const dr=e.getBoundingClientRect(),fr=unwrapElement(e);let mr=createCoords(1);rr&&(lr?isElement(lr)&&(mr=getScale(lr)):mr=getScale(e));const hr=shouldAddVisualOffsets(fr,ir,lr)?getVisualOffsets(fr):createCoords(0);let gr=(dr.left+hr.x)/mr.x,xr=(dr.top+hr.y)/mr.y,_r=dr.width/mr.x,yr=dr.height/mr.y;if(fr){const vr=getWindow$1(fr),br=lr&&isElement(lr)?getWindow$1(lr):lr;let Sr=vr,wr=getFrameElement(Sr);for(;wr&&lr&&br!==Sr;){const Mr=getScale(wr),kr=wr.getBoundingClientRect(),Ar=getComputedStyle$1(wr),Ir=kr.left+(wr.clientLeft+parseFloat(Ar.paddingLeft))*Mr.x,$r=kr.top+(wr.clientTop+parseFloat(Ar.paddingTop))*Mr.y;gr*=Mr.x,xr*=Mr.y,_r*=Mr.x,yr*=Mr.y,gr+=Ir,xr+=$r,Sr=getWindow$1(wr),wr=getFrameElement(Sr)}}return rectToClientRect({width:_r,height:yr,x:gr,y:xr})}function getWindowScrollBarX(e,rr){const ir=getNodeScroll(e).scrollLeft;return rr?rr.left+ir:getBoundingClientRect(getDocumentElement(e)).left+ir}function getHTMLOffset(e,rr,ir){ir===void 0&&(ir=!1);const lr=e.getBoundingClientRect(),dr=lr.left+rr.scrollLeft-(ir?0:getWindowScrollBarX(e,lr)),fr=lr.top+rr.scrollTop;return{x:dr,y:fr}}function convertOffsetParentRelativeRectToViewportRelativeRect(e){let{elements:rr,rect:ir,offsetParent:lr,strategy:dr}=e;const fr=dr==="fixed",mr=getDocumentElement(lr),hr=rr?isTopLayer(rr.floating):!1;if(lr===mr||hr&&fr)return ir;let gr={scrollLeft:0,scrollTop:0},xr=createCoords(1);const _r=createCoords(0),yr=isHTMLElement$1(lr);if((yr||!yr&&!fr)&&((getNodeName(lr)!=="body"||isOverflowElement(mr))&&(gr=getNodeScroll(lr)),isHTMLElement$1(lr))){const br=getBoundingClientRect(lr);xr=getScale(lr),_r.x=br.x+lr.clientLeft,_r.y=br.y+lr.clientTop}const vr=mr&&!yr&&!fr?getHTMLOffset(mr,gr,!0):createCoords(0);return{width:ir.width*xr.x,height:ir.height*xr.y,x:ir.x*xr.x-gr.scrollLeft*xr.x+_r.x+vr.x,y:ir.y*xr.y-gr.scrollTop*xr.y+_r.y+vr.y}}function getClientRects(e){return Array.from(e.getClientRects())}function getDocumentRect(e){const rr=getDocumentElement(e),ir=getNodeScroll(e),lr=e.ownerDocument.body,dr=max(rr.scrollWidth,rr.clientWidth,lr.scrollWidth,lr.clientWidth),fr=max(rr.scrollHeight,rr.clientHeight,lr.scrollHeight,lr.clientHeight);let mr=-ir.scrollLeft+getWindowScrollBarX(e);const hr=-ir.scrollTop;return getComputedStyle$1(lr).direction==="rtl"&&(mr+=max(rr.clientWidth,lr.clientWidth)-dr),{width:dr,height:fr,x:mr,y:hr}}function getViewportRect(e,rr){const ir=getWindow$1(e),lr=getDocumentElement(e),dr=ir.visualViewport;let fr=lr.clientWidth,mr=lr.clientHeight,hr=0,gr=0;if(dr){fr=dr.width,mr=dr.height;const xr=isWebKit();(!xr||xr&&rr==="fixed")&&(hr=dr.offsetLeft,gr=dr.offsetTop)}return{width:fr,height:mr,x:hr,y:gr}}const absoluteOrFixed=new Set(["absolute","fixed"]);function getInnerBoundingClientRect(e,rr){const ir=getBoundingClientRect(e,!0,rr==="fixed"),lr=ir.top+e.clientTop,dr=ir.left+e.clientLeft,fr=isHTMLElement$1(e)?getScale(e):createCoords(1),mr=e.clientWidth*fr.x,hr=e.clientHeight*fr.y,gr=dr*fr.x,xr=lr*fr.y;return{width:mr,height:hr,x:gr,y:xr}}function getClientRectFromClippingAncestor(e,rr,ir){let lr;if(rr==="viewport")lr=getViewportRect(e,ir);else if(rr==="document")lr=getDocumentRect(getDocumentElement(e));else if(isElement(rr))lr=getInnerBoundingClientRect(rr,ir);else{const dr=getVisualOffsets(e);lr={x:rr.x-dr.x,y:rr.y-dr.y,width:rr.width,height:rr.height}}return rectToClientRect(lr)}function hasFixedPositionAncestor(e,rr){const ir=getParentNode(e);return ir===rr||!isElement(ir)||isLastTraversableNode(ir)?!1:getComputedStyle$1(ir).position==="fixed"||hasFixedPositionAncestor(ir,rr)}function getClippingElementAncestors(e,rr){const ir=rr.get(e);if(ir)return ir;let lr=getOverflowAncestors(e,[],!1).filter(hr=>isElement(hr)&&getNodeName(hr)!=="body"),dr=null;const fr=getComputedStyle$1(e).position==="fixed";let mr=fr?getParentNode(e):e;for(;isElement(mr)&&!isLastTraversableNode(mr);){const hr=getComputedStyle$1(mr),gr=isContainingBlock(mr);!gr&&hr.position==="fixed"&&(dr=null),(fr?!gr&&!dr:!gr&&hr.position==="static"&&!!dr&&absoluteOrFixed.has(dr.position)||isOverflowElement(mr)&&!gr&&hasFixedPositionAncestor(e,mr))?lr=lr.filter(_r=>_r!==mr):dr=hr,mr=getParentNode(mr)}return rr.set(e,lr),lr}function getClippingRect(e){let{element:rr,boundary:ir,rootBoundary:lr,strategy:dr}=e;const mr=[...ir==="clippingAncestors"?isTopLayer(rr)?[]:getClippingElementAncestors(rr,this._c):[].concat(ir),lr],hr=mr[0],gr=mr.reduce((xr,_r)=>{const yr=getClientRectFromClippingAncestor(rr,_r,dr);return xr.top=max(yr.top,xr.top),xr.right=min(yr.right,xr.right),xr.bottom=min(yr.bottom,xr.bottom),xr.left=max(yr.left,xr.left),xr},getClientRectFromClippingAncestor(rr,hr,dr));return{width:gr.right-gr.left,height:gr.bottom-gr.top,x:gr.left,y:gr.top}}function getDimensions(e){const{width:rr,height:ir}=getCssDimensions(e);return{width:rr,height:ir}}function getRectRelativeToOffsetParent(e,rr,ir){const lr=isHTMLElement$1(rr),dr=getDocumentElement(rr),fr=ir==="fixed",mr=getBoundingClientRect(e,!0,fr,rr);let hr={scrollLeft:0,scrollTop:0};const gr=createCoords(0);function xr(){gr.x=getWindowScrollBarX(dr)}if(lr||!lr&&!fr)if((getNodeName(rr)!=="body"||isOverflowElement(dr))&&(hr=getNodeScroll(rr)),lr){const br=getBoundingClientRect(rr,!0,fr,rr);gr.x=br.x+rr.clientLeft,gr.y=br.y+rr.clientTop}else dr&&xr();fr&&!lr&&dr&&xr();const _r=dr&&!lr&&!fr?getHTMLOffset(dr,hr):createCoords(0),yr=mr.left+hr.scrollLeft-gr.x-_r.x,vr=mr.top+hr.scrollTop-gr.y-_r.y;return{x:yr,y:vr,width:mr.width,height:mr.height}}function isStaticPositioned(e){return getComputedStyle$1(e).position==="static"}function getTrueOffsetParent(e,rr){if(!isHTMLElement$1(e)||getComputedStyle$1(e).position==="fixed")return null;if(rr)return rr(e);let ir=e.offsetParent;return getDocumentElement(e)===ir&&(ir=ir.ownerDocument.body),ir}function getOffsetParent(e,rr){const ir=getWindow$1(e);if(isTopLayer(e))return ir;if(!isHTMLElement$1(e)){let dr=getParentNode(e);for(;dr&&!isLastTraversableNode(dr);){if(isElement(dr)&&!isStaticPositioned(dr))return dr;dr=getParentNode(dr)}return ir}let lr=getTrueOffsetParent(e,rr);for(;lr&&isTableElement(lr)&&isStaticPositioned(lr);)lr=getTrueOffsetParent(lr,rr);return lr&&isLastTraversableNode(lr)&&isStaticPositioned(lr)&&!isContainingBlock(lr)?ir:lr||getContainingBlock(e)||ir}const getElementRects=async function(e){const rr=this.getOffsetParent||getOffsetParent,ir=this.getDimensions,lr=await ir(e.floating);return{reference:getRectRelativeToOffsetParent(e.reference,await rr(e.floating),e.strategy),floating:{x:0,y:0,width:lr.width,height:lr.height}}};function isRTL(e){return getComputedStyle$1(e).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(e,rr){return e.x===rr.x&&e.y===rr.y&&e.width===rr.width&&e.height===rr.height}function observeMove(e,rr){let ir=null,lr;const dr=getDocumentElement(e);function fr(){var hr;clearTimeout(lr),(hr=ir)==null||hr.disconnect(),ir=null}function mr(hr,gr){hr===void 0&&(hr=!1),gr===void 0&&(gr=1),fr();const xr=e.getBoundingClientRect(),{left:_r,top:yr,width:vr,height:br}=xr;if(hr||rr(),!vr||!br)return;const Sr=floor(yr),wr=floor(dr.clientWidth-(_r+vr)),Mr=floor(dr.clientHeight-(yr+br)),kr=floor(_r),Ir={rootMargin:-Sr+"px "+-wr+"px "+-Mr+"px "+-kr+"px",threshold:max(0,min(1,gr))||1};let $r=!0;function Dr(Or){const Fr=Or[0].intersectionRatio;if(Fr!==gr){if(!$r)return mr();Fr?mr(!1,Fr):lr=setTimeout(()=>{mr(!1,1e-7)},1e3)}Fr===1&&!rectsAreEqual(xr,e.getBoundingClientRect())&&mr(),$r=!1}try{ir=new IntersectionObserver(Dr,{...Ir,root:dr.ownerDocument})}catch{ir=new IntersectionObserver(Dr,Ir)}ir.observe(e)}return mr(!0),fr}function autoUpdate(e,rr,ir,lr){lr===void 0&&(lr={});const{ancestorScroll:dr=!0,ancestorResize:fr=!0,elementResize:mr=typeof ResizeObserver=="function",layoutShift:hr=typeof IntersectionObserver=="function",animationFrame:gr=!1}=lr,xr=unwrapElement(e),_r=dr||fr?[...xr?getOverflowAncestors(xr):[],...getOverflowAncestors(rr)]:[];_r.forEach(kr=>{dr&&kr.addEventListener("scroll",ir,{passive:!0}),fr&&kr.addEventListener("resize",ir)});const yr=xr&&hr?observeMove(xr,ir):null;let vr=-1,br=null;mr&&(br=new ResizeObserver(kr=>{let[Ar]=kr;Ar&&Ar.target===xr&&br&&(br.unobserve(rr),cancelAnimationFrame(vr),vr=requestAnimationFrame(()=>{var Ir;(Ir=br)==null||Ir.observe(rr)})),ir()}),xr&&!gr&&br.observe(xr),br.observe(rr));let Sr,wr=gr?getBoundingClientRect(e):null;gr&&Mr();function Mr(){const kr=getBoundingClientRect(e);wr&&!rectsAreEqual(wr,kr)&&ir(),wr=kr,Sr=requestAnimationFrame(Mr)}return ir(),()=>{var kr;_r.forEach(Ar=>{dr&&Ar.removeEventListener("scroll",ir),fr&&Ar.removeEventListener("resize",ir)}),yr?.(),(kr=br)==null||kr.disconnect(),br=null,gr&&cancelAnimationFrame(Sr)}}const offset$1=offset$2,shift$2=shift$3,flip$1=flip$2,size$1=size$2,hide$1=hide$2,arrow$3=arrow$4,inline$1=inline$2,limitShift$1=limitShift$2,computePosition=(e,rr,ir)=>{const lr=new Map,dr={platform,...ir},fr={...dr.platform,_c:lr};return computePosition$1(e,rr,{...dr,platform:fr})};var isClient$1=typeof document<"u",noop$9=function(){},index$5=isClient$1?reactExports.useLayoutEffect:noop$9;function deepEqual$1(e,rr){if(e===rr)return!0;if(typeof e!=typeof rr)return!1;if(typeof e=="function"&&e.toString()===rr.toString())return!0;let ir,lr,dr;if(e&&rr&&typeof e=="object"){if(Array.isArray(e)){if(ir=e.length,ir!==rr.length)return!1;for(lr=ir;lr--!==0;)if(!deepEqual$1(e[lr],rr[lr]))return!1;return!0}if(dr=Object.keys(e),ir=dr.length,ir!==Object.keys(rr).length)return!1;for(lr=ir;lr--!==0;)if(!{}.hasOwnProperty.call(rr,dr[lr]))return!1;for(lr=ir;lr--!==0;){const fr=dr[lr];if(!(fr==="_owner"&&e.$$typeof)&&!deepEqual$1(e[fr],rr[fr]))return!1}return!0}return e!==e&&rr!==rr}function getDPR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(e,rr){const ir=getDPR(e);return Math.round(rr*ir)/ir}function useLatestRef$2(e){const rr=reactExports.useRef(e);return index$5(()=>{rr.current=e}),rr}function useFloating$2(e){e===void 0&&(e={});const{placement:rr="bottom",strategy:ir="absolute",middleware:lr=[],platform:dr,elements:{reference:fr,floating:mr}={},transform:hr=!0,whileElementsMounted:gr,open:xr}=e,[_r,yr]=reactExports.useState({x:0,y:0,strategy:ir,placement:rr,middlewareData:{},isPositioned:!1}),[vr,br]=reactExports.useState(lr);deepEqual$1(vr,lr)||br(lr);const[Sr,wr]=reactExports.useState(null),[Mr,kr]=reactExports.useState(null),Ar=reactExports.useCallback(Qr=>{Qr!==Or.current&&(Or.current=Qr,wr(Qr))},[]),Ir=reactExports.useCallback(Qr=>{Qr!==Fr.current&&(Fr.current=Qr,kr(Qr))},[]),$r=fr||Sr,Dr=mr||Mr,Or=reactExports.useRef(null),Fr=reactExports.useRef(null),Lr=reactExports.useRef(_r),zr=gr!=null,Gr=useLatestRef$2(gr),Jr=useLatestRef$2(dr),Yn=useLatestRef$2(xr),Jn=reactExports.useCallback(()=>{if(!Or.current||!Fr.current)return;const Qr={placement:rr,strategy:ir,middleware:vr};Jr.current&&(Qr.platform=Jr.current),computePosition(Or.current,Fr.current,Qr).then($n=>{const es={...$n,isPositioned:Yn.current!==!1};Zn.current&&!deepEqual$1(Lr.current,es)&&(Lr.current=es,reactDomExports.flushSync(()=>{yr(es)}))})},[vr,rr,ir,Jr,Yn]);index$5(()=>{xr===!1&&Lr.current.isPositioned&&(Lr.current.isPositioned=!1,yr(Qr=>({...Qr,isPositioned:!1})))},[xr]);const Zn=reactExports.useRef(!1);index$5(()=>(Zn.current=!0,()=>{Zn.current=!1}),[]),index$5(()=>{if($r&&(Or.current=$r),Dr&&(Fr.current=Dr),$r&&Dr){if(Gr.current)return Gr.current($r,Dr,Jn);Jn()}},[$r,Dr,Jn,Gr,zr]);const Hn=reactExports.useMemo(()=>({reference:Or,floating:Fr,setReference:Ar,setFloating:Ir}),[Ar,Ir]),Kn=reactExports.useMemo(()=>({reference:$r,floating:Dr}),[$r,Dr]),qn=reactExports.useMemo(()=>{const Qr={position:ir,left:0,top:0};if(!Kn.floating)return Qr;const $n=roundByDPR(Kn.floating,_r.x),es=roundByDPR(Kn.floating,_r.y);return hr?{...Qr,transform:"translate("+$n+"px, "+es+"px)",...getDPR(Kn.floating)>=1.5&&{willChange:"transform"}}:{position:ir,left:$n,top:es}},[ir,hr,Kn.floating,_r.x,_r.y]);return reactExports.useMemo(()=>({..._r,update:Jn,refs:Hn,elements:Kn,floatingStyles:qn}),[_r,Jn,Hn,Kn,qn])}const arrow$1=e=>{function rr(ir){return{}.hasOwnProperty.call(ir,"current")}return{name:"arrow",options:e,fn(ir){const{element:lr,padding:dr}=typeof e=="function"?e(ir):e;return lr&&rr(lr)?lr.current!=null?arrow$3({element:lr.current,padding:dr}).fn(ir):{}:lr?arrow$3({element:lr,padding:dr}).fn(ir):{}}}},offset=(e,rr)=>({...offset$1(e),options:[e,rr]}),shift$1=(e,rr)=>({...shift$2(e),options:[e,rr]}),limitShift=(e,rr)=>({...limitShift$1(e),options:[e,rr]}),flip=(e,rr)=>({...flip$1(e),options:[e,rr]}),size=(e,rr)=>({...size$1(e),options:[e,rr]}),hide=(e,rr)=>({...hide$1(e),options:[e,rr]}),inline=(e,rr)=>({...inline$1(e),options:[e,rr]}),arrow$2=(e,rr)=>({...arrow$1(e),options:[e,rr]});function useMergeRefs$1(e){return reactExports.useMemo(()=>e.every(rr=>rr==null)?null:rr=>{e.forEach(ir=>{typeof ir=="function"?ir(rr):ir!=null&&(ir.current=rr)})},e)}const SafeReact$2={...React$3},useInsertionEffect$1=SafeReact$2.useInsertionEffect,useSafeInsertionEffect$1=useInsertionEffect$1||(e=>e());function useEffectEvent$1(e){const rr=reactExports.useRef(()=>{});return useSafeInsertionEffect$1(()=>{rr.current=e}),reactExports.useCallback(function(){for(var ir=arguments.length,lr=new Array(ir),dr=0;dr<ir;dr++)lr[dr]=arguments[dr];return rr.current==null?void 0:rr.current(...lr)},[])}var index$4=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete$1=!1,count$1=0;const genId$1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count$1++;function useFloatingId$1(){const[e,rr]=reactExports.useState(()=>serverHandoffComplete$1?genId$1():void 0);return index$4(()=>{e==null&&rr(genId$1())},[]),reactExports.useEffect(()=>{serverHandoffComplete$1=!0},[]),e}const useReactId$1=SafeReact$2.useId,useId$2=useReactId$1||useFloatingId$1;function createPubSub(){const e=new Map;return{emit(rr,ir){var lr;(lr=e.get(rr))==null||lr.forEach(dr=>dr(ir))},on(rr,ir){e.set(rr,[...e.get(rr)||[],ir])},off(rr,ir){var lr;e.set(rr,((lr=e.get(rr))==null?void 0:lr.filter(dr=>dr!==ir))||[])}}}const FloatingNodeContext$1=reactExports.createContext(null),FloatingTreeContext$1=reactExports.createContext(null),useFloatingParentNodeId$1=()=>{var e;return((e=reactExports.useContext(FloatingNodeContext$1))==null?void 0:e.id)||null},useFloatingTree$1=()=>reactExports.useContext(FloatingTreeContext$1);function createAttribute$1(e){return"data-floating-ui-"+e}function useLatestRef$1(e){const rr=reactExports.useRef(e);return index$4(()=>{rr.current=e}),rr}const safePolygonIdentifier$1=createAttribute$1("safe-polygon");function getDelay$1(e,rr,ir){return ir&&!isMouseLikePointerType$1(ir)?0:typeof e=="number"?e:e?.[rr]}function useHover$1(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,dataRef:dr,events:fr,elements:mr}=e,{enabled:hr=!0,delay:gr=0,handleClose:xr=null,mouseOnly:_r=!1,restMs:yr=0,move:vr=!0}=rr,br=useFloatingTree$1(),Sr=useFloatingParentNodeId$1(),wr=useLatestRef$1(xr),Mr=useLatestRef$1(gr),kr=useLatestRef$1(ir),Ar=reactExports.useRef(),Ir=reactExports.useRef(-1),$r=reactExports.useRef(),Dr=reactExports.useRef(-1),Or=reactExports.useRef(!0),Fr=reactExports.useRef(!1),Lr=reactExports.useRef(()=>{}),zr=reactExports.useRef(!1),Gr=reactExports.useCallback(()=>{var qn;const Qr=(qn=dr.current.openEvent)==null?void 0:qn.type;return Qr?.includes("mouse")&&Qr!=="mousedown"},[dr]);reactExports.useEffect(()=>{if(!hr)return;function qn(Qr){let{open:$n}=Qr;$n||(clearTimeout(Ir.current),clearTimeout(Dr.current),Or.current=!0,zr.current=!1)}return fr.on("openchange",qn),()=>{fr.off("openchange",qn)}},[hr,fr]),reactExports.useEffect(()=>{if(!hr||!wr.current||!ir)return;function qn($n){Gr()&&lr(!1,$n,"hover")}const Qr=getDocument$2(mr.floating).documentElement;return Qr.addEventListener("mouseleave",qn),()=>{Qr.removeEventListener("mouseleave",qn)}},[mr.floating,ir,lr,hr,wr,Gr]);const Jr=reactExports.useCallback(function(qn,Qr,$n){Qr===void 0&&(Qr=!0),$n===void 0&&($n="hover");const es=getDelay$1(Mr.current,"close",Ar.current);es&&!$r.current?(clearTimeout(Ir.current),Ir.current=window.setTimeout(()=>lr(!1,qn,$n),es)):Qr&&(clearTimeout(Ir.current),lr(!1,qn,$n))},[Mr,lr]),Yn=useEffectEvent$1(()=>{Lr.current(),$r.current=void 0}),Jn=useEffectEvent$1(()=>{if(Fr.current){const qn=getDocument$2(mr.floating).body;qn.style.pointerEvents="",qn.removeAttribute(safePolygonIdentifier$1),Fr.current=!1}}),Zn=useEffectEvent$1(()=>dr.current.openEvent?["click","mousedown"].includes(dr.current.openEvent.type):!1);reactExports.useEffect(()=>{if(!hr)return;function qn(Xn){if(clearTimeout(Ir.current),Or.current=!1,_r&&!isMouseLikePointerType$1(Ar.current)||yr>0&&!getDelay$1(Mr.current,"open"))return;const rs=getDelay$1(Mr.current,"open",Ar.current);rs?Ir.current=window.setTimeout(()=>{kr.current||lr(!0,Xn,"hover")},rs):ir||lr(!0,Xn,"hover")}function Qr(Xn){if(Zn())return;Lr.current();const rs=getDocument$2(mr.floating);if(clearTimeout(Dr.current),zr.current=!1,wr.current&&dr.current.floatingContext){ir||clearTimeout(Ir.current),$r.current=wr.current({...dr.current.floatingContext,tree:br,x:Xn.clientX,y:Xn.clientY,onClose(){Jn(),Yn(),Zn()||Jr(Xn,!0,"safe-polygon")}});const ls=$r.current;rs.addEventListener("mousemove",ls),Lr.current=()=>{rs.removeEventListener("mousemove",ls)};return}(Ar.current==="touch"?!contains$1(mr.floating,Xn.relatedTarget):!0)&&Jr(Xn)}function $n(Xn){Zn()||dr.current.floatingContext&&(wr.current==null||wr.current({...dr.current.floatingContext,tree:br,x:Xn.clientX,y:Xn.clientY,onClose(){Jn(),Yn(),Zn()||Jr(Xn)}})(Xn))}if(isElement(mr.domReference)){var es;const Xn=mr.domReference;return ir&&Xn.addEventListener("mouseleave",$n),(es=mr.floating)==null||es.addEventListener("mouseleave",$n),vr&&Xn.addEventListener("mousemove",qn,{once:!0}),Xn.addEventListener("mouseenter",qn),Xn.addEventListener("mouseleave",Qr),()=>{var rs;ir&&Xn.removeEventListener("mouseleave",$n),(rs=mr.floating)==null||rs.removeEventListener("mouseleave",$n),vr&&Xn.removeEventListener("mousemove",qn),Xn.removeEventListener("mouseenter",qn),Xn.removeEventListener("mouseleave",Qr)}}},[mr,hr,e,_r,yr,vr,Jr,Yn,Jn,lr,ir,kr,br,Mr,wr,dr,Zn]),index$4(()=>{var qn;if(hr&&ir&&(qn=wr.current)!=null&&qn.__options.blockPointerEvents&&Gr()){Fr.current=!0;const $n=mr.floating;if(isElement(mr.domReference)&&$n){var Qr;const es=getDocument$2(mr.floating).body;es.setAttribute(safePolygonIdentifier$1,"");const Xn=mr.domReference,rs=br==null||(Qr=br.nodesRef.current.find(ns=>ns.id===Sr))==null||(Qr=Qr.context)==null?void 0:Qr.elements.floating;return rs&&(rs.style.pointerEvents=""),es.style.pointerEvents="none",Xn.style.pointerEvents="auto",$n.style.pointerEvents="auto",()=>{es.style.pointerEvents="",Xn.style.pointerEvents="",$n.style.pointerEvents=""}}}},[hr,ir,Sr,mr,br,wr,Gr]),index$4(()=>{ir||(Ar.current=void 0,zr.current=!1,Yn(),Jn())},[ir,Yn,Jn]),reactExports.useEffect(()=>()=>{Yn(),clearTimeout(Ir.current),clearTimeout(Dr.current),Jn()},[hr,mr.domReference,Yn,Jn]);const Hn=reactExports.useMemo(()=>{function qn(Qr){Ar.current=Qr.pointerType}return{onPointerDown:qn,onPointerEnter:qn,onMouseMove(Qr){const{nativeEvent:$n}=Qr;function es(){!Or.current&&!kr.current&&lr(!0,$n,"hover")}_r&&!isMouseLikePointerType$1(Ar.current)||ir||yr===0||zr.current&&Qr.movementX**2+Qr.movementY**2<2||(clearTimeout(Dr.current),Ar.current==="touch"?es():(zr.current=!0,Dr.current=window.setTimeout(es,yr)))}}},[_r,lr,ir,kr,yr]),Kn=reactExports.useMemo(()=>({onMouseEnter(){clearTimeout(Ir.current)},onMouseLeave(qn){Zn()||Jr(qn.nativeEvent,!1)}}),[Jr,Zn]);return reactExports.useMemo(()=>hr?{reference:Hn,floating:Kn}:{},[hr,Hn,Kn])}const NOOP$1=()=>{},FloatingDelayGroupContext$1=reactExports.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:NOOP$1,setState:NOOP$1,isInstantPhase:!1}),useDelayGroupContext=()=>reactExports.useContext(FloatingDelayGroupContext$1);function FloatingDelayGroup$1(e){const{children:rr,delay:ir,timeoutMs:lr=0}=e,[dr,fr]=reactExports.useReducer((gr,xr)=>({...gr,...xr}),{delay:ir,timeoutMs:lr,initialDelay:ir,currentId:null,isInstantPhase:!1}),mr=reactExports.useRef(null),hr=reactExports.useCallback(gr=>{fr({currentId:gr})},[]);return index$4(()=>{dr.currentId?mr.current===null?mr.current=dr.currentId:dr.isInstantPhase||fr({isInstantPhase:!0}):(dr.isInstantPhase&&fr({isInstantPhase:!1}),mr.current=null)},[dr.currentId,dr.isInstantPhase]),reactExports.createElement(FloatingDelayGroupContext$1.Provider,{value:reactExports.useMemo(()=>({...dr,setState:fr,setCurrentId:hr}),[dr,hr])},rr)}function useDelayGroup(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,floatingId:dr}=e,{id:fr,enabled:mr=!0}=rr,hr=fr??dr,gr=useDelayGroupContext(),{currentId:xr,setCurrentId:_r,initialDelay:yr,setState:vr,timeoutMs:br}=gr;return index$4(()=>{mr&&xr&&(vr({delay:{open:1,close:getDelay$1(yr,"close")}}),xr!==hr&&lr(!1))},[mr,hr,lr,vr,xr,yr]),index$4(()=>{function Sr(){lr(!1),vr({delay:yr,currentId:null})}if(mr&&xr&&!ir&&xr===hr){if(br){const wr=window.setTimeout(Sr,br);return()=>{clearTimeout(wr)}}Sr()}},[mr,ir,vr,xr,hr,lr,yr,br]),index$4(()=>{mr&&(_r===NOOP$1||!ir||_r(hr))},[mr,ir,_r,hr]),gr}function getChildren(e,rr){let ir=e.filter(dr=>{var fr;return dr.parentId===rr&&((fr=dr.context)==null?void 0:fr.open)}),lr=ir;for(;lr.length;)lr=e.filter(dr=>{var fr;return(fr=lr)==null?void 0:fr.some(mr=>{var hr;return dr.parentId===mr.id&&((hr=dr.context)==null?void 0:hr.open)})}),ir=ir.concat(lr);return ir}const FOCUSABLE_ATTRIBUTE$2="data-floating-ui-focusable",bubbleHandlerKeys$1={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},captureHandlerKeys$1={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},normalizeProp$1=e=>{var rr,ir;return{escapeKey:typeof e=="boolean"?e:(rr=e?.escapeKey)!=null?rr:!1,outsidePress:typeof e=="boolean"?e:(ir=e?.outsidePress)!=null?ir:!0}};function useDismiss$1(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,elements:dr,dataRef:fr}=e,{enabled:mr=!0,escapeKey:hr=!0,outsidePress:gr=!0,outsidePressEvent:xr="pointerdown",referencePress:_r=!1,referencePressEvent:yr="pointerdown",ancestorScroll:vr=!1,bubbles:br,capture:Sr}=rr,wr=useFloatingTree$1(),Mr=useEffectEvent$1(typeof gr=="function"?gr:()=>!1),kr=typeof gr=="function"?Mr:gr,Ar=reactExports.useRef(!1),Ir=reactExports.useRef(!1),{escapeKey:$r,outsidePress:Dr}=normalizeProp$1(br),{escapeKey:Or,outsidePress:Fr}=normalizeProp$1(Sr),Lr=reactExports.useRef(!1),zr=useEffectEvent$1(Hn=>{var Kn;if(!ir||!mr||!hr||Hn.key!=="Escape"||Lr.current)return;const qn=(Kn=fr.current.floatingContext)==null?void 0:Kn.nodeId,Qr=wr?getChildren(wr.nodesRef.current,qn):[];if(!$r&&(Hn.stopPropagation(),Qr.length>0)){let $n=!0;if(Qr.forEach(es=>{var Xn;if((Xn=es.context)!=null&&Xn.open&&!es.context.dataRef.current.__escapeKeyBubbles){$n=!1;return}}),!$n)return}lr(!1,isReactEvent$1(Hn)?Hn.nativeEvent:Hn,"escape-key")}),Gr=useEffectEvent$1(Hn=>{var Kn;const qn=()=>{var Qr;zr(Hn),(Qr=getTarget$1(Hn))==null||Qr.removeEventListener("keydown",qn)};(Kn=getTarget$1(Hn))==null||Kn.addEventListener("keydown",qn)}),Jr=useEffectEvent$1(Hn=>{var Kn;const qn=Ar.current;Ar.current=!1;const Qr=Ir.current;if(Ir.current=!1,xr==="click"&&Qr||qn||typeof kr=="function"&&!kr(Hn))return;const $n=getTarget$1(Hn),es="["+createAttribute$1("inert")+"]",Xn=getDocument$2(dr.floating).querySelectorAll(es);let rs=isElement($n)?$n:null;for(;rs&&!isLastTraversableNode(rs);){const as=getParentNode(rs);if(isLastTraversableNode(as)||!isElement(as))break;rs=as}if(Xn.length&&isElement($n)&&!isRootElement$1($n)&&!contains$1($n,dr.floating)&&Array.from(Xn).every(as=>!contains$1(rs,as)))return;if(isHTMLElement$1($n)&&Zn){const as=$n.clientWidth>0&&$n.scrollWidth>$n.clientWidth,us=$n.clientHeight>0&&$n.scrollHeight>$n.clientHeight;let hs=us&&Hn.offsetX>$n.clientWidth;if(us&&getComputedStyle$1($n).direction==="rtl"&&(hs=Hn.offsetX<=$n.offsetWidth-$n.clientWidth),hs||as&&Hn.offsetY>$n.clientHeight)return}const ns=(Kn=fr.current.floatingContext)==null?void 0:Kn.nodeId,ls=wr&&getChildren(wr.nodesRef.current,ns).some(as=>{var us;return isEventTargetWithin$1(Hn,(us=as.context)==null?void 0:us.elements.floating)});if(isEventTargetWithin$1(Hn,dr.floating)||isEventTargetWithin$1(Hn,dr.domReference)||ls)return;const ss=wr?getChildren(wr.nodesRef.current,ns):[];if(ss.length>0){let as=!0;if(ss.forEach(us=>{var hs;if((hs=us.context)!=null&&hs.open&&!us.context.dataRef.current.__outsidePressBubbles){as=!1;return}}),!as)return}lr(!1,Hn,"outside-press")}),Yn=useEffectEvent$1(Hn=>{var Kn;const qn=()=>{var Qr;Jr(Hn),(Qr=getTarget$1(Hn))==null||Qr.removeEventListener(xr,qn)};(Kn=getTarget$1(Hn))==null||Kn.addEventListener(xr,qn)});reactExports.useEffect(()=>{if(!ir||!mr)return;fr.current.__escapeKeyBubbles=$r,fr.current.__outsidePressBubbles=Dr;let Hn=-1;function Kn(Xn){lr(!1,Xn,"ancestor-scroll")}function qn(){window.clearTimeout(Hn),Lr.current=!0}function Qr(){Hn=window.setTimeout(()=>{Lr.current=!1},isWebKit()?5:0)}const $n=getDocument$2(dr.floating);hr&&($n.addEventListener("keydown",Or?Gr:zr,Or),$n.addEventListener("compositionstart",qn),$n.addEventListener("compositionend",Qr)),kr&&$n.addEventListener(xr,Fr?Yn:Jr,Fr);let es=[];return vr&&(isElement(dr.domReference)&&(es=getOverflowAncestors(dr.domReference)),isElement(dr.floating)&&(es=es.concat(getOverflowAncestors(dr.floating))),!isElement(dr.reference)&&dr.reference&&dr.reference.contextElement&&(es=es.concat(getOverflowAncestors(dr.reference.contextElement)))),es=es.filter(Xn=>{var rs;return Xn!==((rs=$n.defaultView)==null?void 0:rs.visualViewport)}),es.forEach(Xn=>{Xn.addEventListener("scroll",Kn,{passive:!0})}),()=>{hr&&($n.removeEventListener("keydown",Or?Gr:zr,Or),$n.removeEventListener("compositionstart",qn),$n.removeEventListener("compositionend",Qr)),kr&&$n.removeEventListener(xr,Fr?Yn:Jr,Fr),es.forEach(Xn=>{Xn.removeEventListener("scroll",Kn)}),window.clearTimeout(Hn)}},[fr,dr,hr,kr,xr,ir,lr,vr,mr,$r,Dr,zr,Or,Gr,Jr,Fr,Yn]),reactExports.useEffect(()=>{Ar.current=!1},[kr,xr]);const Jn=reactExports.useMemo(()=>({onKeyDown:zr,[bubbleHandlerKeys$1[yr]]:Hn=>{_r&&lr(!1,Hn.nativeEvent,"reference-press")}}),[zr,lr,_r,yr]),Zn=reactExports.useMemo(()=>({onKeyDown:zr,onMouseDown(){Ir.current=!0},onMouseUp(){Ir.current=!0},[captureHandlerKeys$1[xr]]:()=>{Ar.current=!0}}),[zr,xr]);return reactExports.useMemo(()=>mr?{reference:Jn,floating:Zn}:{},[mr,Jn,Zn])}function useFloatingRootContext$1(e){const{open:rr=!1,onOpenChange:ir,elements:lr}=e,dr=useId$2(),fr=reactExports.useRef({}),[mr]=reactExports.useState(()=>createPubSub()),hr=useFloatingParentNodeId$1()!=null,[gr,xr]=reactExports.useState(lr.reference),_r=useEffectEvent$1((br,Sr,wr)=>{fr.current.openEvent=br?Sr:void 0,mr.emit("openchange",{open:br,event:Sr,reason:wr,nested:hr}),ir?.(br,Sr,wr)}),yr=reactExports.useMemo(()=>({setPositionReference:xr}),[]),vr=reactExports.useMemo(()=>({reference:gr||lr.reference||null,floating:lr.floating||null,domReference:lr.reference}),[gr,lr.reference,lr.floating]);return reactExports.useMemo(()=>({dataRef:fr,open:rr,onOpenChange:_r,elements:vr,events:mr,floatingId:dr,refs:yr}),[rr,_r,vr,mr,dr,yr])}function useFloating$1(e){e===void 0&&(e={});const{nodeId:rr}=e,ir=useFloatingRootContext$1({...e,elements:{reference:null,floating:null,...e.elements}}),lr=e.rootContext||ir,dr=lr.elements,[fr,mr]=reactExports.useState(null),[hr,gr]=reactExports.useState(null),_r=dr?.domReference||fr,yr=reactExports.useRef(null),vr=useFloatingTree$1();index$4(()=>{_r&&(yr.current=_r)},[_r]);const br=useFloating$2({...e,elements:{...dr,...hr&&{reference:hr}}}),Sr=reactExports.useCallback(Ir=>{const $r=isElement(Ir)?{getBoundingClientRect:()=>Ir.getBoundingClientRect(),contextElement:Ir}:Ir;gr($r),br.refs.setReference($r)},[br.refs]),wr=reactExports.useCallback(Ir=>{(isElement(Ir)||Ir===null)&&(yr.current=Ir,mr(Ir)),(isElement(br.refs.reference.current)||br.refs.reference.current===null||Ir!==null&&!isElement(Ir))&&br.refs.setReference(Ir)},[br.refs]),Mr=reactExports.useMemo(()=>({...br.refs,setReference:wr,setPositionReference:Sr,domReference:yr}),[br.refs,wr,Sr]),kr=reactExports.useMemo(()=>({...br.elements,domReference:_r}),[br.elements,_r]),Ar=reactExports.useMemo(()=>({...br,...lr,refs:Mr,elements:kr,nodeId:rr}),[br,Mr,kr,rr,lr]);return index$4(()=>{lr.dataRef.current.floatingContext=Ar;const Ir=vr?.nodesRef.current.find($r=>$r.id===rr);Ir&&(Ir.context=Ar)}),reactExports.useMemo(()=>({...br,context:Ar,refs:Mr,elements:kr}),[br,Mr,kr,Ar])}function useFocus$1(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,events:dr,dataRef:fr,elements:mr}=e,{enabled:hr=!0,visibleOnly:gr=!0}=rr,xr=reactExports.useRef(!1),_r=reactExports.useRef(),yr=reactExports.useRef(!0);reactExports.useEffect(()=>{if(!hr)return;const br=getWindow$1(mr.domReference);function Sr(){!ir&&isHTMLElement$1(mr.domReference)&&mr.domReference===activeElement$1(getDocument$2(mr.domReference))&&(xr.current=!0)}function wr(){yr.current=!0}return br.addEventListener("blur",Sr),br.addEventListener("keydown",wr,!0),()=>{br.removeEventListener("blur",Sr),br.removeEventListener("keydown",wr,!0)}},[mr.domReference,ir,hr]),reactExports.useEffect(()=>{if(!hr)return;function br(Sr){let{reason:wr}=Sr;(wr==="reference-press"||wr==="escape-key")&&(xr.current=!0)}return dr.on("openchange",br),()=>{dr.off("openchange",br)}},[dr,hr]),reactExports.useEffect(()=>()=>{clearTimeout(_r.current)},[]);const vr=reactExports.useMemo(()=>({onPointerDown(br){isVirtualPointerEvent$1(br.nativeEvent)||(yr.current=!1)},onMouseLeave(){xr.current=!1},onFocus(br){if(xr.current)return;const Sr=getTarget$1(br.nativeEvent);if(gr&&isElement(Sr))try{if(isSafari$1()&&isMac$1())throw Error();if(!Sr.matches(":focus-visible"))return}catch{if(!yr.current&&!isTypeableElement$1(Sr))return}lr(!0,br.nativeEvent,"focus")},onBlur(br){xr.current=!1;const Sr=br.relatedTarget,wr=br.nativeEvent,Mr=isElement(Sr)&&Sr.hasAttribute(createAttribute$1("focus-guard"))&&Sr.getAttribute("data-type")==="outside";_r.current=window.setTimeout(()=>{var kr;const Ar=activeElement$1(mr.domReference?mr.domReference.ownerDocument:document);!Sr&&Ar===mr.domReference||contains$1((kr=fr.current.floatingContext)==null?void 0:kr.refs.floating.current,Ar)||contains$1(mr.domReference,Ar)||Mr||lr(!1,wr,"focus")})}}),[fr,mr.domReference,lr,gr]);return reactExports.useMemo(()=>hr?{reference:vr}:{},[hr,vr])}const ACTIVE_KEY$1="active",SELECTED_KEY$1="selected";function mergeProps$1(e,rr,ir){const lr=new Map,dr=ir==="item";let fr=e;if(dr&&e){const{[ACTIVE_KEY$1]:mr,[SELECTED_KEY$1]:hr,...gr}=e;fr=gr}return{...ir==="floating"&&{tabIndex:-1,[FOCUSABLE_ATTRIBUTE$2]:""},...fr,...rr.map(mr=>{const hr=mr?mr[ir]:null;return typeof hr=="function"?e?hr(e):null:hr}).concat(e).reduce((mr,hr)=>(hr&&Object.entries(hr).forEach(gr=>{let[xr,_r]=gr;if(!(dr&&[ACTIVE_KEY$1,SELECTED_KEY$1].includes(xr)))if(xr.indexOf("on")===0){if(lr.has(xr)||lr.set(xr,[]),typeof _r=="function"){var yr;(yr=lr.get(xr))==null||yr.push(_r),mr[xr]=function(){for(var vr,br=arguments.length,Sr=new Array(br),wr=0;wr<br;wr++)Sr[wr]=arguments[wr];return(vr=lr.get(xr))==null?void 0:vr.map(Mr=>Mr(...Sr)).find(Mr=>Mr!==void 0)}}}else mr[xr]=_r}),mr),{})}}function useInteractions$1(e){e===void 0&&(e=[]);const rr=e.map(hr=>hr?.reference),ir=e.map(hr=>hr?.floating),lr=e.map(hr=>hr?.item),dr=reactExports.useCallback(hr=>mergeProps$1(hr,e,"reference"),rr),fr=reactExports.useCallback(hr=>mergeProps$1(hr,e,"floating"),ir),mr=reactExports.useCallback(hr=>mergeProps$1(hr,e,"item"),lr);return reactExports.useMemo(()=>({getReferenceProps:dr,getFloatingProps:fr,getItemProps:mr}),[dr,fr,mr])}const componentRoleToAriaRoleMap$1=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function useRole$1(e,rr){var ir;rr===void 0&&(rr={});const{open:lr,floatingId:dr}=e,{enabled:fr=!0,role:mr="dialog"}=rr,hr=(ir=componentRoleToAriaRoleMap$1.get(mr))!=null?ir:mr,gr=useId$2(),_r=useFloatingParentNodeId$1()!=null,yr=reactExports.useMemo(()=>hr==="tooltip"||mr==="label"?{["aria-"+(mr==="label"?"labelledby":"describedby")]:lr?dr:void 0}:{"aria-expanded":lr?"true":"false","aria-haspopup":hr==="alertdialog"?"dialog":hr,"aria-controls":lr?dr:void 0,...hr==="listbox"&&{role:"combobox"},...hr==="menu"&&{id:gr},...hr==="menu"&&_r&&{role:"menuitem"},...mr==="select"&&{"aria-autocomplete":"none"},...mr==="combobox"&&{"aria-autocomplete":"list"}},[hr,dr,_r,lr,gr,mr]),vr=reactExports.useMemo(()=>{const Sr={id:dr,...hr&&{role:hr}};return hr==="tooltip"||mr==="label"?Sr:{...Sr,...hr==="menu"&&{"aria-labelledby":gr}}},[hr,dr,gr,mr]),br=reactExports.useCallback(Sr=>{let{active:wr,selected:Mr}=Sr;const kr={role:"option",...wr&&{id:dr+"-option"}};switch(mr){case"select":return{...kr,"aria-selected":wr&&Mr};case"combobox":return{...kr,...wr&&{"aria-selected":!0}}}return{}},[dr,mr]);return reactExports.useMemo(()=>fr?{reference:yr,floating:vr,item:br}:{},[fr,yr,vr,br])}const[ScrollAreaProvider,useScrollAreaContext]=createSafeContext("ScrollArea.Root component was not found in tree");function useResizeObserver$1(e,rr){const ir=useCallbackRef(rr);useIsomorphicEffect$1(()=>{let lr=0;if(e){const dr=new ResizeObserver(()=>{cancelAnimationFrame(lr),lr=window.requestAnimationFrame(ir)});return dr.observe(e),()=>{window.cancelAnimationFrame(lr),dr.unobserve(e)}}},[e,ir])}const Corner=reactExports.forwardRef((e,rr)=>{const{style:ir,...lr}=e,dr=useScrollAreaContext(),[fr,mr]=reactExports.useState(0),[hr,gr]=reactExports.useState(0),xr=!!(fr&&hr);return useResizeObserver$1(dr.scrollbarX,()=>{const _r=dr.scrollbarX?.offsetHeight||0;dr.onCornerHeightChange(_r),gr(_r)}),useResizeObserver$1(dr.scrollbarY,()=>{const _r=dr.scrollbarY?.offsetWidth||0;dr.onCornerWidthChange(_r),mr(_r)}),xr?jsxRuntimeExports.jsx("div",{...lr,ref:rr,style:{...ir,width:fr,height:hr}}):null}),ScrollAreaCorner=reactExports.forwardRef((e,rr)=>{const ir=useScrollAreaContext(),lr=!!(ir.scrollbarX&&ir.scrollbarY);return ir.type!=="scroll"&&lr?jsxRuntimeExports.jsx(Corner,{...e,ref:rr}):null}),defaultProps$2g={scrollHideDelay:1e3,type:"hover"},ScrollAreaRoot=reactExports.forwardRef((e,rr)=>{const{type:ir,scrollHideDelay:lr,scrollbars:dr,getStyles:fr,...mr}=useProps("ScrollAreaRoot",defaultProps$2g,e),[hr,gr]=reactExports.useState(null),[xr,_r]=reactExports.useState(null),[yr,vr]=reactExports.useState(null),[br,Sr]=reactExports.useState(null),[wr,Mr]=reactExports.useState(null),[kr,Ar]=reactExports.useState(0),[Ir,$r]=reactExports.useState(0),[Dr,Or]=reactExports.useState(!1),[Fr,Lr]=reactExports.useState(!1),zr=useMergedRef(rr,Gr=>gr(Gr));return jsxRuntimeExports.jsx(ScrollAreaProvider,{value:{type:ir,scrollHideDelay:lr,scrollArea:hr,viewport:xr,onViewportChange:_r,content:yr,onContentChange:vr,scrollbarX:br,onScrollbarXChange:Sr,scrollbarXEnabled:Dr,onScrollbarXEnabledChange:Or,scrollbarY:wr,onScrollbarYChange:Mr,scrollbarYEnabled:Fr,onScrollbarYEnabledChange:Lr,onCornerWidthChange:Ar,onCornerHeightChange:$r,getStyles:fr},children:jsxRuntimeExports.jsx(Box,{...mr,ref:zr,__vars:{"--sa-corner-width":dr!=="xy"?"0px":`${kr}px`,"--sa-corner-height":dr!=="xy"?"0px":`${Ir}px`}})})});ScrollAreaRoot.displayName="@mantine/core/ScrollAreaRoot";function getThumbRatio(e,rr){const ir=e/rr;return Number.isNaN(ir)?0:ir}function getThumbSize(e){const rr=getThumbRatio(e.viewport,e.content),ir=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,lr=(e.scrollbar.size-ir)*rr;return Math.max(lr,18)}function linearScale(e,rr){return ir=>{if(e[0]===e[1]||rr[0]===rr[1])return rr[0];const lr=(rr[1]-rr[0])/(e[1]-e[0]);return rr[0]+lr*(ir-e[0])}}function clamp$1(e,[rr,ir]){return Math.min(ir,Math.max(rr,e))}function getThumbOffsetFromScroll(e,rr,ir="ltr"){const lr=getThumbSize(rr),dr=rr.scrollbar.paddingStart+rr.scrollbar.paddingEnd,fr=rr.scrollbar.size-dr,mr=rr.content-rr.viewport,hr=fr-lr,gr=ir==="ltr"?[0,mr]:[mr*-1,0],xr=clamp$1(e,gr);return linearScale([0,mr],[0,hr])(xr)}function getScrollPositionFromPointer(e,rr,ir,lr="ltr"){const dr=getThumbSize(ir),fr=dr/2,mr=rr||fr,hr=dr-mr,gr=ir.scrollbar.paddingStart+mr,xr=ir.scrollbar.size-ir.scrollbar.paddingEnd-hr,_r=ir.content-ir.viewport,yr=lr==="ltr"?[0,_r]:[_r*-1,0];return linearScale([gr,xr],yr)(e)}function isScrollingWithinScrollbarBounds(e,rr){return e>0&&e<rr}function toInt(e){return e?parseInt(e,10):0}function composeEventHandlers$1(e,rr,{checkForDefaultPrevented:ir=!0}={}){return lr=>{e?.(lr),(ir===!1||!lr.defaultPrevented)&&rr?.(lr)}}const[ScrollbarProvider,useScrollbarContext]=createSafeContext("ScrollAreaScrollbar was not found in tree"),Scrollbar=reactExports.forwardRef((e,rr)=>{const{sizes:ir,hasThumb:lr,onThumbChange:dr,onThumbPointerUp:fr,onThumbPointerDown:mr,onThumbPositionChange:hr,onDragScroll:gr,onWheelScroll:xr,onResize:_r,...yr}=e,vr=useScrollAreaContext(),[br,Sr]=reactExports.useState(null),wr=useMergedRef(rr,Lr=>Sr(Lr)),Mr=reactExports.useRef(null),kr=reactExports.useRef(""),{viewport:Ar}=vr,Ir=ir.content-ir.viewport,$r=useCallbackRef(xr),Dr=useCallbackRef(hr),Or=useDebouncedCallback(_r,10),Fr=Lr=>{if(Mr.current){const zr=Lr.clientX-Mr.current.left,Gr=Lr.clientY-Mr.current.top;gr({x:zr,y:Gr})}};return reactExports.useEffect(()=>{const Lr=zr=>{const Gr=zr.target;br?.contains(Gr)&&$r(zr,Ir)};return document.addEventListener("wheel",Lr,{passive:!1}),()=>document.removeEventListener("wheel",Lr,{passive:!1})},[Ar,br,Ir,$r]),reactExports.useEffect(Dr,[ir,Dr]),useResizeObserver$1(br,Or),useResizeObserver$1(vr.content,Or),jsxRuntimeExports.jsx(ScrollbarProvider,{value:{scrollbar:br,hasThumb:lr,onThumbChange:useCallbackRef(dr),onThumbPointerUp:useCallbackRef(fr),onThumbPositionChange:Dr,onThumbPointerDown:useCallbackRef(mr)},children:jsxRuntimeExports.jsx("div",{...yr,ref:wr,"data-mantine-scrollbar":!0,style:{position:"absolute",...yr.style},onPointerDown:composeEventHandlers$1(e.onPointerDown,Lr=>{Lr.preventDefault(),Lr.button===0&&(Lr.target.setPointerCapture(Lr.pointerId),Mr.current=br.getBoundingClientRect(),kr.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",Fr(Lr))}),onPointerMove:composeEventHandlers$1(e.onPointerMove,Fr),onPointerUp:composeEventHandlers$1(e.onPointerUp,Lr=>{const zr=Lr.target;zr.hasPointerCapture(Lr.pointerId)&&(Lr.preventDefault(),zr.releasePointerCapture(Lr.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=kr.current,Mr.current=null}})})}),ScrollAreaScrollbarX=reactExports.forwardRef((e,rr)=>{const{sizes:ir,onSizesChange:lr,style:dr,...fr}=e,mr=useScrollAreaContext(),[hr,gr]=reactExports.useState(),xr=reactExports.useRef(null),_r=useMergedRef(rr,xr,mr.onScrollbarXChange);return reactExports.useEffect(()=>{xr.current&&gr(getComputedStyle(xr.current))},[xr]),jsxRuntimeExports.jsx(Scrollbar,{"data-orientation":"horizontal",...fr,ref:_r,sizes:ir,style:{...dr,"--sa-thumb-width":`${getThumbSize(ir)}px`},onThumbPointerDown:yr=>e.onThumbPointerDown(yr.x),onDragScroll:yr=>e.onDragScroll(yr.x),onWheelScroll:(yr,vr)=>{if(mr.viewport){const br=mr.viewport.scrollLeft+yr.deltaX;e.onWheelScroll(br),isScrollingWithinScrollbarBounds(br,vr)&&yr.preventDefault()}},onResize:()=>{xr.current&&mr.viewport&&hr&&lr({content:mr.viewport.scrollWidth,viewport:mr.viewport.offsetWidth,scrollbar:{size:xr.current.clientWidth,paddingStart:toInt(hr.paddingLeft),paddingEnd:toInt(hr.paddingRight)}})}})});ScrollAreaScrollbarX.displayName="@mantine/core/ScrollAreaScrollbarX";const ScrollAreaScrollbarY=reactExports.forwardRef((e,rr)=>{const{sizes:ir,onSizesChange:lr,style:dr,...fr}=e,mr=useScrollAreaContext(),[hr,gr]=reactExports.useState(),xr=reactExports.useRef(null),_r=useMergedRef(rr,xr,mr.onScrollbarYChange);return reactExports.useEffect(()=>{xr.current&&gr(window.getComputedStyle(xr.current))},[]),jsxRuntimeExports.jsx(Scrollbar,{...fr,"data-orientation":"vertical",ref:_r,sizes:ir,style:{"--sa-thumb-height":`${getThumbSize(ir)}px`,...dr},onThumbPointerDown:yr=>e.onThumbPointerDown(yr.y),onDragScroll:yr=>e.onDragScroll(yr.y),onWheelScroll:(yr,vr)=>{if(mr.viewport){const br=mr.viewport.scrollTop+yr.deltaY;e.onWheelScroll(br),isScrollingWithinScrollbarBounds(br,vr)&&yr.preventDefault()}},onResize:()=>{xr.current&&mr.viewport&&hr&&lr({content:mr.viewport.scrollHeight,viewport:mr.viewport.offsetHeight,scrollbar:{size:xr.current.clientHeight,paddingStart:toInt(hr.paddingTop),paddingEnd:toInt(hr.paddingBottom)}})}})});ScrollAreaScrollbarY.displayName="@mantine/core/ScrollAreaScrollbarY";const ScrollAreaScrollbarVisible=reactExports.forwardRef((e,rr)=>{const{orientation:ir="vertical",...lr}=e,{dir:dr}=useDirection(),fr=useScrollAreaContext(),mr=reactExports.useRef(null),hr=reactExports.useRef(0),[gr,xr]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),_r=getThumbRatio(gr.viewport,gr.content),yr={...lr,sizes:gr,onSizesChange:xr,hasThumb:_r>0&&_r<1,onThumbChange:br=>{mr.current=br},onThumbPointerUp:()=>{hr.current=0},onThumbPointerDown:br=>{hr.current=br}},vr=(br,Sr)=>getScrollPositionFromPointer(br,hr.current,gr,Sr);return ir==="horizontal"?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...yr,ref:rr,onThumbPositionChange:()=>{if(fr.viewport&&mr.current){const br=fr.viewport.scrollLeft,Sr=getThumbOffsetFromScroll(br,gr,dr);mr.current.style.transform=`translate3d(${Sr}px, 0, 0)`}},onWheelScroll:br=>{fr.viewport&&(fr.viewport.scrollLeft=br)},onDragScroll:br=>{fr.viewport&&(fr.viewport.scrollLeft=vr(br,dr))}}):ir==="vertical"?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...yr,ref:rr,onThumbPositionChange:()=>{if(fr.viewport&&mr.current){const br=fr.viewport.scrollTop,Sr=getThumbOffsetFromScroll(br,gr);gr.scrollbar.size===0?mr.current.style.setProperty("--thumb-opacity","0"):mr.current.style.setProperty("--thumb-opacity","1"),mr.current.style.transform=`translate3d(0, ${Sr}px, 0)`}},onWheelScroll:br=>{fr.viewport&&(fr.viewport.scrollTop=br)},onDragScroll:br=>{fr.viewport&&(fr.viewport.scrollTop=vr(br))}}):null});ScrollAreaScrollbarVisible.displayName="@mantine/core/ScrollAreaScrollbarVisible";const ScrollAreaScrollbarAuto=reactExports.forwardRef((e,rr)=>{const ir=useScrollAreaContext(),{forceMount:lr,...dr}=e,[fr,mr]=reactExports.useState(!1),hr=e.orientation==="horizontal",gr=useDebouncedCallback(()=>{if(ir.viewport){const xr=ir.viewport.offsetWidth<ir.viewport.scrollWidth,_r=ir.viewport.offsetHeight<ir.viewport.scrollHeight;mr(hr?xr:_r)}},10);return useResizeObserver$1(ir.viewport,gr),useResizeObserver$1(ir.content,gr),lr||fr?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":fr?"visible":"hidden",...dr,ref:rr}):null});ScrollAreaScrollbarAuto.displayName="@mantine/core/ScrollAreaScrollbarAuto";const ScrollAreaScrollbarHover=reactExports.forwardRef((e,rr)=>{const{forceMount:ir,...lr}=e,dr=useScrollAreaContext(),[fr,mr]=reactExports.useState(!1);return reactExports.useEffect(()=>{const{scrollArea:hr}=dr;let gr=0;if(hr){const xr=()=>{window.clearTimeout(gr),mr(!0)},_r=()=>{gr=window.setTimeout(()=>mr(!1),dr.scrollHideDelay)};return hr.addEventListener("pointerenter",xr),hr.addEventListener("pointerleave",_r),()=>{window.clearTimeout(gr),hr.removeEventListener("pointerenter",xr),hr.removeEventListener("pointerleave",_r)}}},[dr.scrollArea,dr.scrollHideDelay]),ir||fr?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":fr?"visible":"hidden",...lr,ref:rr}):null});ScrollAreaScrollbarHover.displayName="@mantine/core/ScrollAreaScrollbarHover";const ScrollAreaScrollbarScroll=reactExports.forwardRef((e,rr)=>{const{forceMount:ir,...lr}=e,dr=useScrollAreaContext(),fr=e.orientation==="horizontal",[mr,hr]=reactExports.useState("hidden"),gr=useDebouncedCallback(()=>hr("idle"),100);return reactExports.useEffect(()=>{if(mr==="idle"){const xr=window.setTimeout(()=>hr("hidden"),dr.scrollHideDelay);return()=>window.clearTimeout(xr)}},[mr,dr.scrollHideDelay]),reactExports.useEffect(()=>{const{viewport:xr}=dr,_r=fr?"scrollLeft":"scrollTop";if(xr){let yr=xr[_r];const vr=()=>{const br=xr[_r];yr!==br&&(hr("scrolling"),gr()),yr=br};return xr.addEventListener("scroll",vr),()=>xr.removeEventListener("scroll",vr)}},[dr.viewport,fr,gr]),ir||mr!=="hidden"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":mr==="hidden"?"hidden":"visible",...lr,ref:rr,onPointerEnter:composeEventHandlers$1(e.onPointerEnter,()=>hr("interacting")),onPointerLeave:composeEventHandlers$1(e.onPointerLeave,()=>hr("idle"))}):null}),ScrollAreaScrollbar=reactExports.forwardRef((e,rr)=>{const{forceMount:ir,...lr}=e,dr=useScrollAreaContext(),{onScrollbarXEnabledChange:fr,onScrollbarYEnabledChange:mr}=dr,hr=e.orientation==="horizontal";return reactExports.useEffect(()=>(hr?fr(!0):mr(!0),()=>{hr?fr(!1):mr(!1)}),[hr,fr,mr]),dr.type==="hover"?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...lr,ref:rr,forceMount:ir}):dr.type==="scroll"?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...lr,ref:rr,forceMount:ir}):dr.type==="auto"?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...lr,ref:rr,forceMount:ir}):dr.type==="always"?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...lr,ref:rr}):null});ScrollAreaScrollbar.displayName="@mantine/core/ScrollAreaScrollbar";function addUnlinkedScrollListener(e,rr=()=>{}){let ir={left:e.scrollLeft,top:e.scrollTop},lr=0;return function dr(){const fr={left:e.scrollLeft,top:e.scrollTop},mr=ir.left!==fr.left,hr=ir.top!==fr.top;(mr||hr)&&rr(),ir=fr,lr=window.requestAnimationFrame(dr)}(),()=>window.cancelAnimationFrame(lr)}const Thumb=reactExports.forwardRef((e,rr)=>{const{style:ir,...lr}=e,dr=useScrollAreaContext(),fr=useScrollbarContext(),{onThumbPositionChange:mr}=fr,hr=useMergedRef(rr,_r=>fr.onThumbChange(_r)),gr=reactExports.useRef(void 0),xr=useDebouncedCallback(()=>{gr.current&&(gr.current(),gr.current=void 0)},100);return reactExports.useEffect(()=>{const{viewport:_r}=dr;if(_r){const yr=()=>{if(xr(),!gr.current){const vr=addUnlinkedScrollListener(_r,mr);gr.current=vr,mr()}};return mr(),_r.addEventListener("scroll",yr),()=>_r.removeEventListener("scroll",yr)}},[dr.viewport,xr,mr]),jsxRuntimeExports.jsx("div",{"data-state":fr.hasThumb?"visible":"hidden",...lr,ref:hr,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...ir},onPointerDownCapture:composeEventHandlers$1(e.onPointerDownCapture,_r=>{const vr=_r.target.getBoundingClientRect(),br=_r.clientX-vr.left,Sr=_r.clientY-vr.top;fr.onThumbPointerDown({x:br,y:Sr})}),onPointerUp:composeEventHandlers$1(e.onPointerUp,fr.onThumbPointerUp)})});Thumb.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaThumb=reactExports.forwardRef((e,rr)=>{const{forceMount:ir,...lr}=e,dr=useScrollbarContext();return ir||dr.hasThumb?jsxRuntimeExports.jsx(Thumb,{ref:rr,...lr}):null});ScrollAreaThumb.displayName="@mantine/core/ScrollAreaThumb";const ScrollAreaViewport=reactExports.forwardRef(({children:e,style:rr,...ir},lr)=>{const dr=useScrollAreaContext(),fr=useMergedRef(lr,dr.onViewportChange);return jsxRuntimeExports.jsx(Box,{...ir,ref:fr,style:{overflowX:dr.scrollbarXEnabled?"scroll":"hidden",overflowY:dr.scrollbarYEnabled?"scroll":"hidden",...rr},children:jsxRuntimeExports.jsx("div",{...dr.getStyles("content"),ref:dr.onContentChange,children:e})})});ScrollAreaViewport.displayName="@mantine/core/ScrollAreaViewport";var classes$13={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268",content:"m_b1336c6"};const defaultProps$2f={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},varsResolver$11=(e,{scrollbarSize:rr,overscrollBehavior:ir})=>({root:{"--scrollarea-scrollbar-size":rem(rr),"--scrollarea-over-scroll-behavior":ir}}),ScrollArea=factory((e,rr)=>{const ir=useProps("ScrollArea",defaultProps$2f,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,scrollbarSize:gr,vars:xr,type:_r,scrollHideDelay:yr,viewportProps:vr,viewportRef:br,onScrollPositionChange:Sr,children:wr,offsetScrollbars:Mr,scrollbars:kr,onBottomReached:Ar,onTopReached:Ir,overscrollBehavior:$r,...Dr}=ir,[Or,Fr]=reactExports.useState(!1),[Lr,zr]=reactExports.useState(!1),[Gr,Jr]=reactExports.useState(!1),Yn=useStyles({name:"ScrollArea",props:ir,classes:classes$13,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:xr,varsResolver:varsResolver$11}),Jn=reactExports.useRef(null),Zn=useMergeRefs$1([br,Jn]);return reactExports.useEffect(()=>{if(!Jn.current||Mr!=="present")return;const Hn=Jn.current,Kn=new ResizeObserver(()=>{const{scrollHeight:qn,clientHeight:Qr,scrollWidth:$n,clientWidth:es}=Hn;zr(qn>Qr),Jr($n>es)});return Kn.observe(Hn),()=>Kn.disconnect()},[Jn,Mr]),jsxRuntimeExports.jsxs(ScrollAreaRoot,{getStyles:Yn,type:_r==="never"?"always":_r,scrollHideDelay:yr,ref:rr,scrollbars:kr,...Yn("root"),...Dr,children:[jsxRuntimeExports.jsx(ScrollAreaViewport,{...vr,...Yn("viewport",{style:vr?.style}),ref:Zn,"data-offset-scrollbars":Mr===!0?"xy":Mr||void 0,"data-scrollbars":kr||void 0,"data-horizontal-hidden":Mr==="present"&&!Gr?"true":void 0,"data-vertical-hidden":Mr==="present"&&!Lr?"true":void 0,onScroll:Hn=>{vr?.onScroll?.(Hn),Sr?.({x:Hn.currentTarget.scrollLeft,y:Hn.currentTarget.scrollTop});const{scrollTop:Kn,scrollHeight:qn,clientHeight:Qr}=Hn.currentTarget;Kn-(qn-Qr)>=-.6&&Ar?.(),Kn===0&&Ir?.()},children:wr}),(kr==="xy"||kr==="x")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...Yn("scrollbar"),orientation:"horizontal","data-hidden":_r==="never"||Mr==="present"&&!Gr?!0:void 0,forceMount:!0,onMouseEnter:()=>Fr(!0),onMouseLeave:()=>Fr(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...Yn("thumb")})}),(kr==="xy"||kr==="y")&&jsxRuntimeExports.jsx(ScrollAreaScrollbar,{...Yn("scrollbar"),orientation:"vertical","data-hidden":_r==="never"||Mr==="present"&&!Lr?!0:void 0,forceMount:!0,onMouseEnter:()=>Fr(!0),onMouseLeave:()=>Fr(!1),children:jsxRuntimeExports.jsx(ScrollAreaThumb,{...Yn("thumb")})}),jsxRuntimeExports.jsx(ScrollAreaCorner,{...Yn("corner"),"data-hovered":Or||void 0,"data-hidden":_r==="never"||void 0})]})});ScrollArea.displayName="@mantine/core/ScrollArea";const ScrollAreaAutosize=factory((e,rr)=>{const{children:ir,classNames:lr,styles:dr,scrollbarSize:fr,scrollHideDelay:mr,type:hr,dir:gr,offsetScrollbars:xr,viewportRef:_r,onScrollPositionChange:yr,unstyled:vr,variant:br,viewportProps:Sr,scrollbars:wr,style:Mr,vars:kr,onBottomReached:Ar,onTopReached:Ir,...$r}=useProps("ScrollAreaAutosize",defaultProps$2f,e);return jsxRuntimeExports.jsx(Box,{...$r,ref:rr,style:[{display:"flex",overflow:"auto"},Mr],children:jsxRuntimeExports.jsx(Box,{style:{display:"flex",flexDirection:"column",flex:1},children:jsxRuntimeExports.jsx(ScrollArea,{classNames:lr,styles:dr,scrollHideDelay:mr,scrollbarSize:fr,type:hr,dir:gr,offsetScrollbars:xr,viewportRef:_r,onScrollPositionChange:yr,unstyled:vr,variant:br,viewportProps:Sr,vars:kr,scrollbars:wr,onBottomReached:Ar,onTopReached:Ir,children:ir})})})});ScrollArea.classes=classes$13;ScrollAreaAutosize.displayName="@mantine/core/ScrollAreaAutosize";ScrollAreaAutosize.classes=classes$13;ScrollArea.Autosize=ScrollAreaAutosize;var classes$12={root:"m_87cf2631"};const defaultProps$2e={__staticSelector:"UnstyledButton"},UnstyledButton=polymorphicFactory((e,rr)=>{const ir=useProps("UnstyledButton",defaultProps$2e,e),{className:lr,component:dr="button",__staticSelector:fr,unstyled:mr,classNames:hr,styles:gr,style:xr,..._r}=ir,yr=useStyles({name:fr,props:ir,classes:classes$12,className:lr,style:xr,classNames:hr,styles:gr,unstyled:mr});return jsxRuntimeExports.jsx(Box,{...yr("root",{focusable:!0}),component:dr,ref:rr,type:dr==="button"?"button":void 0,..._r})});UnstyledButton.classes=classes$12;UnstyledButton.displayName="@mantine/core/UnstyledButton";var classes$11={root:"m_515a97f8"};const defaultProps$2d={},VisuallyHidden=factory((e,rr)=>{const ir=useProps("VisuallyHidden",defaultProps$2d,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,...xr}=ir,_r=useStyles({name:"VisuallyHidden",classes:classes$11,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr});return jsxRuntimeExports.jsx(Box,{component:"span",ref:rr,..._r("root"),...xr})});VisuallyHidden.classes=classes$11;VisuallyHidden.displayName="@mantine/core/VisuallyHidden";var classes$10={root:"m_1b7284a3"};const defaultProps$2c={},varsResolver$10=(e,{radius:rr,shadow:ir})=>({root:{"--paper-radius":rr===void 0?void 0:getRadius(rr),"--paper-shadow":getShadow(ir)}}),Paper=polymorphicFactory((e,rr)=>{const ir=useProps("Paper",defaultProps$2c,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,withBorder:gr,vars:xr,radius:_r,shadow:yr,variant:vr,mod:br,...Sr}=ir,wr=useStyles({name:"Paper",props:ir,classes:classes$10,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:xr,varsResolver:varsResolver$10});return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{"data-with-border":gr},br],...wr("root"),variant:vr,...Sr})});Paper.classes=classes$10;Paper.displayName="@mantine/core/Paper";function horizontalSide(e,rr,ir,lr){return e==="center"||lr==="center"?{top:rr}:e==="end"?{bottom:ir}:e==="start"?{top:ir}:{}}function verticalSide(e,rr,ir,lr,dr){return e==="center"||lr==="center"?{left:rr}:e==="end"?{[dr==="ltr"?"right":"left"]:ir}:e==="start"?{[dr==="ltr"?"left":"right"]:ir}:{}}const radiusByFloatingSide={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function getArrowPositionStyles({position:e,arrowSize:rr,arrowOffset:ir,arrowRadius:lr,arrowPosition:dr,arrowX:fr,arrowY:mr,dir:hr}){const[gr,xr="center"]=e.split("-"),_r={width:rr,height:rr,transform:"rotate(45deg)",position:"absolute",[radiusByFloatingSide[gr]]:lr},yr=-rr/2;return gr==="left"?{..._r,...horizontalSide(xr,mr,ir,dr),right:yr,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:gr==="right"?{..._r,...horizontalSide(xr,mr,ir,dr),left:yr,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:gr==="top"?{..._r,...verticalSide(xr,fr,ir,dr,hr),bottom:yr,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:gr==="bottom"?{..._r,...verticalSide(xr,fr,ir,dr,hr),top:yr,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const FloatingArrow=reactExports.forwardRef(({position:e,arrowSize:rr,arrowOffset:ir,arrowRadius:lr,arrowPosition:dr,visible:fr,arrowX:mr,arrowY:hr,style:gr,...xr},_r)=>{const{dir:yr}=useDirection();return fr?jsxRuntimeExports.jsx("div",{...xr,ref:_r,style:{...gr,...getArrowPositionStyles({position:e,arrowSize:rr,arrowOffset:ir,arrowRadius:lr,arrowPosition:dr,dir:yr,arrowX:mr,arrowY:hr})}}):null});FloatingArrow.displayName="@mantine/core/FloatingArrow";function getFloatingPosition(e,rr){if(e==="rtl"&&(rr.includes("right")||rr.includes("left"))){const[ir,lr]=rr.split("-"),dr=ir==="right"?"left":"right";return lr===void 0?dr:`${dr}-${lr}`}return rr}var classes$$={root:"m_9814e45f"};const defaultProps$2b={zIndex:getDefaultZIndex("modal")},varsResolver$$=(e,{gradient:rr,color:ir,backgroundOpacity:lr,blur:dr,radius:fr,zIndex:mr})=>({root:{"--overlay-bg":rr||(ir!==void 0||lr!==void 0)&&rgba(ir||"#000",lr??.6)||void 0,"--overlay-filter":dr?`blur(${rem(dr)})`:void 0,"--overlay-radius":fr===void 0?void 0:getRadius(fr),"--overlay-z-index":mr?.toString()}}),Overlay=polymorphicFactory((e,rr)=>{const ir=useProps("Overlay",defaultProps$2b,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,fixed:xr,center:_r,children:yr,radius:vr,zIndex:br,gradient:Sr,blur:wr,color:Mr,backgroundOpacity:kr,mod:Ar,...Ir}=ir,$r=useStyles({name:"Overlay",props:ir,classes:classes$$,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$$});return jsxRuntimeExports.jsx(Box,{ref:rr,...$r("root"),mod:[{center:_r,fixed:xr},Ar],...Ir,children:yr})});Overlay.classes=classes$$;Overlay.displayName="@mantine/core/Overlay";function createPortalNode(e){const rr=document.createElement("div");return rr.setAttribute("data-portal","true"),typeof e.className=="string"&&rr.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(rr.style,e.style),typeof e.id=="string"&&rr.setAttribute("id",e.id),rr}function getTargetNode({target:e,reuseTargetNode:rr,...ir}){if(e)return typeof e=="string"?document.querySelector(e)||createPortalNode(ir):e;if(rr){const lr=document.querySelector("[data-mantine-shared-portal-node]");if(lr)return lr;const dr=createPortalNode(ir);return dr.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(dr),dr}return createPortalNode(ir)}const defaultProps$2a={reuseTargetNode:!0},Portal=factory((e,rr)=>{const{children:ir,target:lr,reuseTargetNode:dr,...fr}=useProps("Portal",defaultProps$2a,e),[mr,hr]=reactExports.useState(!1),gr=reactExports.useRef(null);return useIsomorphicEffect$1(()=>(hr(!0),gr.current=getTargetNode({target:lr,reuseTargetNode:dr,...fr}),assignRef(rr,gr.current),!lr&&!dr&&gr.current&&document.body.appendChild(gr.current),()=>{!lr&&!dr&&gr.current&&document.body.removeChild(gr.current)}),[lr]),!mr||!gr.current?null:reactDomExports.createPortal(jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ir}),gr.current)});Portal.displayName="@mantine/core/Portal";const OptionalPortal=factory(({withinPortal:e=!0,children:rr,...ir},lr)=>useMantineEnv()==="test"||!e?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:rr}):jsxRuntimeExports.jsx(Portal,{ref:lr,...ir,children:rr}));OptionalPortal.displayName="@mantine/core/OptionalPortal";const popIn=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),transitions$1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...popIn("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...popIn("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...popIn("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...popIn("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...popIn("top"),common:{transformOrigin:"top right"}}},transitionStatuses={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function getTransitionStyles({transition:e,state:rr,duration:ir,timingFunction:lr}){const dr={WebkitBackfaceVisibility:"hidden",willChange:"transform, opacity",transitionDuration:`${ir}ms`,transitionTimingFunction:lr};return typeof e=="string"?e in transitions$1?{transitionProperty:transitions$1[e].transitionProperty,...dr,...transitions$1[e].common,...transitions$1[e][transitionStatuses[rr]]}:{}:{transitionProperty:e.transitionProperty,...dr,...e.common,...e[transitionStatuses[rr]]}}function useTransition({duration:e,exitDuration:rr,timingFunction:ir,mounted:lr,onEnter:dr,onExit:fr,onEntered:mr,onExited:hr,enterDelay:gr,exitDelay:xr}){const _r=useMantineTheme(),yr=useReducedMotion(),vr=_r.respectReducedMotion?yr:!1,[br,Sr]=reactExports.useState(vr?0:e),[wr,Mr]=reactExports.useState(lr?"entered":"exited"),kr=reactExports.useRef(-1),Ar=reactExports.useRef(-1),Ir=reactExports.useRef(-1);function $r(){window.clearTimeout(kr.current),window.clearTimeout(Ar.current),cancelAnimationFrame(Ir.current)}const Dr=Fr=>{$r();const Lr=Fr?dr:fr,zr=Fr?mr:hr,Gr=vr?0:Fr?e:rr;Sr(Gr),Gr===0?(typeof Lr=="function"&&Lr(),typeof zr=="function"&&zr(),Mr(Fr?"entered":"exited")):Ir.current=requestAnimationFrame(()=>{ReactDOM.flushSync(()=>{Mr(Fr?"pre-entering":"pre-exiting")}),Ir.current=requestAnimationFrame(()=>{typeof Lr=="function"&&Lr(),Mr(Fr?"entering":"exiting"),kr.current=window.setTimeout(()=>{typeof zr=="function"&&zr(),Mr(Fr?"entered":"exited")},Gr)})})},Or=Fr=>{if($r(),typeof(Fr?gr:xr)!="number"){Dr(Fr);return}Ar.current=window.setTimeout(()=>{Dr(Fr)},Fr?gr:xr)};return useDidUpdate(()=>{Or(lr)},[lr]),reactExports.useEffect(()=>()=>{$r()},[]),{transitionDuration:br,transitionStatus:wr,transitionTimingFunction:ir||"ease"}}function Transition$2({keepMounted:e,transition:rr="fade",duration:ir=250,exitDuration:lr=ir,mounted:dr,children:fr,timingFunction:mr="ease",onExit:hr,onEntered:gr,onEnter:xr,onExited:_r,enterDelay:yr,exitDelay:vr}){const br=useMantineEnv(),{transitionDuration:Sr,transitionStatus:wr,transitionTimingFunction:Mr}=useTransition({mounted:dr,exitDuration:lr,duration:ir,timingFunction:mr,onExit:hr,onEntered:gr,onEnter:xr,onExited:_r,enterDelay:yr,exitDelay:vr});return Sr===0||br==="test"?dr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:fr({})}):e?fr({display:"none"}):null:wr==="exited"?e?fr({display:"none"}):null:jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:fr(getTransitionStyles({transition:rr,duration:Sr,state:wr,timingFunction:Mr}))})}Transition$2.displayName="@mantine/core/Transition";const[PopoverContextProvider,usePopoverContext$1]=createSafeContext("Popover component was not found in the tree");function FocusTrap({children:e,active:rr=!0,refProp:ir="ref",innerRef:lr}){const dr=useFocusTrap(rr),fr=useMergedRef(dr,lr);return isElement$1(e)?reactExports.cloneElement(e,{[ir]:fr}):e}function FocusTrapInitialFocus(e){return jsxRuntimeExports.jsx(VisuallyHidden,{tabIndex:-1,"data-autofocus":!0,...e})}FocusTrap.displayName="@mantine/core/FocusTrap";FocusTrapInitialFocus.displayName="@mantine/core/FocusTrapInitialFocus";FocusTrap.InitialFocus=FocusTrapInitialFocus;var classes$_={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const defaultProps$29={},PopoverDropdown=factory((e,rr)=>{const ir=useProps("PopoverDropdown",defaultProps$29,e),{className:lr,style:dr,vars:fr,children:mr,onKeyDownCapture:hr,variant:gr,classNames:xr,styles:_r,...yr}=ir,vr=usePopoverContext$1(),br=useFocusReturn({opened:vr.opened,shouldReturnFocus:vr.returnFocus}),Sr=vr.withRoles?{"aria-labelledby":vr.getTargetId(),id:vr.getDropdownId(),role:"dialog",tabIndex:-1}:{},wr=useMergedRef(rr,vr.floating);return vr.disabled?null:jsxRuntimeExports.jsx(OptionalPortal,{...vr.portalProps,withinPortal:vr.withinPortal,children:jsxRuntimeExports.jsx(Transition$2,{mounted:vr.opened,...vr.transitionProps,transition:vr.transitionProps?.transition||"fade",duration:vr.transitionProps?.duration??150,keepMounted:vr.keepMounted,exitDuration:typeof vr.transitionProps?.exitDuration=="number"?vr.transitionProps.exitDuration:vr.transitionProps?.duration,children:Mr=>jsxRuntimeExports.jsx(FocusTrap,{active:vr.trapFocus&&vr.opened,innerRef:wr,children:jsxRuntimeExports.jsxs(Box,{...Sr,...yr,variant:gr,onKeyDownCapture:closeOnEscape(()=>{vr.onClose?.(),vr.onDismiss?.()},{active:vr.closeOnEscape,onTrigger:br,onKeyDown:hr}),"data-position":vr.placement,"data-fixed":vr.floatingStrategy==="fixed"||void 0,...vr.getStyles("dropdown",{className:lr,props:ir,classNames:xr,styles:_r,style:[{...Mr,zIndex:vr.zIndex,top:vr.y??0,left:vr.x??0,width:vr.width==="target"?void 0:rem(vr.width),...vr.referenceHidden?{display:"none"}:null},vr.resolvedStyles.dropdown,_r?.dropdown,dr]}),children:[mr,jsxRuntimeExports.jsx(FloatingArrow,{ref:vr.arrowRef,arrowX:vr.arrowX,arrowY:vr.arrowY,visible:vr.withArrow,position:vr.placement,arrowSize:vr.arrowSize,arrowRadius:vr.arrowRadius,arrowOffset:vr.arrowOffset,arrowPosition:vr.arrowPosition,...vr.getStyles("arrow",{props:ir,classNames:xr,styles:_r})})]})})})})});PopoverDropdown.classes=classes$_;PopoverDropdown.displayName="@mantine/core/PopoverDropdown";const defaultProps$28={refProp:"ref",popupType:"dialog"},PopoverTarget=factory((e,rr)=>{const{children:ir,refProp:lr,popupType:dr,...fr}=useProps("PopoverTarget",defaultProps$28,e);if(!isElement$1(ir))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const mr=fr,hr=usePopoverContext$1(),gr=useMergedRef(hr.reference,getRefProp(ir),rr),xr=hr.withRoles?{"aria-haspopup":dr,"aria-expanded":hr.opened,"aria-controls":hr.getDropdownId(),id:hr.getTargetId()}:{};return reactExports.cloneElement(ir,{...mr,...xr,...hr.targetProps,className:clsx(hr.targetProps.className,mr.className,ir.props.className),[lr]:gr,...hr.controlled?null:{onClick:hr.onToggle}})});PopoverTarget.displayName="@mantine/core/PopoverTarget";function getDefaultMiddlewares$1(e){if(e===void 0)return{shift:!0,flip:!0};const rr={...e};return e.shift===void 0&&(rr.shift=!0),e.flip===void 0&&(rr.flip=!0),rr}function getPopoverMiddlewares(e,rr,ir){const lr=getDefaultMiddlewares$1(e.middlewares),dr=[offset(e.offset),hide()];return e.dropdownVisible&&ir!=="test"&&e.preventPositionChangeWhenVisible&&(lr.flip=!1,lr.shift=!1),lr.shift&&dr.push(shift$1(typeof lr.shift=="boolean"?{limiter:limitShift(),padding:5}:{limiter:limitShift(),padding:5,...lr.shift})),lr.flip&&dr.push(typeof lr.flip=="boolean"?flip():flip(lr.flip)),lr.inline&&dr.push(typeof lr.inline=="boolean"?inline():inline(lr.inline)),dr.push(arrow$2({element:e.arrowRef,padding:e.arrowOffset})),(lr.size||e.width==="target")&&dr.push(size({...typeof lr.size=="boolean"?{}:lr.size,apply({rects:fr,availableWidth:mr,availableHeight:hr,...gr}){const _r=rr().refs.floating.current?.style??{};lr.size&&(typeof lr.size=="object"&&lr.size.apply?lr.size.apply({rects:fr,availableWidth:mr,availableHeight:hr,...gr}):Object.assign(_r,{maxWidth:`${mr}px`,maxHeight:`${hr}px`})),e.width==="target"&&Object.assign(_r,{width:`${fr.reference.width}px`})}})),dr}function usePopover$1(e){const rr=useMantineEnv(),[ir,lr]=useUncontrolled({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),dr=reactExports.useRef(ir),fr=()=>{ir&&!e.disabled&&lr(!1)},mr=()=>{e.disabled||lr(!ir)},hr=useFloating$1({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:getPopoverMiddlewares(e,()=>hr,rr),whileElementsMounted:e.keepMounted?void 0:autoUpdate});return reactExports.useEffect(()=>{if(!(!e.keepMounted||!hr.refs.reference.current||!hr.refs.floating.current)&&ir)return autoUpdate(hr.refs.reference.current,hr.refs.floating.current,hr.update)},[e.keepMounted,ir,hr.refs.reference,hr.refs.floating,hr.update]),useDidUpdate(()=>{e.onPositionChange?.(hr.placement),e.positionRef.current=hr.placement},[hr.placement]),useDidUpdate(()=>{ir!==dr.current&&(ir?e.onOpen?.():e.onClose?.()),dr.current=ir},[ir,e.onClose,e.onOpen]),useDidUpdate(()=>{let gr=-1;return ir&&(gr=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(gr)}},[ir,e.position]),{floating:hr,controlled:typeof e.opened=="boolean",opened:ir,onClose:fr,onToggle:mr}}const defaultProps$27={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:getDefaultZIndex("popover"),__staticSelector:"Popover",width:"max-content"},varsResolver$_=(e,{radius:rr,shadow:ir})=>({dropdown:{"--popover-radius":rr===void 0?void 0:getRadius(rr),"--popover-shadow":getShadow(ir)}});function Popover$1(e){const rr=useProps("Popover",defaultProps$27,e),{children:ir,position:lr,offset:dr,onPositionChange:fr,positionDependencies:mr,opened:hr,transitionProps:gr,onExitTransitionEnd:xr,onEnterTransitionEnd:_r,width:yr,middlewares:vr,withArrow:br,arrowSize:Sr,arrowOffset:wr,arrowRadius:Mr,arrowPosition:kr,unstyled:Ar,classNames:Ir,styles:$r,closeOnClickOutside:Dr,withinPortal:Or,portalProps:Fr,closeOnEscape:Lr,clickOutsideEvents:zr,trapFocus:Gr,onClose:Jr,onDismiss:Yn,onOpen:Jn,onChange:Zn,zIndex:Hn,radius:Kn,shadow:qn,id:Qr,defaultOpened:$n,__staticSelector:es,withRoles:Xn,disabled:rs,returnFocus:ns,variant:ls,keepMounted:ss,vars:as,floatingStrategy:us,withOverlay:hs,overlayProps:gs,hideDetached:xs,preventPositionChangeWhenVisible:ms,..._s}=rr,Es=useStyles({name:es,props:rr,classes:classes$_,classNames:Ir,styles:$r,unstyled:Ar,rootSelector:"dropdown",vars:as,varsResolver:varsResolver$_}),{resolvedStyles:vs}=useResolvedStylesApi({classNames:Ir,styles:$r,props:rr}),[ws,Rs]=reactExports.useState(hr??$n??!1),Ss=reactExports.useRef(lr),ps=reactExports.useRef(null),[ys,Cs]=reactExports.useState(null),[Ms,ds]=reactExports.useState(null),{dir:ks}=useDirection(),cs=useMantineEnv(),bs=useId$3(Qr),Ts=usePopover$1({middlewares:vr,width:yr,position:getFloatingPosition(ks,lr),offset:typeof dr=="number"?dr+(br?Sr/2:0):dr,arrowRef:ps,arrowOffset:wr,onPositionChange:fr,positionDependencies:mr,opened:hr,defaultOpened:$n,onChange:Zn,onOpen:Jn,onClose:Jr,onDismiss:Yn,strategy:us,dropdownVisible:ws,setDropdownVisible:Rs,positionRef:Ss,disabled:rs,preventPositionChangeWhenVisible:ms,keepMounted:ss});useClickOutside(()=>{Dr&&(Ts.onClose(),Yn?.())},zr,[ys,Ms]);const Ps=reactExports.useCallback($s=>{Cs($s),Ts.floating.refs.setReference($s)},[Ts.floating.refs.setReference]),Is=reactExports.useCallback($s=>{ds($s),Ts.floating.refs.setFloating($s)},[Ts.floating.refs.setFloating]),js=reactExports.useCallback(()=>{gr?.onExited?.(),xr?.(),Rs(!1),Ss.current=lr},[gr?.onExited,xr]),Ds=reactExports.useCallback(()=>{gr?.onEntered?.(),_r?.()},[gr?.onEntered,_r]);return jsxRuntimeExports.jsxs(PopoverContextProvider,{value:{returnFocus:ns,disabled:rs,controlled:Ts.controlled,reference:Ps,floating:Is,x:Ts.floating.x,y:Ts.floating.y,arrowX:Ts.floating?.middlewareData?.arrow?.x,arrowY:Ts.floating?.middlewareData?.arrow?.y,opened:Ts.opened,arrowRef:ps,transitionProps:{...gr,onExited:js,onEntered:Ds},width:yr,withArrow:br,arrowSize:Sr,arrowOffset:wr,arrowRadius:Mr,arrowPosition:kr,placement:Ts.floating.placement,trapFocus:Gr,withinPortal:Or,portalProps:Fr,zIndex:Hn,radius:Kn,shadow:qn,closeOnEscape:Lr,onDismiss:Yn,onClose:Ts.onClose,onToggle:Ts.onToggle,getTargetId:()=>`${bs}-target`,getDropdownId:()=>`${bs}-dropdown`,withRoles:Xn,targetProps:_s,__staticSelector:es,classNames:Ir,styles:$r,unstyled:Ar,variant:ls,keepMounted:ss,getStyles:Es,resolvedStyles:vs,floatingStrategy:us,referenceHidden:xs&&cs!=="test"?Ts.floating.middlewareData.hide?.referenceHidden:!1},children:[ir,hs&&jsxRuntimeExports.jsx(Transition$2,{transition:"fade",mounted:Ts.opened,duration:gr?.duration||250,exitDuration:gr?.exitDuration||250,children:$s=>jsxRuntimeExports.jsx(OptionalPortal,{withinPortal:Or,children:jsxRuntimeExports.jsx(Overlay,{...gs,...Es("overlay",{className:gs?.className,style:[$s,gs?.style]})})})})]})}Popover$1.Target=PopoverTarget;Popover$1.Dropdown=PopoverDropdown;Popover$1.displayName="@mantine/core/Popover";Popover$1.extend=e=>e;var classes$Z={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const Bars=reactExports.forwardRef(({className:e,...rr},ir)=>jsxRuntimeExports.jsxs(Box,{component:"span",className:clsx(classes$Z.barsLoader,e),...rr,ref:ir,children:[jsxRuntimeExports.jsx("span",{className:classes$Z.bar}),jsxRuntimeExports.jsx("span",{className:classes$Z.bar}),jsxRuntimeExports.jsx("span",{className:classes$Z.bar})]}));Bars.displayName="@mantine/core/Bars";const Dots=reactExports.forwardRef(({className:e,...rr},ir)=>jsxRuntimeExports.jsxs(Box,{component:"span",className:clsx(classes$Z.dotsLoader,e),...rr,ref:ir,children:[jsxRuntimeExports.jsx("span",{className:classes$Z.dot}),jsxRuntimeExports.jsx("span",{className:classes$Z.dot}),jsxRuntimeExports.jsx("span",{className:classes$Z.dot})]}));Dots.displayName="@mantine/core/Dots";const Oval=reactExports.forwardRef(({className:e,...rr},ir)=>jsxRuntimeExports.jsx(Box,{component:"span",className:clsx(classes$Z.ovalLoader,e),...rr,ref:ir}));Oval.displayName="@mantine/core/Oval";const defaultLoaders={bars:Bars,oval:Oval,dots:Dots},defaultProps$26={loaders:defaultLoaders,type:"oval"},varsResolver$Z=(e,{size:rr,color:ir})=>({root:{"--loader-size":getSize(rr,"loader-size"),"--loader-color":ir?getThemeColor(ir,e):void 0}}),Loader=factory((e,rr)=>{const ir=useProps("Loader",defaultProps$26,e),{size:lr,color:dr,type:fr,vars:mr,className:hr,style:gr,classNames:xr,styles:_r,unstyled:yr,loaders:vr,variant:br,children:Sr,...wr}=ir,Mr=useStyles({name:"Loader",props:ir,classes:classes$Z,className:hr,style:gr,classNames:xr,styles:_r,unstyled:yr,vars:mr,varsResolver:varsResolver$Z});return Sr?jsxRuntimeExports.jsx(Box,{...Mr("root"),ref:rr,...wr,children:Sr}):jsxRuntimeExports.jsx(Box,{...Mr("root"),ref:rr,component:vr[fr],variant:br,size:lr,...wr})});Loader.defaultLoaders=defaultLoaders;Loader.classes=classes$Z;Loader.displayName="@mantine/core/Loader";var classes$Y={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const defaultProps$25={orientation:"horizontal"},varsResolver$Y=(e,{borderWidth:rr})=>({group:{"--ai-border-width":rem(rr)}}),ActionIconGroup=factory((e,rr)=>{const ir=useProps("ActionIconGroup",defaultProps$25,e),{className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,orientation:gr,vars:xr,borderWidth:_r,variant:yr,mod:vr,...br}=useProps("ActionIconGroup",defaultProps$25,e),Sr=useStyles({name:"ActionIconGroup",props:ir,classes:classes$Y,className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:xr,varsResolver:varsResolver$Y,rootSelector:"group"});return jsxRuntimeExports.jsx(Box,{...Sr("group"),ref:rr,variant:yr,mod:[{"data-orientation":gr},vr],role:"group",...br})});ActionIconGroup.classes=classes$Y;ActionIconGroup.displayName="@mantine/core/ActionIconGroup";const defaultProps$24={},varsResolver$X=(e,{radius:rr,color:ir,gradient:lr,variant:dr,autoContrast:fr,size:mr})=>{const hr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,gradient:lr,variant:dr||"filled",autoContrast:fr});return{groupSection:{"--section-height":getSize(mr,"section-height"),"--section-padding-x":getSize(mr,"section-padding-x"),"--section-fz":getFontSize(mr),"--section-radius":rr===void 0?void 0:getRadius(rr),"--section-bg":ir||dr?hr.background:void 0,"--section-color":hr.color,"--section-bd":ir||dr?hr.border:void 0}}},ActionIconGroupSection=factory((e,rr)=>{const ir=useProps("ActionIconGroupSection",defaultProps$24,e),{className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:gr,variant:xr,gradient:_r,radius:yr,autoContrast:vr,...br}=useProps("ActionIconGroupSection",defaultProps$24,e),Sr=useStyles({name:"ActionIconGroupSection",props:ir,classes:classes$Y,className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$X,rootSelector:"groupSection"});return jsxRuntimeExports.jsx(Box,{...Sr("groupSection"),ref:rr,variant:xr,...br})});ActionIconGroupSection.classes=classes$Y;ActionIconGroupSection.displayName="@mantine/core/ActionIconGroupSection";const defaultProps$23={},varsResolver$W=(e,{size:rr,radius:ir,variant:lr,gradient:dr,color:fr,autoContrast:mr})=>{const hr=e.variantColorResolver({color:fr||e.primaryColor,theme:e,gradient:dr,variant:lr||"filled",autoContrast:mr});return{root:{"--ai-size":getSize(rr,"ai-size"),"--ai-radius":ir===void 0?void 0:getRadius(ir),"--ai-bg":fr||lr?hr.background:void 0,"--ai-hover":fr||lr?hr.hover:void 0,"--ai-hover-color":fr||lr?hr.hoverColor:void 0,"--ai-color":hr.color,"--ai-bd":fr||lr?hr.border:void 0}}},ActionIcon=polymorphicFactory((e,rr)=>{const ir=useProps("ActionIcon",defaultProps$23,e),{className:lr,unstyled:dr,variant:fr,classNames:mr,styles:hr,style:gr,loading:xr,loaderProps:_r,size:yr,color:vr,radius:br,__staticSelector:Sr,gradient:wr,vars:Mr,children:kr,disabled:Ar,"data-disabled":Ir,autoContrast:$r,mod:Dr,...Or}=ir,Fr=useStyles({name:["ActionIcon",Sr],props:ir,className:lr,style:gr,classes:classes$Y,classNames:mr,styles:hr,unstyled:dr,vars:Mr,varsResolver:varsResolver$W});return jsxRuntimeExports.jsxs(UnstyledButton,{...Fr("root",{active:!Ar&&!xr&&!Ir}),...Or,unstyled:dr,variant:fr,size:yr,disabled:Ar||xr,ref:rr,mod:[{loading:xr,disabled:Ar||Ir},Dr],children:[jsxRuntimeExports.jsx(Transition$2,{mounted:!!xr,transition:"slide-down",duration:150,children:Lr=>jsxRuntimeExports.jsx(Box,{component:"span",...Fr("loader",{style:Lr}),"aria-hidden":!0,children:jsxRuntimeExports.jsx(Loader,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",..._r})})}),jsxRuntimeExports.jsx(Box,{component:"span",mod:{loading:xr},...Fr("icon"),children:kr})]})});ActionIcon.classes=classes$Y;ActionIcon.displayName="@mantine/core/ActionIcon";ActionIcon.Group=ActionIconGroup;ActionIcon.GroupSection=ActionIconGroupSection;const CloseIcon$1=reactExports.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:rr,...ir},lr)=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...rr,width:e,height:e},ref:lr,...ir,children:jsxRuntimeExports.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));CloseIcon$1.displayName="@mantine/core/CloseIcon";var classes$X={root:"m_86a44da5","root--subtle":"m_220c80f2"};const defaultProps$22={variant:"subtle"},varsResolver$V=(e,{size:rr,radius:ir,iconSize:lr})=>({root:{"--cb-size":getSize(rr,"cb-size"),"--cb-radius":ir===void 0?void 0:getRadius(ir),"--cb-icon-size":rem(lr)}}),CloseButton=polymorphicFactory((e,rr)=>{const ir=useProps("CloseButton",defaultProps$22,e),{iconSize:lr,children:dr,vars:fr,radius:mr,className:hr,classNames:gr,style:xr,styles:_r,unstyled:yr,"data-disabled":vr,disabled:br,variant:Sr,icon:wr,mod:Mr,__staticSelector:kr,...Ar}=ir,Ir=useStyles({name:kr||"CloseButton",props:ir,className:hr,style:xr,classes:classes$X,classNames:gr,styles:_r,unstyled:yr,vars:fr,varsResolver:varsResolver$V});return jsxRuntimeExports.jsxs(UnstyledButton,{ref:rr,...Ar,unstyled:yr,variant:Sr,disabled:br,mod:[{disabled:br||vr},Mr],...Ir("root",{variant:Sr,active:!br&&!vr}),children:[wr||jsxRuntimeExports.jsx(CloseIcon$1,{}),dr]})});CloseButton.classes=classes$X;CloseButton.displayName="@mantine/core/CloseButton";function filterFalsyChildren(e){return reactExports.Children.toArray(e).filter(Boolean)}var classes$W={root:"m_4081bf90"};const defaultProps$21={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},varsResolver$U=(e,{grow:rr,preventGrowOverflow:ir,gap:lr,align:dr,justify:fr,wrap:mr},{childWidth:hr})=>({root:{"--group-child-width":rr&&ir?hr:void 0,"--group-gap":getSpacing(lr),"--group-align":dr,"--group-justify":fr,"--group-wrap":mr}}),Group=factory((e,rr)=>{const ir=useProps("Group",defaultProps$21,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,children:gr,gap:xr,align:_r,justify:yr,wrap:vr,grow:br,preventGrowOverflow:Sr,vars:wr,variant:Mr,__size:kr,mod:Ar,...Ir}=ir,$r=filterFalsyChildren(gr),Dr=$r.length,Or=getSpacing(xr??"md"),Lr={childWidth:`calc(${100/Dr}% - (${Or} - ${Or} / ${Dr}))`},zr=useStyles({name:"Group",props:ir,stylesCtx:Lr,className:dr,style:fr,classes:classes$W,classNames:lr,styles:mr,unstyled:hr,vars:wr,varsResolver:varsResolver$U});return jsxRuntimeExports.jsx(Box,{...zr("root"),ref:rr,variant:Mr,mod:[{grow:br},Ar],size:kr,...Ir,children:$r})});Group.classes=classes$W;Group.displayName="@mantine/core/Group";const[ModalBaseProvider,useModalBaseContext]=createSafeContext("ModalBase component was not found in tree");function useLockScroll({opened:e,transitionDuration:rr}){const[ir,lr]=reactExports.useState(e),dr=reactExports.useRef(-1),mr=useReducedMotion()?0:rr;return reactExports.useEffect(()=>(e?(lr(!0),window.clearTimeout(dr.current)):mr===0?lr(!1):dr.current=window.setTimeout(()=>lr(!1),mr),()=>window.clearTimeout(dr.current)),[e,mr]),ir}function useModal({id:e,transitionProps:rr,opened:ir,trapFocus:lr,closeOnEscape:dr,onClose:fr,returnFocus:mr}){const hr=useId$3(e),[gr,xr]=reactExports.useState(!1),[_r,yr]=reactExports.useState(!1),vr=typeof rr?.duration=="number"?rr?.duration:200,br=useLockScroll({opened:ir,transitionDuration:vr});return useWindowEvent("keydown",Sr=>{Sr.key==="Escape"&&dr&&!Sr.isComposing&&ir&&Sr.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&fr()},{capture:!0}),useFocusReturn({opened:ir,shouldReturnFocus:lr&&mr}),{_id:hr,titleMounted:gr,bodyMounted:_r,shouldLockScroll:br,setTitleMounted:xr,setBodyMounted:yr}}const ModalBase=reactExports.forwardRef(({keepMounted:e,opened:rr,onClose:ir,id:lr,transitionProps:dr,onExitTransitionEnd:fr,onEnterTransitionEnd:mr,trapFocus:hr,closeOnEscape:gr,returnFocus:xr,closeOnClickOutside:_r,withinPortal:yr,portalProps:vr,lockScroll:br,children:Sr,zIndex:wr,shadow:Mr,padding:kr,__vars:Ar,unstyled:Ir,removeScrollProps:$r,...Dr},Or)=>{const{_id:Fr,titleMounted:Lr,bodyMounted:zr,shouldLockScroll:Gr,setTitleMounted:Jr,setBodyMounted:Yn}=useModal({id:lr,transitionProps:dr,opened:rr,trapFocus:hr,closeOnEscape:gr,onClose:ir,returnFocus:xr}),{key:Jn,...Zn}=$r||{};return jsxRuntimeExports.jsx(OptionalPortal,{...vr,withinPortal:yr,children:jsxRuntimeExports.jsx(ModalBaseProvider,{value:{opened:rr,onClose:ir,closeOnClickOutside:_r,onExitTransitionEnd:fr,onEnterTransitionEnd:mr,transitionProps:{...dr,keepMounted:e},getTitleId:()=>`${Fr}-title`,getBodyId:()=>`${Fr}-body`,titleMounted:Lr,bodyMounted:zr,setTitleMounted:Jr,setBodyMounted:Yn,trapFocus:hr,closeOnEscape:gr,zIndex:wr,unstyled:Ir},children:jsxRuntimeExports.jsx(ReactRemoveScroll,{enabled:Gr&&br,...Zn,children:jsxRuntimeExports.jsx(Box,{ref:Or,...Dr,__vars:{...Ar,"--mb-z-index":(wr||getDefaultZIndex("modal")).toString(),"--mb-shadow":getShadow(Mr),"--mb-padding":getSpacing(kr)},children:Sr})},Jn)})})});ModalBase.displayName="@mantine/core/ModalBase";function useModalBodyId(){const e=useModalBaseContext();return reactExports.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var classes$V={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const ModalBaseBody=reactExports.forwardRef(({className:e,...rr},ir)=>{const lr=useModalBodyId(),dr=useModalBaseContext();return jsxRuntimeExports.jsx(Box,{ref:ir,...rr,id:lr,className:clsx({[classes$V.body]:!dr.unstyled},e)})});ModalBaseBody.displayName="@mantine/core/ModalBaseBody";const ModalBaseCloseButton=reactExports.forwardRef(({className:e,onClick:rr,...ir},lr)=>{const dr=useModalBaseContext();return jsxRuntimeExports.jsx(CloseButton,{ref:lr,...ir,onClick:fr=>{dr.onClose(),rr?.(fr)},className:clsx({[classes$V.close]:!dr.unstyled},e),unstyled:dr.unstyled})});ModalBaseCloseButton.displayName="@mantine/core/ModalBaseCloseButton";const ModalBaseContent=reactExports.forwardRef(({transitionProps:e,className:rr,innerProps:ir,onKeyDown:lr,style:dr,...fr},mr)=>{const hr=useModalBaseContext();return jsxRuntimeExports.jsx(Transition$2,{mounted:hr.opened,transition:"pop",...hr.transitionProps,onExited:()=>{hr.onExitTransitionEnd?.(),hr.transitionProps?.onExited?.()},onEntered:()=>{hr.onEnterTransitionEnd?.(),hr.transitionProps?.onEntered?.()},...e,children:gr=>jsxRuntimeExports.jsx("div",{...ir,className:clsx({[classes$V.inner]:!hr.unstyled},ir.className),children:jsxRuntimeExports.jsx(FocusTrap,{active:hr.opened&&hr.trapFocus,innerRef:mr,children:jsxRuntimeExports.jsx(Paper,{...fr,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":hr.bodyMounted?hr.getBodyId():void 0,"aria-labelledby":hr.titleMounted?hr.getTitleId():void 0,style:[dr,gr],className:clsx({[classes$V.content]:!hr.unstyled},rr),unstyled:hr.unstyled,children:fr.children})})})})});ModalBaseContent.displayName="@mantine/core/ModalBaseContent";const ModalBaseHeader=reactExports.forwardRef(({className:e,...rr},ir)=>{const lr=useModalBaseContext();return jsxRuntimeExports.jsx(Box,{component:"header",ref:ir,className:clsx({[classes$V.header]:!lr.unstyled},e),...rr})});ModalBaseHeader.displayName="@mantine/core/ModalBaseHeader";const DEFAULT_TRANSITION={duration:200,timingFunction:"ease",transition:"fade"};function useModalTransition(e){const rr=useModalBaseContext();return{...DEFAULT_TRANSITION,...rr.transitionProps,...e}}const ModalBaseOverlay=reactExports.forwardRef(({onClick:e,transitionProps:rr,style:ir,visible:lr,...dr},fr)=>{const mr=useModalBaseContext(),hr=useModalTransition(rr);return jsxRuntimeExports.jsx(Transition$2,{mounted:lr!==void 0?lr:mr.opened,...hr,transition:"fade",children:gr=>jsxRuntimeExports.jsx(Overlay,{ref:fr,fixed:!0,style:[ir,gr],zIndex:mr.zIndex,unstyled:mr.unstyled,onClick:xr=>{e?.(xr),mr.closeOnClickOutside&&mr.onClose()},...dr})})});ModalBaseOverlay.displayName="@mantine/core/ModalBaseOverlay";function useModalTitle(){const e=useModalBaseContext();return reactExports.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const ModalBaseTitle=reactExports.forwardRef(({className:e,...rr},ir)=>{const lr=useModalTitle(),dr=useModalBaseContext();return jsxRuntimeExports.jsx(Box,{component:"h2",ref:ir,className:clsx({[classes$V.title]:!dr.unstyled},e),...rr,id:lr})});ModalBaseTitle.displayName="@mantine/core/ModalBaseTitle";function NativeScrollArea({children:e}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}const[InputContext,useInputContext]=createOptionalContext({size:"sm"}),defaultProps$20={},InputClearButton=factory((e,rr)=>{const ir=useProps("InputClearButton",defaultProps$20,e),{size:lr,variant:dr,vars:fr,classNames:mr,styles:hr,...gr}=ir,xr=useInputContext(),{resolvedClassNames:_r,resolvedStyles:yr}=useResolvedStylesApi({classNames:mr,styles:hr,props:ir});return jsxRuntimeExports.jsx(CloseButton,{variant:dr||"transparent",ref:rr,size:lr||xr?.size||"sm",classNames:_r,styles:yr,__staticSelector:"InputClearButton",...gr})});InputClearButton.displayName="@mantine/core/InputClearButton";const[InputWrapperProvider,useInputWrapperContext]=createOptionalContext({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var classes$U={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const defaultProps$1$={},varsResolver$T=(e,{size:rr})=>({description:{"--input-description-size":rr===void 0?void 0:`calc(${getFontSize(rr)} - ${rem(2)})`}}),InputDescription=factory((e,rr)=>{const ir=useProps("InputDescription",defaultProps$1$,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,size:xr,__staticSelector:_r,__inheritStyles:yr=!0,variant:vr,...br}=useProps("InputDescription",defaultProps$1$,ir),Sr=useInputWrapperContext(),wr=useStyles({name:["InputWrapper",_r],props:ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"description",vars:gr,varsResolver:varsResolver$T}),Mr=yr&&Sr?.getStyles||wr;return jsxRuntimeExports.jsx(Box,{component:"p",ref:rr,variant:vr,size:xr,...Mr("description",Sr?.getStyles?{className:dr,style:fr}:void 0),...br})});InputDescription.classes=classes$U;InputDescription.displayName="@mantine/core/InputDescription";const defaultProps$1_={},varsResolver$S=(e,{size:rr})=>({error:{"--input-error-size":rr===void 0?void 0:`calc(${getFontSize(rr)} - ${rem(2)})`}}),InputError=factory((e,rr)=>{const ir=useProps("InputError",defaultProps$1_,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,size:xr,__staticSelector:_r,__inheritStyles:yr=!0,variant:vr,...br}=ir,Sr=useStyles({name:["InputWrapper",_r],props:ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"error",vars:gr,varsResolver:varsResolver$S}),wr=useInputWrapperContext(),Mr=yr&&wr?.getStyles||Sr;return jsxRuntimeExports.jsx(Box,{component:"p",ref:rr,variant:vr,size:xr,...Mr("error",wr?.getStyles?{className:dr,style:fr}:void 0),...br})});InputError.classes=classes$U;InputError.displayName="@mantine/core/InputError";const defaultProps$1Z={labelElement:"label"},varsResolver$R=(e,{size:rr})=>({label:{"--input-label-size":getFontSize(rr),"--input-asterisk-color":void 0}}),InputLabel=factory((e,rr)=>{const ir=useProps("InputLabel",defaultProps$1Z,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,labelElement:xr,size:_r,required:yr,htmlFor:vr,onMouseDown:br,children:Sr,__staticSelector:wr,variant:Mr,mod:kr,...Ar}=useProps("InputLabel",defaultProps$1Z,ir),Ir=useStyles({name:["InputWrapper",wr],props:ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"label",vars:gr,varsResolver:varsResolver$R}),$r=useInputWrapperContext(),Dr=$r?.getStyles||Ir;return jsxRuntimeExports.jsxs(Box,{...Dr("label",$r?.getStyles?{className:dr,style:fr}:void 0),component:xr,variant:Mr,size:_r,ref:rr,htmlFor:xr==="label"?vr:void 0,mod:[{required:yr},kr],onMouseDown:Or=>{br?.(Or),!Or.defaultPrevented&&Or.detail>1&&Or.preventDefault()},...Ar,children:[Sr,yr&&jsxRuntimeExports.jsx("span",{...Dr("required"),"aria-hidden":!0,children:" *"})]})});InputLabel.classes=classes$U;InputLabel.displayName="@mantine/core/InputLabel";const defaultProps$1Y={},InputPlaceholder=factory((e,rr)=>{const ir=useProps("InputPlaceholder",defaultProps$1Y,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,__staticSelector:xr,variant:_r,error:yr,mod:vr,...br}=useProps("InputPlaceholder",defaultProps$1Y,ir),Sr=useStyles({name:["InputPlaceholder",xr],props:ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"placeholder"});return jsxRuntimeExports.jsx(Box,{...Sr("placeholder"),mod:[{error:!!yr},vr],component:"span",variant:_r,ref:rr,...br})});InputPlaceholder.classes=classes$U;InputPlaceholder.displayName="@mantine/core/InputPlaceholder";function getInputOffsets(e,{hasDescription:rr,hasError:ir}){const lr=e.findIndex(gr=>gr==="input"),dr=e.slice(0,lr),fr=e.slice(lr+1),mr=rr&&dr.includes("description")||ir&&dr.includes("error");return{offsetBottom:rr&&fr.includes("description")||ir&&fr.includes("error"),offsetTop:mr}}const defaultProps$1X={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},varsResolver$Q=(e,{size:rr})=>({label:{"--input-label-size":getFontSize(rr),"--input-asterisk-color":void 0},error:{"--input-error-size":rr===void 0?void 0:`calc(${getFontSize(rr)} - ${rem(2)})`},description:{"--input-description-size":rr===void 0?void 0:`calc(${getFontSize(rr)} - ${rem(2)})`}}),InputWrapper=factory((e,rr)=>{const ir=useProps("InputWrapper",defaultProps$1X,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,size:xr,variant:_r,__staticSelector:yr,inputContainer:vr,inputWrapperOrder:br,label:Sr,error:wr,description:Mr,labelProps:kr,descriptionProps:Ar,errorProps:Ir,labelElement:$r,children:Dr,withAsterisk:Or,id:Fr,required:Lr,__stylesApiProps:zr,mod:Gr,...Jr}=ir,Yn=useStyles({name:["InputWrapper",yr],props:zr||ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$Q}),Jn={size:xr,variant:_r,__staticSelector:yr},Zn=useId$3(Fr),Hn=typeof Or=="boolean"?Or:Lr,Kn=Ir?.id||`${Zn}-error`,qn=Ar?.id||`${Zn}-description`,Qr=Zn,$n=!!wr&&typeof wr!="boolean",es=!!Mr,Xn=`${$n?Kn:""} ${es?qn:""}`,rs=Xn.trim().length>0?Xn.trim():void 0,ns=kr?.id||`${Zn}-label`,ls=Sr&&jsxRuntimeExports.jsx(InputLabel,{labelElement:$r,id:ns,htmlFor:Qr,required:Hn,...Jn,...kr,children:Sr},"label"),ss=es&&jsxRuntimeExports.jsx(InputDescription,{...Ar,...Jn,size:Ar?.size||Jn.size,id:Ar?.id||qn,children:Mr},"description"),as=jsxRuntimeExports.jsx(reactExports.Fragment,{children:vr(Dr)},"input"),us=$n&&reactExports.createElement(InputError,{...Ir,...Jn,size:Ir?.size||Jn.size,key:"error",id:Ir?.id||Kn},wr),hs=br.map(gs=>{switch(gs){case"label":return ls;case"input":return as;case"description":return ss;case"error":return us;default:return null}});return jsxRuntimeExports.jsx(InputWrapperProvider,{value:{getStyles:Yn,describedBy:rs,inputId:Qr,labelId:ns,...getInputOffsets(br,{hasDescription:es,hasError:$n})},children:jsxRuntimeExports.jsx(Box,{ref:rr,variant:_r,size:xr,mod:[{error:!!wr},Gr],...Yn("root"),...Jr,children:hs})})});InputWrapper.classes=classes$U;InputWrapper.displayName="@mantine/core/InputWrapper";const defaultProps$1W={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},varsResolver$P=(e,rr,ir)=>({wrapper:{"--input-margin-top":ir.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":ir.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":getSize(rr.size,"input-height"),"--input-fz":getFontSize(rr.size),"--input-radius":rr.radius===void 0?void 0:getRadius(rr.radius),"--input-left-section-width":rr.leftSectionWidth!==void 0?rem(rr.leftSectionWidth):void 0,"--input-right-section-width":rr.rightSectionWidth!==void 0?rem(rr.rightSectionWidth):void 0,"--input-padding-y":rr.multiline?getSize(rr.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":rr.leftSectionPointerEvents,"--input-right-section-pointer-events":rr.rightSectionPointerEvents}}),Input=polymorphicFactory((e,rr)=>{const ir=useProps("Input",defaultProps$1W,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,required:gr,__staticSelector:xr,__stylesApiProps:_r,size:yr,wrapperProps:vr,error:br,disabled:Sr,leftSection:wr,leftSectionProps:Mr,leftSectionWidth:kr,rightSection:Ar,rightSectionProps:Ir,rightSectionWidth:$r,rightSectionPointerEvents:Dr,leftSectionPointerEvents:Or,variant:Fr,vars:Lr,pointer:zr,multiline:Gr,radius:Jr,id:Yn,withAria:Jn,withErrorStyles:Zn,mod:Hn,inputSize:Kn,__clearSection:qn,__clearable:Qr,__defaultRightSection:$n,...es}=ir,{styleProps:Xn,rest:rs}=extractStyleProps(es),ns=useInputWrapperContext(),ls={offsetBottom:ns?.offsetBottom,offsetTop:ns?.offsetTop},ss=useStyles({name:["Input",xr],props:_r||ir,classes:classes$U,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,stylesCtx:ls,rootSelector:"wrapper",vars:Lr,varsResolver:varsResolver$P}),as=Jn?{required:gr,disabled:Sr,"aria-invalid":!!br,"aria-describedby":ns?.describedBy,id:ns?.inputId||Yn}:{},us=Ar||Qr&&qn||$n;return jsxRuntimeExports.jsx(InputContext,{value:{size:yr||"sm"},children:jsxRuntimeExports.jsxs(Box,{...ss("wrapper"),...Xn,...vr,mod:[{error:!!br&&Zn,pointer:zr,disabled:Sr,multiline:Gr,"data-with-right-section":!!us,"data-with-left-section":!!wr},Hn],variant:Fr,size:yr,children:[wr&&jsxRuntimeExports.jsx("div",{...Mr,"data-position":"left",...ss("section",{className:Mr?.className,style:Mr?.style}),children:wr}),jsxRuntimeExports.jsx(Box,{component:"input",...rs,...as,ref:rr,required:gr,mod:{disabled:Sr,error:!!br&&Zn},variant:Fr,__size:Kn,...ss("input")}),us&&jsxRuntimeExports.jsx("div",{...Ir,"data-position":"right",...ss("section",{className:Ir?.className,style:Ir?.style}),children:us})]})})});Input.classes=classes$U;Input.Wrapper=InputWrapper;Input.Label=InputLabel;Input.Error=InputError;Input.Description=InputDescription;Input.Placeholder=InputPlaceholder;Input.ClearButton=InputClearButton;Input.displayName="@mantine/core/Input";function useInputProps(e,rr,ir){const lr=useProps(e,rr,ir),{label:dr,description:fr,error:mr,required:hr,classNames:gr,styles:xr,className:_r,unstyled:yr,__staticSelector:vr,__stylesApiProps:br,errorProps:Sr,labelProps:wr,descriptionProps:Mr,wrapperProps:kr,id:Ar,size:Ir,style:$r,inputContainer:Dr,inputWrapperOrder:Or,withAsterisk:Fr,variant:Lr,vars:zr,mod:Gr,...Jr}=lr,{styleProps:Yn,rest:Jn}=extractStyleProps(Jr),Zn={label:dr,description:fr,error:mr,required:hr,classNames:gr,className:_r,__staticSelector:vr,__stylesApiProps:br||lr,errorProps:Sr,labelProps:wr,descriptionProps:Mr,unstyled:yr,styles:xr,size:Ir,style:$r,inputContainer:Dr,inputWrapperOrder:Or,withAsterisk:Fr,variant:Lr,id:Ar,mod:Gr,...kr};return{...Jn,classNames:gr,styles:xr,unstyled:yr,wrapperProps:{...Zn,...Yn},inputProps:{required:hr,classNames:gr,styles:xr,unstyled:yr,size:Ir,__staticSelector:vr,__stylesApiProps:br||lr,error:mr,variant:Lr,id:Ar}}}const defaultProps$1V={__staticSelector:"InputBase",withAria:!0},InputBase=polymorphicFactory((e,rr)=>{const{inputProps:ir,wrapperProps:lr,...dr}=useInputProps("InputBase",defaultProps$1V,e);return jsxRuntimeExports.jsx(Input.Wrapper,{...lr,children:jsxRuntimeExports.jsx(Input,{...ir,...dr,ref:rr})})});InputBase.classes={...Input.classes,...Input.Wrapper.classes};InputBase.displayName="@mantine/core/InputBase";const FLEX_STYLE_PROPS_DATA={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var classes$T={root:"m_8bffd616"};const defaultProps$1U={},Flex=polymorphicFactory((e,rr)=>{const ir=useProps("Flex",defaultProps$1U,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,gap:xr,rowGap:_r,columnGap:yr,align:vr,justify:br,wrap:Sr,direction:wr,...Mr}=ir,kr=useStyles({name:"Flex",classes:classes$T,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr}),Ar=useMantineTheme(),Ir=useRandomClassName(),$r=parseStyleProps({styleProps:{gap:xr,rowGap:_r,columnGap:yr,align:vr,justify:br,wrap:Sr,direction:wr},theme:Ar,data:FLEX_STYLE_PROPS_DATA});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$r.hasResponsiveStyles&&jsxRuntimeExports.jsx(InlineStyles,{selector:`.${Ir}`,styles:$r.styles,media:$r.media}),jsxRuntimeExports.jsx(Box,{ref:rr,...kr("root",{className:Ir,style:filterProps($r.inlineStyles)}),...Mr})]})});Flex.classes=classes$T;Flex.displayName="@mantine/core/Flex";const[AccordionProvider,useAccordionContext]=createSafeContext("Accordion component was not found in the tree");function AccordionChevron({style:e,size:rr=16,...ir}){return jsxRuntimeExports.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:rem(rr),height:rem(rr),display:"block"},...ir,children:jsxRuntimeExports.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}AccordionChevron.displayName="@mantine/core/AccordionChevron";const[AccordionItemProvider,useAccordionItemContext]=createSafeContext("Accordion.Item component was not found in the tree");var classes$S={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const defaultProps$1T={},AccordionControl=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,chevron:hr,icon:gr,onClick:xr,onKeyDown:_r,children:yr,disabled:vr,mod:br,...Sr}=useProps("AccordionControl",defaultProps$1T,e),{value:wr}=useAccordionItemContext(),Mr=useAccordionContext(),kr=Mr.isItemActive(wr),Ar=typeof Mr.order=="number",Ir=`h${Mr.order}`,$r=jsxRuntimeExports.jsxs(UnstyledButton,{...Sr,...Mr.getStyles("control",{className:lr,classNames:ir,style:dr,styles:fr,variant:Mr.variant}),unstyled:Mr.unstyled,mod:["accordion-control",{active:kr,"chevron-position":Mr.chevronPosition,disabled:vr},br],ref:rr,onClick:Dr=>{xr?.(Dr),Mr.onChange(wr)},type:"button",disabled:vr,"aria-expanded":kr,"aria-controls":Mr.getRegionId(wr),id:Mr.getControlId(wr),onKeyDown:createScopedKeydownHandler({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:Mr.loop,orientation:"vertical",onKeyDown:_r}),children:[jsxRuntimeExports.jsx(Box,{component:"span",mod:{rotate:!Mr.disableChevronRotation&&kr,position:Mr.chevronPosition},...Mr.getStyles("chevron",{classNames:ir,styles:fr}),children:hr||Mr.chevron}),jsxRuntimeExports.jsx("span",{...Mr.getStyles("label",{classNames:ir,styles:fr}),children:yr}),gr&&jsxRuntimeExports.jsx(Box,{component:"span",mod:{"chevron-position":Mr.chevronPosition},...Mr.getStyles("icon",{classNames:ir,styles:fr}),children:gr})]});return Ar?jsxRuntimeExports.jsx(Ir,{...Mr.getStyles("itemTitle",{classNames:ir,styles:fr}),children:$r}):$r});AccordionControl.displayName="@mantine/core/AccordionControl";AccordionControl.classes=classes$S;const defaultProps$1S={},AccordionItem=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,value:hr,mod:gr,...xr}=useProps("AccordionItem",defaultProps$1S,e),_r=useAccordionContext();return jsxRuntimeExports.jsx(AccordionItemProvider,{value:{value:hr},children:jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{active:_r.isItemActive(hr)},gr],..._r.getStyles("item",{className:lr,classNames:ir,styles:fr,style:dr,variant:_r.variant}),...xr})})});AccordionItem.displayName="@mantine/core/AccordionItem";AccordionItem.classes=classes$S;const defaultProps$1R={},AccordionPanel=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,children:hr,...gr}=useProps("AccordionPanel",defaultProps$1R,e),{value:xr}=useAccordionItemContext(),_r=useAccordionContext();return jsxRuntimeExports.jsx(Collapse,{ref:rr,..._r.getStyles("panel",{className:lr,classNames:ir,style:dr,styles:fr}),...gr,in:_r.isItemActive(xr),transitionDuration:_r.transitionDuration??200,role:"region",id:_r.getRegionId(xr),"aria-labelledby":_r.getControlId(xr),children:jsxRuntimeExports.jsx("div",{..._r.getStyles("content",{classNames:ir,styles:fr}),children:hr})})});AccordionPanel.displayName="@mantine/core/AccordionPanel";AccordionPanel.classes=classes$S;const defaultProps$1Q={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevron:jsxRuntimeExports.jsx(AccordionChevron,{})},varsResolver$O=(e,{transitionDuration:rr,chevronSize:ir,radius:lr})=>({root:{"--accordion-transition-duration":rr===void 0?void 0:`${rr}ms`,"--accordion-chevron-size":ir===void 0?void 0:rem(ir),"--accordion-radius":lr===void 0?void 0:getRadius(lr)}});function Accordion(e){const rr=useProps("Accordion",defaultProps$1Q,e),{classNames:ir,className:lr,style:dr,styles:fr,unstyled:mr,vars:hr,children:gr,multiple:xr,value:_r,defaultValue:yr,onChange:vr,id:br,loop:Sr,transitionDuration:wr,disableChevronRotation:Mr,chevronPosition:kr,chevronSize:Ar,order:Ir,chevron:$r,variant:Dr,radius:Or,...Fr}=rr,Lr=useId$3(br),[zr,Gr]=useUncontrolled({value:_r,defaultValue:yr,finalValue:xr?[]:null,onChange:vr}),Jr=Zn=>Array.isArray(zr)?zr.includes(Zn):Zn===zr,Yn=Zn=>{const Hn=Array.isArray(zr)?zr.includes(Zn)?zr.filter(Kn=>Kn!==Zn):[...zr,Zn]:Zn===zr?null:Zn;Gr(Hn)},Jn=useStyles({name:"Accordion",classes:classes$S,props:rr,className:lr,style:dr,classNames:ir,styles:fr,unstyled:mr,vars:hr,varsResolver:varsResolver$O});return jsxRuntimeExports.jsx(AccordionProvider,{value:{isItemActive:Jr,onChange:Yn,getControlId:getSafeId(`${Lr}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:getSafeId(`${Lr}-panel`,"Accordion.Item component was rendered with invalid value or without value"),transitionDuration:wr,disableChevronRotation:Mr,chevronPosition:kr,order:Ir,chevron:$r,loop:Sr,getStyles:Jn,variant:Dr,unstyled:mr},children:jsxRuntimeExports.jsx(Box,{...Jn("root"),id:Lr,...Fr,variant:Dr,"data-accordion":!0,children:gr})})}const extendAccordion=e=>e;Accordion.extend=extendAccordion;Accordion.withProps=getWithProps(Accordion);Accordion.classes=classes$S;Accordion.displayName="@mantine/core/Accordion";Accordion.Item=AccordionItem;Accordion.Panel=AccordionPanel;Accordion.Control=AccordionControl;Accordion.Chevron=AccordionChevron;var classes$R={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const defaultProps$1P={},varsResolver$N=(e,{radius:rr,color:ir,variant:lr,autoContrast:dr})=>{const fr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,variant:lr||"light",autoContrast:dr});return{root:{"--alert-radius":rr===void 0?void 0:getRadius(rr),"--alert-bg":ir||lr?fr.background:void 0,"--alert-color":fr.color,"--alert-bd":ir||lr?fr.border:void 0}}},Alert=factory((e,rr)=>{const ir=useProps("Alert",defaultProps$1P,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,radius:xr,color:_r,title:yr,children:vr,id:br,icon:Sr,withCloseButton:wr,onClose:Mr,closeButtonLabel:kr,variant:Ar,autoContrast:Ir,...$r}=ir,Dr=useStyles({name:"Alert",classes:classes$R,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$N}),Or=useId$3(br),Fr=yr&&`${Or}-title`||void 0,Lr=`${Or}-body`;return jsxRuntimeExports.jsx(Box,{id:Or,...Dr("root",{variant:Ar}),variant:Ar,ref:rr,...$r,role:"alert","aria-describedby":Lr,"aria-labelledby":Fr,children:jsxRuntimeExports.jsxs("div",{...Dr("wrapper"),children:[Sr&&jsxRuntimeExports.jsx("div",{...Dr("icon"),children:Sr}),jsxRuntimeExports.jsxs("div",{...Dr("body"),children:[yr&&jsxRuntimeExports.jsx("div",{...Dr("title"),"data-with-close-button":wr||void 0,children:jsxRuntimeExports.jsx("span",{id:Fr,...Dr("label"),children:yr})}),vr&&jsxRuntimeExports.jsx("div",{id:Lr,...Dr("message"),"data-variant":Ar,children:vr})]}),wr&&jsxRuntimeExports.jsx(CloseButton,{...Dr("closeButton"),onClick:Mr,variant:"transparent",size:16,iconSize:16,"aria-label":kr,unstyled:hr})]})})});Alert.classes=classes$R;Alert.displayName="@mantine/core/Alert";var classes$Q={root:"m_b6d8b162"};function getTextTruncate(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const defaultProps$1O={inherit:!1},varsResolver$M=(e,{variant:rr,lineClamp:ir,gradient:lr,size:dr,color:fr})=>({root:{"--text-fz":getFontSize(dr),"--text-lh":getLineHeight(dr),"--text-gradient":rr==="gradient"?getGradient(lr,e):void 0,"--text-line-clamp":typeof ir=="number"?ir.toString():void 0,"--text-color":fr?getThemeColor(fr,e):void 0}}),Text$2=polymorphicFactory((e,rr)=>{const ir=useProps("Text",defaultProps$1O,e),{lineClamp:lr,truncate:dr,inline:fr,inherit:mr,gradient:hr,span:gr,__staticSelector:xr,vars:_r,className:yr,style:vr,classNames:br,styles:Sr,unstyled:wr,variant:Mr,mod:kr,size:Ar,...Ir}=ir,$r=useStyles({name:["Text",xr],props:ir,classes:classes$Q,className:yr,style:vr,classNames:br,styles:Sr,unstyled:wr,vars:_r,varsResolver:varsResolver$M});return jsxRuntimeExports.jsx(Box,{...$r("root",{focusable:!0}),ref:rr,component:gr?"span":"p",variant:Mr,mod:[{"data-truncate":getTextTruncate(dr),"data-line-clamp":typeof lr=="number","data-inline":fr,"data-inherit":mr},kr],size:Ar,...Ir})});Text$2.classes=classes$Q;Text$2.displayName="@mantine/core/Text";var classes$P={root:"m_849cf0da"};const defaultProps$1N={underline:"hover"},Anchor=polymorphicFactory((e,rr)=>{const{underline:ir,className:lr,unstyled:dr,mod:fr,...mr}=useProps("Anchor",defaultProps$1N,e);return jsxRuntimeExports.jsx(Text$2,{component:"a",ref:rr,className:clsx({[classes$P.root]:!dr},lr),...mr,mod:[{underline:ir},fr],__staticSelector:"Anchor",unstyled:dr})});Anchor.classes=classes$P;Anchor.displayName="@mantine/core/Anchor";const[AppShellProvider,useAppShellContext]=createSafeContext("AppShell was not found in tree");var classes$O={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const defaultProps$1M={},AppShellAside=factory((e,rr)=>{const ir=useProps("AppShellAside",defaultProps$1M,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,withBorder:xr,zIndex:_r,mod:yr,...vr}=ir,br=useAppShellContext();return br.disabled?null:jsxRuntimeExports.jsx(Box,{component:"aside",ref:rr,mod:[{"with-border":xr??br.withBorder},yr],...br.getStyles("aside",{className:dr,classNames:lr,styles:mr,style:fr}),...vr,__vars:{"--app-shell-aside-z-index":`calc(${_r??br.zIndex} + 1)`}})});AppShellAside.classes=classes$O;AppShellAside.displayName="@mantine/core/AppShellAside";const defaultProps$1L={},AppShellFooter=factory((e,rr)=>{const ir=useProps("AppShellFooter",defaultProps$1L,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,withBorder:xr,zIndex:_r,mod:yr,...vr}=ir,br=useAppShellContext();return br.disabled?null:jsxRuntimeExports.jsx(Box,{component:"footer",ref:rr,mod:[{"with-border":xr??br.withBorder},yr],...br.getStyles("footer",{className:clsx({[ReactRemoveScroll.classNames.zeroRight]:br.offsetScrollbars},dr),classNames:lr,styles:mr,style:fr}),...vr,__vars:{"--app-shell-footer-z-index":(_r??br.zIndex)?.toString()}})});AppShellFooter.classes=classes$O;AppShellFooter.displayName="@mantine/core/AppShellFooter";const defaultProps$1K={},AppShellHeader=factory((e,rr)=>{const ir=useProps("AppShellHeader",defaultProps$1K,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,withBorder:xr,zIndex:_r,mod:yr,...vr}=ir,br=useAppShellContext();return br.disabled?null:jsxRuntimeExports.jsx(Box,{component:"header",ref:rr,mod:[{"with-border":xr??br.withBorder},yr],...br.getStyles("header",{className:clsx({[ReactRemoveScroll.classNames.zeroRight]:br.offsetScrollbars},dr),classNames:lr,styles:mr,style:fr}),...vr,__vars:{"--app-shell-header-z-index":(_r??br.zIndex)?.toString()}})});AppShellHeader.classes=classes$O;AppShellHeader.displayName="@mantine/core/AppShellHeader";const defaultProps$1J={},AppShellMain=factory((e,rr)=>{const ir=useProps("AppShellMain",defaultProps$1J,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useAppShellContext();return jsxRuntimeExports.jsx(Box,{component:"main",ref:rr,...xr.getStyles("main",{className:dr,style:fr,classNames:lr,styles:mr}),...gr})});AppShellMain.classes=classes$O;AppShellMain.displayName="@mantine/core/AppShellMain";function getBaseSize(e){return typeof e=="object"?e.base:e}function isPrimitiveSize(e){const rr=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||rr}function isResponsiveSize(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function assignAsideVariables({baseStyles:e,minMediaStyles:rr,maxMediaStyles:ir,aside:lr,theme:dr}){const fr=lr?.width,mr="translateX(var(--app-shell-aside-width))",hr="translateX(calc(var(--app-shell-aside-width) * -1))";if(lr?.breakpoint&&!lr?.collapsed?.mobile&&(ir[lr?.breakpoint]=ir[lr?.breakpoint]||{},ir[lr?.breakpoint]["--app-shell-aside-width"]="100%",ir[lr?.breakpoint]["--app-shell-aside-offset"]="0px"),isPrimitiveSize(fr)){const gr=rem(getBaseSize(fr));e["--app-shell-aside-width"]=gr,e["--app-shell-aside-offset"]=gr}if(isResponsiveSize(fr)&&(typeof fr.base<"u"&&(e["--app-shell-aside-width"]=rem(fr.base),e["--app-shell-aside-offset"]=rem(fr.base)),keys$1(fr).forEach(gr=>{gr!=="base"&&(rr[gr]=rr[gr]||{},rr[gr]["--app-shell-aside-width"]=rem(fr[gr]),rr[gr]["--app-shell-aside-offset"]=rem(fr[gr]))})),lr?.collapsed?.desktop){const gr=lr.breakpoint;rr[gr]=rr[gr]||{},rr[gr]["--app-shell-aside-transform"]=mr,rr[gr]["--app-shell-aside-transform-rtl"]=hr,rr[gr]["--app-shell-aside-offset"]="0px !important"}if(lr?.collapsed?.mobile){const gr=getBreakpointValue$1(lr.breakpoint,dr.breakpoints)-.1;ir[gr]=ir[gr]||{},ir[gr]["--app-shell-aside-width"]="100%",ir[gr]["--app-shell-aside-offset"]="0px",ir[gr]["--app-shell-aside-transform"]=mr,ir[gr]["--app-shell-aside-transform-rtl"]=hr}}function assignFooterVariables({baseStyles:e,minMediaStyles:rr,footer:ir}){const lr=ir?.height,dr="translateY(var(--app-shell-footer-height))",fr=ir?.offset??!0;if(isPrimitiveSize(lr)){const mr=rem(getBaseSize(lr));e["--app-shell-footer-height"]=mr,fr&&(e["--app-shell-footer-offset"]=mr)}isResponsiveSize(lr)&&(typeof lr.base<"u"&&(e["--app-shell-footer-height"]=rem(lr.base),fr&&(e["--app-shell-footer-offset"]=rem(lr.base))),keys$1(lr).forEach(mr=>{mr!=="base"&&(rr[mr]=rr[mr]||{},rr[mr]["--app-shell-footer-height"]=rem(lr[mr]),fr&&(rr[mr]["--app-shell-footer-offset"]=rem(lr[mr])))})),ir?.collapsed&&(e["--app-shell-footer-transform"]=dr,e["--app-shell-footer-offset"]="0px !important")}function assignHeaderVariables({baseStyles:e,minMediaStyles:rr,header:ir}){const lr=ir?.height,dr="translateY(calc(var(--app-shell-header-height) * -1))",fr=ir?.offset??!0;if(isPrimitiveSize(lr)){const mr=rem(getBaseSize(lr));e["--app-shell-header-height"]=mr,fr&&(e["--app-shell-header-offset"]=mr)}isResponsiveSize(lr)&&(typeof lr.base<"u"&&(e["--app-shell-header-height"]=rem(lr.base),fr&&(e["--app-shell-header-offset"]=rem(lr.base))),keys$1(lr).forEach(mr=>{mr!=="base"&&(rr[mr]=rr[mr]||{},rr[mr]["--app-shell-header-height"]=rem(lr[mr]),fr&&(rr[mr]["--app-shell-header-offset"]=rem(lr[mr])))})),ir?.collapsed&&(e["--app-shell-header-transform"]=dr,e["--app-shell-header-offset"]="0px !important")}function assignNavbarVariables({baseStyles:e,minMediaStyles:rr,maxMediaStyles:ir,navbar:lr,theme:dr}){const fr=lr?.width,mr="translateX(calc(var(--app-shell-navbar-width) * -1))",hr="translateX(var(--app-shell-navbar-width))";if(lr?.breakpoint&&!lr?.collapsed?.mobile&&(ir[lr?.breakpoint]=ir[lr?.breakpoint]||{},ir[lr?.breakpoint]["--app-shell-navbar-width"]="100%",ir[lr?.breakpoint]["--app-shell-navbar-offset"]="0px"),isPrimitiveSize(fr)){const gr=rem(getBaseSize(fr));e["--app-shell-navbar-width"]=gr,e["--app-shell-navbar-offset"]=gr}if(isResponsiveSize(fr)&&(typeof fr.base<"u"&&(e["--app-shell-navbar-width"]=rem(fr.base),e["--app-shell-navbar-offset"]=rem(fr.base)),keys$1(fr).forEach(gr=>{gr!=="base"&&(rr[gr]=rr[gr]||{},rr[gr]["--app-shell-navbar-width"]=rem(fr[gr]),rr[gr]["--app-shell-navbar-offset"]=rem(fr[gr]))})),lr?.collapsed?.desktop){const gr=lr.breakpoint;rr[gr]=rr[gr]||{},rr[gr]["--app-shell-navbar-transform"]=mr,rr[gr]["--app-shell-navbar-transform-rtl"]=hr,rr[gr]["--app-shell-navbar-offset"]="0px !important"}if(lr?.collapsed?.mobile){const gr=getBreakpointValue$1(lr.breakpoint,dr.breakpoints)-.1;ir[gr]=ir[gr]||{},ir[gr]["--app-shell-navbar-width"]="100%",ir[gr]["--app-shell-navbar-offset"]="0px",ir[gr]["--app-shell-navbar-transform"]=mr,ir[gr]["--app-shell-navbar-transform-rtl"]=hr}}function getPaddingValue(e){return Number(e)===0?"0px":getSpacing(e)}function assignPaddingVariables({padding:e,baseStyles:rr,minMediaStyles:ir}){isPrimitiveSize(e)&&(rr["--app-shell-padding"]=getPaddingValue(getBaseSize(e))),isResponsiveSize(e)&&(e.base&&(rr["--app-shell-padding"]=getPaddingValue(e.base)),keys$1(e).forEach(lr=>{lr!=="base"&&(ir[lr]=ir[lr]||{},ir[lr]["--app-shell-padding"]=getPaddingValue(e[lr]))}))}function getVariables({navbar:e,header:rr,footer:ir,aside:lr,padding:dr,theme:fr}){const mr={},hr={},gr={};assignNavbarVariables({baseStyles:gr,minMediaStyles:mr,maxMediaStyles:hr,navbar:e,theme:fr}),assignAsideVariables({baseStyles:gr,minMediaStyles:mr,maxMediaStyles:hr,aside:lr,theme:fr}),assignHeaderVariables({baseStyles:gr,minMediaStyles:mr,header:rr}),assignFooterVariables({baseStyles:gr,minMediaStyles:mr,footer:ir}),assignPaddingVariables({baseStyles:gr,minMediaStyles:mr,padding:dr});const xr=getSortedBreakpoints(keys$1(mr),fr.breakpoints).map(vr=>({query:`(min-width: ${em(vr.px)})`,styles:mr[vr.value]})),_r=getSortedBreakpoints(keys$1(hr),fr.breakpoints).map(vr=>({query:`(max-width: ${em(vr.px)})`,styles:hr[vr.value]})),yr=[...xr,..._r];return{baseStyles:gr,media:yr}}function AppShellMediaStyles({navbar:e,header:rr,aside:ir,footer:lr,padding:dr}){const fr=useMantineTheme(),mr=useMantineContext(),{media:hr,baseStyles:gr}=getVariables({navbar:e,header:rr,footer:lr,aside:ir,padding:dr,theme:fr});return jsxRuntimeExports.jsx(InlineStyles,{media:hr,styles:gr,selector:mr.cssVariablesSelector})}const defaultProps$1I={},AppShellNavbar=factory((e,rr)=>{const ir=useProps("AppShellNavbar",defaultProps$1I,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,withBorder:xr,zIndex:_r,mod:yr,...vr}=ir,br=useAppShellContext();return br.disabled?null:jsxRuntimeExports.jsx(Box,{component:"nav",ref:rr,mod:[{"with-border":xr??br.withBorder},yr],...br.getStyles("navbar",{className:dr,classNames:lr,styles:mr,style:fr}),...vr,__vars:{"--app-shell-navbar-z-index":`calc(${_r??br.zIndex} + 1)`}})});AppShellNavbar.classes=classes$O;AppShellNavbar.displayName="@mantine/core/AppShellNavbar";const defaultProps$1H={},AppShellSection=polymorphicFactory((e,rr)=>{const ir=useProps("AppShellSection",defaultProps$1H,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,grow:gr,mod:xr,..._r}=ir,yr=useAppShellContext();return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{grow:gr},xr],...yr.getStyles("section",{className:dr,style:fr,classNames:lr,styles:mr}),..._r})});AppShellSection.classes=classes$O;AppShellSection.displayName="@mantine/core/AppShellSection";function useResizing({transitionDuration:e,disabled:rr}){const[ir,lr]=reactExports.useState(!0),dr=reactExports.useRef(-1),fr=reactExports.useRef(-1);return useWindowEvent("resize",()=>{lr(!0),clearTimeout(dr.current),dr.current=window.setTimeout(()=>reactExports.startTransition(()=>{lr(!1)}),200)}),useIsomorphicEffect$1(()=>{lr(!0),clearTimeout(fr.current),fr.current=window.setTimeout(()=>reactExports.startTransition(()=>{lr(!1)}),e||0)},[rr,e]),ir}const defaultProps$1G={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:getDefaultZIndex("app")},varsResolver$L=(e,{transitionDuration:rr,transitionTimingFunction:ir})=>({root:{"--app-shell-transition-duration":`${rr}ms`,"--app-shell-transition-timing-function":ir}}),AppShell=factory((e,rr)=>{const ir=useProps("AppShell",defaultProps$1G,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,navbar:xr,withBorder:_r,padding:yr,transitionDuration:vr,transitionTimingFunction:br,header:Sr,zIndex:wr,layout:Mr,disabled:kr,aside:Ar,footer:Ir,offsetScrollbars:$r=Mr!=="alt",mod:Dr,...Or}=ir,Fr=useStyles({name:"AppShell",classes:classes$O,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$L}),Lr=useResizing({disabled:kr,transitionDuration:vr});return jsxRuntimeExports.jsxs(AppShellProvider,{value:{getStyles:Fr,withBorder:_r,zIndex:wr,disabled:kr,offsetScrollbars:$r},children:[jsxRuntimeExports.jsx(AppShellMediaStyles,{navbar:xr,header:Sr,aside:Ar,footer:Ir,padding:yr}),jsxRuntimeExports.jsx(Box,{ref:rr,...Fr("root"),mod:[{resizing:Lr,layout:Mr,disabled:kr},Dr],...Or})]})});AppShell.classes=classes$O;AppShell.displayName="@mantine/core/AppShell";AppShell.Navbar=AppShellNavbar;AppShell.Header=AppShellHeader;AppShell.Main=AppShellMain;AppShell.Aside=AppShellAside;AppShell.Footer=AppShellFooter;AppShell.Section=AppShellSection;function parseItem(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(rr=>parseItem(rr))}:e}function getParsedComboboxData(e){return e?e.map(rr=>parseItem(rr)):[]}function getOptionsLockup(e){return e.reduce((rr,ir)=>"group"in ir?{...rr,...getOptionsLockup(ir.items)}:(rr[ir.value]=ir,rr),{})}var classes$N={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const defaultProps$1F={error:null},varsResolver$K=(e,{size:rr,color:ir})=>({chevron:{"--combobox-chevron-size":getSize(rr,"combobox-chevron-size"),"--combobox-chevron-color":ir?getThemeColor(ir,e):void 0}}),ComboboxChevron=factory((e,rr)=>{const ir=useProps("ComboboxChevron",defaultProps$1F,e),{size:lr,error:dr,style:fr,className:mr,classNames:hr,styles:gr,unstyled:xr,vars:_r,mod:yr,...vr}=ir,br=useStyles({name:"ComboboxChevron",classes:classes$N,props:ir,style:fr,className:mr,classNames:hr,styles:gr,unstyled:xr,vars:_r,varsResolver:varsResolver$K,rootSelector:"chevron"});return jsxRuntimeExports.jsx(Box,{component:"svg",...vr,...br("chevron"),size:lr,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:dr},yr],ref:rr,children:jsxRuntimeExports.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ComboboxChevron.classes=classes$N;ComboboxChevron.displayName="@mantine/core/ComboboxChevron";const[ComboboxProvider,useComboboxContext]=createSafeContext("Combobox component was not found in tree"),ComboboxClearButton=reactExports.forwardRef(({size:e,onMouseDown:rr,onClick:ir,onClear:lr,...dr},fr)=>jsxRuntimeExports.jsx(Input.ClearButton,{ref:fr,tabIndex:-1,"aria-hidden":!0,...dr,onMouseDown:mr=>{mr.preventDefault(),rr?.(mr)},onClick:mr=>{lr(),ir?.(mr)}}));ComboboxClearButton.displayName="@mantine/core/ComboboxClearButton";const defaultProps$1E={},ComboboxDropdown=factory((e,rr)=>{const{classNames:ir,styles:lr,className:dr,style:fr,hidden:mr,...hr}=useProps("ComboboxDropdown",defaultProps$1E,e),gr=useComboboxContext();return jsxRuntimeExports.jsx(Popover$1.Dropdown,{...hr,ref:rr,role:"presentation","data-hidden":mr||void 0,...gr.getStyles("dropdown",{className:dr,style:fr,classNames:ir,styles:lr})})});ComboboxDropdown.classes=classes$N;ComboboxDropdown.displayName="@mantine/core/ComboboxDropdown";const defaultProps$1D={refProp:"ref"},ComboboxDropdownTarget=factory((e,rr)=>{const{children:ir,refProp:lr}=useProps("ComboboxDropdownTarget",defaultProps$1D,e);if(useComboboxContext(),!isElement$1(ir))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return jsxRuntimeExports.jsx(Popover$1.Target,{ref:rr,refProp:lr,children:ir})});ComboboxDropdownTarget.displayName="@mantine/core/ComboboxDropdownTarget";const defaultProps$1C={},ComboboxEmpty=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,...hr}=useProps("ComboboxEmpty",defaultProps$1C,e),gr=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:rr,...gr.getStyles("empty",{className:lr,classNames:ir,styles:fr,style:dr}),...hr})});ComboboxEmpty.classes=classes$N;ComboboxEmpty.displayName="@mantine/core/ComboboxEmpty";function useComboboxTargetProps({onKeyDown:e,withKeyboardNavigation:rr,withAriaAttributes:ir,withExpandedAttribute:lr,targetType:dr,autoComplete:fr}){const mr=useComboboxContext(),[hr,gr]=reactExports.useState(null),xr=yr=>{if(e?.(yr),!mr.readOnly&&rr){if(yr.nativeEvent.isComposing)return;if(yr.nativeEvent.code==="ArrowDown"&&(yr.preventDefault(),mr.store.dropdownOpened?gr(mr.store.selectNextOption()):(mr.store.openDropdown("keyboard"),gr(mr.store.selectActiveOption()),mr.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),yr.nativeEvent.code==="ArrowUp"&&(yr.preventDefault(),mr.store.dropdownOpened?gr(mr.store.selectPreviousOption()):(mr.store.openDropdown("keyboard"),gr(mr.store.selectActiveOption()),mr.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),yr.nativeEvent.code==="Enter"||yr.nativeEvent.code==="NumpadEnter"){if(yr.nativeEvent.keyCode===229)return;const vr=mr.store.getSelectedOptionIndex();mr.store.dropdownOpened&&vr!==-1?(yr.preventDefault(),mr.store.clickSelectedOption()):dr==="button"&&(yr.preventDefault(),mr.store.openDropdown("keyboard"))}yr.key==="Escape"&&mr.store.closeDropdown("keyboard"),yr.nativeEvent.code==="Space"&&dr==="button"&&(yr.preventDefault(),mr.store.toggleDropdown("keyboard"))}};return{...ir?{"aria-haspopup":"listbox","aria-expanded":lr&&!!(mr.store.listId&&mr.store.dropdownOpened)||void 0,"aria-controls":mr.store.dropdownOpened&&mr.store.listId?mr.store.listId:void 0,"aria-activedescendant":mr.store.dropdownOpened&&hr||void 0,autoComplete:fr,"data-expanded":mr.store.dropdownOpened||void 0,"data-mantine-stop-propagation":mr.store.dropdownOpened||void 0}:{},onKeyDown:xr}}const defaultProps$1B={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ComboboxEventsTarget=factory((e,rr)=>{const{children:ir,refProp:lr,withKeyboardNavigation:dr,withAriaAttributes:fr,withExpandedAttribute:mr,targetType:hr,autoComplete:gr,...xr}=useProps("ComboboxEventsTarget",defaultProps$1B,e);if(!isElement$1(ir))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _r=useComboboxContext(),yr=useComboboxTargetProps({targetType:hr,withAriaAttributes:fr,withKeyboardNavigation:dr,withExpandedAttribute:mr,onKeyDown:ir.props.onKeyDown,autoComplete:gr});return reactExports.cloneElement(ir,{...yr,...xr,[lr]:useMergedRef(rr,_r.store.targetRef,getRefProp(ir))})});ComboboxEventsTarget.displayName="@mantine/core/ComboboxEventsTarget";const defaultProps$1A={},ComboboxFooter=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,...hr}=useProps("ComboboxFooter",defaultProps$1A,e),gr=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:rr,...gr.getStyles("footer",{className:lr,classNames:ir,style:dr,styles:fr}),...hr,onMouseDown:xr=>{xr.preventDefault()}})});ComboboxFooter.classes=classes$N;ComboboxFooter.displayName="@mantine/core/ComboboxFooter";const defaultProps$1z={},ComboboxGroup=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,children:hr,label:gr,...xr}=useProps("ComboboxGroup",defaultProps$1z,e),_r=useComboboxContext();return jsxRuntimeExports.jsxs(Box,{ref:rr,..._r.getStyles("group",{className:lr,classNames:ir,style:dr,styles:fr}),...xr,children:[gr&&jsxRuntimeExports.jsx("div",{..._r.getStyles("groupLabel",{classNames:ir,styles:fr}),children:gr}),hr]})});ComboboxGroup.classes=classes$N;ComboboxGroup.displayName="@mantine/core/ComboboxGroup";const defaultProps$1y={},ComboboxHeader=factory((e,rr)=>{const{classNames:ir,className:lr,style:dr,styles:fr,vars:mr,...hr}=useProps("ComboboxHeader",defaultProps$1y,e),gr=useComboboxContext();return jsxRuntimeExports.jsx(Box,{ref:rr,...gr.getStyles("header",{className:lr,classNames:ir,style:dr,styles:fr}),...hr,onMouseDown:xr=>{xr.preventDefault()}})});ComboboxHeader.classes=classes$N;ComboboxHeader.displayName="@mantine/core/ComboboxHeader";function ComboboxHiddenInput({value:e,valuesDivider:rr=",",...ir}){return jsxRuntimeExports.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(rr):e||"",...ir})}ComboboxHiddenInput.displayName="@mantine/core/ComboboxHiddenInput";const defaultProps$1x={},ComboboxOption=factory((e,rr)=>{const ir=useProps("ComboboxOption",defaultProps$1x,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,onClick:gr,id:xr,active:_r,onMouseDown:yr,onMouseOver:vr,disabled:br,selected:Sr,mod:wr,...Mr}=ir,kr=useComboboxContext(),Ar=reactExports.useId(),Ir=xr||Ar;return jsxRuntimeExports.jsx(Box,{...kr.getStyles("option",{className:dr,classNames:lr,styles:mr,style:fr}),...Mr,ref:rr,id:Ir,mod:["combobox-option",{"combobox-active":_r,"combobox-disabled":br,"combobox-selected":Sr},wr],role:"option",onClick:$r=>{br?$r.preventDefault():(kr.onOptionSubmit?.(ir.value,ir),gr?.($r))},onMouseDown:$r=>{$r.preventDefault(),yr?.($r)},onMouseOver:$r=>{kr.resetSelectionOnOptionHover&&kr.store.resetSelectedOption(),vr?.($r)}})});ComboboxOption.classes=classes$N;ComboboxOption.displayName="@mantine/core/ComboboxOption";const defaultProps$1w={},ComboboxOptions=factory((e,rr)=>{const ir=useProps("ComboboxOptions",defaultProps$1w,e),{classNames:lr,className:dr,style:fr,styles:mr,id:hr,onMouseDown:gr,labelledBy:xr,..._r}=ir,yr=useComboboxContext(),vr=useId$3(hr);return reactExports.useEffect(()=>{yr.store.setListId(vr)},[vr]),jsxRuntimeExports.jsx(Box,{ref:rr,...yr.getStyles("options",{className:dr,style:fr,classNames:lr,styles:mr}),..._r,id:vr,role:"listbox","aria-labelledby":xr,onMouseDown:br=>{br.preventDefault(),gr?.(br)}})});ComboboxOptions.classes=classes$N;ComboboxOptions.displayName="@mantine/core/ComboboxOptions";const defaultProps$1v={withAriaAttributes:!0,withKeyboardNavigation:!0},ComboboxSearch=factory((e,rr)=>{const ir=useProps("ComboboxSearch",defaultProps$1v,e),{classNames:lr,styles:dr,unstyled:fr,vars:mr,withAriaAttributes:hr,onKeyDown:gr,withKeyboardNavigation:xr,size:_r,...yr}=ir,vr=useComboboxContext(),br=vr.getStyles("search"),Sr=useComboboxTargetProps({targetType:"input",withAriaAttributes:hr,withKeyboardNavigation:xr,withExpandedAttribute:!1,onKeyDown:gr,autoComplete:"off"});return jsxRuntimeExports.jsx(Input,{ref:useMergedRef(rr,vr.store.searchRef),classNames:[{input:br.className},lr],styles:[{input:br.style},dr],size:_r||vr.size,...Sr,...yr,__staticSelector:"Combobox"})});ComboboxSearch.classes=classes$N;ComboboxSearch.displayName="@mantine/core/ComboboxSearch";const defaultProps$1u={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},ComboboxTarget=factory((e,rr)=>{const{children:ir,refProp:lr,withKeyboardNavigation:dr,withAriaAttributes:fr,withExpandedAttribute:mr,targetType:hr,autoComplete:gr,...xr}=useProps("ComboboxTarget",defaultProps$1u,e);if(!isElement$1(ir))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const _r=useComboboxContext(),yr=useComboboxTargetProps({targetType:hr,withAriaAttributes:fr,withKeyboardNavigation:dr,withExpandedAttribute:mr,onKeyDown:ir.props.onKeyDown,autoComplete:gr}),vr=reactExports.cloneElement(ir,{...yr,...xr});return jsxRuntimeExports.jsx(Popover$1.Target,{ref:useMergedRef(rr,_r.store.targetRef),children:vr})});ComboboxTarget.displayName="@mantine/core/ComboboxTarget";function getPreviousIndex(e,rr,ir){for(let lr=e-1;lr>=0;lr-=1)if(!rr[lr].hasAttribute("data-combobox-disabled"))return lr;if(ir){for(let lr=rr.length-1;lr>-1;lr-=1)if(!rr[lr].hasAttribute("data-combobox-disabled"))return lr}return e}function getNextIndex$1(e,rr,ir){for(let lr=e+1;lr<rr.length;lr+=1)if(!rr[lr].hasAttribute("data-combobox-disabled"))return lr;if(ir){for(let lr=0;lr<rr.length;lr+=1)if(!rr[lr].hasAttribute("data-combobox-disabled"))return lr}return e}function getFirstIndex(e){for(let rr=0;rr<e.length;rr+=1)if(!e[rr].hasAttribute("data-combobox-disabled"))return rr;return-1}function useCombobox({defaultOpened:e,opened:rr,onOpenedChange:ir,onDropdownClose:lr,onDropdownOpen:dr,loop:fr=!0,scrollBehavior:mr="instant"}={}){const[hr,gr]=useUncontrolled({value:rr,defaultValue:e,finalValue:!1,onChange:ir}),xr=reactExports.useRef(null),_r=reactExports.useRef(-1),yr=reactExports.useRef(null),vr=reactExports.useRef(null),br=reactExports.useRef(-1),Sr=reactExports.useRef(-1),wr=reactExports.useRef(-1),Mr=reactExports.useCallback((Kn="unknown")=>{hr||(gr(!0),dr?.(Kn))},[gr,dr,hr]),kr=reactExports.useCallback((Kn="unknown")=>{hr&&(gr(!1),lr?.(Kn))},[gr,lr,hr]),Ar=reactExports.useCallback((Kn="unknown")=>{hr?kr(Kn):Mr(Kn)},[kr,Mr,hr]),Ir=reactExports.useCallback(()=>{const Kn=document.querySelector(`#${xr.current} [data-combobox-selected]`);Kn?.removeAttribute("data-combobox-selected"),Kn?.removeAttribute("aria-selected")},[]),$r=reactExports.useCallback(Kn=>{const Qr=document.getElementById(xr.current)?.querySelectorAll("[data-combobox-option]");if(!Qr)return null;const $n=Kn>=Qr.length?0:Kn<0?Qr.length-1:Kn;return _r.current=$n,Qr?.[$n]&&!Qr[$n].hasAttribute("data-combobox-disabled")?(Ir(),Qr[$n].setAttribute("data-combobox-selected","true"),Qr[$n].setAttribute("aria-selected","true"),Qr[$n].scrollIntoView({block:"nearest",behavior:mr}),Qr[$n].id):null},[mr,Ir]),Dr=reactExports.useCallback(()=>{const Kn=document.querySelector(`#${xr.current} [data-combobox-active]`);if(Kn){const qn=document.querySelectorAll(`#${xr.current} [data-combobox-option]`),Qr=Array.from(qn).findIndex($n=>$n===Kn);return $r(Qr)}return $r(0)},[$r]),Or=reactExports.useCallback(()=>$r(getNextIndex$1(_r.current,document.querySelectorAll(`#${xr.current} [data-combobox-option]`),fr)),[$r,fr]),Fr=reactExports.useCallback(()=>$r(getPreviousIndex(_r.current,document.querySelectorAll(`#${xr.current} [data-combobox-option]`),fr)),[$r,fr]),Lr=reactExports.useCallback(()=>$r(getFirstIndex(document.querySelectorAll(`#${xr.current} [data-combobox-option]`))),[$r]),zr=reactExports.useCallback((Kn="selected",qn)=>{wr.current=window.setTimeout(()=>{const Qr=document.querySelectorAll(`#${xr.current} [data-combobox-option]`),$n=Array.from(Qr).findIndex(es=>es.hasAttribute(`data-combobox-${Kn}`));_r.current=$n,qn?.scrollIntoView&&Qr[$n]?.scrollIntoView({block:"nearest",behavior:mr})},0)},[]),Gr=reactExports.useCallback(()=>{_r.current=-1,Ir()},[Ir]),Jr=reactExports.useCallback(()=>{document.querySelectorAll(`#${xr.current} [data-combobox-option]`)?.[_r.current]?.click()},[]),Yn=reactExports.useCallback(Kn=>{xr.current=Kn},[]),Jn=reactExports.useCallback(()=>{br.current=window.setTimeout(()=>yr.current.focus(),0)},[]),Zn=reactExports.useCallback(()=>{Sr.current=window.setTimeout(()=>vr.current.focus(),0)},[]),Hn=reactExports.useCallback(()=>_r.current,[]);return reactExports.useEffect(()=>()=>{window.clearTimeout(br.current),window.clearTimeout(Sr.current),window.clearTimeout(wr.current)},[]),{dropdownOpened:hr,openDropdown:Mr,closeDropdown:kr,toggleDropdown:Ar,selectedOptionIndex:_r.current,getSelectedOptionIndex:Hn,selectOption:$r,selectFirstOption:Lr,selectActiveOption:Dr,selectNextOption:Or,selectPreviousOption:Fr,resetSelectedOption:Gr,updateSelectedOptionIndex:zr,listId:xr.current,setListId:Yn,clickSelectedOption:Jr,searchRef:yr,focusSearchInput:Jn,targetRef:vr,focusTarget:Zn}}const defaultProps$1t={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},varsResolver$J=(e,{size:rr,dropdownPadding:ir})=>({options:{"--combobox-option-fz":getFontSize(rr),"--combobox-option-padding":getSize(rr,"combobox-option-padding")},dropdown:{"--combobox-padding":ir===void 0?void 0:rem(ir),"--combobox-option-fz":getFontSize(rr),"--combobox-option-padding":getSize(rr,"combobox-option-padding")}});function Combobox(e){const rr=useProps("Combobox",defaultProps$1t,e),{classNames:ir,styles:lr,unstyled:dr,children:fr,store:mr,vars:hr,onOptionSubmit:gr,onClose:xr,size:_r,dropdownPadding:yr,resetSelectionOnOptionHover:vr,__staticSelector:br,readOnly:Sr,...wr}=rr,Mr=useCombobox(),kr=mr||Mr,Ar=useStyles({name:br||"Combobox",classes:classes$N,props:rr,classNames:ir,styles:lr,unstyled:dr,vars:hr,varsResolver:varsResolver$J}),Ir=()=>{xr?.(),kr.closeDropdown()};return jsxRuntimeExports.jsx(ComboboxProvider,{value:{getStyles:Ar,store:kr,onOptionSubmit:gr,size:_r,resetSelectionOnOptionHover:vr,readOnly:Sr},children:jsxRuntimeExports.jsx(Popover$1,{opened:kr.dropdownOpened,preventPositionChangeWhenVisible:!0,...wr,onChange:$r=>!$r&&Ir(),withRoles:!1,unstyled:dr,children:fr})})}const extendCombobox=e=>e;Combobox.extend=extendCombobox;Combobox.classes=classes$N;Combobox.displayName="@mantine/core/Combobox";Combobox.Target=ComboboxTarget;Combobox.Dropdown=ComboboxDropdown;Combobox.Options=ComboboxOptions;Combobox.Option=ComboboxOption;Combobox.Search=ComboboxSearch;Combobox.Empty=ComboboxEmpty;Combobox.Chevron=ComboboxChevron;Combobox.Footer=ComboboxFooter;Combobox.Header=ComboboxHeader;Combobox.EventsTarget=ComboboxEventsTarget;Combobox.DropdownTarget=ComboboxDropdownTarget;Combobox.Group=ComboboxGroup;Combobox.ClearButton=ComboboxClearButton;Combobox.HiddenInput=ComboboxHiddenInput;var classes$M={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const InlineInputClasses=classes$M,InlineInput=reactExports.forwardRef(({__staticSelector:e,__stylesApiProps:rr,className:ir,classNames:lr,styles:dr,unstyled:fr,children:mr,label:hr,description:gr,id:xr,disabled:_r,error:yr,size:vr,labelPosition:br="left",bodyElement:Sr="div",labelElement:wr="label",variant:Mr,style:kr,vars:Ar,mod:Ir,...$r},Dr)=>{const Or=useStyles({name:e,props:rr,className:ir,style:kr,classes:classes$M,classNames:lr,styles:dr,unstyled:fr});return jsxRuntimeExports.jsx(Box,{...Or("root"),ref:Dr,__vars:{"--label-fz":getFontSize(vr),"--label-lh":getSize(vr,"label-lh")},mod:[{"label-position":br},Ir],variant:Mr,size:vr,...$r,children:jsxRuntimeExports.jsxs(Box,{component:Sr,htmlFor:Sr==="label"?xr:void 0,...Or("body"),children:[mr,jsxRuntimeExports.jsxs("div",{...Or("labelWrapper"),"data-disabled":_r||void 0,children:[hr&&jsxRuntimeExports.jsx(Box,{component:wr,htmlFor:wr==="label"?xr:void 0,...Or("label"),"data-disabled":_r||void 0,children:hr}),gr&&jsxRuntimeExports.jsx(Input.Description,{size:vr,__inheritStyles:!1,...Or("description"),children:gr}),yr&&typeof yr!="boolean"&&jsxRuntimeExports.jsx(Input.Error,{size:vr,__inheritStyles:!1,...Or("error"),children:yr})]})]})})});InlineInput.displayName="@mantine/core/InlineInput";const CheckboxGroupContext=reactExports.createContext(null),CheckboxGroupProvider=CheckboxGroupContext.Provider,useCheckboxGroupContext=()=>reactExports.useContext(CheckboxGroupContext),[CheckboxCardProvider,useCheckboxCardContext]=createOptionalContext();var classes$L={card:"m_26775b0a"};const defaultProps$1s={withBorder:!0},varsResolver$I=(e,{radius:rr})=>({card:{"--card-radius":getRadius(rr)}}),CheckboxCard=factory((e,rr)=>{const ir=useProps("CheckboxCard",defaultProps$1s,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,checked:xr,mod:_r,withBorder:yr,value:vr,onClick:br,defaultChecked:Sr,onChange:wr,...Mr}=ir,kr=useStyles({name:"CheckboxCard",classes:classes$L,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$I,rootSelector:"card"}),Ar=useCheckboxGroupContext(),Ir=typeof xr=="boolean"?xr:Ar?Ar.value.includes(vr||""):void 0,[$r,Dr]=useUncontrolled({value:Ir,defaultValue:Sr,finalValue:!1,onChange:wr});return jsxRuntimeExports.jsx(CheckboxCardProvider,{value:{checked:$r},children:jsxRuntimeExports.jsx(UnstyledButton,{ref:rr,mod:[{"with-border":yr,checked:$r},_r],...kr("card"),...Mr,role:"checkbox","aria-checked":$r,onClick:Or=>{br?.(Or),Ar?.onChange(vr||""),Dr(!$r)}})})});CheckboxCard.displayName="@mantine/core/CheckboxCard";CheckboxCard.classes=classes$L;function InputsGroupFieldset({children:e,role:rr}){const ir=useInputWrapperContext();return ir?jsxRuntimeExports.jsx("div",{role:rr,"aria-labelledby":ir.labelId,"aria-describedby":ir.describedBy,children:e}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e})}const defaultProps$1r={},CheckboxGroup=factory((e,rr)=>{const{value:ir,defaultValue:lr,onChange:dr,size:fr,wrapperProps:mr,children:hr,readOnly:gr,...xr}=useProps("CheckboxGroup",defaultProps$1r,e),[_r,yr]=useUncontrolled({value:ir,defaultValue:lr,finalValue:[],onChange:dr}),vr=br=>{const Sr=typeof br=="string"?br:br.currentTarget.value;!gr&&yr(_r.includes(Sr)?_r.filter(wr=>wr!==Sr):[..._r,Sr])};return jsxRuntimeExports.jsx(CheckboxGroupProvider,{value:{value:_r,onChange:vr,size:fr},children:jsxRuntimeExports.jsx(Input.Wrapper,{size:fr,ref:rr,...mr,...xr,labelElement:"div",__staticSelector:"CheckboxGroup",children:jsxRuntimeExports.jsx(InputsGroupFieldset,{role:"group",children:hr})})})});CheckboxGroup.classes=Input.Wrapper.classes;CheckboxGroup.displayName="@mantine/core/CheckboxGroup";function CheckIcon({size:e,style:rr,...ir}){const lr=e!==void 0?{width:rem(e),height:rem(e),...rr}:rr;return jsxRuntimeExports.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:lr,"aria-hidden":!0,...ir,children:jsxRuntimeExports.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function CheckboxIcon({indeterminate:e,...rr}){return e?jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...rr,children:jsxRuntimeExports.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):jsxRuntimeExports.jsx(CheckIcon,{...rr})}var classes$K={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const defaultProps$1q={icon:CheckboxIcon},varsResolver$H=(e,{radius:rr,color:ir,size:lr,iconColor:dr,variant:fr,autoContrast:mr})=>{const hr=parseThemeColor({color:ir||e.primaryColor,theme:e}),gr=hr.isThemeColor&&hr.shade===void 0?`var(--mantine-color-${hr.color}-outline)`:hr.color;return{indicator:{"--checkbox-size":getSize(lr,"checkbox-size"),"--checkbox-radius":rr===void 0?void 0:getRadius(rr),"--checkbox-color":fr==="outline"?gr:getThemeColor(ir,e),"--checkbox-icon-color":dr?getThemeColor(dr,e):getAutoContrastValue(mr,e)?getContrastColor({color:ir,theme:e,autoContrast:mr}):void 0}}},CheckboxIndicator=factory((e,rr)=>{const ir=useProps("CheckboxIndicator",defaultProps$1q,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,icon:xr,indeterminate:_r,radius:yr,color:vr,iconColor:br,autoContrast:Sr,checked:wr,mod:Mr,variant:kr,disabled:Ar,...Ir}=ir,$r=useStyles({name:"CheckboxIndicator",classes:classes$K,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$H,rootSelector:"indicator"}),Dr=useCheckboxCardContext(),Or=typeof wr=="boolean"||typeof _r=="boolean"?wr||_r:Dr?.checked||!1;return jsxRuntimeExports.jsx(Box,{ref:rr,...$r("indicator",{variant:kr}),variant:kr,mod:[{checked:Or,disabled:Ar},Mr],...Ir,children:jsxRuntimeExports.jsx(xr,{indeterminate:_r,...$r("icon")})})});CheckboxIndicator.displayName="@mantine/core/CheckboxIndicator";CheckboxIndicator.classes=classes$K;var classes$J={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const defaultProps$1p={labelPosition:"right",icon:CheckboxIcon},varsResolver$G=(e,{radius:rr,color:ir,size:lr,iconColor:dr,variant:fr,autoContrast:mr})=>{const hr=parseThemeColor({color:ir||e.primaryColor,theme:e}),gr=hr.isThemeColor&&hr.shade===void 0?`var(--mantine-color-${hr.color}-outline)`:hr.color;return{root:{"--checkbox-size":getSize(lr,"checkbox-size"),"--checkbox-radius":rr===void 0?void 0:getRadius(rr),"--checkbox-color":fr==="outline"?gr:getThemeColor(ir,e),"--checkbox-icon-color":dr?getThemeColor(dr,e):getAutoContrastValue(mr,e)?getContrastColor({color:ir,theme:e,autoContrast:mr}):void 0}}},Checkbox=factory((e,rr)=>{const ir=useProps("Checkbox",defaultProps$1p,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,color:xr,label:_r,id:yr,size:vr,radius:br,wrapperProps:Sr,checked:wr,labelPosition:Mr,description:kr,error:Ar,disabled:Ir,variant:$r,indeterminate:Dr,icon:Or,rootRef:Fr,iconColor:Lr,onChange:zr,autoContrast:Gr,mod:Jr,...Yn}=ir,Jn=useCheckboxGroupContext(),Zn=vr||Jn?.size,Hn=useStyles({name:"Checkbox",props:ir,classes:classes$J,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$G}),{styleProps:Kn,rest:qn}=extractStyleProps(Yn),Qr=useId$3(yr),$n=Jn?{checked:Jn.value.includes(qn.value),onChange:rs=>{Jn.onChange(rs),zr?.(rs)}}:{},es=reactExports.useRef(null),Xn=rr||es;return reactExports.useEffect(()=>{Xn&&"current"in Xn&&Xn.current&&(Xn.current.indeterminate=Dr||!1)},[Dr,Xn]),jsxRuntimeExports.jsx(InlineInput,{...Hn("root"),__staticSelector:"Checkbox",__stylesApiProps:ir,id:Qr,size:Zn,labelPosition:Mr,label:_r,description:kr,error:Ar,disabled:Ir,classNames:lr,styles:mr,unstyled:hr,"data-checked":$n.checked||wr||void 0,variant:$r,ref:Fr,mod:Jr,...Kn,...Sr,children:jsxRuntimeExports.jsxs(Box,{...Hn("inner"),mod:{"data-label-position":Mr},children:[jsxRuntimeExports.jsx(Box,{component:"input",id:Qr,ref:Xn,checked:wr,disabled:Ir,mod:{error:!!Ar,indeterminate:Dr},...Hn("input",{focusable:!0,variant:$r}),onChange:zr,...qn,...$n,type:"checkbox"}),jsxRuntimeExports.jsx(Or,{indeterminate:Dr,...Hn("icon")})]})})});Checkbox.classes={...classes$J,...InlineInputClasses};Checkbox.displayName="@mantine/core/Checkbox";Checkbox.Group=CheckboxGroup;Checkbox.Indicator=CheckboxIndicator;Checkbox.Card=CheckboxCard;function isOptionsGroup(e){return"group"in e}function defaultOptionsFilter({options:e,search:rr,limit:ir}){const lr=rr.trim().toLowerCase(),dr=[];for(let fr=0;fr<e.length;fr+=1){const mr=e[fr];if(dr.length===ir)return dr;isOptionsGroup(mr)&&dr.push({group:mr.group,items:defaultOptionsFilter({options:mr.items,search:rr,limit:ir-dr.length})}),isOptionsGroup(mr)||mr.label.toLowerCase().includes(lr)&&dr.push(mr)}return dr}function isEmptyComboboxData(e){if(e.length===0)return!0;for(const rr of e)if(!("group"in rr)||rr.items.length>0)return!1;return!0}function validateOptions(e,rr=new Set){if(Array.isArray(e))for(const ir of e)if(isOptionsGroup(ir))validateOptions(ir.items,rr);else{if(typeof ir.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof ir.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof ir.value}`);if(rr.has(ir.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${ir.value}" was provided more than once`);rr.add(ir.value)}}function isValueChecked(e,rr){return Array.isArray(e)?e.includes(rr):e===rr}function Option({data:e,withCheckIcon:rr,value:ir,checkIconPosition:lr,unstyled:dr,renderOption:fr}){if(!isOptionsGroup(e)){const hr=isValueChecked(ir,e.value),gr=rr&&hr&&jsxRuntimeExports.jsx(CheckIcon,{className:classes$N.optionsDropdownCheckIcon}),xr=jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[lr==="left"&&gr,jsxRuntimeExports.jsx("span",{children:e.label}),lr==="right"&&gr]});return jsxRuntimeExports.jsx(Combobox.Option,{value:e.value,disabled:e.disabled,className:clsx({[classes$N.optionsDropdownOption]:!dr}),"data-reverse":lr==="right"||void 0,"data-checked":hr||void 0,"aria-selected":hr,active:hr,children:typeof fr=="function"?fr({option:e,checked:hr}):xr})}const mr=e.items.map(hr=>jsxRuntimeExports.jsx(Option,{data:hr,value:ir,unstyled:dr,withCheckIcon:rr,checkIconPosition:lr,renderOption:fr},hr.value));return jsxRuntimeExports.jsx(Combobox.Group,{label:e.group,children:mr})}function OptionsDropdown({data:e,hidden:rr,hiddenWhenEmpty:ir,filter:lr,search:dr,limit:fr,maxDropdownHeight:mr,withScrollArea:hr=!0,filterOptions:gr=!0,withCheckIcon:xr=!1,value:_r,checkIconPosition:yr,nothingFoundMessage:vr,unstyled:br,labelId:Sr,renderOption:wr,scrollAreaProps:Mr,"aria-label":kr}){validateOptions(e);const Ir=typeof dr=="string"?(lr||defaultOptionsFilter)({options:e,search:gr?dr:"",limit:fr??1/0}):e,$r=isEmptyComboboxData(Ir),Dr=Ir.map(Or=>jsxRuntimeExports.jsx(Option,{data:Or,withCheckIcon:xr,value:_r,checkIconPosition:yr,unstyled:br,renderOption:wr},isOptionsGroup(Or)?Or.group:Or.value));return jsxRuntimeExports.jsx(Combobox.Dropdown,{hidden:rr||ir&&$r,"data-composed":!0,children:jsxRuntimeExports.jsxs(Combobox.Options,{labelledBy:Sr,"aria-label":kr,children:[hr?jsxRuntimeExports.jsx(ScrollArea.Autosize,{mah:mr??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...Mr,children:Dr}):Dr,$r&&vr&&jsxRuntimeExports.jsx(Combobox.Empty,{children:vr})]})})}const AvatarGroupContext=reactExports.createContext(null),AvatarGroupProvider=AvatarGroupContext.Provider;function useAvatarGroupContext(){return{withinGroup:!!reactExports.useContext(AvatarGroupContext)}}var classes$I={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const defaultProps$1o={},varsResolver$F=(e,{spacing:rr})=>({group:{"--ag-spacing":getSpacing(rr)}}),AvatarGroup=factory((e,rr)=>{const ir=useProps("AvatarGroup",defaultProps$1o,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,spacing:xr,..._r}=ir,yr=useStyles({name:"AvatarGroup",classes:classes$I,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$F,rootSelector:"group"});return jsxRuntimeExports.jsx(AvatarGroupProvider,{value:!0,children:jsxRuntimeExports.jsx(Box,{ref:rr,...yr("group"),..._r})})});AvatarGroup.classes=classes$I;AvatarGroup.displayName="@mantine/core/AvatarGroup";function AvatarPlaceholderIcon(e){return jsxRuntimeExports.jsx("svg",{...e,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function hashCode(e){let rr=0;for(let ir=0;ir<e.length;ir+=1){const lr=e.charCodeAt(ir);rr=(rr<<5)-rr+lr,rr|=0}return rr}const defaultColors=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function getInitialsColor(e,rr=defaultColors){const ir=hashCode(e),lr=Math.abs(ir)%rr.length;return rr[lr]}function getInitials(e,rr=2){const ir=e.split(" ");return ir.length===1?e.slice(0,rr).toUpperCase():ir.map(lr=>lr[0]).slice(0,rr).join("").toUpperCase()}const defaultProps$1n={},varsResolver$E=(e,{size:rr,radius:ir,variant:lr,gradient:dr,color:fr,autoContrast:mr,name:hr,allowedInitialsColors:gr})=>{const xr=fr==="initials"&&typeof hr=="string"?getInitialsColor(hr,gr):fr,_r=e.variantColorResolver({color:xr||"gray",theme:e,gradient:dr,variant:lr||"light",autoContrast:mr});return{root:{"--avatar-size":getSize(rr,"avatar-size"),"--avatar-radius":ir===void 0?void 0:getRadius(ir),"--avatar-bg":xr||lr?_r.background:void 0,"--avatar-color":xr||lr?_r.color:void 0,"--avatar-bd":xr||lr?_r.border:void 0}}},Avatar=polymorphicFactory((e,rr)=>{const ir=useProps("Avatar",defaultProps$1n,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,src:xr,alt:_r,radius:yr,color:vr,gradient:br,imageProps:Sr,children:wr,autoContrast:Mr,mod:kr,name:Ar,allowedInitialsColors:Ir,...$r}=ir,Dr=useAvatarGroupContext(),[Or,Fr]=reactExports.useState(!xr),Lr=useStyles({name:"Avatar",props:ir,classes:classes$I,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$E});return reactExports.useEffect(()=>Fr(!xr),[xr]),jsxRuntimeExports.jsx(Box,{...Lr("root"),mod:[{"within-group":Dr.withinGroup},kr],ref:rr,...$r,children:Or||!xr?jsxRuntimeExports.jsx("span",{...Lr("placeholder"),title:_r,children:wr||typeof Ar=="string"&&getInitials(Ar)||jsxRuntimeExports.jsx(AvatarPlaceholderIcon,{})}):jsxRuntimeExports.jsx("img",{...Sr,...Lr("image"),src:xr,alt:_r,onError:zr=>{Fr(!0),Sr?.onError?.(zr)}})})});Avatar.classes=classes$I;Avatar.displayName="@mantine/core/Avatar";Avatar.Group=AvatarGroup;var classes$H={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const defaultProps$1m={},varsResolver$D=(e,{radius:rr,color:ir,gradient:lr,variant:dr,size:fr,autoContrast:mr})=>{const hr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,gradient:lr,variant:dr||"filled",autoContrast:mr});return{root:{"--badge-height":getSize(fr,"badge-height"),"--badge-padding-x":getSize(fr,"badge-padding-x"),"--badge-fz":getSize(fr,"badge-fz"),"--badge-radius":rr===void 0?void 0:getRadius(rr),"--badge-bg":ir||dr?hr.background:void 0,"--badge-color":ir||dr?hr.color:void 0,"--badge-bd":ir||dr?hr.border:void 0,"--badge-dot-color":dr==="dot"?getThemeColor(ir,e):void 0}}},Badge=polymorphicFactory((e,rr)=>{const ir=useProps("Badge",defaultProps$1m,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,radius:xr,color:_r,gradient:yr,leftSection:vr,rightSection:br,children:Sr,variant:wr,fullWidth:Mr,autoContrast:kr,circle:Ar,mod:Ir,...$r}=ir,Dr=useStyles({name:"Badge",props:ir,classes:classes$H,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$D});return jsxRuntimeExports.jsxs(Box,{variant:wr,mod:[{block:Mr,circle:Ar,"with-right-section":!!br,"with-left-section":!!vr},Ir],...Dr("root",{variant:wr}),ref:rr,...$r,children:[vr&&jsxRuntimeExports.jsx("span",{...Dr("section"),"data-position":"left",children:vr}),jsxRuntimeExports.jsx("span",{...Dr("label"),children:Sr}),br&&jsxRuntimeExports.jsx("span",{...Dr("section"),"data-position":"right",children:br})]})});Badge.classes=classes$H;Badge.displayName="@mantine/core/Badge";var classes$G={root:"m_8b3717df",breadcrumb:"m_f678d540",separator:"m_3b8f2208"};const defaultProps$1l={separator:"/"},varsResolver$C=(e,{separatorMargin:rr})=>({root:{"--bc-separator-margin":getSpacing(rr)}}),Breadcrumbs=factory((e,rr)=>{const ir=useProps("Breadcrumbs",defaultProps$1l,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,children:xr,separator:_r,separatorMargin:yr,...vr}=ir,br=useStyles({name:"Breadcrumbs",classes:classes$G,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$C}),Sr=reactExports.Children.toArray(xr).reduce((wr,Mr,kr,Ar)=>{const Ir=isElement$1(Mr)?reactExports.cloneElement(Mr,{...br("breadcrumb",{className:Mr.props?.className}),key:kr}):reactExports.createElement("div",{...br("breadcrumb"),key:kr},Mr);return wr.push(Ir),kr!==Ar.length-1&&wr.push(reactExports.createElement(Box,{...br("separator"),key:`separator-${kr}`},_r)),wr},[]);return jsxRuntimeExports.jsx(Box,{ref:rr,...br("root"),...vr,children:Sr})});Breadcrumbs.classes=classes$G;Breadcrumbs.displayName="@mantine/core/Breadcrumbs";var classes$F={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const defaultProps$1k={orientation:"horizontal"},varsResolver$B=(e,{borderWidth:rr})=>({group:{"--button-border-width":rem(rr)}}),ButtonGroup=factory((e,rr)=>{const ir=useProps("ButtonGroup",defaultProps$1k,e),{className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,orientation:gr,vars:xr,borderWidth:_r,variant:yr,mod:vr,...br}=useProps("ButtonGroup",defaultProps$1k,e),Sr=useStyles({name:"ButtonGroup",props:ir,classes:classes$F,className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:xr,varsResolver:varsResolver$B,rootSelector:"group"});return jsxRuntimeExports.jsx(Box,{...Sr("group"),ref:rr,variant:yr,mod:[{"data-orientation":gr},vr],role:"group",...br})});ButtonGroup.classes=classes$F;ButtonGroup.displayName="@mantine/core/ButtonGroup";const defaultProps$1j={},varsResolver$A=(e,{radius:rr,color:ir,gradient:lr,variant:dr,autoContrast:fr,size:mr})=>{const hr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,gradient:lr,variant:dr||"filled",autoContrast:fr});return{groupSection:{"--section-height":getSize(mr,"section-height"),"--section-padding-x":getSize(mr,"section-padding-x"),"--section-fz":mr?.includes("compact")?getFontSize(mr.replace("compact-","")):getFontSize(mr),"--section-radius":rr===void 0?void 0:getRadius(rr),"--section-bg":ir||dr?hr.background:void 0,"--section-color":hr.color,"--section-bd":ir||dr?hr.border:void 0}}},ButtonGroupSection=factory((e,rr)=>{const ir=useProps("ButtonGroupSection",defaultProps$1j,e),{className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:gr,variant:xr,gradient:_r,radius:yr,autoContrast:vr,...br}=useProps("ButtonGroupSection",defaultProps$1j,e),Sr=useStyles({name:"ButtonGroupSection",props:ir,classes:classes$F,className:lr,style:dr,classNames:fr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$A,rootSelector:"groupSection"});return jsxRuntimeExports.jsx(Box,{...Sr("groupSection"),ref:rr,variant:xr,...br})});ButtonGroupSection.classes=classes$F;ButtonGroupSection.displayName="@mantine/core/ButtonGroupSection";const loaderTransition={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${rem(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},defaultProps$1i={},varsResolver$z=(e,{radius:rr,color:ir,gradient:lr,variant:dr,size:fr,justify:mr,autoContrast:hr})=>{const gr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,gradient:lr,variant:dr||"filled",autoContrast:hr});return{root:{"--button-justify":mr,"--button-height":getSize(fr,"button-height"),"--button-padding-x":getSize(fr,"button-padding-x"),"--button-fz":fr?.includes("compact")?getFontSize(fr.replace("compact-","")):getFontSize(fr),"--button-radius":rr===void 0?void 0:getRadius(rr),"--button-bg":ir||dr?gr.background:void 0,"--button-hover":ir||dr?gr.hover:void 0,"--button-color":gr.color,"--button-bd":ir||dr?gr.border:void 0,"--button-hover-color":ir||dr?gr.hoverColor:void 0}}},Button$1=polymorphicFactory((e,rr)=>{const ir=useProps("Button",defaultProps$1i,e),{style:lr,vars:dr,className:fr,color:mr,disabled:hr,children:gr,leftSection:xr,rightSection:_r,fullWidth:yr,variant:vr,radius:br,loading:Sr,loaderProps:wr,gradient:Mr,classNames:kr,styles:Ar,unstyled:Ir,"data-disabled":$r,autoContrast:Dr,mod:Or,...Fr}=ir,Lr=useStyles({name:"Button",props:ir,classes:classes$F,className:fr,style:lr,classNames:kr,styles:Ar,unstyled:Ir,vars:dr,varsResolver:varsResolver$z}),zr=!!xr,Gr=!!_r;return jsxRuntimeExports.jsxs(UnstyledButton,{ref:rr,...Lr("root",{active:!hr&&!Sr&&!$r}),unstyled:Ir,variant:vr,disabled:hr||Sr,mod:[{disabled:hr||$r,loading:Sr,block:yr,"with-left-section":zr,"with-right-section":Gr},Or],...Fr,children:[jsxRuntimeExports.jsx(Transition$2,{mounted:!!Sr,transition:loaderTransition,duration:150,children:Jr=>jsxRuntimeExports.jsx(Box,{component:"span",...Lr("loader",{style:Jr}),"aria-hidden":!0,children:jsxRuntimeExports.jsx(Loader,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...wr})})}),jsxRuntimeExports.jsxs("span",{...Lr("inner"),children:[xr&&jsxRuntimeExports.jsx(Box,{component:"span",...Lr("section"),mod:{position:"left"},children:xr}),jsxRuntimeExports.jsx(Box,{component:"span",mod:{loading:Sr},...Lr("label"),children:gr}),_r&&jsxRuntimeExports.jsx(Box,{component:"span",...Lr("section"),mod:{position:"right"},children:_r})]})]})});Button$1.classes=classes$F;Button$1.displayName="@mantine/core/Button";Button$1.Group=ButtonGroup;Button$1.GroupSection=ButtonGroupSection;const[CardProvider,useCardContext]=createSafeContext("Card component was not found in tree");var classes$E={root:"m_e615b15f",section:"m_599a2148"};const defaultProps$1h={},CardSection=polymorphicFactory((e,rr)=>{const ir=useProps("CardSection",defaultProps$1h,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,withBorder:gr,inheritPadding:xr,mod:_r,...yr}=ir,vr=useCardContext();return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{"with-border":gr,"inherit-padding":xr},_r],...vr.getStyles("section",{className:dr,style:fr,styles:mr,classNames:lr}),...yr})});CardSection.classes=classes$E;CardSection.displayName="@mantine/core/CardSection";const defaultProps$1g={},varsResolver$y=(e,{padding:rr})=>({root:{"--card-padding":getSpacing(rr)}}),Card=polymorphicFactory((e,rr)=>{const ir=useProps("Card",defaultProps$1g,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,children:xr,padding:_r,...yr}=ir,vr=useStyles({name:"Card",props:ir,classes:classes$E,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$y}),br=reactExports.Children.toArray(xr),Sr=br.map((wr,Mr)=>typeof wr=="object"&&wr&&"type"in wr&&wr.type===CardSection?reactExports.cloneElement(wr,{"data-first-section":Mr===0||void 0,"data-last-section":Mr===br.length-1||void 0}):wr);return jsxRuntimeExports.jsx(CardProvider,{value:{getStyles:vr},children:jsxRuntimeExports.jsx(Paper,{ref:rr,unstyled:hr,...vr("root"),...yr,children:Sr})})});Card.classes=classes$E;Card.displayName="@mantine/core/Card";Card.Section=CardSection;var classes$D={root:"m_4451eb3a"};const defaultProps$1f={},Center=polymorphicFactory((e,rr)=>{const ir=useProps("Center",defaultProps$1f,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,inline:xr,mod:_r,...yr}=ir,vr=useStyles({name:"Center",props:ir,classes:classes$D,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr});return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{inline:xr},_r],...vr("root"),...yr})});Center.classes=classes$D;Center.displayName="@mantine/core/Center";var classes$C={root:"m_b183c0a2"};const defaultProps$1e={},varsResolver$x=(e,{color:rr})=>({root:{"--code-bg":rr?getThemeColor(rr,e):void 0}}),Code$1=factory((e,rr)=>{const ir=useProps("Code",defaultProps$1e,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,color:xr,block:_r,variant:yr,mod:vr,...br}=ir,Sr=useStyles({name:"Code",props:ir,classes:classes$C,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$x});return jsxRuntimeExports.jsx(Box,{component:_r?"pre":"code",variant:yr,ref:rr,mod:[{block:_r},vr],...Sr("root"),...br,dir:"ltr"})});Code$1.classes=classes$C;Code$1.displayName="@mantine/core/Code";var classes$B={root:"m_7485cace"};const defaultProps$1d={},varsResolver$w=(e,{size:rr,fluid:ir})=>({root:{"--container-size":ir?void 0:getSize(rr,"container-size")}}),Container=factory((e,rr)=>{const ir=useProps("Container",defaultProps$1d,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,fluid:xr,mod:_r,...yr}=ir,vr=useStyles({name:"Container",classes:classes$B,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$w});return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{fluid:xr},_r],...vr("root"),...yr})});Container.classes=classes$B;Container.displayName="@mantine/core/Container";var classes$A={root:"m_3eebeb36",label:"m_9e365f20"};const defaultProps$1c={orientation:"horizontal"},varsResolver$v=(e,{color:rr,variant:ir,size:lr})=>({root:{"--divider-color":rr?getThemeColor(rr,e):void 0,"--divider-border-style":ir,"--divider-size":getSize(lr,"divider-size")}}),Divider=factory((e,rr)=>{const ir=useProps("Divider",defaultProps$1c,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,color:xr,orientation:_r,label:yr,labelPosition:vr,mod:br,...Sr}=ir,wr=useStyles({name:"Divider",classes:classes$A,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$v});return jsxRuntimeExports.jsx(Box,{ref:rr,mod:[{orientation:_r,"with-label":!!yr},br],...wr("root"),...Sr,role:"separator",children:yr&&jsxRuntimeExports.jsx(Box,{component:"span",mod:{position:vr},...wr("label"),children:yr})})});Divider.classes=classes$A;Divider.displayName="@mantine/core/Divider";const[DrawerProvider,useDrawerContext]=createSafeContext("Drawer component was not found in tree");var classes$z={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const defaultProps$1b={},DrawerBody=factory((e,rr)=>{const ir=useProps("DrawerBody",defaultProps$1b,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useDrawerContext();return jsxRuntimeExports.jsx(ModalBaseBody,{ref:rr,...xr.getStyles("body",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});DrawerBody.classes=classes$z;DrawerBody.displayName="@mantine/core/DrawerBody";const defaultProps$1a={},DrawerCloseButton=factory((e,rr)=>{const ir=useProps("DrawerCloseButton",defaultProps$1a,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useDrawerContext();return jsxRuntimeExports.jsx(ModalBaseCloseButton,{ref:rr,...xr.getStyles("close",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});DrawerCloseButton.classes=classes$z;DrawerCloseButton.displayName="@mantine/core/DrawerCloseButton";const defaultProps$19={},DrawerContent=factory((e,rr)=>{const ir=useProps("DrawerContent",defaultProps$19,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,children:gr,radius:xr,__hidden:_r,...yr}=ir,vr=useDrawerContext(),br=vr.scrollAreaComponent||NativeScrollArea;return jsxRuntimeExports.jsx(ModalBaseContent,{...vr.getStyles("content",{className:dr,style:fr,styles:mr,classNames:lr}),innerProps:vr.getStyles("inner",{className:dr,style:fr,styles:mr,classNames:lr}),ref:rr,...yr,radius:xr||vr.radius||0,"data-hidden":_r||void 0,children:jsxRuntimeExports.jsx(br,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:gr})})});DrawerContent.classes=classes$z;DrawerContent.displayName="@mantine/core/DrawerContent";const defaultProps$18={},DrawerHeader=factory((e,rr)=>{const ir=useProps("DrawerHeader",defaultProps$18,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useDrawerContext();return jsxRuntimeExports.jsx(ModalBaseHeader,{ref:rr,...xr.getStyles("header",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});DrawerHeader.classes=classes$z;DrawerHeader.displayName="@mantine/core/DrawerHeader";const defaultProps$17={},DrawerOverlay=factory((e,rr)=>{const ir=useProps("DrawerOverlay",defaultProps$17,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useDrawerContext();return jsxRuntimeExports.jsx(ModalBaseOverlay,{ref:rr,...xr.getStyles("overlay",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});DrawerOverlay.classes=classes$z;DrawerOverlay.displayName="@mantine/core/DrawerOverlay";function getDrawerAlign(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function getDrawerFlex(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const transitions={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},rtlTransitions={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},defaultProps$16={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:getDefaultZIndex("modal"),position:"left"},varsResolver$u=(e,{position:rr,size:ir,offset:lr})=>({root:{"--drawer-size":getSize(ir,"drawer-size"),"--drawer-flex":getDrawerFlex(rr),"--drawer-height":rr==="left"||rr==="right"?void 0:"var(--drawer-size)","--drawer-align":getDrawerAlign(rr),"--drawer-justify":rr==="right"?"flex-end":void 0,"--drawer-offset":rem(lr)}}),DrawerRoot=factory((e,rr)=>{const ir=useProps("DrawerRoot",defaultProps$16,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,scrollAreaComponent:xr,position:_r,transitionProps:yr,radius:vr,...br}=ir,{dir:Sr}=useDirection(),wr=useStyles({name:"Drawer",classes:classes$z,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$u}),Mr=(Sr==="rtl"?rtlTransitions:transitions)[_r];return jsxRuntimeExports.jsx(DrawerProvider,{value:{scrollAreaComponent:xr,getStyles:wr,radius:vr},children:jsxRuntimeExports.jsx(ModalBase,{ref:rr,...wr("root"),transitionProps:{transition:Mr,...yr},"data-offset-scrollbars":xr===ScrollArea.Autosize||void 0,unstyled:hr,...br})})});DrawerRoot.classes=classes$z;DrawerRoot.displayName="@mantine/core/DrawerRoot";const[DrawerStackProvider,useDrawerStackContext]=createOptionalContext();function DrawerStack({children:e}){const[rr,ir]=reactExports.useState([]),[lr,dr]=reactExports.useState(getDefaultZIndex("modal"));return jsxRuntimeExports.jsx(DrawerStackProvider,{value:{stack:rr,addModal:(fr,mr)=>{ir(hr=>[...new Set([...hr,fr])]),dr(hr=>typeof mr=="number"&&typeof hr=="number"?Math.max(hr,mr):hr)},removeModal:fr=>ir(mr=>mr.filter(hr=>hr!==fr)),getZIndex:fr=>`calc(${lr} + ${rr.indexOf(fr)} + 1)`,currentId:rr[rr.length-1],maxZIndex:lr},children:e})}DrawerStack.displayName="@mantine/core/DrawerStack";const defaultProps$15={},DrawerTitle=factory((e,rr)=>{const ir=useProps("DrawerTitle",defaultProps$15,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useDrawerContext();return jsxRuntimeExports.jsx(ModalBaseTitle,{ref:rr,...xr.getStyles("title",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});DrawerTitle.classes=classes$z;DrawerTitle.displayName="@mantine/core/DrawerTitle";const defaultProps$14={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:getDefaultZIndex("modal"),withOverlay:!0,withCloseButton:!0},Drawer=factory((e,rr)=>{const{title:ir,withOverlay:lr,overlayProps:dr,withCloseButton:fr,closeButtonProps:mr,children:hr,opened:gr,stackId:xr,zIndex:_r,...yr}=useProps("Drawer",defaultProps$14,e),vr=useDrawerStackContext(),br=!!ir||fr,Sr=vr&&xr?{closeOnEscape:vr.currentId===xr,trapFocus:vr.currentId===xr,zIndex:vr.getZIndex(xr)}:{},wr=lr===!1?!1:xr&&vr?vr.currentId===xr:gr;return reactExports.useEffect(()=>{vr&&xr&&(gr?vr.addModal(xr,_r||getDefaultZIndex("modal")):vr.removeModal(xr))},[gr,xr,_r]),jsxRuntimeExports.jsxs(DrawerRoot,{ref:rr,opened:gr,zIndex:vr&&xr?vr.getZIndex(xr):_r,...yr,...Sr,children:[lr&&jsxRuntimeExports.jsx(DrawerOverlay,{visible:wr,transitionProps:vr&&xr?{duration:0}:void 0,...dr}),jsxRuntimeExports.jsxs(DrawerContent,{__hidden:vr&&xr&&gr?xr!==vr.currentId:!1,children:[br&&jsxRuntimeExports.jsxs(DrawerHeader,{children:[ir&&jsxRuntimeExports.jsx(DrawerTitle,{children:ir}),fr&&jsxRuntimeExports.jsx(DrawerCloseButton,{...mr})]}),jsxRuntimeExports.jsx(DrawerBody,{children:hr})]})]})});Drawer.classes=classes$z;Drawer.displayName="@mantine/core/Drawer";Drawer.Root=DrawerRoot;Drawer.Overlay=DrawerOverlay;Drawer.Content=DrawerContent;Drawer.Body=DrawerBody;Drawer.Header=DrawerHeader;Drawer.Title=DrawerTitle;Drawer.CloseButton=DrawerCloseButton;Drawer.Stack=DrawerStack;const[GridProvider,useGridContext]=createSafeContext("Grid component was not found in tree"),getColumnFlexBasis=(e,rr)=>e==="content"?"auto":e==="auto"?"0rem":e?`${100/(rr/e)}%`:void 0,getColumnMaxWidth=(e,rr,ir)=>ir||e==="auto"?"100%":e==="content"?"unset":getColumnFlexBasis(e,rr),getColumnFlexGrow=(e,rr)=>{if(e)return e==="auto"||rr?"1":"auto"},getColumnOffset=(e,rr)=>e===0?"0":e?`${100/(rr/e)}%`:void 0;function GridColVariables({span:e,order:rr,offset:ir,selector:lr}){const dr=useMantineTheme(),fr=useGridContext(),mr=fr.breakpoints||dr.breakpoints,gr=getBaseValue$1(e)===void 0?12:getBaseValue$1(e),xr=filterProps({"--col-order":getBaseValue$1(rr)?.toString(),"--col-flex-grow":getColumnFlexGrow(gr,fr.grow),"--col-flex-basis":getColumnFlexBasis(gr,fr.columns),"--col-width":gr==="content"?"auto":void 0,"--col-max-width":getColumnMaxWidth(gr,fr.columns,fr.grow),"--col-offset":getColumnOffset(getBaseValue$1(ir),fr.columns)}),_r=keys$1(mr).reduce((br,Sr)=>(br[Sr]||(br[Sr]={}),typeof rr=="object"&&rr[Sr]!==void 0&&(br[Sr]["--col-order"]=rr[Sr]?.toString()),typeof e=="object"&&e[Sr]!==void 0&&(br[Sr]["--col-flex-grow"]=getColumnFlexGrow(e[Sr],fr.grow),br[Sr]["--col-flex-basis"]=getColumnFlexBasis(e[Sr],fr.columns),br[Sr]["--col-width"]=e[Sr]==="content"?"auto":void 0,br[Sr]["--col-max-width"]=getColumnMaxWidth(e[Sr],fr.columns,fr.grow)),typeof ir=="object"&&ir[Sr]!==void 0&&(br[Sr]["--col-offset"]=getColumnOffset(ir[Sr],fr.columns)),br),{}),vr=getSortedBreakpoints(keys$1(_r),mr).filter(br=>keys$1(_r[br.value]).length>0).map(br=>({query:fr.type==="container"?`mantine-grid (min-width: ${mr[br.value]})`:`(min-width: ${mr[br.value]})`,styles:_r[br.value]}));return jsxRuntimeExports.jsx(InlineStyles,{styles:xr,media:fr.type==="container"?void 0:vr,container:fr.type==="container"?vr:void 0,selector:lr})}var classes$y={container:"m_8478a6da",root:"m_410352e9",inner:"m_dee7bd2f",col:"m_96bdd299"};const defaultProps$13={span:12},GridCol=factory((e,rr)=>{const ir=useProps("GridCol",defaultProps$13,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,span:gr,order:xr,offset:_r,...yr}=ir,vr=useGridContext(),br=useRandomClassName();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(GridColVariables,{selector:`.${br}`,span:gr,order:xr,offset:_r}),jsxRuntimeExports.jsx(Box,{ref:rr,...vr.getStyles("col",{className:clsx(dr,br),style:fr,classNames:lr,styles:mr}),...yr})]})});GridCol.classes=classes$y;GridCol.displayName="@mantine/core/GridCol";function GridVariables({gutter:e,selector:rr,breakpoints:ir,type:lr}){const dr=useMantineTheme(),fr=ir||dr.breakpoints,mr=filterProps({"--grid-gutter":getSpacing(getBaseValue$1(e))}),hr=keys$1(fr).reduce((_r,yr)=>(_r[yr]||(_r[yr]={}),typeof e=="object"&&e[yr]!==void 0&&(_r[yr]["--grid-gutter"]=getSpacing(e[yr])),_r),{}),xr=getSortedBreakpoints(keys$1(hr),fr).filter(_r=>keys$1(hr[_r.value]).length>0).map(_r=>({query:lr==="container"?`mantine-grid (min-width: ${fr[_r.value]})`:`(min-width: ${fr[_r.value]})`,styles:hr[_r.value]}));return jsxRuntimeExports.jsx(InlineStyles,{styles:mr,media:lr==="container"?void 0:xr,container:lr==="container"?xr:void 0,selector:rr})}const defaultProps$12={gutter:"md",grow:!1,columns:12},varsResolver$t=(e,{justify:rr,align:ir,overflow:lr})=>({root:{"--grid-justify":rr,"--grid-align":ir,"--grid-overflow":lr}}),Grid=factory((e,rr)=>{const ir=useProps("Grid",defaultProps$12,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,grow:xr,gutter:_r,columns:yr,align:vr,justify:br,children:Sr,breakpoints:wr,type:Mr,...kr}=ir,Ar=useStyles({name:"Grid",classes:classes$y,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$t}),Ir=useRandomClassName();return Mr==="container"&&wr?jsxRuntimeExports.jsxs(GridProvider,{value:{getStyles:Ar,grow:xr,columns:yr,breakpoints:wr,type:Mr},children:[jsxRuntimeExports.jsx(GridVariables,{selector:`.${Ir}`,...ir}),jsxRuntimeExports.jsx("div",{...Ar("container"),children:jsxRuntimeExports.jsx(Box,{ref:rr,...Ar("root",{className:Ir}),...kr,children:jsxRuntimeExports.jsx("div",{...Ar("inner"),children:Sr})})})]}):jsxRuntimeExports.jsxs(GridProvider,{value:{getStyles:Ar,grow:xr,columns:yr,breakpoints:wr,type:Mr},children:[jsxRuntimeExports.jsx(GridVariables,{selector:`.${Ir}`,...ir}),jsxRuntimeExports.jsx(Box,{ref:rr,...Ar("root",{className:Ir}),...kr,children:jsxRuntimeExports.jsx("div",{...Ar("inner"),children:Sr})})]})});Grid.classes=classes$y;Grid.displayName="@mantine/core/Grid";Grid.Col=GridCol;function getMarkColor({color:e,theme:rr,defaultShade:ir}){const lr=parseThemeColor({color:e,theme:rr});return lr.isThemeColor?lr.shade===void 0?`var(--mantine-color-${lr.color}-${ir})`:`var(${lr.variable})`:e}var classes$x={root:"m_bcb3f3c2"};const defaultProps$11={color:"yellow"},varsResolver$s=(e,{color:rr})=>({root:{"--mark-bg-dark":getMarkColor({color:rr,theme:e,defaultShade:5}),"--mark-bg-light":getMarkColor({color:rr,theme:e,defaultShade:2})}}),Mark$2=factory((e,rr)=>{const ir=useProps("Mark",defaultProps$11,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,color:xr,variant:_r,...yr}=ir,vr=useStyles({name:"Mark",props:ir,className:dr,style:fr,classes:classes$x,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$s});return jsxRuntimeExports.jsx(Box,{component:"mark",ref:rr,variant:_r,...vr("root"),...yr})});Mark$2.classes=classes$x;Mark$2.displayName="@mantine/core/Mark";function escapeRegex(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}function highlighter(e,rr){if(rr==null)return[{chunk:e,highlighted:!1}];const ir=Array.isArray(rr)?rr.map(escapeRegex):escapeRegex(rr);if(!(Array.isArray(ir)?ir.filter(hr=>hr.trim().length>0).length>0:ir.trim()!==""))return[{chunk:e,highlighted:!1}];const dr=typeof ir=="string"?ir.trim():ir.filter(hr=>hr.trim().length!==0).map(hr=>hr.trim()).sort((hr,gr)=>gr.length-hr.length).join("|"),fr=new RegExp(`(${dr})`,"gi");return e.split(fr).map(hr=>({chunk:hr,highlighted:fr.test(hr)})).filter(({chunk:hr})=>hr)}const defaultProps$10={},Highlight$1=polymorphicFactory((e,rr)=>{const{unstyled:ir,children:lr,highlight:dr,highlightStyles:fr,color:mr,...hr}=useProps("Highlight",defaultProps$10,e),gr=highlighter(lr,dr);return jsxRuntimeExports.jsx(Text$2,{unstyled:ir,ref:rr,...hr,__staticSelector:"Highlight",children:gr.map(({chunk:xr,highlighted:_r},yr)=>_r?jsxRuntimeExports.jsx(Mark$2,{unstyled:ir,color:mr,style:fr,"data-highlight":xr,children:xr},yr):jsxRuntimeExports.jsx("span",{children:xr},yr))})});Highlight$1.classes=Text$2.classes;Highlight$1.displayName="@mantine/core/Highlight";function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr];for(var lr in ir)({}).hasOwnProperty.call(ir,lr)&&(e[lr]=ir[lr])}return e},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose$2(e,rr){if(e==null)return{};var ir={};for(var lr in e)if({}.hasOwnProperty.call(e,lr)){if(rr.indexOf(lr)!==-1)continue;ir[lr]=e[lr]}return ir}var index$3=reactExports.useLayoutEffect,useLatest=function(rr){var ir=React$2.useRef(rr);return index$3(function(){ir.current=rr}),ir},updateRef=function(rr,ir){if(typeof rr=="function"){rr(ir);return}rr.current=ir},useComposedRef=function(rr,ir){var lr=React$2.useRef();return React$2.useCallback(function(dr){rr.current=dr,lr.current&&updateRef(lr.current,null),lr.current=ir,ir&&updateRef(ir,dr)},[ir])},HIDDEN_TEXTAREA_STYLE={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},forceHiddenStyles=function(rr){Object.keys(HIDDEN_TEXTAREA_STYLE).forEach(function(ir){rr.style.setProperty(ir,HIDDEN_TEXTAREA_STYLE[ir],"important")})},forceHiddenStyles$1=forceHiddenStyles,hiddenTextarea=null,getHeight=function(rr,ir){var lr=rr.scrollHeight;return ir.sizingStyle.boxSizing==="border-box"?lr+ir.borderSize:lr-ir.paddingSize};function calculateNodeHeight(e,rr,ir,lr){ir===void 0&&(ir=1),lr===void 0&&(lr=1/0),hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),hiddenTextarea.setAttribute("tabindex","-1"),hiddenTextarea.setAttribute("aria-hidden","true"),forceHiddenStyles$1(hiddenTextarea)),hiddenTextarea.parentNode===null&&document.body.appendChild(hiddenTextarea);var dr=e.paddingSize,fr=e.borderSize,mr=e.sizingStyle,hr=mr.boxSizing;Object.keys(mr).forEach(function(vr){var br=vr;hiddenTextarea.style[br]=mr[br]}),forceHiddenStyles$1(hiddenTextarea),hiddenTextarea.value=rr;var gr=getHeight(hiddenTextarea,e);hiddenTextarea.value=rr,gr=getHeight(hiddenTextarea,e),hiddenTextarea.value="x";var xr=hiddenTextarea.scrollHeight-dr,_r=xr*ir;hr==="border-box"&&(_r=_r+dr+fr),gr=Math.max(_r,gr);var yr=xr*lr;return hr==="border-box"&&(yr=yr+dr+fr),gr=Math.min(yr,gr),[gr,xr]}var noop$8=function(){},pick=function(rr,ir){return rr.reduce(function(lr,dr){return lr[dr]=ir[dr],lr},{})},SIZING_STYLE=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],isIE=!!document.documentElement.currentStyle,getSizingData=function(rr){var ir=window.getComputedStyle(rr);if(ir===null)return null;var lr=pick(SIZING_STYLE,ir),dr=lr.boxSizing;if(dr==="")return null;isIE&&dr==="border-box"&&(lr.width=parseFloat(lr.width)+parseFloat(lr.borderRightWidth)+parseFloat(lr.borderLeftWidth)+parseFloat(lr.paddingRight)+parseFloat(lr.paddingLeft)+"px");var fr=parseFloat(lr.paddingBottom)+parseFloat(lr.paddingTop),mr=parseFloat(lr.borderBottomWidth)+parseFloat(lr.borderTopWidth);return{sizingStyle:lr,paddingSize:fr,borderSize:mr}},getSizingData$1=getSizingData;function useListener(e,rr,ir){var lr=useLatest(ir);reactExports.useLayoutEffect(function(){var dr=function(mr){return lr.current(mr)};if(e)return e.addEventListener(rr,dr),function(){return e.removeEventListener(rr,dr)}},[])}var useFormResetListener=function(rr,ir){useListener(document.body,"reset",function(lr){rr.current.form===lr.target&&ir(lr)})},useWindowResizeListener=function(rr){useListener(window,"resize",rr)},useFontsLoadedListener=function(rr){useListener(document.fonts,"loadingdone",rr)},_excluded$1=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],TextareaAutosize=function(rr,ir){var lr=rr.cacheMeasurements,dr=rr.maxRows,fr=rr.minRows,mr=rr.onChange,hr=mr===void 0?noop$8:mr,gr=rr.onHeightChange,xr=gr===void 0?noop$8:gr,_r=_objectWithoutPropertiesLoose$2(rr,_excluded$1),yr=_r.value!==void 0,vr=reactExports.useRef(null),br=useComposedRef(vr,ir),Sr=reactExports.useRef(0),wr=reactExports.useRef(),Mr=function(){var Ir=vr.current,$r=lr&&wr.current?wr.current:getSizingData$1(Ir);if($r){wr.current=$r;var Dr=calculateNodeHeight($r,Ir.value||Ir.placeholder||"x",fr,dr),Or=Dr[0],Fr=Dr[1];Sr.current!==Or&&(Sr.current=Or,Ir.style.setProperty("height",Or+"px","important"),xr(Or,{rowHeight:Fr}))}},kr=function(Ir){yr||Mr(),hr(Ir)};return reactExports.useLayoutEffect(Mr),useFormResetListener(vr,function(){if(!yr){var Ar=vr.current.value;requestAnimationFrame(function(){var Ir=vr.current;Ir&&Ar!==Ir.value&&Mr()})}}),useWindowResizeListener(Mr),useFontsLoadedListener(Mr),reactExports.createElement("textarea",_extends({},_r,{onChange:kr,ref:br}))},index$2=reactExports.forwardRef(TextareaAutosize);const defaultProps$$={},Textarea=factory((e,rr)=>{const{autosize:ir,maxRows:lr,minRows:dr,__staticSelector:fr,resize:mr,...hr}=useProps("Textarea",defaultProps$$,e),gr=ir&&getEnv()!=="test",xr=gr?{maxRows:lr,minRows:dr}:{};return jsxRuntimeExports.jsx(InputBase,{component:gr?index$2:"textarea",ref:rr,...hr,__staticSelector:fr||"Textarea",multiline:!0,"data-no-overflow":ir&&lr===void 0||void 0,__vars:{"--input-resize":mr},...xr})});Textarea.classes=InputBase.classes;Textarea.displayName="@mantine/core/Textarea";var classes$w={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const defaultProps$_={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:getDefaultZIndex("overlay")},varsResolver$r=(e,{zIndex:rr})=>({root:{"--lo-z-index":rr?.toString()}}),LoadingOverlay=factory((e,rr)=>{const ir=useProps("LoadingOverlay",defaultProps$_,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,transitionProps:xr,loaderProps:_r,overlayProps:yr,visible:vr,zIndex:br,...Sr}=ir,wr=useMantineTheme(),Mr=useStyles({name:"LoadingOverlay",classes:classes$w,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$r}),kr={...defaultProps$_.overlayProps,...yr};return jsxRuntimeExports.jsx(Transition$2,{transition:"fade",...xr,mounted:!!vr,children:Ar=>jsxRuntimeExports.jsxs(Box,{...Mr("root",{style:Ar}),ref:rr,...Sr,children:[jsxRuntimeExports.jsx(Loader,{...Mr("loader"),unstyled:hr,..._r}),jsxRuntimeExports.jsx(Overlay,{...kr,...Mr("overlay"),darkHidden:!0,unstyled:hr,color:yr?.color||wr.white}),jsxRuntimeExports.jsx(Overlay,{...kr,...Mr("overlay"),lightHidden:!0,unstyled:hr,color:yr?.color||wr.colors.dark[5]})]})})});LoadingOverlay.classes=classes$w;LoadingOverlay.displayName="@mantine/core/LoadingOverlay";const[ModalProvider,useModalContext]=createSafeContext("Modal component was not found in tree");var classes$v={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const defaultProps$Z={},ModalBody=factory((e,rr)=>{const ir=useProps("ModalBody",defaultProps$Z,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useModalContext();return jsxRuntimeExports.jsx(ModalBaseBody,{ref:rr,...xr.getStyles("body",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});ModalBody.classes=classes$v;ModalBody.displayName="@mantine/core/ModalBody";const defaultProps$Y={},ModalCloseButton=factory((e,rr)=>{const ir=useProps("ModalCloseButton",defaultProps$Y,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useModalContext();return jsxRuntimeExports.jsx(ModalBaseCloseButton,{ref:rr,...xr.getStyles("close",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});ModalCloseButton.classes=classes$v;ModalCloseButton.displayName="@mantine/core/ModalCloseButton";const defaultProps$X={},ModalContent=factory((e,rr)=>{const ir=useProps("ModalContent",defaultProps$X,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,children:gr,__hidden:xr,..._r}=ir,yr=useModalContext(),vr=yr.scrollAreaComponent||NativeScrollArea;return jsxRuntimeExports.jsx(ModalBaseContent,{...yr.getStyles("content",{className:dr,style:fr,styles:mr,classNames:lr}),innerProps:yr.getStyles("inner",{className:dr,style:fr,styles:mr,classNames:lr}),"data-full-screen":yr.fullScreen||void 0,"data-modal-content":!0,"data-hidden":xr||void 0,ref:rr,..._r,children:jsxRuntimeExports.jsx(vr,{style:{maxHeight:yr.fullScreen?"100dvh":`calc(100dvh - (${rem(yr.yOffset)} * 2))`},children:gr})})});ModalContent.classes=classes$v;ModalContent.displayName="@mantine/core/ModalContent";const defaultProps$W={},ModalHeader=factory((e,rr)=>{const ir=useProps("ModalHeader",defaultProps$W,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useModalContext();return jsxRuntimeExports.jsx(ModalBaseHeader,{ref:rr,...xr.getStyles("header",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});ModalHeader.classes=classes$v;ModalHeader.displayName="@mantine/core/ModalHeader";const defaultProps$V={},ModalOverlay=factory((e,rr)=>{const ir=useProps("ModalOverlay",defaultProps$V,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useModalContext();return jsxRuntimeExports.jsx(ModalBaseOverlay,{ref:rr,...xr.getStyles("overlay",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});ModalOverlay.classes=classes$v;ModalOverlay.displayName="@mantine/core/ModalOverlay";const defaultProps$U={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:getDefaultZIndex("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},varsResolver$q=(e,{radius:rr,size:ir,yOffset:lr,xOffset:dr})=>({root:{"--modal-radius":rr===void 0?void 0:getRadius(rr),"--modal-size":getSize(ir,"modal-size"),"--modal-y-offset":rem(lr),"--modal-x-offset":rem(dr)}}),ModalRoot=factory((e,rr)=>{const ir=useProps("ModalRoot",defaultProps$U,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,yOffset:xr,scrollAreaComponent:_r,radius:yr,fullScreen:vr,centered:br,xOffset:Sr,__staticSelector:wr,...Mr}=ir,kr=useStyles({name:wr,classes:classes$v,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$q});return jsxRuntimeExports.jsx(ModalProvider,{value:{yOffset:xr,scrollAreaComponent:_r,getStyles:kr,fullScreen:vr},children:jsxRuntimeExports.jsx(ModalBase,{ref:rr,...kr("root"),"data-full-screen":vr||void 0,"data-centered":br||void 0,"data-offset-scrollbars":_r===ScrollArea.Autosize||void 0,unstyled:hr,...Mr})})});ModalRoot.classes=classes$v;ModalRoot.displayName="@mantine/core/ModalRoot";const[ModalStackProvider,useModalStackContext]=createOptionalContext();function ModalStack({children:e}){const[rr,ir]=reactExports.useState([]),[lr,dr]=reactExports.useState(getDefaultZIndex("modal"));return jsxRuntimeExports.jsx(ModalStackProvider,{value:{stack:rr,addModal:(fr,mr)=>{ir(hr=>[...new Set([...hr,fr])]),dr(hr=>typeof mr=="number"&&typeof hr=="number"?Math.max(hr,mr):hr)},removeModal:fr=>ir(mr=>mr.filter(hr=>hr!==fr)),getZIndex:fr=>`calc(${lr} + ${rr.indexOf(fr)} + 1)`,currentId:rr[rr.length-1],maxZIndex:lr},children:e})}ModalStack.displayName="@mantine/core/ModalStack";const defaultProps$T={},ModalTitle=factory((e,rr)=>{const ir=useProps("ModalTitle",defaultProps$T,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,...gr}=ir,xr=useModalContext();return jsxRuntimeExports.jsx(ModalBaseTitle,{ref:rr,...xr.getStyles("title",{classNames:lr,style:fr,styles:mr,className:dr}),...gr})});ModalTitle.classes=classes$v;ModalTitle.displayName="@mantine/core/ModalTitle";const defaultProps$S={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:getDefaultZIndex("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Modal=factory((e,rr)=>{const{title:ir,withOverlay:lr,overlayProps:dr,withCloseButton:fr,closeButtonProps:mr,children:hr,radius:gr,opened:xr,stackId:_r,zIndex:yr,...vr}=useProps("Modal",defaultProps$S,e),br=useModalStackContext(),Sr=!!ir||fr,wr=br&&_r?{closeOnEscape:br.currentId===_r,trapFocus:br.currentId===_r,zIndex:br.getZIndex(_r)}:{},Mr=lr===!1?!1:_r&&br?br.currentId===_r:xr;return reactExports.useEffect(()=>{br&&_r&&(xr?br.addModal(_r,yr||getDefaultZIndex("modal")):br.removeModal(_r))},[xr,_r,yr]),jsxRuntimeExports.jsxs(ModalRoot,{ref:rr,radius:gr,opened:xr,zIndex:br&&_r?br.getZIndex(_r):yr,...vr,...wr,children:[lr&&jsxRuntimeExports.jsx(ModalOverlay,{visible:Mr,transitionProps:br&&_r?{duration:0}:void 0,...dr}),jsxRuntimeExports.jsxs(ModalContent,{radius:gr,__hidden:br&&_r&&xr?_r!==br.currentId:!1,children:[Sr&&jsxRuntimeExports.jsxs(ModalHeader,{children:[ir&&jsxRuntimeExports.jsx(ModalTitle,{children:ir}),fr&&jsxRuntimeExports.jsx(ModalCloseButton,{...mr})]}),jsxRuntimeExports.jsx(ModalBody,{children:hr})]})]})});Modal.classes=classes$v;Modal.displayName="@mantine/core/Modal";Modal.Root=ModalRoot;Modal.Overlay=ModalOverlay;Modal.Content=ModalContent;Modal.Body=ModalBody;Modal.Header=ModalHeader;Modal.Title=ModalTitle;Modal.CloseButton=ModalCloseButton;Modal.Stack=ModalStack;const[PillsInputProvider,usePillsInputContext]=createOptionalContext(),[PillGroupProvider,usePillGroupContext]=createOptionalContext();var classes$u={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const defaultProps$R={},varsResolver$p=(e,{gap:rr},{size:ir})=>({group:{"--pg-gap":rr!==void 0?getSize(rr):getSize(ir,"pg-gap")}}),PillGroup=factory((e,rr)=>{const ir=useProps("PillGroup",defaultProps$R,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,size:xr,disabled:_r,...yr}=ir,br=usePillsInputContext()?.size||xr||void 0,Sr=useStyles({name:"PillGroup",classes:classes$u,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$p,stylesCtx:{size:br},rootSelector:"group"});return jsxRuntimeExports.jsx(PillGroupProvider,{value:{size:br,disabled:_r},children:jsxRuntimeExports.jsx(Box,{ref:rr,size:br,...Sr("group"),...yr})})});PillGroup.classes=classes$u;PillGroup.displayName="@mantine/core/PillGroup";const defaultProps$Q={variant:"default"},varsResolver$o=(e,{radius:rr},{size:ir})=>({root:{"--pill-fz":getSize(ir,"pill-fz"),"--pill-height":getSize(ir,"pill-height"),"--pill-radius":rr===void 0?void 0:getRadius(rr)}}),Pill=factory((e,rr)=>{const ir=useProps("Pill",defaultProps$Q,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,variant:xr,children:_r,withRemoveButton:yr,onRemove:vr,removeButtonProps:br,radius:Sr,size:wr,disabled:Mr,mod:kr,...Ar}=ir,Ir=usePillGroupContext(),$r=usePillsInputContext(),Dr=wr||Ir?.size||void 0,Or=$r?.variant==="filled"?"contrast":xr||"default",Fr=useStyles({name:"Pill",classes:classes$u,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$o,stylesCtx:{size:Dr}});return jsxRuntimeExports.jsxs(Box,{component:"span",ref:rr,variant:Or,size:Dr,...Fr("root",{variant:Or}),mod:[{"with-remove":yr&&!Mr,disabled:Mr||Ir?.disabled},kr],...Ar,children:[jsxRuntimeExports.jsx("span",{...Fr("label"),children:_r}),yr&&jsxRuntimeExports.jsx(CloseButton,{variant:"transparent",radius:Sr,tabIndex:-1,"aria-hidden":!0,unstyled:hr,...br,...Fr("remove",{className:br?.className,style:br?.style}),onMouseDown:Lr=>{Lr.preventDefault(),Lr.stopPropagation(),br?.onMouseDown?.(Lr)},onClick:Lr=>{Lr.stopPropagation(),vr?.(),br?.onClick?.(Lr)}})]})});Pill.classes=classes$u;Pill.displayName="@mantine/core/Pill";Pill.Group=PillGroup;var classes$t={field:"m_45c4369d"};const defaultProps$P={type:"visible"},PillsInputField=factory((e,rr)=>{const ir=useProps("PillsInputField",defaultProps$P,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,type:xr,disabled:_r,id:yr,pointer:vr,mod:br,...Sr}=ir,wr=usePillsInputContext(),Mr=useInputWrapperContext(),kr=useStyles({name:"PillsInputField",classes:classes$t,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"field"}),Ar=_r||wr?.disabled;return jsxRuntimeExports.jsx(Box,{component:"input",ref:useMergedRef(rr,wr?.fieldRef),"data-type":xr,disabled:Ar,mod:[{disabled:Ar,pointer:vr},br],...kr("field"),...Sr,id:Mr?.inputId||yr,"aria-invalid":wr?.hasError,"aria-describedby":Mr?.describedBy,type:"text",onMouseDown:Ir=>!vr&&Ir.stopPropagation()})});PillsInputField.classes=classes$t;PillsInputField.displayName="@mantine/core/PillsInputField";const defaultProps$O={size:"sm"},PillsInput=factory((e,rr)=>{const ir=useProps("PillsInput",defaultProps$O,e),{children:lr,onMouseDown:dr,onClick:fr,size:mr,disabled:hr,__staticSelector:gr,error:xr,variant:_r,...yr}=ir,vr=reactExports.useRef(null);return jsxRuntimeExports.jsx(PillsInputProvider,{value:{fieldRef:vr,size:mr,disabled:hr,hasError:!!xr,variant:_r},children:jsxRuntimeExports.jsx(InputBase,{size:mr,error:xr,variant:_r,component:"div",ref:rr,"data-no-overflow":!0,onMouseDown:br=>{br.preventDefault(),dr?.(br),vr.current?.focus()},onClick:br=>{br.preventDefault(),br.currentTarget.closest("fieldset")?.disabled||(vr.current?.focus(),fr?.(br))},...yr,multiline:!0,disabled:hr,__staticSelector:gr||"PillsInput",withAria:!1,children:lr})})});PillsInput.displayName="@mantine/core/PillsInput";PillsInput.Field=PillsInputField;var classes$s={root:"m_f0824112",description:"m_57492dcc",section:"m_690090b5",label:"m_1f6ac4c4",body:"m_f07af9d2",children:"m_e17b862f",chevron:"m_1fd8a00b"};const defaultProps$N={},varsResolver$n=(e,{variant:rr,color:ir,childrenOffset:lr,autoContrast:dr})=>{const fr=e.variantColorResolver({color:ir||e.primaryColor,theme:e,variant:rr||"light",autoContrast:dr});return{root:{"--nl-bg":ir||rr?fr.background:void 0,"--nl-hover":ir||rr?fr.hover:void 0,"--nl-color":ir||rr?fr.color:void 0},children:{"--nl-offset":getSpacing(lr)}}},NavLink=polymorphicFactory((e,rr)=>{const ir=useProps("NavLink",defaultProps$N,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,opened:xr,defaultOpened:_r,onChange:yr,children:vr,onClick:br,active:Sr,disabled:wr,leftSection:Mr,rightSection:kr,label:Ar,description:Ir,disableRightSectionRotation:$r,noWrap:Dr,childrenOffset:Or,onKeyDown:Fr,autoContrast:Lr,mod:zr,...Gr}=ir,Jr=useStyles({name:"NavLink",props:ir,classes:classes$s,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$n}),[Yn,Jn]=useUncontrolled({value:xr,defaultValue:_r,finalValue:!1,onChange:yr}),Zn=!!vr,Hn=Kn=>{br?.(Kn),Zn&&(Kn.preventDefault(),Jn(!Yn))};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(UnstyledButton,{...Jr("root"),component:"a",ref:rr,onClick:Hn,onKeyDown:Kn=>{Fr?.(Kn),Kn.nativeEvent.code==="Space"&&Zn&&(Kn.preventDefault(),Jn(!Yn))},unstyled:hr,mod:[{disabled:wr,active:Sr,expanded:Yn},zr],...Gr,children:[Mr&&jsxRuntimeExports.jsx(Box,{component:"span",...Jr("section"),mod:{position:"left"},children:Mr}),jsxRuntimeExports.jsxs(Box,{...Jr("body"),mod:{"no-wrap":Dr},children:[jsxRuntimeExports.jsx(Box,{component:"span",...Jr("label"),children:Ar}),jsxRuntimeExports.jsx(Box,{component:"span",mod:{active:Sr},...Jr("description"),children:Ir})]}),(Zn||kr!==void 0)&&jsxRuntimeExports.jsx(Box,{...Jr("section"),component:"span",mod:{rotate:Yn&&!$r,position:"right"},children:Zn?kr!==void 0?kr:jsxRuntimeExports.jsx(AccordionChevron,{...Jr("chevron")}):kr})]}),Zn&&jsxRuntimeExports.jsx(Collapse,{in:Yn,...Jr("collapse"),children:jsxRuntimeExports.jsx("div",{...Jr("children"),children:vr})})]})});NavLink.classes=classes$s;NavLink.displayName="@mantine/core/NavLink";var classes$r={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const defaultProps$M={withCloseButton:!0},varsResolver$m=(e,{radius:rr,color:ir})=>({root:{"--notification-radius":rr===void 0?void 0:getRadius(rr),"--notification-color":ir?getThemeColor(ir,e):void 0}}),Notification=factory((e,rr)=>{const ir=useProps("Notification",defaultProps$M,e),{className:lr,color:dr,radius:fr,loading:mr,withCloseButton:hr,withBorder:gr,title:xr,icon:_r,children:yr,onClose:vr,closeButtonProps:br,classNames:Sr,style:wr,styles:Mr,unstyled:kr,variant:Ar,vars:Ir,mod:$r,loaderProps:Dr,role:Or,...Fr}=ir,Lr=useStyles({name:"Notification",classes:classes$r,props:ir,className:lr,style:wr,classNames:Sr,styles:Mr,unstyled:kr,vars:Ir,varsResolver:varsResolver$m});return jsxRuntimeExports.jsxs(Box,{...Lr("root"),mod:[{"data-with-icon":!!_r||mr,"data-with-border":gr},$r],ref:rr,variant:Ar,role:Or||"alert",...Fr,children:[_r&&!mr&&jsxRuntimeExports.jsx("div",{...Lr("icon"),children:_r}),mr&&jsxRuntimeExports.jsx(Loader,{size:28,color:dr,...Dr,...Lr("loader")}),jsxRuntimeExports.jsxs("div",{...Lr("body"),children:[xr&&jsxRuntimeExports.jsx("div",{...Lr("title"),children:xr}),jsxRuntimeExports.jsx(Box,{...Lr("description"),mod:{"data-with-title":!!xr},children:yr})]}),hr&&jsxRuntimeExports.jsx(CloseButton,{iconSize:16,color:"gray",...br,unstyled:kr,onClick:vr,...Lr("closeButton")})]})});Notification.classes=classes$r;Notification.displayName="@mantine/core/Notification";function __rest$2(e,rr){var ir={};for(var lr in e)Object.prototype.hasOwnProperty.call(e,lr)&&rr.indexOf(lr)<0&&(ir[lr]=e[lr]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dr=0,lr=Object.getOwnPropertySymbols(e);dr<lr.length;dr++)rr.indexOf(lr[dr])<0&&Object.prototype.propertyIsEnumerable.call(e,lr[dr])&&(ir[lr[dr]]=e[lr[dr]]);return ir}var SourceType;(function(e){e.event="event",e.props="prop"})(SourceType||(SourceType={}));function noop$7(){}function memoizeOnce(e){var rr,ir=void 0;return function(){for(var lr=[],dr=arguments.length;dr--;)lr[dr]=arguments[dr];return rr&&lr.length===rr.length&&lr.every(function(fr,mr){return fr===rr[mr]})||(rr=lr,ir=e.apply(void 0,lr)),ir}}function charIsNumber(e){return!!(e||"").match(/\d/)}function isNil(e){return e==null}function isNanValue(e){return typeof e=="number"&&isNaN(e)}function isNotValidValue(e){return isNil(e)||isNanValue(e)||typeof e=="number"&&!isFinite(e)}function escapeRegExp(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function getThousandsGroupRegex(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function applyThousandSeparator(e,rr,ir){var lr=getThousandsGroupRegex(ir),dr=e.search(/[1-9]/);return dr=dr===-1?e.length:dr,e.substring(0,dr)+e.substring(dr,e.length).replace(lr,"$1"+rr)}function usePersistentCallback(e){var rr=reactExports.useRef(e);rr.current=e;var ir=reactExports.useRef(function(){for(var lr=[],dr=arguments.length;dr--;)lr[dr]=arguments[dr];return rr.current.apply(rr,lr)});return ir.current}function splitDecimal(e,rr){rr===void 0&&(rr=!0);var ir=e[0]==="-",lr=ir&&rr;e=e.replace("-","");var dr=e.split("."),fr=dr[0],mr=dr[1]||"";return{beforeDecimal:fr,afterDecimal:mr,hasNegation:ir,addNegation:lr}}function fixLeadingZero(e){if(!e)return e;var rr=e[0]==="-";rr&&(e=e.substring(1,e.length));var ir=e.split("."),lr=ir[0].replace(/^0+/,"")||"0",dr=ir[1]||"";return(rr?"-":"")+lr+(dr?"."+dr:"")}function limitToScale(e,rr,ir){for(var lr="",dr=ir?"0":"",fr=0;fr<=rr-1;fr++)lr+=e[fr]||dr;return lr}function repeat(e,rr){return Array(rr+1).join(e)}function toNumericString(e){var rr=e+"",ir=rr[0]==="-"?"-":"";ir&&(rr=rr.substring(1));var lr=rr.split(/[eE]/g),dr=lr[0],fr=lr[1];if(fr=Number(fr),!fr)return ir+dr;dr=dr.replace(".","");var mr=1+fr,hr=dr.length;return mr<0?dr="0."+repeat("0",Math.abs(mr))+dr:mr>=hr?dr=dr+repeat("0",mr-hr):dr=(dr.substring(0,mr)||"0")+"."+dr.substring(mr),ir+dr}function roundToPrecision(e,rr,ir){if(["","-"].indexOf(e)!==-1)return e;var lr=(e.indexOf(".")!==-1||ir)&&rr,dr=splitDecimal(e),fr=dr.beforeDecimal,mr=dr.afterDecimal,hr=dr.hasNegation,gr=parseFloat("0."+(mr||"0")),xr=mr.length<=rr?"0."+mr:gr.toFixed(rr),_r=xr.split("."),yr=fr;fr&&Number(_r[0])&&(yr=fr.split("").reverse().reduce(function(wr,Mr,kr){return wr.length>kr?(Number(wr[0])+Number(Mr)).toString()+wr.substring(1,wr.length):Mr+wr},_r[0]));var vr=limitToScale(_r[1]||"",rr,ir),br=hr?"-":"",Sr=lr?".":"";return""+br+yr+Sr+vr}function setCaretPosition(e,rr){if(e.value=e.value,e!==null){if(e.createTextRange){var ir=e.createTextRange();return ir.move("character",rr),ir.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(rr,rr),!0):(e.focus(),!1)}}var findChangeRange=memoizeOnce(function(e,rr){for(var ir=0,lr=0,dr=e.length,fr=rr.length;e[ir]===rr[ir]&&ir<dr;)ir++;for(;e[dr-1-lr]===rr[fr-1-lr]&&fr-lr>ir&&dr-lr>ir;)lr++;return{from:{start:ir,end:dr-lr},to:{start:ir,end:fr-lr}}}),findChangedRangeFromCaretPositions=function(e,rr){var ir=Math.min(e.selectionStart,rr);return{from:{start:ir,end:e.selectionEnd},to:{start:ir,end:rr}}};function clamp(e,rr,ir){return Math.min(Math.max(e,rr),ir)}function geInputCaretPosition(e){return Math.max(e.selectionStart,e.selectionEnd)}function addInputMode(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function getDefaultChangeMeta(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function defaultIsCharacterSame(e){var rr=e.currentValue,ir=e.formattedValue,lr=e.currentValueIndex,dr=e.formattedValueIndex;return rr[lr]===ir[dr]}function getCaretPosition(e,rr,ir,lr,dr,fr,mr){mr===void 0&&(mr=defaultIsCharacterSame);var hr=dr.findIndex(function($r){return $r}),gr=e.slice(0,hr);!rr&&!ir.startsWith(gr)&&(rr=gr,ir=gr+ir,lr=lr+gr.length);for(var xr=ir.length,_r=e.length,yr={},vr=new Array(xr),br=0;br<xr;br++){vr[br]=-1;for(var Sr=0,wr=_r;Sr<wr;Sr++){var Mr=mr({currentValue:ir,lastValue:rr,formattedValue:e,currentValueIndex:br,formattedValueIndex:Sr});if(Mr&&yr[Sr]!==!0){vr[br]=Sr,yr[Sr]=!0;break}}}for(var kr=lr;kr<xr&&(vr[kr]===-1||!fr(ir[kr]));)kr++;var Ar=kr===xr||vr[kr]===-1?_r:vr[kr];for(kr=lr-1;kr>0&&vr[kr]===-1;)kr--;var Ir=kr===-1||vr[kr]===-1?0:vr[kr]+1;return Ir>Ar?Ar:lr-Ir<Ar-lr?Ir:Ar}function getCaretPosInBoundary(e,rr,ir,lr){var dr=e.length;if(rr=clamp(rr,0,dr),lr==="left"){for(;rr>=0&&!ir[rr];)rr--;rr===-1&&(rr=ir.indexOf(!0))}else{for(;rr<=dr&&!ir[rr];)rr++;rr>dr&&(rr=ir.lastIndexOf(!0))}return rr===-1&&(rr=dr),rr}function caretUnknownFormatBoundary(e){for(var rr=Array.from({length:e.length+1}).map(function(){return!0}),ir=0,lr=rr.length;ir<lr;ir++)rr[ir]=!!(charIsNumber(e[ir])||charIsNumber(e[ir-1]));return rr}function useInternalValues(e,rr,ir,lr,dr,fr){fr===void 0&&(fr=noop$7);var mr=usePersistentCallback(function(Sr,wr){var Mr,kr;return isNotValidValue(Sr)?(kr="",Mr=""):typeof Sr=="number"||wr?(kr=typeof Sr=="number"?toNumericString(Sr):Sr,Mr=lr(kr)):(kr=dr(Sr,void 0),Mr=lr(kr)),{formattedValue:Mr,numAsString:kr}}),hr=reactExports.useState(function(){return mr(isNil(e)?rr:e,ir)}),gr=hr[0],xr=hr[1],_r=function(Sr,wr){Sr.formattedValue!==gr.formattedValue&&xr({formattedValue:Sr.formattedValue,numAsString:Sr.value}),fr(Sr,wr)},yr=e,vr=ir;isNil(e)&&(yr=gr.numAsString,vr=!0);var br=mr(yr,vr);return reactExports.useMemo(function(){xr(br)},[br.formattedValue]),[gr,_r]}function defaultRemoveFormatting(e){return e.replace(/[^0-9]/g,"")}function defaultFormat(e){return e}function NumberFormatBase(e){var rr=e.type;rr===void 0&&(rr="text");var ir=e.displayType;ir===void 0&&(ir="input");var lr=e.customInput,dr=e.renderText,fr=e.getInputRef,mr=e.format;mr===void 0&&(mr=defaultFormat);var hr=e.removeFormatting;hr===void 0&&(hr=defaultRemoveFormatting);var gr=e.defaultValue,xr=e.valueIsNumericString,_r=e.onValueChange,yr=e.isAllowed,vr=e.onChange;vr===void 0&&(vr=noop$7);var br=e.onKeyDown;br===void 0&&(br=noop$7);var Sr=e.onMouseUp;Sr===void 0&&(Sr=noop$7);var wr=e.onFocus;wr===void 0&&(wr=noop$7);var Mr=e.onBlur;Mr===void 0&&(Mr=noop$7);var kr=e.value,Ar=e.getCaretBoundary;Ar===void 0&&(Ar=caretUnknownFormatBoundary);var Ir=e.isValidInputCharacter;Ir===void 0&&(Ir=charIsNumber);var $r=e.isCharacterSame,Dr=__rest$2(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),Or=useInternalValues(kr,gr,!!xr,mr,hr,_r),Fr=Or[0],Lr=Fr.formattedValue,zr=Fr.numAsString,Gr=Or[1],Jr=reactExports.useRef(),Yn=reactExports.useRef({formattedValue:Lr,numAsString:zr}),Jn=function(Ss,ps){Yn.current={formattedValue:Ss.formattedValue,numAsString:Ss.value},Gr(Ss,ps)},Zn=reactExports.useState(!1),Hn=Zn[0],Kn=Zn[1],qn=reactExports.useRef(null),Qr=reactExports.useRef({setCaretTimeout:null,focusTimeout:null});reactExports.useEffect(function(){return Kn(!0),function(){clearTimeout(Qr.current.setCaretTimeout),clearTimeout(Qr.current.focusTimeout)}},[]);var $n=mr,es=function(Ss,ps){var ys=parseFloat(ps);return{formattedValue:Ss,value:ps,floatValue:isNaN(ys)?void 0:ys}},Xn=function(Ss,ps,ys){Ss.selectionStart===0&&Ss.selectionEnd===Ss.value.length||(setCaretPosition(Ss,ps),Qr.current.setCaretTimeout=setTimeout(function(){Ss.value===ys&&Ss.selectionStart!==ps&&setCaretPosition(Ss,ps)},0))},rs=function(Ss,ps,ys){return getCaretPosInBoundary(Ss,ps,Ar(Ss),ys)},ns=function(Ss,ps,ys){var Cs=Ar(ps),Ms=getCaretPosition(ps,Lr,Ss,ys,Cs,Ir,$r);return Ms=getCaretPosInBoundary(ps,Ms,Cs),Ms},ls=function(Ss){var ps=Ss.formattedValue;ps===void 0&&(ps="");var ys=Ss.input,Cs=Ss.source,Ms=Ss.event,ds=Ss.numAsString,ks;if(ys){var cs=Ss.inputValue||ys.value,bs=geInputCaretPosition(ys);ys.value=ps,ks=ns(cs,ps,bs),ks!==void 0&&Xn(ys,ks,ps)}ps!==Lr&&Jn(es(ps,ds),{event:Ms,source:Cs})};reactExports.useEffect(function(){var Ss=Yn.current,ps=Ss.formattedValue,ys=Ss.numAsString;(Lr!==ps||zr!==ys)&&Jn(es(Lr,zr),{event:void 0,source:SourceType.props})},[Lr,zr]);var ss=qn.current?geInputCaretPosition(qn.current):void 0,as=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;as(function(){var Ss=qn.current;if(Lr!==Yn.current.formattedValue&&Ss){var ps=ns(Yn.current.formattedValue,Lr,ss);Ss.value=Lr,Xn(Ss,ps,Lr)}},[Lr]);var us=function(Ss,ps,ys){var Cs=ps.target,Ms=Jr.current?findChangedRangeFromCaretPositions(Jr.current,Cs.selectionEnd):findChangeRange(Lr,Ss),ds=Object.assign(Object.assign({},Ms),{lastValue:Lr}),ks=hr(Ss,ds),cs=$n(ks);if(ks=hr(cs,void 0),yr&&!yr(es(cs,ks))){var bs=ps.target,Ts=geInputCaretPosition(bs),Ps=ns(Ss,Lr,Ts);return bs.value=Lr,Xn(bs,Ps,Lr),!1}return ls({formattedValue:cs,numAsString:ks,inputValue:Ss,event:ps,source:ys,input:ps.target}),!0},hs=function(Ss,ps){ps===void 0&&(ps=0);var ys=Ss.selectionStart,Cs=Ss.selectionEnd;Jr.current={selectionStart:ys,selectionEnd:Cs+ps}},gs=function(Ss){var ps=Ss.target,ys=ps.value,Cs=us(ys,Ss,SourceType.event);Cs&&vr(Ss),Jr.current=void 0},xs=function(Ss){var ps=Ss.target,ys=Ss.key,Cs=ps.selectionStart,Ms=ps.selectionEnd,ds=ps.value;ds===void 0&&(ds="");var ks;ys==="ArrowLeft"||ys==="Backspace"?ks=Math.max(Cs-1,0):ys==="ArrowRight"?ks=Math.min(Cs+1,ds.length):ys==="Delete"&&(ks=Cs);var cs=0;ys==="Delete"&&Cs===Ms&&(cs=1);var bs=ys==="ArrowLeft"||ys==="ArrowRight";if(ks===void 0||Cs!==Ms&&!bs){br(Ss),hs(ps,cs);return}var Ts=ks;if(bs){var Ps=ys==="ArrowLeft"?"left":"right";Ts=rs(ds,ks,Ps),Ts!==ks&&Ss.preventDefault()}else ys==="Delete"&&!Ir(ds[ks])?Ts=rs(ds,ks,"right"):ys==="Backspace"&&!Ir(ds[ks])&&(Ts=rs(ds,ks,"left"));Ts!==ks&&Xn(ps,Ts,ds),br(Ss),hs(ps,cs)},ms=function(Ss){var ps=Ss.target,ys=function(){var Cs=ps.selectionStart,Ms=ps.selectionEnd,ds=ps.value;if(ds===void 0&&(ds=""),Cs===Ms){var ks=rs(ds,Cs);ks!==Cs&&Xn(ps,ks,ds)}};ys(),requestAnimationFrame(function(){ys()}),Sr(Ss),hs(ps)},_s=function(Ss){Ss.persist&&Ss.persist();var ps=Ss.target,ys=Ss.currentTarget;qn.current=ps,Qr.current.focusTimeout=setTimeout(function(){var Cs=ps.selectionStart,Ms=ps.selectionEnd,ds=ps.value;ds===void 0&&(ds="");var ks=rs(ds,Cs);ks!==Cs&&!(Cs===0&&Ms===ds.length)&&Xn(ps,ks,ds),wr(Object.assign(Object.assign({},Ss),{currentTarget:ys}))},0)},Es=function(Ss){qn.current=null,clearTimeout(Qr.current.focusTimeout),clearTimeout(Qr.current.setCaretTimeout),Mr(Ss)},vs=Hn&&addInputMode()?"numeric":void 0,ws=Object.assign({inputMode:vs},Dr,{type:rr,value:Lr,onChange:gs,onKeyDown:xs,onMouseUp:ms,onFocus:_s,onBlur:Es});if(ir==="text")return dr?React$2.createElement(React$2.Fragment,null,dr(Lr,Dr)||null):React$2.createElement("span",Object.assign({},Dr,{ref:fr}),Lr);if(lr){var Rs=lr;return React$2.createElement(Rs,Object.assign({},ws,{ref:fr}))}return React$2.createElement("input",Object.assign({},ws,{ref:fr}))}function format(e,rr){var ir=rr.decimalScale,lr=rr.fixedDecimalScale,dr=rr.prefix;dr===void 0&&(dr="");var fr=rr.suffix;fr===void 0&&(fr="");var mr=rr.allowNegative,hr=rr.thousandsGroupStyle;if(hr===void 0&&(hr="thousand"),e===""||e==="-")return e;var gr=getSeparators(rr),xr=gr.thousandSeparator,_r=gr.decimalSeparator,yr=ir!==0&&e.indexOf(".")!==-1||ir&&lr,vr=splitDecimal(e,mr),br=vr.beforeDecimal,Sr=vr.afterDecimal,wr=vr.addNegation;return ir!==void 0&&(Sr=limitToScale(Sr,ir,!!lr)),xr&&(br=applyThousandSeparator(br,xr,hr)),dr&&(br=dr+br),fr&&(Sr=Sr+fr),wr&&(br="-"+br),e=br+(yr&&_r||"")+Sr,e}function getSeparators(e){var rr=e.decimalSeparator;rr===void 0&&(rr=".");var ir=e.thousandSeparator,lr=e.allowedDecimalSeparators;return ir===!0&&(ir=","),lr||(lr=[rr,"."]),{decimalSeparator:rr,thousandSeparator:ir,allowedDecimalSeparators:lr}}function handleNegation(e,rr){e===void 0&&(e="");var ir=new RegExp("(-)"),lr=new RegExp("(-)(.)*(-)"),dr=ir.test(e),fr=lr.test(e);return e=e.replace(/-/g,""),dr&&!fr&&rr&&(e="-"+e),e}function getNumberRegex(e,rr){return new RegExp("(^-)|[0-9]|"+escapeRegExp(e),"g")}function isNumericString(e,rr,ir){return e===""?!0:!rr?.match(/\d/)&&!ir?.match(/\d/)&&typeof e=="string"&&!isNaN(Number(e))}function removeFormatting(e,rr,ir){var lr;rr===void 0&&(rr=getDefaultChangeMeta(e));var dr=ir.allowNegative,fr=ir.prefix;fr===void 0&&(fr="");var mr=ir.suffix;mr===void 0&&(mr="");var hr=ir.decimalScale,gr=rr.from,xr=rr.to,_r=xr.start,yr=xr.end,vr=getSeparators(ir),br=vr.allowedDecimalSeparators,Sr=vr.decimalSeparator,wr=e[yr]===Sr;if(charIsNumber(e)&&(e===fr||e===mr)&&rr.lastValue==="")return e;if(yr-_r===1&&br.indexOf(e[_r])!==-1){var Mr=hr===0?"":Sr;e=e.substring(0,_r)+Mr+e.substring(_r+1,e.length)}var kr=function(qn,Qr,$n){var es=!1,Xn=!1;fr.startsWith("-")?es=!1:qn.startsWith("--")?(es=!1,Xn=!0):mr.startsWith("-")&&qn.length===mr.length?es=!1:qn[0]==="-"&&(es=!0);var rs=es?1:0;return Xn&&(rs=2),rs&&(qn=qn.substring(rs),Qr-=rs,$n-=rs),{value:qn,start:Qr,end:$n,hasNegation:es}},Ar=kr(e,_r,yr),Ir=Ar.hasNegation;lr=Ar,e=lr.value,_r=lr.start,yr=lr.end;var $r=kr(rr.lastValue,gr.start,gr.end),Dr=$r.start,Or=$r.end,Fr=$r.value,Lr=e.substring(_r,yr);e.length&&Fr.length&&(Dr>Fr.length-mr.length||Or<fr.length)&&!(Lr&&mr.startsWith(Lr))&&(e=Fr);var zr=0;e.startsWith(fr)?zr+=fr.length:_r<fr.length&&(zr=_r),e=e.substring(zr),yr-=zr;var Gr=e.length,Jr=e.length-mr.length;e.endsWith(mr)?Gr=Jr:(yr>Jr||yr>e.length-mr.length)&&(Gr=yr),e=e.substring(0,Gr),e=handleNegation(Ir?"-"+e:e,dr),e=(e.match(getNumberRegex(Sr))||[]).join("");var Yn=e.indexOf(Sr);e=e.replace(new RegExp(escapeRegExp(Sr),"g"),function(qn,Qr){return Qr===Yn?".":""});var Jn=splitDecimal(e,dr),Zn=Jn.beforeDecimal,Hn=Jn.afterDecimal,Kn=Jn.addNegation;return xr.end-xr.start<gr.end-gr.start&&Zn===""&&wr&&!parseFloat(Hn)&&(e=Kn?"-":""),e}function getCaretBoundary(e,rr){var ir=rr.prefix;ir===void 0&&(ir="");var lr=rr.suffix;lr===void 0&&(lr="");var dr=Array.from({length:e.length+1}).map(function(){return!0}),fr=e[0]==="-";dr.fill(!1,0,ir.length+(fr?1:0));var mr=e.length;return dr.fill(!1,mr-lr.length+1,mr+1),dr}function validateAndUpdateProps(e){var rr=getSeparators(e),ir=rr.thousandSeparator,lr=rr.decimalSeparator,dr=e.prefix;dr===void 0&&(dr="");var fr=e.allowNegative;if(fr===void 0&&(fr=!0),ir===lr)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+ir+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+lr+` (default value for decimalSeparator is .)
     `);return dr.startsWith("-")&&fr&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+dr+`
      allowNegative: `+fr+`
    `),fr=!1),Object.assign(Object.assign({},e),{allowNegative:fr})}function useNumericFormat(e){e=validateAndUpdateProps(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var rr=e.suffix,ir=e.allowNegative,lr=e.allowLeadingZeros,dr=e.onKeyDown;dr===void 0&&(dr=noop$7);var fr=e.onBlur;fr===void 0&&(fr=noop$7);var mr=e.thousandSeparator,hr=e.decimalScale,gr=e.fixedDecimalScale,xr=e.prefix;xr===void 0&&(xr="");var _r=e.defaultValue,yr=e.value,vr=e.valueIsNumericString,br=e.onValueChange,Sr=__rest$2(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),wr=getSeparators(e),Mr=wr.decimalSeparator,kr=wr.allowedDecimalSeparators,Ar=function(Kn){return format(Kn,e)},Ir=function(Kn,qn){return removeFormatting(Kn,qn,e)},$r=isNil(yr)?_r:yr,Dr=vr??isNumericString($r,xr,rr);isNil(yr)?isNil(_r)||(Dr=Dr||typeof _r=="number"):Dr=Dr||typeof yr=="number";var Or=function(Kn){return isNotValidValue(Kn)?Kn:(typeof Kn=="number"&&(Kn=toNumericString(Kn)),Dr&&typeof hr=="number"?roundToPrecision(Kn,hr,!!gr):Kn)},Fr=useInternalValues(Or(yr),Or(_r),!!Dr,Ar,Ir,br),Lr=Fr[0],zr=Lr.numAsString,Gr=Lr.formattedValue,Jr=Fr[1],Yn=function(Kn){var qn=Kn.target,Qr=Kn.key,$n=qn.selectionStart,es=qn.selectionEnd,Xn=qn.value;if(Xn===void 0&&(Xn=""),(Qr==="Backspace"||Qr==="Delete")&&es<xr.length){Kn.preventDefault();return}if($n!==es){dr(Kn);return}Qr==="Backspace"&&Xn[0]==="-"&&$n===xr.length+1&&ir&&setCaretPosition(qn,1),hr&&gr&&(Qr==="Backspace"&&Xn[$n-1]===Mr?(setCaretPosition(qn,$n-1),Kn.preventDefault()):Qr==="Delete"&&Xn[$n]===Mr&&Kn.preventDefault()),kr?.includes(Qr)&&Xn[$n]===Mr&&setCaretPosition(qn,$n+1);var rs=mr===!0?",":mr;Qr==="Backspace"&&Xn[$n-1]===rs&&setCaretPosition(qn,$n-1),Qr==="Delete"&&Xn[$n]===rs&&setCaretPosition(qn,$n+1),dr(Kn)},Jn=function(Kn){var qn=zr;if(qn.match(/\d/g)||(qn=""),lr||(qn=fixLeadingZero(qn)),gr&&hr&&(qn=roundToPrecision(qn,hr,gr)),qn!==zr){var Qr=format(qn,e);Jr({formattedValue:Qr,value:qn,floatValue:parseFloat(qn)},{event:Kn,source:SourceType.event})}fr(Kn)},Zn=function(Kn){return Kn===Mr?!0:charIsNumber(Kn)},Hn=function(Kn){var qn=Kn.currentValue,Qr=Kn.lastValue,$n=Kn.formattedValue,es=Kn.currentValueIndex,Xn=Kn.formattedValueIndex,rs=qn[es],ns=$n[Xn],ls=findChangeRange(Qr,qn),ss=ls.to,as=function(us){return Ir(us).indexOf(".")+xr.length};return yr===0&&gr&&hr&&qn[ss.start]===Mr&&as(qn)<es&&as($n)>Xn?!1:es>=ss.start&&es<ss.end&&kr&&kr.includes(rs)&&ns===Mr?!0:rs===ns};return Object.assign(Object.assign({},Sr),{value:Gr,valueIsNumericString:!1,isValidInputCharacter:Zn,isCharacterSame:Hn,onValueChange:Jr,format:Ar,removeFormatting:Ir,getCaretBoundary:function(Kn){return getCaretBoundary(Kn,e)},onKeyDown:Yn,onBlur:Jn})}function NumericFormat(e){var rr=useNumericFormat(e);return React$2.createElement(NumberFormatBase,Object.assign({},rr))}function NumberInputChevron({direction:e,style:rr,...ir}){return jsxRuntimeExports.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...rr},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ir,children:jsxRuntimeExports.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var classes$q={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const leadingDecimalZeroPattern=/^(0\.0*|-0(\.0*)?)$/,leadingZerosPattern=/^-?0\d+(\.\d+)?\.?$/;function isNumberString(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function canIncrement(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||isNumberString(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function getDecimalPlaces(e){return e.toString().replace(".","").length}function isValidNumber(e,rr){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&getDecimalPlaces(rr)<14&&rr!==""}function isInRange$1(e,rr,ir){if(e===void 0)return!0;const lr=rr===void 0||e>=rr,dr=ir===void 0||e<=ir;return lr&&dr}const defaultProps$L={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},varsResolver$l=(e,{size:rr})=>({controls:{"--ni-chevron-size":getSize(rr,"ni-chevron-size")}});function clampAndSanitizeInput(e,rr,ir){const lr=e.toString().replace(/^0+/,""),dr=parseFloat(lr);return Number.isNaN(dr)?lr:dr>Number.MAX_SAFE_INTEGER?rr!==void 0?String(rr):lr:clamp$3(dr,ir,rr)}const NumberInput=factory((e,rr)=>{const ir=useProps("NumberInput",defaultProps$L,e),{className:lr,classNames:dr,styles:fr,unstyled:mr,vars:hr,onChange:gr,onValueChange:xr,value:_r,defaultValue:yr,max:vr,min:br,step:Sr,hideControls:wr,rightSection:Mr,isAllowed:kr,clampBehavior:Ar,onBlur:Ir,allowDecimal:$r,decimalScale:Dr,onKeyDown:Or,onKeyDownCapture:Fr,handlersRef:Lr,startValue:zr,disabled:Gr,rightSectionPointerEvents:Jr,allowNegative:Yn,readOnly:Jn,size:Zn,rightSectionWidth:Hn,stepHoldInterval:Kn,stepHoldDelay:qn,allowLeadingZeros:Qr,withKeyboardEvents:$n,trimLeadingZeroesOnBlur:es,...Xn}=ir,rs=useStyles({name:"NumberInput",classes:classes$q,props:ir,classNames:dr,styles:fr,unstyled:mr,vars:hr,varsResolver:varsResolver$l}),{resolvedClassNames:ns,resolvedStyles:ls}=useResolvedStylesApi({classNames:dr,styles:fr,props:ir}),[ss,as]=useUncontrolled({value:_r,defaultValue:yr,finalValue:"",onChange:gr}),us=qn!==void 0&&Kn!==void 0,hs=reactExports.useRef(null),gs=reactExports.useRef(null),xs=reactExports.useRef(0),ms=(cs,bs)=>{bs.source==="event"&&as(isValidNumber(cs.floatValue,cs.value)&&!leadingDecimalZeroPattern.test(cs.value)&&!(Qr&&leadingZerosPattern.test(cs.value))?cs.floatValue:cs.value),xr?.(cs,bs)},_s=cs=>{const bs=String(cs).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return bs?Math.max(0,(bs[1]?bs[1].length:0)-(bs[2]?+bs[2]:0)):0},Es=cs=>{hs.current&&typeof cs<"u"&&hs.current.setSelectionRange(cs,cs)},vs=reactExports.useRef(noop$a);vs.current=()=>{if(!canIncrement(ss))return;let cs;const bs=_s(ss),Ts=_s(Sr),Ps=Math.max(bs,Ts),Is=10**Ps;if(!isNumberString(ss)&&(typeof ss!="number"||Number.isNaN(ss)))cs=clamp$3(zr,br,vr);else if(vr!==void 0){const Ds=(Math.round(Number(ss)*Is)+Math.round(Sr*Is))/Is;cs=Ds<=vr?Ds:vr}else cs=(Math.round(Number(ss)*Is)+Math.round(Sr*Is))/Is;const js=cs.toFixed(Ps);as(parseFloat(js)),xr?.({floatValue:parseFloat(js),formattedValue:js,value:js},{source:"increment"}),setTimeout(()=>Es(hs.current?.value.length),0)};const ws=reactExports.useRef(noop$a);ws.current=()=>{if(!canIncrement(ss))return;let cs;const bs=br!==void 0?br:Yn?Number.MIN_SAFE_INTEGER:0,Ts=_s(ss),Ps=_s(Sr),Is=Math.max(Ts,Ps),js=10**Is;if(!isNumberString(ss)&&typeof ss!="number"||Number.isNaN(ss))cs=clamp$3(zr,bs,vr);else{const $s=(Math.round(Number(ss)*js)-Math.round(Sr*js))/js;cs=bs!==void 0&&$s<bs?bs:$s}const Ds=cs.toFixed(Is);as(parseFloat(Ds)),xr?.({floatValue:parseFloat(Ds),formattedValue:Ds,value:Ds},{source:"decrement"}),setTimeout(()=>Es(hs.current?.value.length),0)};const Rs=cs=>{Or?.(cs),!(Jn||!$n)&&(cs.key==="ArrowUp"&&(cs.preventDefault(),vs.current?.()),cs.key==="ArrowDown"&&(cs.preventDefault(),ws.current?.()))},Ss=cs=>{if(Fr?.(cs),cs.key==="Backspace"){const bs=hs.current;bs&&bs.selectionStart===0&&bs.selectionStart===bs.selectionEnd&&(cs.preventDefault(),window.setTimeout(()=>Es(0),0))}},ps=cs=>{let bs=ss;Ar==="blur"&&typeof bs=="number"&&(bs=clamp$3(bs,br,vr)),es&&typeof bs=="string"&&_s(bs)<15&&(bs=clampAndSanitizeInput(bs,vr,br)),ss!==bs&&as(bs),Ir?.(cs)};assignRef(Lr,{increment:vs.current,decrement:ws.current});const ys=cs=>{cs?vs.current?.():ws.current?.(),xs.current+=1},Cs=cs=>{if(ys(cs),us){const bs=typeof Kn=="number"?Kn:Kn(xs.current);gs.current=window.setTimeout(()=>Cs(cs),bs)}},Ms=(cs,bs)=>{cs.preventDefault(),hs.current?.focus(),ys(bs),us&&(gs.current=window.setTimeout(()=>Cs(bs),qn))},ds=()=>{gs.current&&window.clearTimeout(gs.current),gs.current=null,xs.current=0},ks=jsxRuntimeExports.jsxs("div",{...rs("controls"),children:[jsxRuntimeExports.jsx(UnstyledButton,{...rs("control"),tabIndex:-1,"aria-hidden":!0,disabled:Gr||typeof ss=="number"&&vr!==void 0&&ss>=vr,mod:{direction:"up"},onMouseDown:cs=>cs.preventDefault(),onPointerDown:cs=>{Ms(cs,!0)},onPointerUp:ds,onPointerLeave:ds,children:jsxRuntimeExports.jsx(NumberInputChevron,{direction:"up"})}),jsxRuntimeExports.jsx(UnstyledButton,{...rs("control"),tabIndex:-1,"aria-hidden":!0,disabled:Gr||typeof ss=="number"&&br!==void 0&&ss<=br,mod:{direction:"down"},onMouseDown:cs=>cs.preventDefault(),onPointerDown:cs=>{Ms(cs,!1)},onPointerUp:ds,onPointerLeave:ds,children:jsxRuntimeExports.jsx(NumberInputChevron,{direction:"down"})})]});return jsxRuntimeExports.jsx(InputBase,{component:NumericFormat,allowNegative:Yn,className:clsx(classes$q.root,lr),size:Zn,...Xn,readOnly:Jn,disabled:Gr,value:ss,getInputRef:useMergedRef(rr,hs),onValueChange:ms,rightSection:wr||Jn||!canIncrement(ss)?Mr:Mr||ks,classNames:ns,styles:ls,unstyled:mr,__staticSelector:"NumberInput",decimalScale:$r?Dr:0,onKeyDown:Rs,onKeyDownCapture:Ss,rightSectionPointerEvents:Jr??(Gr?"none":void 0),rightSectionWidth:Hn??`var(--ni-right-section-width-${Zn||"sm"})`,allowLeadingZeros:Qr,onBlur:ps,isAllowed:cs=>Ar==="strict"?kr?kr(cs)&&isInRange$1(cs.floatValue,br,vr):isInRange$1(cs.floatValue,br,vr):kr?kr(cs):!0})});NumberInput.classes={...InputBase.classes,...classes$q};NumberInput.displayName="@mantine/core/NumberInput";const[PaginationProvider,usePaginationContext]=createSafeContext("Pagination.Root component was not found in tree");var classes$p={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const defaultProps$K={withPadding:!0},PaginationControl=factory((e,rr)=>{const ir=useProps("PaginationControl",defaultProps$K,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,active:gr,disabled:xr,withPadding:_r,mod:yr,...vr}=ir,br=usePaginationContext(),Sr=xr||br.disabled;return jsxRuntimeExports.jsx(UnstyledButton,{ref:rr,disabled:Sr,mod:[{active:gr,disabled:Sr,"with-padding":_r},yr],...br.getStyles("control",{className:dr,style:fr,classNames:lr,styles:mr,active:!Sr}),...vr})});PaginationControl.classes=classes$p;PaginationControl.displayName="@mantine/core/PaginationControl";function PaginationIcon({style:e,children:rr,path:ir,...lr}){return jsxRuntimeExports.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...e},...lr,children:jsxRuntimeExports.jsx("path",{d:ir,fill:"currentColor"})})}const PaginationNextIcon=e=>jsxRuntimeExports.jsx(PaginationIcon,{...e,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),PaginationPreviousIcon=e=>jsxRuntimeExports.jsx(PaginationIcon,{...e,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),PaginationFirstIcon=e=>jsxRuntimeExports.jsx(PaginationIcon,{...e,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),PaginationLastIcon=e=>jsxRuntimeExports.jsx(PaginationIcon,{...e,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),PaginationDotsIcon=e=>jsxRuntimeExports.jsx(PaginationIcon,{...e,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),defaultProps$J={icon:PaginationDotsIcon},PaginationDots=factory((e,rr)=>{const ir=useProps("PaginationDots",defaultProps$J,e),{classNames:lr,className:dr,style:fr,styles:mr,vars:hr,icon:gr,...xr}=ir,_r=usePaginationContext();return jsxRuntimeExports.jsx(Box,{ref:rr,..._r.getStyles("dots",{className:dr,style:fr,styles:mr,classNames:lr}),...xr,children:jsxRuntimeExports.jsx(gr,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});PaginationDots.classes=classes$p;PaginationDots.displayName="@mantine/core/PaginationDots";function createEdgeComponent({icon:e,name:rr,action:ir,type:lr}){const dr={icon:e},fr=reactExports.forwardRef((mr,hr)=>{const{icon:gr,...xr}=useProps(rr,dr,mr),_r=usePaginationContext(),yr=lr==="next"?_r.active===_r.total:_r.active===1;return jsxRuntimeExports.jsx(PaginationControl,{disabled:_r.disabled||yr,ref:hr,onClick:_r[ir],withPadding:!1,...xr,children:jsxRuntimeExports.jsx(gr,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return fr.displayName=`@mantine/core/${rr}`,fr}const PaginationNext=createEdgeComponent({icon:PaginationNextIcon,name:"PaginationNext",action:"onNext",type:"next"}),PaginationPrevious=createEdgeComponent({icon:PaginationPreviousIcon,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),PaginationFirst=createEdgeComponent({icon:PaginationFirstIcon,name:"PaginationFirst",action:"onFirst",type:"previous"}),PaginationLast=createEdgeComponent({icon:PaginationLastIcon,name:"PaginationLast",action:"onLast",type:"next"});function PaginationItems({dotsIcon:e}){const rr=usePaginationContext(),ir=rr.range.map((lr,dr)=>lr==="dots"?jsxRuntimeExports.jsx(PaginationDots,{icon:e},dr):jsxRuntimeExports.jsx(PaginationControl,{active:lr===rr.active,"aria-current":lr===rr.active?"page":void 0,onClick:()=>rr.onChange(lr),disabled:rr.disabled,...rr.getItemProps?.(lr),children:rr.getItemProps?.(lr)?.children??lr},dr));return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:ir})}PaginationItems.displayName="@mantine/core/PaginationItems";const defaultProps$I={siblings:1,boundaries:1},varsResolver$k=(e,{size:rr,radius:ir,color:lr,autoContrast:dr})=>({root:{"--pagination-control-radius":ir===void 0?void 0:getRadius(ir),"--pagination-control-size":getSize(rr,"pagination-control-size"),"--pagination-control-fz":getFontSize(rr),"--pagination-active-bg":lr?getThemeColor(lr,e):void 0,"--pagination-active-color":getAutoContrastValue(dr,e)?getContrastColor({color:lr,theme:e,autoContrast:dr}):void 0}}),PaginationRoot=factory((e,rr)=>{const ir=useProps("PaginationRoot",defaultProps$I,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,total:xr,value:_r,defaultValue:yr,onChange:vr,disabled:br,siblings:Sr,boundaries:wr,color:Mr,radius:kr,onNextPage:Ar,onPreviousPage:Ir,onFirstPage:$r,onLastPage:Dr,getItemProps:Or,autoContrast:Fr,...Lr}=ir,zr=useStyles({name:"Pagination",classes:classes$p,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$k}),{range:Gr,setPage:Jr,next:Yn,previous:Jn,active:Zn,first:Hn,last:Kn}=usePagination({page:_r,initialPage:yr,onChange:vr,total:xr,siblings:Sr,boundaries:wr}),qn=createEventHandler(Ar,Yn),Qr=createEventHandler(Ir,Jn),$n=createEventHandler($r,Hn),es=createEventHandler(Dr,Kn);return jsxRuntimeExports.jsx(PaginationProvider,{value:{total:xr,range:Gr,active:Zn,disabled:br,getItemProps:Or,onChange:Jr,onNext:qn,onPrevious:Qr,onFirst:$n,onLast:es,getStyles:zr},children:jsxRuntimeExports.jsx(Box,{ref:rr,...zr("root"),...Lr})})});PaginationRoot.classes=classes$p;PaginationRoot.displayName="@mantine/core/PaginationRoot";const defaultProps$H={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Pagination=factory((e,rr)=>{const ir=useProps("Pagination",defaultProps$H,e),{withEdges:lr,withControls:dr,getControlProps:fr,nextIcon:mr,previousIcon:hr,lastIcon:gr,firstIcon:xr,dotsIcon:_r,total:yr,gap:vr,hideWithOnePage:br,withPages:Sr,...wr}=ir;return yr<=0||br&&yr===1?null:jsxRuntimeExports.jsx(PaginationRoot,{ref:rr,total:yr,...wr,children:jsxRuntimeExports.jsxs(Group,{gap:vr,children:[lr&&jsxRuntimeExports.jsx(PaginationFirst,{icon:xr,...fr?.("first")}),dr&&jsxRuntimeExports.jsx(PaginationPrevious,{icon:hr,...fr?.("previous")}),Sr&&jsxRuntimeExports.jsx(PaginationItems,{dotsIcon:_r}),dr&&jsxRuntimeExports.jsx(PaginationNext,{icon:mr,...fr?.("next")}),lr&&jsxRuntimeExports.jsx(PaginationLast,{icon:gr,...fr?.("last")})]})})});Pagination.classes=classes$p;Pagination.displayName="@mantine/core/Pagination";Pagination.Root=PaginationRoot;Pagination.Control=PaginationControl;Pagination.Dots=PaginationDots;Pagination.First=PaginationFirst;Pagination.Last=PaginationLast;Pagination.Next=PaginationNext;Pagination.Previous=PaginationPrevious;Pagination.Items=PaginationItems;const PasswordToggleIcon=({reveal:e})=>jsxRuntimeExports.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:jsxRuntimeExports.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var classes$o={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const defaultProps$G={visibilityToggleIcon:PasswordToggleIcon},varsResolver$j=(e,{size:rr})=>({root:{"--psi-icon-size":getSize(rr,"psi-icon-size"),"--psi-button-size":getSize(rr,"psi-button-size")}}),PasswordInput=factory((e,rr)=>{const ir=useProps("PasswordInput",defaultProps$G,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,required:xr,error:_r,leftSection:yr,disabled:vr,id:br,variant:Sr,inputContainer:wr,description:Mr,label:kr,size:Ar,errorProps:Ir,descriptionProps:$r,labelProps:Dr,withAsterisk:Or,inputWrapperOrder:Fr,wrapperProps:Lr,radius:zr,rightSection:Gr,rightSectionWidth:Jr,rightSectionPointerEvents:Yn,leftSectionWidth:Jn,visible:Zn,defaultVisible:Hn,onVisibilityChange:Kn,visibilityToggleIcon:qn,visibilityToggleButtonProps:Qr,rightSectionProps:$n,leftSectionProps:es,leftSectionPointerEvents:Xn,withErrorStyles:rs,mod:ns,...ls}=ir,ss=useId$3(br),[as,us]=useUncontrolled({value:Zn,defaultValue:Hn,finalValue:!1,onChange:Kn}),hs=()=>us(!as),gs=useStyles({name:"PasswordInput",classes:classes$o,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$j}),{resolvedClassNames:xs,resolvedStyles:ms}=useResolvedStylesApi({classNames:lr,styles:mr,props:ir}),{styleProps:_s,rest:Es}=extractStyleProps(ls),vs=Ir?.id||`${ss}-error`,ws=$r?.id||`${ss}-description`,ps=`${!!_r&&typeof _r!="boolean"?vs:""} ${!!Mr?ws:""}`,ys=ps.trim().length>0?ps.trim():void 0,Cs=jsxRuntimeExports.jsx(ActionIcon,{...gs("visibilityToggle"),disabled:vr,radius:zr,"aria-hidden":!Qr,tabIndex:-1,...Qr,variant:Qr?.variant??"subtle",color:"gray",unstyled:hr,onTouchEnd:Ms=>{Ms.preventDefault(),Qr?.onTouchEnd?.(Ms),hs()},onMouseDown:Ms=>{Ms.preventDefault(),Qr?.onMouseDown?.(Ms),hs()},onKeyDown:Ms=>{Qr?.onKeyDown?.(Ms),Ms.key===" "&&(Ms.preventDefault(),hs())},children:jsxRuntimeExports.jsx(qn,{reveal:as})});return jsxRuntimeExports.jsx(Input.Wrapper,{required:xr,id:ss,label:kr,error:_r,description:Mr,size:Ar,classNames:xs,styles:ms,__staticSelector:"PasswordInput",unstyled:hr,withAsterisk:Or,inputWrapperOrder:Fr,inputContainer:wr,variant:Sr,labelProps:{...Dr,htmlFor:ss},descriptionProps:{...$r,id:ws},errorProps:{...Ir,id:vs},mod:ns,...gs("root"),..._s,...Lr,children:jsxRuntimeExports.jsx(Input,{component:"div",error:_r,leftSection:yr,size:Ar,classNames:{...xs,input:clsx(classes$o.input,xs.input)},styles:ms,radius:zr,disabled:vr,__staticSelector:"PasswordInput",rightSectionWidth:Jr,rightSection:Gr??Cs,variant:Sr,unstyled:hr,leftSectionWidth:Jn,rightSectionPointerEvents:Yn||"all",rightSectionProps:$n,leftSectionProps:es,leftSectionPointerEvents:Xn,withAria:!1,withErrorStyles:rs,children:jsxRuntimeExports.jsx("input",{required:xr,"data-invalid":!!_r||void 0,"data-with-left-section":!!yr||void 0,...gs("innerInput"),disabled:vr,id:ss,ref:rr,...Es,"aria-describedby":ys,autoComplete:Es.autoComplete||"off",type:as?"text":"password"})})})});PasswordInput.classes={...InputBase.classes,...classes$o};PasswordInput.displayName="@mantine/core/PasswordInput";function createPinArray(e,rr){if(e<1)return[];const ir=new Array(e).fill("");if(rr){const lr=rr.trim().split("");for(let dr=0;dr<Math.min(e,lr.length);dr+=1)ir[dr]=lr[dr]===" "?"":lr[dr]}return ir}var classes$n={root:"m_f1cb205a",pinInput:"m_cb288ead"};const regex={number:/^[0-9]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i},defaultProps$F={gap:"sm",length:4,manageFocus:!0,oneTimeCode:!0,placeholder:"",type:"alphanumeric",ariaLabel:"PinInput",size:"sm"},varsResolver$i=(e,{size:rr})=>({root:{"--pin-input-size":getSize(rr??"sm","pin-input-size")}}),PinInput=factory((e,rr)=>{const{name:ir,form:lr,className:dr,value:fr,defaultValue:mr,variant:hr,gap:gr,style:xr,size:_r,classNames:yr,styles:vr,unstyled:br,length:Sr,onChange:wr,onComplete:Mr,manageFocus:kr,autoFocus:Ar,error:Ir,radius:$r,disabled:Dr,oneTimeCode:Or,placeholder:Fr,type:Lr,mask:zr,readOnly:Gr,inputType:Jr,inputMode:Yn,ariaLabel:Jn,vars:Zn,id:Hn,hiddenInputProps:Kn,rootRef:qn,getInputProps:Qr,...$n}=useProps("PinInput",defaultProps$F,e),es=useId$3(Hn),Xn=useStyles({name:"PinInput",classes:classes$n,props:e,className:dr,style:xr,classNames:yr,styles:vr,unstyled:br,vars:Zn,varsResolver:varsResolver$i}),{resolvedClassNames:rs,resolvedStyles:ns}=useResolvedStylesApi({classNames:yr,styles:vr,props:e}),[ls,ss]=reactExports.useState(-1),[as,us]=useUncontrolled({value:fr?createPinArray(Sr??0,fr):void 0,defaultValue:mr?.split("").slice(0,Sr??0),finalValue:createPinArray(Sr??0,""),onChange:typeof wr=="function"?ps=>{wr(ps.join("").trim())}:void 0}),hs=as.join("").trim(),gs=reactExports.useRef([]),xs=ps=>(Lr instanceof RegExp?Lr:Lr&&Lr in regex?regex[Lr]:null)?.test(ps),ms=(ps,ys,Cs)=>{if(!kr){Cs?.preventDefault();return}if(ps==="next"){const Ms=ys+1;Ms<(Sr??0)&&(Cs?.preventDefault(),gs.current[Ms].focus())}if(ps==="prev"){const Ms=ys-1;Ms>-1&&(Cs?.preventDefault(),gs.current[Ms].focus())}},_s=(ps,ys)=>{const Cs=[...as];Cs[ys]=ps,us(Cs)},Es=(ps,ys)=>{const Cs=ps.target.value,Ms=Cs.length===2?Cs.split("")[Cs.length-1]:Cs,ds=xs(Ms);Ms.length<2?ds?(_s(Ms,ys),ms("next",ys)):_s("",ys):ds&&us(createPinArray(Sr??0,Cs))},vs=(ps,ys)=>{const{ctrlKey:Cs,metaKey:Ms,key:ds,shiftKey:ks,target:cs}=ps,bs=cs.value;Yn==="numeric"&&(ds==="Backspace"||ds==="Tab"||ds==="Control"||ds==="Delete"||Cs&&ds==="v"||Ms&&ds==="v"||!Number.isNaN(Number(ds))||ps.preventDefault()),ds==="ArrowLeft"||ks&&ds==="Tab"?ms("prev",ys,ps):ds==="ArrowRight"||ds==="Tab"||ds===" "?ms("next",ys,ps):ds==="Delete"?_s("",ys):ds==="Backspace"?ys!==0&&(_s("",ys),Sr===ys+1?ps.target.value===""&&ms("prev",ys,ps):ms("prev",ys,ps)):bs.length>0&&ds===as[ys]&&ms("next",ys,ps)},ws=(ps,ys)=>{ps.target.select(),ss(ys)},Rs=()=>{ss(-1)},Ss=ps=>{ps.preventDefault();const ys=ps.clipboardData.getData("text/plain").replace(/[\n\r\s]+/g,"");if(xs(ys.trim())){const Ms=createPinArray(Sr??0,ys);us(Ms),ms("next",Ms.length-2)}};return reactExports.useEffect(()=>{hs.length===Sr&&Mr?.(hs)},[Sr,hs]),reactExports.useEffect(()=>{Sr!==as.length&&us(createPinArray(Sr??0,as.join("")))},[Sr,as]),reactExports.useEffect(()=>{fr===""&&us(createPinArray(Sr??0,fr))},[fr]),reactExports.useEffect(()=>{Dr&&ss(-1)},[Dr]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Group,{...$n,...Xn("root"),ref:qn,role:"group",id:es,gap:gr,unstyled:br,wrap:"nowrap",variant:hr,__size:_r,dir:"ltr",children:as.map((ps,ys)=>reactExports.createElement(Input,{component:"input",...Xn("pinInput",{style:{"--input-padding":"0","--input-text-align":"center"}}),classNames:rs,styles:ns,size:_r,__staticSelector:"PinInput",id:`${es}-${ys+1}`,key:`${es}-${ys}`,inputMode:Yn||(Lr==="number"?"numeric":"text"),onChange:Cs=>Es(Cs,ys),onKeyDown:Cs=>vs(Cs,ys),onFocus:Cs=>ws(Cs,ys),onBlur:Rs,onPaste:Ss,type:Jr||(zr?"password":Lr==="number"?"tel":"text"),radius:$r,error:Ir,variant:hr,disabled:Dr,ref:Cs=>{Cs&&(ys===0&&assignRef(rr,Cs),gs.current[ys]=Cs)},autoComplete:Or?"one-time-code":"off",placeholder:ls===ys?"":Fr,value:ps,autoFocus:Ar&&ys===0,unstyled:br,"aria-label":Jn,readOnly:Gr,...Qr?.(ys)}))}),jsxRuntimeExports.jsx("input",{type:"hidden",name:ir,form:lr,value:hs,...Kn})]})});PinInput.classes={...classes$n,...InputBase.classes};PinInput.displayName="@mantine/core/PinInput";const defaultTransition$1={duration:100,transition:"fade"};function getTransitionProps(e,rr){return{...defaultTransition$1,...rr,...e}}function useFloatingTooltip({offset:e,position:rr,defaultOpened:ir}){const[lr,dr]=reactExports.useState(ir),fr=reactExports.useRef(null),{x:mr,y:hr,elements:gr,refs:xr,update:_r,placement:yr}=useFloating$1({placement:rr,middleware:[shift$1({crossAxis:!0,padding:5,rootBoundary:"document"})]}),vr=yr.includes("right")?e:rr.includes("left")?e*-1:0,br=yr.includes("bottom")?e:rr.includes("top")?e*-1:0,Sr=reactExports.useCallback(({clientX:wr,clientY:Mr})=>{xr.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:wr,y:Mr,left:wr+vr,top:Mr+br,right:wr,bottom:Mr}}})},[gr.reference]);return reactExports.useEffect(()=>{if(xr.floating.current){const wr=fr.current;wr.addEventListener("mousemove",Sr);const Mr=getOverflowAncestors(xr.floating.current);return Mr.forEach(kr=>{kr.addEventListener("scroll",_r)}),()=>{wr.removeEventListener("mousemove",Sr),Mr.forEach(kr=>{kr.removeEventListener("scroll",_r)})}}},[gr.reference,xr.floating.current,_r,Sr,lr]),{handleMouseMove:Sr,x:mr,y:hr,opened:lr,setOpened:dr,boundaryRef:fr,floating:xr.setFloating}}var classes$m={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const defaultProps$E={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:getDefaultZIndex("popover")},varsResolver$h=(e,{radius:rr,color:ir})=>({tooltip:{"--tooltip-radius":rr===void 0?void 0:getRadius(rr),"--tooltip-bg":ir?getThemeColor(ir,e):void 0,"--tooltip-color":ir?"var(--mantine-color-white)":void 0}}),TooltipFloating=factory((e,rr)=>{const ir=useProps("TooltipFloating",defaultProps$E,e),{children:lr,refProp:dr,withinPortal:fr,style:mr,className:hr,classNames:gr,styles:xr,unstyled:_r,radius:yr,color:vr,label:br,offset:Sr,position:wr,multiline:Mr,zIndex:kr,disabled:Ar,defaultOpened:Ir,variant:$r,vars:Dr,portalProps:Or,...Fr}=ir,Lr=useMantineTheme(),zr=useStyles({name:"TooltipFloating",props:ir,classes:classes$m,className:hr,style:mr,classNames:gr,styles:xr,unstyled:_r,rootSelector:"tooltip",vars:Dr,varsResolver:varsResolver$h}),{handleMouseMove:Gr,x:Jr,y:Yn,opened:Jn,boundaryRef:Zn,floating:Hn,setOpened:Kn}=useFloatingTooltip({offset:Sr,position:wr,defaultOpened:Ir});if(!isElement$1(lr))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const qn=useMergedRef(Zn,getRefProp(lr),rr),Qr=lr.props,$n=Xn=>{Qr.onMouseEnter?.(Xn),Gr(Xn),Kn(!0)},es=Xn=>{Qr.onMouseLeave?.(Xn),Kn(!1)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(OptionalPortal,{...Or,withinPortal:fr,children:jsxRuntimeExports.jsx(Box,{...Fr,...zr("tooltip",{style:{...getStyleObject(mr,Lr),zIndex:kr,display:!Ar&&Jn?"block":"none",top:(Yn&&Math.round(Yn))??"",left:(Jr&&Math.round(Jr))??""}}),variant:$r,ref:Hn,mod:{multiline:Mr},children:br})}),reactExports.cloneElement(lr,{...Qr,[dr]:qn,onMouseEnter:$n,onMouseLeave:es})]})});TooltipFloating.classes=classes$m;TooltipFloating.displayName="@mantine/core/TooltipFloating";const TooltipGroupContext=reactExports.createContext(!1),TooltipGroupProvider=TooltipGroupContext.Provider,useTooltipGroupContext=()=>reactExports.useContext(TooltipGroupContext),defaultProps$D={openDelay:0,closeDelay:0};function TooltipGroup(e){const{openDelay:rr,closeDelay:ir,children:lr}=useProps("TooltipGroup",defaultProps$D,e);return jsxRuntimeExports.jsx(TooltipGroupProvider,{value:!0,children:jsxRuntimeExports.jsx(FloatingDelayGroup$1,{delay:{open:rr,close:ir},children:lr})})}TooltipGroup.displayName="@mantine/core/TooltipGroup";TooltipGroup.extend=e=>e;function getDefaultMiddlewares(e){if(e===void 0)return{shift:!0,flip:!0};const rr={...e};return e.shift===void 0&&(rr.shift=!0),e.flip===void 0&&(rr.flip=!0),rr}function getTooltipMiddlewares(e){const rr=getDefaultMiddlewares(e.middlewares),ir=[offset(e.offset)];return rr.shift&&ir.push(shift$1(typeof rr.shift=="boolean"?{padding:8}:{padding:8,...rr.shift})),rr.flip&&ir.push(typeof rr.flip=="boolean"?flip():flip(rr.flip)),ir.push(arrow$2({element:e.arrowRef,padding:e.arrowOffset})),rr.inline?ir.push(typeof rr.inline=="boolean"?inline():inline(rr.inline)):e.inline&&ir.push(inline()),ir}function useTooltip$1(e){const[rr,ir]=reactExports.useState(e.defaultOpened),dr=typeof e.opened=="boolean"?e.opened:rr,fr=useTooltipGroupContext(),mr=useId$3(),hr=reactExports.useCallback(Dr=>{ir(Dr),Dr&&kr(mr)},[mr]),{x:gr,y:xr,context:_r,refs:yr,placement:vr,middlewareData:{arrow:{x:br,y:Sr}={}}}=useFloating$1({strategy:e.strategy,placement:e.position,open:dr,onOpenChange:hr,middleware:getTooltipMiddlewares(e),whileElementsMounted:autoUpdate}),{delay:wr,currentId:Mr,setCurrentId:kr}=useDelayGroup(_r,{id:mr}),{getReferenceProps:Ar,getFloatingProps:Ir}=useInteractions$1([useHover$1(_r,{enabled:e.events?.hover,delay:fr?wr:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),useFocus$1(_r,{enabled:e.events?.focus,visibleOnly:!0}),useRole$1(_r,{role:"tooltip"}),useDismiss$1(_r,{enabled:typeof e.opened>"u"})]);useDidUpdate(()=>{e.onPositionChange?.(vr)},[vr]);const $r=dr&&Mr&&Mr!==mr;return{x:gr,y:xr,arrowX:br,arrowY:Sr,reference:yr.setReference,floating:yr.setFloating,getFloatingProps:Ir,getReferenceProps:Ar,isGroupPhase:$r,opened:dr,placement:vr}}const defaultProps$C={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:getDefaultZIndex("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},varsResolver$g=(e,{radius:rr,color:ir,variant:lr,autoContrast:dr})=>{const fr=e.variantColorResolver({theme:e,color:ir||e.primaryColor,autoContrast:dr,variant:lr||"filled"});return{tooltip:{"--tooltip-radius":rr===void 0?void 0:getRadius(rr),"--tooltip-bg":ir?fr.background:void 0,"--tooltip-color":ir?fr.color:void 0}}},Tooltip$1=factory((e,rr)=>{const ir=useProps("Tooltip",defaultProps$C,e),{children:lr,position:dr,refProp:fr,label:mr,openDelay:hr,closeDelay:gr,onPositionChange:xr,opened:_r,defaultOpened:yr,withinPortal:vr,radius:br,color:Sr,classNames:wr,styles:Mr,unstyled:kr,style:Ar,className:Ir,withArrow:$r,arrowSize:Dr,arrowOffset:Or,arrowRadius:Fr,arrowPosition:Lr,offset:zr,transitionProps:Gr,multiline:Jr,events:Yn,zIndex:Jn,disabled:Zn,positionDependencies:Hn,onClick:Kn,onMouseEnter:qn,onMouseLeave:Qr,inline:$n,variant:es,keepMounted:Xn,vars:rs,portalProps:ns,mod:ls,floatingStrategy:ss,middlewares:as,autoContrast:us,...hs}=useProps("Tooltip",defaultProps$C,ir),{dir:gs}=useDirection(),xs=reactExports.useRef(null),ms=useTooltip$1({position:getFloatingPosition(gs,dr),closeDelay:gr,openDelay:hr,onPositionChange:xr,opened:_r,defaultOpened:yr,events:Yn,arrowRef:xs,arrowOffset:Or,offset:typeof zr=="number"?zr+($r?Dr/2:0):zr,positionDependencies:[...Hn,lr],inline:$n,strategy:ss,middlewares:as}),_s=useStyles({name:"Tooltip",props:ir,classes:classes$m,className:Ir,style:Ar,classNames:wr,styles:Mr,unstyled:kr,rootSelector:"tooltip",vars:rs,varsResolver:varsResolver$g});if(!isElement$1(lr))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Es=useMergedRef(ms.reference,getRefProp(lr),rr),vs=getTransitionProps(Gr,{duration:100,transition:"fade"}),ws=lr.props;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(OptionalPortal,{...ns,withinPortal:vr,children:jsxRuntimeExports.jsx(Transition$2,{...vs,keepMounted:Xn,mounted:!Zn&&!!ms.opened,duration:ms.isGroupPhase?10:vs.duration,children:Rs=>jsxRuntimeExports.jsxs(Box,{...hs,"data-fixed":ss==="fixed"||void 0,variant:es,mod:[{multiline:Jr},ls],...ms.getFloatingProps({ref:ms.floating,className:_s("tooltip").className,style:{..._s("tooltip").style,...Rs,zIndex:Jn,top:ms.y??0,left:ms.x??0}}),children:[mr,jsxRuntimeExports.jsx(FloatingArrow,{ref:xs,arrowX:ms.arrowX,arrowY:ms.arrowY,visible:$r,position:ms.placement,arrowSize:Dr,arrowOffset:Or,arrowRadius:Fr,arrowPosition:Lr,..._s("arrow")})]})})}),reactExports.cloneElement(lr,ms.getReferenceProps({onClick:Kn,onMouseEnter:qn,onMouseLeave:Qr,onMouseMove:ir.onMouseMove,onPointerDown:ir.onPointerDown,onPointerEnter:ir.onPointerEnter,className:clsx(Ir,ws.className),...ws,[fr]:Es}))]})});Tooltip$1.classes=classes$m;Tooltip$1.displayName="@mantine/core/Tooltip";Tooltip$1.Floating=TooltipFloating;Tooltip$1.Group=TooltipGroup;const defaultProps$B={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Select=factory((e,rr)=>{const ir=useProps("Select",defaultProps$B,e),{classNames:lr,styles:dr,unstyled:fr,vars:mr,dropdownOpened:hr,defaultDropdownOpened:gr,onDropdownClose:xr,onDropdownOpen:_r,onFocus:yr,onBlur:vr,onClick:br,onChange:Sr,data:wr,value:Mr,defaultValue:kr,selectFirstOptionOnChange:Ar,onOptionSubmit:Ir,comboboxProps:$r,readOnly:Dr,disabled:Or,filter:Fr,limit:Lr,withScrollArea:zr,maxDropdownHeight:Gr,size:Jr,searchable:Yn,rightSection:Jn,checkIconPosition:Zn,withCheckIcon:Hn,nothingFoundMessage:Kn,name:qn,form:Qr,searchValue:$n,defaultSearchValue:es,onSearchChange:Xn,allowDeselect:rs,error:ns,rightSectionPointerEvents:ls,id:ss,clearable:as,clearButtonProps:us,hiddenInputProps:hs,renderOption:gs,onClear:xs,autoComplete:ms,scrollAreaProps:_s,__defaultRightSection:Es,__clearSection:vs,__clearable:ws,chevronColor:Rs,...Ss}=ir,ps=reactExports.useMemo(()=>getParsedComboboxData(wr),[wr]),ys=reactExports.useMemo(()=>getOptionsLockup(ps),[ps]),Cs=useId$3(ss),[Ms,ds,ks]=useUncontrolled({value:Mr,defaultValue:kr,finalValue:null,onChange:Sr}),cs=typeof Ms=="string"?ys[Ms]:void 0,bs=usePrevious$1(cs),[Ts,Ps,Is]=useUncontrolled({value:$n,defaultValue:es,finalValue:cs?cs.label:"",onChange:Xn}),js=useCombobox({opened:hr,defaultOpened:gr,onDropdownOpen:()=>{_r?.(),js.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{xr?.(),js.resetSelectedOption()}}),Ds=zs=>{Ps(zs),js.resetSelectedOption()},{resolvedClassNames:$s,resolvedStyles:Fs}=useResolvedStylesApi({props:ir,styles:dr,classNames:lr});reactExports.useEffect(()=>{Ar&&js.selectFirstOption()},[Ar,Ts]),reactExports.useEffect(()=>{Mr===null&&Ds(""),typeof Mr=="string"&&cs&&(bs?.value!==cs.value||bs?.label!==cs.label)&&Ds(cs.label)},[Mr,cs]),reactExports.useEffect(()=>{!ks&&!Is&&Ds(typeof Ms=="string"&&ys[Ms]?.label||"")},[wr,Ms]);const As=jsxRuntimeExports.jsx(Combobox.ClearButton,{...us,onClear:()=>{ds(null,null),Ds(""),xs?.()}}),qs=as&&!!Ms&&!Or&&!Dr;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Combobox,{store:js,__staticSelector:"Select",classNames:$s,styles:Fs,unstyled:fr,readOnly:Dr,onOptionSubmit:zs=>{Ir?.(zs);const Bs=rs&&ys[zs].value===Ms?null:ys[zs],Us=Bs?Bs.value:null;Us!==Ms&&ds(Us,Bs),!ks&&Ds(typeof Us=="string"&&Bs?.label||""),js.closeDropdown()},size:Jr,...$r,children:[jsxRuntimeExports.jsx(Combobox.Target,{targetType:Yn?"input":"button",autoComplete:ms,children:jsxRuntimeExports.jsx(InputBase,{id:Cs,ref:rr,__defaultRightSection:jsxRuntimeExports.jsx(Combobox.Chevron,{size:Jr,error:ns,unstyled:fr,color:Rs}),__clearSection:As,__clearable:qs,rightSection:Jn,rightSectionPointerEvents:ls||(qs?"all":"none"),...Ss,size:Jr,__staticSelector:"Select",disabled:Or,readOnly:Dr||!Yn,value:Ts,onChange:zs=>{Ds(zs.currentTarget.value),js.openDropdown(),Ar&&js.selectFirstOption()},onFocus:zs=>{Yn&&js.openDropdown(),yr?.(zs)},onBlur:zs=>{Yn&&js.closeDropdown(),Ds(Ms!=null&&ys[Ms]?.label||""),vr?.(zs)},onClick:zs=>{Yn?js.openDropdown():js.toggleDropdown(),br?.(zs)},classNames:$s,styles:Fs,unstyled:fr,pointer:!Yn,error:ns})}),jsxRuntimeExports.jsx(OptionsDropdown,{data:ps,hidden:Dr||Or,filter:Fr,search:Ts,limit:Lr,hiddenWhenEmpty:!Kn,withScrollArea:zr,maxDropdownHeight:Gr,filterOptions:!!Yn&&cs?.label!==Ts,value:Ms,checkIconPosition:Zn,withCheckIcon:Hn,nothingFoundMessage:Kn,unstyled:fr,labelId:Ss.label?`${Cs}-label`:void 0,"aria-label":Ss.label?void 0:Ss["aria-label"],renderOption:gs,scrollAreaProps:_s})]}),jsxRuntimeExports.jsx(Combobox.HiddenInput,{value:Ms,name:qn,form:Qr,disabled:Or,...hs})]})});Select.classes={...InputBase.classes,...Combobox.classes};Select.displayName="@mantine/core/Select";function SimpleGridMediaVariables({spacing:e,verticalSpacing:rr,cols:ir,selector:lr}){const dr=useMantineTheme(),fr=rr===void 0?e:rr,mr=filterProps({"--sg-spacing-x":getSpacing(getBaseValue$1(e)),"--sg-spacing-y":getSpacing(getBaseValue$1(fr)),"--sg-cols":getBaseValue$1(ir)?.toString()}),hr=keys$1(dr.breakpoints).reduce((_r,yr)=>(_r[yr]||(_r[yr]={}),typeof e=="object"&&e[yr]!==void 0&&(_r[yr]["--sg-spacing-x"]=getSpacing(e[yr])),typeof fr=="object"&&fr[yr]!==void 0&&(_r[yr]["--sg-spacing-y"]=getSpacing(fr[yr])),typeof ir=="object"&&ir[yr]!==void 0&&(_r[yr]["--sg-cols"]=ir[yr]),_r),{}),xr=getSortedBreakpoints(keys$1(hr),dr.breakpoints).filter(_r=>keys$1(hr[_r.value]).length>0).map(_r=>({query:`(min-width: ${dr.breakpoints[_r.value]})`,styles:hr[_r.value]}));return jsxRuntimeExports.jsx(InlineStyles,{styles:mr,media:xr,selector:lr})}function getBreakpoints(e){return typeof e=="object"&&e!==null?keys$1(e):[]}function sortBreakpoints(e){return e.sort((rr,ir)=>px(rr)-px(ir))}function getUniqueBreakpoints({spacing:e,verticalSpacing:rr,cols:ir}){const lr=Array.from(new Set([...getBreakpoints(e),...getBreakpoints(rr),...getBreakpoints(ir)]));return sortBreakpoints(lr)}function SimpleGridContainerVariables({spacing:e,verticalSpacing:rr,cols:ir,selector:lr}){const dr=rr===void 0?e:rr,fr=filterProps({"--sg-spacing-x":getSpacing(getBaseValue$1(e)),"--sg-spacing-y":getSpacing(getBaseValue$1(dr)),"--sg-cols":getBaseValue$1(ir)?.toString()}),mr=getUniqueBreakpoints({spacing:e,verticalSpacing:rr,cols:ir}),hr=mr.reduce((xr,_r)=>(xr[_r]||(xr[_r]={}),typeof e=="object"&&e[_r]!==void 0&&(xr[_r]["--sg-spacing-x"]=getSpacing(e[_r])),typeof dr=="object"&&dr[_r]!==void 0&&(xr[_r]["--sg-spacing-y"]=getSpacing(dr[_r])),typeof ir=="object"&&ir[_r]!==void 0&&(xr[_r]["--sg-cols"]=ir[_r]),xr),{}),gr=mr.map(xr=>({query:`simple-grid (min-width: ${xr})`,styles:hr[xr]}));return jsxRuntimeExports.jsx(InlineStyles,{styles:fr,container:gr,selector:lr})}var classes$l={container:"m_925c2d2c",root:"m_2415a157"};const defaultProps$A={cols:1,spacing:"md",type:"media"},SimpleGrid=factory((e,rr)=>{const ir=useProps("SimpleGrid",defaultProps$A,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,cols:xr,verticalSpacing:_r,spacing:yr,type:vr,...br}=ir,Sr=useStyles({name:"SimpleGrid",classes:classes$l,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr}),wr=useRandomClassName();return vr==="container"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SimpleGridContainerVariables,{...ir,selector:`.${wr}`}),jsxRuntimeExports.jsx("div",{...Sr("container"),children:jsxRuntimeExports.jsx(Box,{ref:rr,...Sr("root",{className:wr}),...br})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SimpleGridMediaVariables,{...ir,selector:`.${wr}`}),jsxRuntimeExports.jsx(Box,{ref:rr,...Sr("root",{className:wr}),...br})]})});SimpleGrid.classes=classes$l;SimpleGrid.displayName="@mantine/core/SimpleGrid";var classes$k={root:"m_18320242","skeleton-fade":"m_299c329c"};const defaultProps$z={visible:!0,animate:!0},varsResolver$f=(e,{width:rr,height:ir,radius:lr,circle:dr})=>({root:{"--skeleton-height":rem(ir),"--skeleton-width":rem(dr?ir:rr),"--skeleton-radius":dr?"1000px":lr===void 0?void 0:getRadius(lr)}}),Skeleton=factory((e,rr)=>{const ir=useProps("Skeleton",defaultProps$z,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,width:xr,height:_r,circle:yr,visible:vr,radius:br,animate:Sr,mod:wr,...Mr}=ir,kr=useStyles({name:"Skeleton",classes:classes$k,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$f});return jsxRuntimeExports.jsx(Box,{ref:rr,...kr("root"),mod:[{visible:vr,animate:Sr},wr],...Mr})});Skeleton.classes=classes$k;Skeleton.displayName="@mantine/core/Skeleton";var classes$j={root:"m_6d731127"};const defaultProps$y={gap:"md",align:"stretch",justify:"flex-start"},varsResolver$e=(e,{gap:rr,align:ir,justify:lr})=>({root:{"--stack-gap":getSpacing(rr),"--stack-align":ir,"--stack-justify":lr}}),Stack=factory((e,rr)=>{const ir=useProps("Stack",defaultProps$y,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,align:xr,justify:_r,gap:yr,variant:vr,...br}=ir,Sr=useStyles({name:"Stack",props:ir,classes:classes$j,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$e});return jsxRuntimeExports.jsx(Box,{ref:rr,...Sr("root"),variant:vr,...br})});Stack.classes=classes$j;Stack.displayName="@mantine/core/Stack";const[TableProvider,useTableContext]=createSafeContext("Table component was not found in the tree");var classes$i={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function getDataAttributes(e,rr){if(!rr)return;const ir={};return rr.columnBorder&&e.withColumnBorders&&(ir["data-with-column-border"]=!0),rr.rowBorder&&e.withRowBorders&&(ir["data-with-row-border"]=!0),rr.striped&&e.striped&&(ir["data-striped"]=e.striped),rr.highlightOnHover&&e.highlightOnHover&&(ir["data-hover"]=!0),rr.captionSide&&e.captionSide&&(ir["data-side"]=e.captionSide),rr.stickyHeader&&e.stickyHeader&&(ir["data-sticky"]=!0),ir}function tableElement(e,rr){const ir=`Table${e.charAt(0).toUpperCase()}${e.slice(1)}`,lr=factory((dr,fr)=>{const mr=useProps(ir,{},dr),{classNames:hr,className:gr,style:xr,styles:_r,...yr}=mr,vr=useTableContext();return jsxRuntimeExports.jsx(Box,{component:e,ref:fr,...getDataAttributes(vr,rr),...vr.getStyles(e,{className:gr,classNames:hr,style:xr,styles:_r,props:mr}),...yr})});return lr.displayName=`@mantine/core/${ir}`,lr.classes=classes$i,lr}const TableTh=tableElement("th",{columnBorder:!0}),TableTd=tableElement("td",{columnBorder:!0}),TableTr=tableElement("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),TableThead=tableElement("thead",{stickyHeader:!0}),TableTbody=tableElement("tbody"),TableTfoot=tableElement("tfoot"),TableCaption=tableElement("caption",{captionSide:!0});function TableDataRenderer({data:e}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e.caption&&jsxRuntimeExports.jsx(TableCaption,{children:e.caption}),e.head&&jsxRuntimeExports.jsx(TableThead,{children:jsxRuntimeExports.jsx(TableTr,{children:e.head.map((rr,ir)=>jsxRuntimeExports.jsx(TableTh,{children:rr},ir))})}),e.body&&jsxRuntimeExports.jsx(TableTbody,{children:e.body.map((rr,ir)=>jsxRuntimeExports.jsx(TableTr,{children:rr.map((lr,dr)=>jsxRuntimeExports.jsx(TableTd,{children:lr},dr))},ir))}),e.foot&&jsxRuntimeExports.jsx(TableTfoot,{children:jsxRuntimeExports.jsx(TableTr,{children:e.foot.map((rr,ir)=>jsxRuntimeExports.jsx(TableTh,{children:rr},ir))})})]})}TableDataRenderer.displayName="@mantine/core/TableDataRenderer";const defaultProps$x={type:"scrollarea"},varsResolver$d=(e,{minWidth:rr,maxHeight:ir,type:lr})=>({scrollContainer:{"--table-min-width":rem(rr),"--table-max-height":rem(ir),"--table-overflow":lr==="native"?"auto":void 0}}),TableScrollContainer=factory((e,rr)=>{const ir=useProps("TableScrollContainer",defaultProps$x,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,children:xr,minWidth:_r,maxHeight:yr,type:vr,scrollAreaProps:br,...Sr}=ir,wr=useStyles({name:"TableScrollContainer",classes:classes$i,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$d,rootSelector:"scrollContainer"});return jsxRuntimeExports.jsx(Box,{component:vr==="scrollarea"?ScrollArea:"div",...vr==="scrollarea"?yr?{offsetScrollbars:"xy",...br}:{offsetScrollbars:"x",...br}:{},ref:rr,...wr("scrollContainer"),...Sr,children:jsxRuntimeExports.jsx("div",{...wr("scrollContainerInner"),children:xr})})});TableScrollContainer.classes=classes$i;TableScrollContainer.displayName="@mantine/core/TableScrollContainer";const defaultProps$w={withRowBorders:!0,verticalSpacing:7},varsResolver$c=(e,{layout:rr,captionSide:ir,horizontalSpacing:lr,verticalSpacing:dr,borderColor:fr,stripedColor:mr,highlightOnHoverColor:hr,striped:gr,highlightOnHover:xr,stickyHeaderOffset:_r,stickyHeader:yr})=>({table:{"--table-layout":rr,"--table-caption-side":ir,"--table-horizontal-spacing":getSpacing(lr),"--table-vertical-spacing":getSpacing(dr),"--table-border-color":fr?getThemeColor(fr,e):void 0,"--table-striped-color":gr&&mr?getThemeColor(mr,e):void 0,"--table-highlight-on-hover-color":xr&&hr?getThemeColor(hr,e):void 0,"--table-sticky-header-offset":yr?rem(_r):void 0}}),Table=factory((e,rr)=>{const ir=useProps("Table",defaultProps$w,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,horizontalSpacing:xr,verticalSpacing:_r,captionSide:yr,stripedColor:vr,highlightOnHoverColor:br,striped:Sr,highlightOnHover:wr,withColumnBorders:Mr,withRowBorders:kr,withTableBorder:Ar,borderColor:Ir,layout:$r,variant:Dr,data:Or,children:Fr,stickyHeader:Lr,stickyHeaderOffset:zr,mod:Gr,tabularNums:Jr,...Yn}=ir,Jn=useStyles({name:"Table",props:ir,className:dr,style:fr,classes:classes$i,classNames:lr,styles:mr,unstyled:hr,rootSelector:"table",vars:gr,varsResolver:varsResolver$c});return jsxRuntimeExports.jsx(TableProvider,{value:{getStyles:Jn,stickyHeader:Lr,striped:Sr===!0?"odd":Sr||void 0,highlightOnHover:wr,withColumnBorders:Mr,withRowBorders:kr,captionSide:yr||"bottom"},children:jsxRuntimeExports.jsx(Box,{component:"table",variant:Dr,ref:rr,mod:[{"data-with-table-border":Ar,"data-tabular-nums":Jr},Gr],...Jn("table"),...Yn,children:Fr||!!Or&&jsxRuntimeExports.jsx(TableDataRenderer,{data:Or})})})});Table.classes=classes$i;Table.displayName="@mantine/core/Table";Table.Td=TableTd;Table.Th=TableTh;Table.Tr=TableTr;Table.Thead=TableThead;Table.Tbody=TableTbody;Table.Tfoot=TableTfoot;Table.Caption=TableCaption;Table.ScrollContainer=TableScrollContainer;Table.DataRenderer=TableDataRenderer;const[TabsProvider,useTabsContext]=createSafeContext("Tabs component was not found in the tree");var classes$h={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",tab:"m_4ec4dce6",panel:"m_b0c91715",tabSection:"m_fc420b1f",tabLabel:"m_42bbd1ae","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const defaultProps$v={},TabsList=factory((e,rr)=>{const ir=useProps("TabsList",defaultProps$v,e),{children:lr,className:dr,grow:fr,justify:mr,classNames:hr,styles:gr,style:xr,mod:_r,...yr}=ir,vr=useTabsContext();return jsxRuntimeExports.jsx(Box,{...yr,...vr.getStyles("list",{className:dr,style:xr,classNames:hr,styles:gr,props:ir,variant:vr.variant}),ref:rr,role:"tablist",variant:vr.variant,mod:[{grow:fr,orientation:vr.orientation,placement:vr.orientation==="vertical"&&vr.placement,inverted:vr.inverted},_r],"aria-orientation":vr.orientation,__vars:{"--tabs-justify":mr},children:lr})});TabsList.classes=classes$h;TabsList.displayName="@mantine/core/TabsList";const defaultProps$u={},TabsPanel=factory((e,rr)=>{const ir=useProps("TabsPanel",defaultProps$u,e),{children:lr,className:dr,value:fr,classNames:mr,styles:hr,style:gr,mod:xr,keepMounted:_r,...yr}=ir,vr=useTabsContext(),br=vr.value===fr,Sr=vr.keepMounted||_r||br?lr:null;return jsxRuntimeExports.jsx(Box,{...yr,...vr.getStyles("panel",{className:dr,classNames:mr,styles:hr,style:[gr,br?void 0:{display:"none"}],props:ir}),ref:rr,mod:[{orientation:vr.orientation},xr],role:"tabpanel",id:vr.getPanelId(fr),"aria-labelledby":vr.getTabId(fr),children:Sr})});TabsPanel.classes=classes$h;TabsPanel.displayName="@mantine/core/TabsPanel";const defaultProps$t={},TabsTab=factory((e,rr)=>{const ir=useProps("TabsTab",defaultProps$t,e),{className:lr,children:dr,rightSection:fr,leftSection:mr,value:hr,onClick:gr,onKeyDown:xr,disabled:_r,color:yr,style:vr,classNames:br,styles:Sr,vars:wr,mod:Mr,tabIndex:kr,...Ar}=ir,Ir=useMantineTheme(),{dir:$r}=useDirection(),Dr=useTabsContext(),Or=hr===Dr.value,Fr=zr=>{Dr.onChange(Dr.allowTabDeactivation&&hr===Dr.value?null:hr),gr?.(zr)},Lr={classNames:br,styles:Sr,props:ir};return jsxRuntimeExports.jsxs(UnstyledButton,{...Ar,...Dr.getStyles("tab",{className:lr,style:vr,variant:Dr.variant,...Lr}),disabled:_r,unstyled:Dr.unstyled,variant:Dr.variant,mod:[{active:Or,disabled:_r,orientation:Dr.orientation,inverted:Dr.inverted,placement:Dr.orientation==="vertical"&&Dr.placement},Mr],ref:rr,role:"tab",id:Dr.getTabId(hr),"aria-selected":Or,tabIndex:kr!==void 0?kr:Or||Dr.value===null?0:-1,"aria-controls":Dr.getPanelId(hr),onClick:Fr,__vars:{"--tabs-color":yr?getThemeColor(yr,Ir):void 0},onKeyDown:createScopedKeydownHandler({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:Dr.activateTabWithKeyboard,loop:Dr.loop,orientation:Dr.orientation||"horizontal",dir:$r,onKeyDown:xr}),children:[mr&&jsxRuntimeExports.jsx("span",{...Dr.getStyles("tabSection",Lr),"data-position":"left",children:mr}),dr&&jsxRuntimeExports.jsx("span",{...Dr.getStyles("tabLabel",Lr),children:dr}),fr&&jsxRuntimeExports.jsx("span",{...Dr.getStyles("tabSection",Lr),"data-position":"right",children:fr})]})});TabsTab.classes=classes$h;TabsTab.displayName="@mantine/core/TabsTab";const VALUE_ERROR="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",defaultProps$s={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,variant:"default",placement:"left"},varsResolver$b=(e,{radius:rr,color:ir,autoContrast:lr})=>({root:{"--tabs-radius":getRadius(rr),"--tabs-color":getThemeColor(ir,e),"--tabs-text-color":getAutoContrastValue(lr,e)?getContrastColor({color:ir,theme:e,autoContrast:lr}):void 0}}),Tabs=factory((e,rr)=>{const ir=useProps("Tabs",defaultProps$s,e),{defaultValue:lr,value:dr,onChange:fr,orientation:mr,children:hr,loop:gr,id:xr,activateTabWithKeyboard:_r,allowTabDeactivation:yr,variant:vr,color:br,radius:Sr,inverted:wr,placement:Mr,keepMounted:kr,classNames:Ar,styles:Ir,unstyled:$r,className:Dr,style:Or,vars:Fr,autoContrast:Lr,mod:zr,...Gr}=ir,Jr=useId$3(xr),[Yn,Jn]=useUncontrolled({value:dr,defaultValue:lr,finalValue:null,onChange:fr}),Zn=useStyles({name:"Tabs",props:ir,classes:classes$h,className:Dr,style:Or,classNames:Ar,styles:Ir,unstyled:$r,vars:Fr,varsResolver:varsResolver$b});return jsxRuntimeExports.jsx(TabsProvider,{value:{placement:Mr,value:Yn,orientation:mr,id:Jr,loop:gr,activateTabWithKeyboard:_r,getTabId:getSafeId(`${Jr}-tab`,VALUE_ERROR),getPanelId:getSafeId(`${Jr}-panel`,VALUE_ERROR),onChange:Jn,allowTabDeactivation:yr,variant:vr,color:br,radius:Sr,inverted:wr,keepMounted:kr,unstyled:$r,getStyles:Zn},children:jsxRuntimeExports.jsx(Box,{ref:rr,id:Jr,variant:vr,mod:[{orientation:mr,inverted:mr==="horizontal"&&wr,placement:mr==="vertical"&&Mr},zr],...Zn("root"),...Gr,children:hr})})});Tabs.classes=classes$h;Tabs.displayName="@mantine/core/Tabs";Tabs.Tab=TabsTab;Tabs.Panel=TabsPanel;Tabs.List=TabsList;function filterPickedTags({data:e,value:rr}){const ir=rr.map(dr=>dr.trim().toLowerCase());return e.reduce((dr,fr)=>(isOptionsGroup(fr)?dr.push({group:fr.group,items:fr.items.filter(mr=>ir.indexOf(mr.label.toLowerCase().trim())===-1)}):ir.indexOf(fr.label.toLowerCase().trim())===-1&&dr.push(fr),dr),[])}function splitTags(e,rr){return e?rr.split(new RegExp(`[${e.join("")}]`)).map(ir=>ir.trim()).filter(ir=>ir!==""):[rr]}function getSplittedTags({splitChars:e,allowDuplicates:rr,maxTags:ir,value:lr,currentTags:dr}){const fr=splitTags(e,lr),mr=rr?[...dr,...fr]:[...new Set([...dr,...fr])];return ir?mr.slice(0,ir):mr}const defaultProps$r={maxTags:1/0,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},TagsInput=factory((e,rr)=>{const ir=useProps("TagsInput",defaultProps$r,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,size:xr,value:_r,defaultValue:yr,onChange:vr,onKeyDown:br,maxTags:Sr,allowDuplicates:wr,onDuplicate:Mr,variant:kr,data:Ar,dropdownOpened:Ir,defaultDropdownOpened:$r,onDropdownOpen:Dr,onDropdownClose:Or,selectFirstOptionOnChange:Fr,onOptionSubmit:Lr,comboboxProps:zr,filter:Gr,limit:Jr,withScrollArea:Yn,maxDropdownHeight:Jn,searchValue:Zn,defaultSearchValue:Hn,onSearchChange:Kn,readOnly:qn,disabled:Qr,splitChars:$n,onFocus:es,onBlur:Xn,onPaste:rs,radius:ns,rightSection:ls,rightSectionWidth:ss,rightSectionPointerEvents:as,rightSectionProps:us,leftSection:hs,leftSectionWidth:gs,leftSectionPointerEvents:xs,leftSectionProps:ms,inputContainer:_s,inputWrapperOrder:Es,withAsterisk:vs,required:ws,labelProps:Rs,descriptionProps:Ss,errorProps:ps,wrapperProps:ys,description:Cs,label:Ms,error:ds,withErrorStyles:ks,name:cs,form:bs,id:Ts,clearable:Ps,clearButtonProps:Is,hiddenInputProps:js,hiddenInputValuesDivider:Ds,mod:$s,renderOption:Fs,onRemove:As,onClear:qs,scrollAreaProps:zs,acceptValueOnBlur:Bs,isDuplicate:Us,...Ws}=ir,eo=useId$3(Ts),oo=getParsedComboboxData(Ar),Ys=getOptionsLockup(oo),Gs=reactExports.useRef(null),Ks=useMergedRef(Gs,rr),Hs=useCombobox({opened:Ir,defaultOpened:$r,onDropdownOpen:Dr,onDropdownClose:()=>{Or?.(),Hs.resetSelectedOption()}}),{styleProps:to,rest:{type:Js,autoComplete:Zs,...Ns}}=extractStyleProps(Ws),[Ls,Vs]=useUncontrolled({value:_r,defaultValue:yr,finalValue:[],onChange:vr}),[Xs,ro]=useUncontrolled({value:Zn,defaultValue:Hn,finalValue:"",onChange:Kn}),Qs=Os=>{ro(Os),Hs.resetSelectedOption()},io=useStyles({name:"TagsInput",classes:{},props:ir,classNames:lr,styles:mr,unstyled:hr}),{resolvedClassNames:ao,resolvedStyles:no}=useResolvedStylesApi({props:ir,styles:mr,classNames:lr}),lo=Os=>{const so=Us?Us(Os,Ls):Ls.some(co=>co.toLowerCase()===Os.toLowerCase());so&&Mr?.(Os),(!so||so&&wr)&&Ls.length<Sr&&(Lr?.(Os),Qs(""),Os.length>0&&Vs([...Ls,Os]))},uo=Os=>{if(br?.(Os),Os.isPropagationStopped())return;const so=Xs.trim(),{length:co}=so;if($n.includes(Os.key)&&co>0&&(Vs(getSplittedTags({splitChars:$n,allowDuplicates:wr,maxTags:Sr,value:Xs,currentTags:Ls})),Qs(""),Os.preventDefault()),Os.key==="Enter"&&co>0&&!Os.nativeEvent.isComposing){if(Os.preventDefault(),!!document.querySelector(`#${Hs.listId} [data-combobox-option][data-combobox-selected]`))return;lo(so)}Os.key==="Backspace"&&co===0&&Ls.length>0&&!Os.nativeEvent.isComposing&&(As?.(Ls[Ls.length-1]),Vs(Ls.slice(0,Ls.length-1)))},_o=Os=>{if(rs?.(Os),Os.preventDefault(),Os.clipboardData){const so=Os.clipboardData.getData("text/plain");Vs(getSplittedTags({splitChars:$n,allowDuplicates:wr,maxTags:Sr,value:`${Xs}${so}`,currentTags:Ls})),Qs("")}},yo=Ls.map((Os,so)=>jsxRuntimeExports.jsx(Pill,{withRemoveButton:!qn,onRemove:()=>{const co=Ls.slice();co.splice(so,1),Vs(co),As?.(Os)},unstyled:hr,disabled:Qr,...io("pill"),children:Os},`${Os}-${so}`));reactExports.useEffect(()=>{Fr&&Hs.selectFirstOption()},[Fr,Ls,Xs]);const vo=jsxRuntimeExports.jsx(Combobox.ClearButton,{...Is,onClear:()=>{Vs([]),Qs(""),Gs.current?.focus(),Hs.openDropdown(),qs?.()}});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Combobox,{store:Hs,classNames:ao,styles:no,unstyled:hr,size:xr,readOnly:qn,__staticSelector:"TagsInput",onOptionSubmit:Os=>{Lr?.(Os),Qs(""),Ls.length<Sr&&Vs([...Ls,Ys[Os].label]),Hs.resetSelectedOption()},...zr,children:[jsxRuntimeExports.jsx(Combobox.DropdownTarget,{children:jsxRuntimeExports.jsx(PillsInput,{...to,__staticSelector:"TagsInput",classNames:ao,styles:no,unstyled:hr,size:xr,className:dr,style:fr,variant:kr,disabled:Qr,radius:ns,rightSection:ls,__clearSection:vo,__clearable:Ps&&Ls.length>0&&!Qr&&!qn,rightSectionWidth:ss,rightSectionPointerEvents:as,rightSectionProps:us,leftSection:hs,leftSectionWidth:gs,leftSectionPointerEvents:xs,leftSectionProps:ms,inputContainer:_s,inputWrapperOrder:Es,withAsterisk:vs,required:ws,labelProps:Rs,descriptionProps:Ss,errorProps:ps,wrapperProps:ys,description:Cs,label:Ms,error:ds,withErrorStyles:ks,__stylesApiProps:{...ir,multiline:!0},id:eo,mod:$s,children:jsxRuntimeExports.jsxs(Pill.Group,{disabled:Qr,unstyled:hr,...io("pillsList"),children:[yo,jsxRuntimeExports.jsx(Combobox.EventsTarget,{autoComplete:Zs,children:jsxRuntimeExports.jsx(PillsInput.Field,{...Ns,ref:Ks,...io("inputField"),unstyled:hr,onKeyDown:uo,onFocus:Os=>{es?.(Os),Hs.openDropdown()},onBlur:Os=>{Xn?.(Os),Bs&&lo(Xs),Hs.closeDropdown()},onPaste:_o,value:Xs,onChange:Os=>Qs(Os.currentTarget.value),required:ws&&Ls.length===0,disabled:Qr,readOnly:qn,id:eo})})]})})}),jsxRuntimeExports.jsx(OptionsDropdown,{data:filterPickedTags({data:oo,value:Ls}),hidden:qn||Qr,filter:Gr,search:Xs,limit:Jr,hiddenWhenEmpty:!0,withScrollArea:Yn,maxDropdownHeight:Jn,unstyled:hr,labelId:Ms?`${eo}-label`:void 0,"aria-label":Ms?void 0:Ws["aria-label"],renderOption:Fs,scrollAreaProps:zs})]}),jsxRuntimeExports.jsx(Combobox.HiddenInput,{name:cs,form:bs,value:Ls,valuesDivider:Ds,disabled:Qr,...js})]})});TagsInput.classes={...InputBase.classes,...Combobox.classes};TagsInput.displayName="@mantine/core/TagsInput";const defaultProps$q={},TextInput=factory((e,rr)=>{const ir=useProps("TextInput",defaultProps$q,e);return jsxRuntimeExports.jsx(InputBase,{component:"input",ref:rr,...ir,__staticSelector:"TextInput"})});TextInput.classes=InputBase.classes;TextInput.displayName="@mantine/core/TextInput";var classes$g={root:"m_7341320d"};const defaultProps$p={},varsResolver$a=(e,{size:rr,radius:ir,variant:lr,gradient:dr,color:fr,autoContrast:mr})=>{const hr=e.variantColorResolver({color:fr||e.primaryColor,theme:e,gradient:dr,variant:lr||"filled",autoContrast:mr});return{root:{"--ti-size":getSize(rr,"ti-size"),"--ti-radius":ir===void 0?void 0:getRadius(ir),"--ti-bg":fr||lr?hr.background:void 0,"--ti-color":fr||lr?hr.color:void 0,"--ti-bd":fr||lr?hr.border:void 0}}},ThemeIcon=factory((e,rr)=>{const ir=useProps("ThemeIcon",defaultProps$p,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,autoContrast:xr,..._r}=ir,yr=useStyles({name:"ThemeIcon",classes:classes$g,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$a});return jsxRuntimeExports.jsx(Box,{ref:rr,...yr("root"),..._r})});ThemeIcon.classes=classes$g;ThemeIcon.displayName="@mantine/core/ThemeIcon";const headings=["h1","h2","h3","h4","h5","h6"],sizes=["xs","sm","md","lg","xl"];function getTitleSize(e,rr){const ir=rr!==void 0?rr:`h${e}`;return headings.includes(ir)?{fontSize:`var(--mantine-${ir}-font-size)`,fontWeight:`var(--mantine-${ir}-font-weight)`,lineHeight:`var(--mantine-${ir}-line-height)`}:sizes.includes(ir)?{fontSize:`var(--mantine-font-size-${ir})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:rem(ir),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var classes$f={root:"m_8a5d1357"};const defaultProps$o={order:1},varsResolver$9=(e,{order:rr,size:ir,lineClamp:lr,textWrap:dr})=>{const fr=getTitleSize(rr||1,ir);return{root:{"--title-fw":fr.fontWeight,"--title-lh":fr.lineHeight,"--title-fz":fr.fontSize,"--title-line-clamp":typeof lr=="number"?lr.toString():void 0,"--title-text-wrap":dr}}},Title=factory((e,rr)=>{const ir=useProps("Title",defaultProps$o,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,order:gr,vars:xr,size:_r,variant:yr,lineClamp:vr,textWrap:br,mod:Sr,...wr}=ir,Mr=useStyles({name:"Title",props:ir,classes:classes$f,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:xr,varsResolver:varsResolver$9});return[1,2,3,4,5,6].includes(gr)?jsxRuntimeExports.jsx(Box,{...Mr("root"),component:`h${gr}`,variant:yr,ref:rr,mod:[{order:gr,"data-line-clamp":typeof vr=="number"},Sr],size:_r,...wr}):null});Title.classes=classes$f;Title.displayName="@mantine/core/Title";function createStore$1(e){let rr=e,ir=!1;const lr=new Set;return{getState(){return rr},updateState(dr){rr=typeof dr=="function"?dr(rr):dr},setState(dr){this.updateState(dr),lr.forEach(fr=>fr(rr))},initialize(dr){ir||(rr=dr,ir=!0)},subscribe(dr){return lr.add(dr),()=>lr.delete(dr)}}}function useStore$1(e){return reactExports.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function getDistributedNotifications(e,rr,ir){const lr=[],dr=[],fr={};for(const mr of e){const hr=mr.position||rr;fr[hr]=fr[hr]||0,fr[hr]+=1,fr[hr]<=ir?dr.push(mr):lr.push(mr)}return{notifications:dr,queue:lr}}const createNotificationsStore=()=>createStore$1({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),notificationsStore=createNotificationsStore(),useNotifications=(e=notificationsStore)=>useStore$1(e);function updateNotificationsState(e,rr){const ir=e.getState(),lr=rr([...ir.notifications,...ir.queue]),dr=getDistributedNotifications(lr,ir.defaultPosition,ir.limit);e.setState({notifications:dr.notifications,queue:dr.queue,limit:ir.limit,defaultPosition:ir.defaultPosition})}function showNotification(e,rr=notificationsStore){const ir=e.id||randomId();return updateNotificationsState(rr,lr=>e.id&&lr.some(dr=>dr.id===e.id)?lr:[...lr,{...e,id:ir}]),ir}function hideNotification(e,rr=notificationsStore){return updateNotificationsState(rr,ir=>ir.filter(lr=>lr.id===e?(lr.onClose?.(lr),!1):!0)),e}function updateNotification(e,rr=notificationsStore){return updateNotificationsState(rr,ir=>ir.map(lr=>lr.id===e.id?{...lr,...e}:lr)),e.id}function cleanNotifications(e=notificationsStore){updateNotificationsState(e,()=>[])}function cleanNotificationsQueue(e=notificationsStore){updateNotificationsState(e,rr=>rr.slice(0,e.getState().limit))}const notifications={show:showNotification,hide:hideNotification,update:updateNotification,clean:cleanNotifications,cleanQueue:cleanNotificationsQueue,updateState:updateNotificationsState};function _setPrototypeOf(e,rr){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ir,lr){return ir.__proto__=lr,ir},_setPrototypeOf(e,rr)}function _inheritsLoose(e,rr){e.prototype=Object.create(rr.prototype),e.prototype.constructor=e,_setPrototypeOf(e,rr)}var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(lr,dr,fr,mr,hr,gr){if(gr!==ReactPropTypesSecret){var xr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw xr.name="Invariant Violation",xr}}e.isRequired=e;function rr(){return e}var ir={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:rr,element:e,elementType:e,instanceOf:rr,node:e,objectOf:rr,oneOf:rr,oneOfType:rr,shape:rr,exact:rr,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ir.PropTypes=ir,ir};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs$1(propTypesExports),config$2={disabled:!1},TransitionGroupContext=React$2.createContext(null);var forceReflow=function(rr){return rr.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition$1=function(e){_inheritsLoose(rr,e);function rr(lr,dr){var fr;fr=e.call(this,lr,dr)||this;var mr=dr,hr=mr&&!mr.isMounting?lr.enter:lr.appear,gr;return fr.appearStatus=null,lr.in?hr?(gr=EXITED,fr.appearStatus=ENTERING):gr=ENTERED:lr.unmountOnExit||lr.mountOnEnter?gr=UNMOUNTED:gr=EXITED,fr.state={status:gr},fr.nextCallback=null,fr}rr.getDerivedStateFromProps=function(dr,fr){var mr=dr.in;return mr&&fr.status===UNMOUNTED?{status:EXITED}:null};var ir=rr.prototype;return ir.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},ir.componentDidUpdate=function(dr){var fr=null;if(dr!==this.props){var mr=this.state.status;this.props.in?mr!==ENTERING&&mr!==ENTERED&&(fr=ENTERING):(mr===ENTERING||mr===ENTERED)&&(fr=EXITING)}this.updateStatus(!1,fr)},ir.componentWillUnmount=function(){this.cancelNextCallback()},ir.getTimeouts=function(){var dr=this.props.timeout,fr,mr,hr;return fr=mr=hr=dr,dr!=null&&typeof dr!="number"&&(fr=dr.exit,mr=dr.enter,hr=dr.appear!==void 0?dr.appear:mr),{exit:fr,enter:mr,appear:hr}},ir.updateStatus=function(dr,fr){if(dr===void 0&&(dr=!1),fr!==null)if(this.cancelNextCallback(),fr===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var mr=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);mr&&forceReflow(mr)}this.performEnter(dr)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},ir.performEnter=function(dr){var fr=this,mr=this.props.enter,hr=this.context?this.context.isMounting:dr,gr=this.props.nodeRef?[hr]:[ReactDOM.findDOMNode(this),hr],xr=gr[0],_r=gr[1],yr=this.getTimeouts(),vr=hr?yr.appear:yr.enter;if(!dr&&!mr||config$2.disabled){this.safeSetState({status:ENTERED},function(){fr.props.onEntered(xr)});return}this.props.onEnter(xr,_r),this.safeSetState({status:ENTERING},function(){fr.props.onEntering(xr,_r),fr.onTransitionEnd(vr,function(){fr.safeSetState({status:ENTERED},function(){fr.props.onEntered(xr,_r)})})})},ir.performExit=function(){var dr=this,fr=this.props.exit,mr=this.getTimeouts(),hr=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!fr||config$2.disabled){this.safeSetState({status:EXITED},function(){dr.props.onExited(hr)});return}this.props.onExit(hr),this.safeSetState({status:EXITING},function(){dr.props.onExiting(hr),dr.onTransitionEnd(mr.exit,function(){dr.safeSetState({status:EXITED},function(){dr.props.onExited(hr)})})})},ir.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},ir.safeSetState=function(dr,fr){fr=this.setNextCallback(fr),this.setState(dr,fr)},ir.setNextCallback=function(dr){var fr=this,mr=!0;return this.nextCallback=function(hr){mr&&(mr=!1,fr.nextCallback=null,dr(hr))},this.nextCallback.cancel=function(){mr=!1},this.nextCallback},ir.onTransitionEnd=function(dr,fr){this.setNextCallback(fr);var mr=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),hr=dr==null&&!this.props.addEndListener;if(!mr||hr){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var gr=this.props.nodeRef?[this.nextCallback]:[mr,this.nextCallback],xr=gr[0],_r=gr[1];this.props.addEndListener(xr,_r)}dr!=null&&setTimeout(this.nextCallback,dr)},ir.render=function(){var dr=this.state.status;if(dr===UNMOUNTED)return null;var fr=this.props,mr=fr.children;fr.in,fr.mountOnEnter,fr.unmountOnExit,fr.appear,fr.enter,fr.exit,fr.timeout,fr.addEndListener,fr.onEnter,fr.onEntering,fr.onEntered,fr.onExit,fr.onExiting,fr.onExited,fr.nodeRef;var hr=_objectWithoutPropertiesLoose$2(fr,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$2.createElement(TransitionGroupContext.Provider,{value:null},typeof mr=="function"?mr(dr,hr):React$2.cloneElement(React$2.Children.only(mr),hr))},rr}(React$2.Component);Transition$1.contextType=TransitionGroupContext;Transition$1.propTypes={};function noop$6(){}Transition$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$6,onEntering:noop$6,onEntered:noop$6,onExit:noop$6,onExiting:noop$6,onExited:noop$6};Transition$1.UNMOUNTED=UNMOUNTED;Transition$1.EXITED=EXITED;Transition$1.ENTERING=ENTERING;Transition$1.ENTERED=ENTERED;Transition$1.EXITING=EXITING;function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function getChildMapping(e,rr){var ir=function(fr){return rr&&reactExports.isValidElement(fr)?rr(fr):fr},lr=Object.create(null);return e&&reactExports.Children.map(e,function(dr){return dr}).forEach(function(dr){lr[dr.key]=ir(dr)}),lr}function mergeChildMappings(e,rr){e=e||{},rr=rr||{};function ir(_r){return _r in rr?rr[_r]:e[_r]}var lr=Object.create(null),dr=[];for(var fr in e)fr in rr?dr.length&&(lr[fr]=dr,dr=[]):dr.push(fr);var mr,hr={};for(var gr in rr){if(lr[gr])for(mr=0;mr<lr[gr].length;mr++){var xr=lr[gr][mr];hr[lr[gr][mr]]=ir(xr)}hr[gr]=ir(gr)}for(mr=0;mr<dr.length;mr++)hr[dr[mr]]=ir(dr[mr]);return hr}function getProp(e,rr,ir){return ir[rr]!=null?ir[rr]:e.props[rr]}function getInitialChildMapping(e,rr){return getChildMapping(e.children,function(ir){return reactExports.cloneElement(ir,{onExited:rr.bind(null,ir),in:!0,appear:getProp(ir,"appear",e),enter:getProp(ir,"enter",e),exit:getProp(ir,"exit",e)})})}function getNextChildMapping(e,rr,ir){var lr=getChildMapping(e.children),dr=mergeChildMappings(rr,lr);return Object.keys(dr).forEach(function(fr){var mr=dr[fr];if(reactExports.isValidElement(mr)){var hr=fr in rr,gr=fr in lr,xr=rr[fr],_r=reactExports.isValidElement(xr)&&!xr.props.in;gr&&(!hr||_r)?dr[fr]=reactExports.cloneElement(mr,{onExited:ir.bind(null,mr),in:!0,exit:getProp(mr,"exit",e),enter:getProp(mr,"enter",e)}):!gr&&hr&&!_r?dr[fr]=reactExports.cloneElement(mr,{in:!1}):gr&&hr&&reactExports.isValidElement(xr)&&(dr[fr]=reactExports.cloneElement(mr,{onExited:ir.bind(null,mr),in:xr.props.in,exit:getProp(mr,"exit",e),enter:getProp(mr,"enter",e)}))}}),dr}var values=Object.values||function(e){return Object.keys(e).map(function(rr){return e[rr]})},defaultProps$n={component:"div",childFactory:function(rr){return rr}},TransitionGroup=function(e){_inheritsLoose(rr,e);function rr(lr,dr){var fr;fr=e.call(this,lr,dr)||this;var mr=fr.handleExited.bind(_assertThisInitialized(fr));return fr.state={contextValue:{isMounting:!0},handleExited:mr,firstRender:!0},fr}var ir=rr.prototype;return ir.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},ir.componentWillUnmount=function(){this.mounted=!1},rr.getDerivedStateFromProps=function(dr,fr){var mr=fr.children,hr=fr.handleExited,gr=fr.firstRender;return{children:gr?getInitialChildMapping(dr,hr):getNextChildMapping(dr,mr,hr),firstRender:!1}},ir.handleExited=function(dr,fr){var mr=getChildMapping(this.props.children);dr.key in mr||(dr.props.onExited&&dr.props.onExited(fr),this.mounted&&this.setState(function(hr){var gr=_extends({},hr.children);return delete gr[dr.key],{children:gr}}))},ir.render=function(){var dr=this.props,fr=dr.component,mr=dr.childFactory,hr=_objectWithoutPropertiesLoose$2(dr,["component","childFactory"]),gr=this.state.contextValue,xr=values(this.state.children).map(mr);return delete hr.appear,delete hr.enter,delete hr.exit,fr===null?React$2.createElement(TransitionGroupContext.Provider,{value:gr},xr):React$2.createElement(TransitionGroupContext.Provider,{value:gr},React$2.createElement(fr,hr,xr))},rr}(React$2.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$n;const positions=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function getGroupedNotifications(e,rr){return e.reduce((ir,lr)=>(ir[lr.position||rr].push(lr),ir),positions.reduce((ir,lr)=>(ir[lr]=[],ir),{}))}const transforms={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},noTransform={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function getNotificationStateStyles({state:e,maxHeight:rr,position:ir,transitionDuration:lr}){const[dr,fr]=ir.split("-"),mr=fr==="center"?`${dr}-center`:fr,hr={opacity:0,maxHeight:rr,transform:transforms[mr],transitionDuration:`${lr}ms, ${lr}ms, ${lr}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},gr={opacity:1,transform:noTransform[mr]},xr={opacity:0,maxHeight:0,transform:transforms[mr]};return{...hr,...{entering:gr,entered:gr,exiting:xr,exited:xr}[e]}}function getAutoClose(e,rr){return typeof rr=="number"?rr:rr===!1||e===!1?!1:e}const NotificationContainer=reactExports.forwardRef(({data:e,onHide:rr,autoClose:ir,...lr},dr)=>{const{autoClose:fr,message:mr,...hr}=e,gr=getAutoClose(ir,e.autoClose),xr=reactExports.useRef(-1),_r=()=>window.clearTimeout(xr.current),yr=()=>{rr(e.id),_r()},vr=()=>{typeof gr=="number"&&(xr.current=window.setTimeout(yr,gr))};return reactExports.useEffect(()=>{e.onOpen?.(e)},[]),reactExports.useEffect(()=>(vr(),_r),[gr]),jsxRuntimeExports.jsx(Notification,{...lr,...hr,onClose:yr,ref:dr,onMouseEnter:_r,onMouseLeave:vr,children:mr})});NotificationContainer.displayName="@mantine/notifications/NotificationContainer";var classes$e={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Transition=Transition$1,defaultProps$m={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:getDefaultZIndex("overlay"),store:notificationsStore,withinPortal:!0},varsResolver$8=(e,{zIndex:rr,containerWidth:ir})=>({root:{"--notifications-z-index":rr?.toString(),"--notifications-container-width":rem(ir)}}),Notifications=factory((e,rr)=>{const ir=useProps("Notifications",defaultProps$m,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,position:xr,autoClose:_r,transitionDuration:yr,containerWidth:vr,notificationMaxHeight:br,limit:Sr,zIndex:wr,store:Mr,portalProps:kr,withinPortal:Ar,...Ir}=ir,$r=useMantineTheme(),Dr=useNotifications(Mr),Or=useForceUpdate$1(),Fr=useReducedMotion(),Lr=reactExports.useRef({}),zr=reactExports.useRef(0),Jr=($r.respectReducedMotion?Fr:!1)?1:yr,Yn=useStyles({name:"Notifications",classes:classes$e,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$8});reactExports.useEffect(()=>{Mr?.updateState(Hn=>({...Hn,limit:Sr||5,defaultPosition:xr}))},[Sr,xr]),useDidUpdate(()=>{Dr.notifications.length>zr.current&&setTimeout(()=>Or(),0),zr.current=Dr.notifications.length},[Dr.notifications]);const Jn=getGroupedNotifications(Dr.notifications,xr),Zn=positions.reduce((Hn,Kn)=>(Hn[Kn]=Jn[Kn].map(({style:qn,...Qr})=>jsxRuntimeExports.jsx(Transition,{timeout:Jr,onEnter:()=>Lr.current[Qr.id].offsetHeight,nodeRef:{current:Lr.current[Qr.id]},children:$n=>jsxRuntimeExports.jsx(NotificationContainer,{ref:es=>{es&&(Lr.current[Qr.id]=es)},data:Qr,onHide:es=>hideNotification(es,Mr),autoClose:_r,...Yn("notification",{style:{...getNotificationStateStyles({state:$n,position:Kn,transitionDuration:Jr,maxHeight:br}),...qn}})})},Qr.id)),Hn),{});return jsxRuntimeExports.jsxs(OptionalPortal,{withinPortal:Ar,...kr,children:[jsxRuntimeExports.jsx(Box,{...Yn("root"),"data-position":"top-center",ref:rr,...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["top-center"]})}),jsxRuntimeExports.jsx(Box,{...Yn("root"),"data-position":"top-left",...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["top-left"]})}),jsxRuntimeExports.jsx(Box,{...Yn("root",{className:ReactRemoveScroll.classNames.fullWidth}),"data-position":"top-right",...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["top-right"]})}),jsxRuntimeExports.jsx(Box,{...Yn("root",{className:ReactRemoveScroll.classNames.fullWidth}),"data-position":"bottom-right",...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["bottom-right"]})}),jsxRuntimeExports.jsx(Box,{...Yn("root"),"data-position":"bottom-left",...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["bottom-left"]})}),jsxRuntimeExports.jsx(Box,{...Yn("root"),"data-position":"bottom-center",...Ir,children:jsxRuntimeExports.jsx(TransitionGroup,{children:Zn["bottom-center"]})})]})});Notifications.classes=classes$e;Notifications.displayName="@mantine/notifications/Notifications";Notifications.show=notifications.show;Notifications.hide=notifications.hide;Notifications.update=notifications.update;Notifications.clean=notifications.clean;Notifications.cleanQueue=notifications.cleanQueue;Notifications.updateState=notifications.updateState;const theme={fontFamily:"Quicksand",cursorType:"pointer",primaryColor:"hf-blue",breakpoints:{xs:"30em",sm:"48em",md:"64em",lg:"74em",xl:"90em"},fontSizes:{xs:"0.7rem",sm:"0.9rem",md:"1.1rem",lg:"1.3rem",xl:"1.5rem"},components:{Modal:Modal.extend({defaultProps:{styles:{title:{fontWeight:500}}}}),Drawer:Drawer.extend({defaultProps:{styles:{title:{fontWeight:500}}}})},colors:{"hf-blue":virtualColor({name:"hf-blue",dark:"indigo",light:"hf-blue-light"}),"hf-blue-light":["#edf2ff","#dbe2f5","#b6c1e5","#8e9fd5","#6c82c8","#5670c0","#4b66bd","#3b56a7","#334c97","#274186"],"hf-blue-dark":["#FFFFFF","#edf2ff","#dbe2f5","#b6c1e5","#8e9fd5","#6c82c8","#5670c0","#4b66bd","#3b56a7","#334c97","#274186"],"hf-orange":["#fbdfbf","#fad7b0","#f8cfa0","#f7c790","#f6bf80","#f5b770","#f4af60","#dc9e56","#c38c4d","#ab7a43"],"hf-grey":["#f9fafb","#f8f9fa","#f7f8f9","#f5f7f8","#f4f5f7","#f2f4f6","#f1f3f5","#d9dbdd","#c1c2c4","#a9aaac"]}},scriptRel="modulepreload",assetsURL=function(e){return"/"+e},seen={},__vitePreload=function(rr,ir,lr){let dr=Promise.resolve();if(ir&&ir.length>0){document.getElementsByTagName("link");const mr=document.querySelector("meta[property=csp-nonce]"),hr=mr?.nonce||mr?.getAttribute("nonce");dr=Promise.allSettled(ir.map(gr=>{if(gr=assetsURL(gr),gr in seen)return;seen[gr]=!0;const xr=gr.endsWith(".css"),_r=xr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${gr}"]${_r}`))return;const yr=document.createElement("link");if(yr.rel=xr?"stylesheet":scriptRel,xr||(yr.as="script"),yr.crossOrigin="",yr.href=gr,hr&&yr.setAttribute("nonce",hr),document.head.appendChild(yr),xr)return new Promise((vr,br)=>{yr.addEventListener("load",vr),yr.addEventListener("error",()=>br(new Error(`Unable to preload CSS for ${gr}`)))})}))}function fr(mr){const hr=new Event("vite:preloadError",{cancelable:!0});if(hr.payload=mr,window.dispatchEvent(hr),!hr.defaultPrevented)throw mr}return dr.then(mr=>{for(const hr of mr||[])hr.status==="rejected"&&fr(hr.reason);return rr().catch(fr)})},Route$g=createRootRouteWithContext()({component:Component,notFoundComponent:NotFoundComponent});function Component(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsx(Outlet,{}),!1]})}function NotFoundComponent(){const e=useNavigate();return reactExports.useEffect(()=>{e({to:"/"})},[e]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Stack,{h:"100vh",align:"stretch",justify:"center",gap:"md",children:[jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsx(Title,{c:"hf-blue",textWrap:"balance",children:"Page Not Found"})}),jsxRuntimeExports.jsx(Text$2,{c:"hf-blue",children:"Oops! The page you are looking for does not exist."}),jsxRuntimeExports.jsx(Button$1,{w:"50%",color:"hf-orange",onClick:()=>window.location.href="/",style:{marginLeft:"auto",marginRight:"auto"},children:"Home"})]})})})}function validateFormName(e){if(!/^[0-9a-zA-Z-]+$/.test(e))throw new Error(`[@mantine/use-form] Form name "${e}" is invalid, it should contain only letters, numbers and dashes`)}const useIsomorphicEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useFormEvent(e,rr){useIsomorphicEffect(()=>{if(e)return window.addEventListener(e,rr),()=>window.removeEventListener(e,rr)},[e])}function useFormActions(e,rr){e&&validateFormName(e),useFormEvent(`mantine-form:${e}:set-field-value`,ir=>rr.setFieldValue(ir.detail.path,ir.detail.value)),useFormEvent(`mantine-form:${e}:set-values`,ir=>rr.setValues(ir.detail)),useFormEvent(`mantine-form:${e}:set-initial-values`,ir=>rr.setInitialValues(ir.detail)),useFormEvent(`mantine-form:${e}:set-errors`,ir=>rr.setErrors(ir.detail)),useFormEvent(`mantine-form:${e}:set-field-error`,ir=>rr.setFieldError(ir.detail.path,ir.detail.error)),useFormEvent(`mantine-form:${e}:clear-field-error`,ir=>rr.clearFieldError(ir.detail)),useFormEvent(`mantine-form:${e}:clear-errors`,rr.clearErrors),useFormEvent(`mantine-form:${e}:reset`,rr.reset),useFormEvent(`mantine-form:${e}:validate`,rr.validate),useFormEvent(`mantine-form:${e}:validate-field`,ir=>rr.validateField(ir.detail)),useFormEvent(`mantine-form:${e}:reorder-list-item`,ir=>rr.reorderListItem(ir.detail.path,ir.detail.payload)),useFormEvent(`mantine-form:${e}:remove-list-item`,ir=>rr.removeListItem(ir.detail.path,ir.detail.index)),useFormEvent(`mantine-form:${e}:insert-list-item`,ir=>rr.insertListItem(ir.detail.path,ir.detail.item,ir.detail.index)),useFormEvent(`mantine-form:${e}:set-dirty`,ir=>rr.setDirty(ir.detail)),useFormEvent(`mantine-form:${e}:set-touched`,ir=>rr.setTouched(ir.detail)),useFormEvent(`mantine-form:${e}:reset-dirty`,ir=>rr.resetDirty(ir.detail)),useFormEvent(`mantine-form:${e}:reset-touched`,rr.resetTouched)}function getInputOnChange(e){return rr=>{if(!rr)e(rr);else if(typeof rr=="function")e(rr);else if(typeof rr=="object"&&"nativeEvent"in rr){const{currentTarget:ir}=rr;ir instanceof HTMLInputElement?ir.type==="checkbox"?e(ir.checked):e(ir.value):(ir instanceof HTMLTextAreaElement||ir instanceof HTMLSelectElement)&&e(ir.value)}else e(rr)}}function filterErrors(e){return e===null||typeof e!="object"?{}:Object.keys(e).reduce((rr,ir)=>{const lr=e[ir];return lr!=null&&lr!==!1&&(rr[ir]=lr),rr},{})}function useFormErrors(e){const[rr,ir]=reactExports.useState(filterErrors(e)),lr=reactExports.useRef(rr),dr=reactExports.useCallback(gr=>{ir(xr=>{const _r=filterErrors(typeof gr=="function"?gr(xr):gr);return lr.current=_r,_r})},[]),fr=reactExports.useCallback(()=>dr({}),[]),mr=reactExports.useCallback(gr=>{lr.current[gr]!==void 0&&dr(xr=>{const _r={...xr};return delete _r[gr],_r})},[rr]),hr=reactExports.useCallback((gr,xr)=>{xr==null||xr===!1?mr(gr):lr.current[gr]!==xr&&dr(_r=>({..._r,[gr]:xr}))},[rr]);return{errorsState:rr,setErrors:dr,clearErrors:fr,setFieldError:hr,clearFieldError:mr}}function clearListState(e,rr){if(rr===null||typeof rr!="object")return{};const ir={...rr};return Object.keys(rr).forEach(lr=>{lr.includes(`${String(e)}.`)&&delete ir[lr]}),ir}function getIndexFromKeyAfterPath(e,rr){const ir=e.substring(rr.length+1).split(".")[0];return parseInt(ir,10)}function changeErrorIndices(e,rr,ir,lr){if(rr===void 0)return ir;const dr=`${String(e)}`;let fr=ir;lr===-1&&(fr=clearListState(`${dr}.${rr}`,fr));const mr={...fr},hr=new Set;return Object.entries(fr).filter(([gr])=>{if(!gr.startsWith(`${dr}.`))return!1;const xr=getIndexFromKeyAfterPath(gr,dr);return Number.isNaN(xr)?!1:xr>=rr}).forEach(([gr,xr])=>{const _r=getIndexFromKeyAfterPath(gr,dr),yr=gr.replace(`${dr}.${_r}`,`${dr}.${_r+lr}`);mr[yr]=xr,hr.add(yr),hr.has(gr)||delete mr[gr]}),mr}function reorderErrors(e,{from:rr,to:ir},lr){const dr=`${e}.${rr}`,fr=`${e}.${ir}`,mr={...lr},hr=new Set;return Object.keys(lr).forEach(gr=>{if(hr.has(gr))return;let xr,_r;if(gr.startsWith(dr)?(xr=gr,_r=gr.replace(dr,fr)):gr.startsWith(fr)&&(xr=gr.replace(fr,dr),_r=gr),xr&&_r){const yr=mr[xr],vr=mr[_r];vr===void 0?delete mr[xr]:mr[xr]=vr,yr===void 0?delete mr[_r]:mr[_r]=yr,hr.add(xr),hr.add(_r)}}),mr}function set(e,rr,ir){typeof ir.value=="object"&&(ir.value=klona(ir.value)),!ir.enumerable||ir.get||ir.set||!ir.configurable||!ir.writable||rr==="__proto__"?Object.defineProperty(e,rr,ir):e[rr]=ir.value}function klona(e){if(typeof e!="object")return e;var rr=0,ir,lr,dr,fr=Object.prototype.toString.call(e);if(fr==="[object Object]"?dr=Object.create(e.__proto__||null):fr==="[object Array]"?dr=Array(e.length):fr==="[object Set]"?(dr=new Set,e.forEach(function(mr){dr.add(klona(mr))})):fr==="[object Map]"?(dr=new Map,e.forEach(function(mr,hr){dr.set(klona(hr),klona(mr))})):fr==="[object Date]"?dr=new Date(+e):fr==="[object RegExp]"?dr=new RegExp(e.source,e.flags):fr==="[object DataView]"?dr=new e.constructor(klona(e.buffer)):fr==="[object ArrayBuffer]"?dr=e.slice(0):fr.slice(-6)==="Array]"&&(dr=new e.constructor(e)),dr){for(lr=Object.getOwnPropertySymbols(e);rr<lr.length;rr++)set(dr,lr[rr],Object.getOwnPropertyDescriptor(e,lr[rr]));for(rr=0,lr=Object.getOwnPropertyNames(e);rr<lr.length;rr++)Object.hasOwnProperty.call(dr,ir=lr[rr])&&dr[ir]===e[ir]||set(dr,ir,Object.getOwnPropertyDescriptor(e,ir))}return dr||e}function getSplittedPath(e){return typeof e!="string"?[]:e.split(".")}function getPath(e,rr){const ir=getSplittedPath(e);if(ir.length===0||typeof rr!="object"||rr===null)return;let lr=rr[ir[0]];for(let dr=1;dr<ir.length&&lr!=null;dr+=1)lr=lr[ir[dr]];return lr}function setPath(e,rr,ir){const lr=getSplittedPath(e);if(lr.length===0)return ir;const dr=klona(ir);if(lr.length===1)return dr[lr[0]]=rr,dr;let fr=dr[lr[0]];for(let mr=1;mr<lr.length-1;mr+=1){if(fr===void 0)return dr;fr=fr[lr[mr]]}return fr[lr[lr.length-1]]=rr,dr}function reorderPath(e,{from:rr,to:ir},lr){const dr=getPath(e,lr);if(!Array.isArray(dr))return lr;const fr=[...dr],mr=dr[rr];return fr.splice(rr,1),fr.splice(ir,0,mr),setPath(e,fr,lr)}function insertPath(e,rr,ir,lr){const dr=getPath(e,lr);if(!Array.isArray(dr))return lr;const fr=[...dr];return fr.splice(typeof ir=="number"?ir:fr.length,0,rr),setPath(e,fr,lr)}function removePath(e,rr,ir){const lr=getPath(e,ir);return Array.isArray(lr)?setPath(e,lr.filter((dr,fr)=>fr!==rr),ir):ir}function replacePath(e,rr,ir,lr){const dr=getPath(e,lr);if(!Array.isArray(dr)||dr.length<=ir)return lr;const fr=[...dr];return fr[ir]=rr,setPath(e,fr,lr)}function useFormList({$values:e,$errors:rr,$status:ir}){const lr=reactExports.useCallback((hr,gr)=>{ir.clearFieldDirty(hr),rr.setErrors(xr=>reorderErrors(hr,gr,xr)),e.setValues({values:reorderPath(hr,gr,e.refValues.current),updateState:!0})},[]),dr=reactExports.useCallback((hr,gr)=>{ir.clearFieldDirty(hr),rr.setErrors(xr=>changeErrorIndices(hr,gr,xr,-1)),e.setValues({values:removePath(hr,gr,e.refValues.current),updateState:!0})},[]),fr=reactExports.useCallback((hr,gr,xr)=>{ir.clearFieldDirty(hr),rr.setErrors(_r=>changeErrorIndices(hr,xr,_r,1)),e.setValues({values:insertPath(hr,gr,xr,e.refValues.current),updateState:!0})},[]),mr=reactExports.useCallback((hr,gr,xr)=>{ir.clearFieldDirty(hr),e.setValues({values:replacePath(hr,xr,gr,e.refValues.current),updateState:!0})},[]);return{reorderListItem:lr,removeListItem:dr,insertListItem:fr,replaceListItem:mr}}var fastDeepEqual=function e(rr,ir){if(rr===ir)return!0;if(rr&&ir&&typeof rr=="object"&&typeof ir=="object"){if(rr.constructor!==ir.constructor)return!1;var lr,dr,fr;if(Array.isArray(rr)){if(lr=rr.length,lr!=ir.length)return!1;for(dr=lr;dr--!==0;)if(!e(rr[dr],ir[dr]))return!1;return!0}if(rr.constructor===RegExp)return rr.source===ir.source&&rr.flags===ir.flags;if(rr.valueOf!==Object.prototype.valueOf)return rr.valueOf()===ir.valueOf();if(rr.toString!==Object.prototype.toString)return rr.toString()===ir.toString();if(fr=Object.keys(rr),lr=fr.length,lr!==Object.keys(ir).length)return!1;for(dr=lr;dr--!==0;)if(!Object.prototype.hasOwnProperty.call(ir,fr[dr]))return!1;for(dr=lr;dr--!==0;){var mr=fr[dr];if(!e(rr[mr],ir[mr]))return!1}return!0}return rr!==rr&&ir!==ir};const isEqual=getDefaultExportFromCjs$1(fastDeepEqual);function getStatus(e,rr){const ir=Object.keys(e);if(typeof rr=="string"){const lr=ir.filter(dr=>dr.startsWith(`${rr}.`));return e[rr]||lr.some(dr=>e[dr])||!1}return ir.some(lr=>e[lr])}function useFormStatus({initialDirty:e,initialTouched:rr,mode:ir,$values:lr}){const[dr,fr]=reactExports.useState(rr),[mr,hr]=reactExports.useState(e),gr=reactExports.useRef(rr),xr=reactExports.useRef(e),_r=reactExports.useCallback(Or=>{const Fr=typeof Or=="function"?Or(gr.current):Or;gr.current=Fr,ir==="controlled"&&fr(Fr)},[]),yr=reactExports.useCallback((Or,Fr=!1)=>{const Lr=typeof Or=="function"?Or(xr.current):Or;xr.current=Lr,(ir==="controlled"||Fr)&&hr(Lr)},[]),vr=reactExports.useCallback(()=>_r({}),[]),br=reactExports.useCallback(Or=>{const Fr=Or?{...lr.refValues.current,...Or}:lr.refValues.current;lr.setValuesSnapshot(Fr),yr({})},[]),Sr=reactExports.useCallback((Or,Fr)=>{_r(Lr=>getStatus(Lr,Or)===Fr?Lr:{...Lr,[Or]:Fr})},[]),wr=reactExports.useCallback((Or,Fr,Lr)=>{yr(zr=>getStatus(zr,Or)===Fr?zr:{...zr,[Or]:Fr},Lr)},[]),Mr=reactExports.useCallback((Or,Fr)=>{const Lr=getStatus(xr.current,Or),zr=!isEqual(getPath(Or,lr.getValuesSnapshot()),Fr),Gr=clearListState(Or,xr.current);Gr[Or]=zr,yr(Gr,Lr!==zr)},[]),kr=reactExports.useCallback(Or=>getStatus(gr.current,Or),[]),Ar=reactExports.useCallback(Or=>yr(Fr=>{if(typeof Or!="string")return Fr;const Lr=clearListState(Or,Fr);return delete Lr[Or],isEqual(Lr,Fr)?Fr:Lr}),[]),Ir=reactExports.useCallback(Or=>{if(Or){const Lr=getPath(Or,xr.current);if(typeof Lr=="boolean")return Lr;const zr=getPath(Or,lr.refValues.current),Gr=getPath(Or,lr.valuesSnapshot.current);return!isEqual(zr,Gr)}return Object.keys(xr.current).length>0?getStatus(xr.current):!isEqual(lr.refValues.current,lr.valuesSnapshot.current)},[]),$r=reactExports.useCallback(()=>xr.current,[]),Dr=reactExports.useCallback(()=>gr.current,[]);return{touchedState:dr,dirtyState:mr,touchedRef:gr,dirtyRef:xr,setTouched:_r,setDirty:yr,resetDirty:br,resetTouched:vr,isTouched:kr,setFieldTouched:Sr,setFieldDirty:wr,setTouchedState:fr,setDirtyState:hr,clearFieldDirty:Ar,isDirty:Ir,getDirty:$r,getTouched:Dr,setCalculatedFieldDirty:Mr}}function useFormValues({initialValues:e,onValuesChange:rr,mode:ir}){const lr=reactExports.useRef(!1),[dr,fr]=reactExports.useState(e||{}),mr=reactExports.useRef(dr),hr=reactExports.useRef(dr),gr=reactExports.useCallback(({values:Mr,subscribers:kr,updateState:Ar=!0,mergeWithPreviousValues:Ir=!0})=>{const $r=mr.current,Dr=Mr instanceof Function?Mr(mr.current):Mr,Or=Ir?{...$r,...Dr}:Dr;mr.current=Or,Ar&&(fr(Or),ir==="uncontrolled"&&(mr.current=Or)),rr?.(Or,$r),kr?.filter(Boolean).forEach(Fr=>Fr({updatedValues:Or,previousValues:$r}))},[rr]),xr=reactExports.useCallback(Mr=>{const kr=getPath(Mr.path,mr.current),Ar=Mr.value instanceof Function?Mr.value(kr):Mr.value;if(kr!==Ar){const Ir=mr.current,$r=setPath(Mr.path,Ar,mr.current);gr({values:$r,updateState:Mr.updateState}),Mr.subscribers?.filter(Boolean).forEach(Dr=>Dr({path:Mr.path,updatedValues:$r,previousValues:Ir}))}},[gr]),_r=reactExports.useCallback(Mr=>{hr.current=Mr},[]),yr=reactExports.useCallback((Mr,kr)=>{lr.current||(lr.current=!0,gr({values:Mr,updateState:ir==="controlled"}),_r(Mr),kr())},[gr]),vr=reactExports.useCallback(()=>{gr({values:hr.current,updateState:!0,mergeWithPreviousValues:!1})},[gr]),br=reactExports.useCallback(()=>mr.current,[]),Sr=reactExports.useCallback(()=>hr.current,[]),wr=reactExports.useCallback(Mr=>{const kr=getPath(Mr,hr.current);typeof kr>"u"||xr({path:Mr,value:kr,updateState:ir==="uncontrolled"||void 0})},[xr,ir]);return{initialized:lr,stateValues:dr,refValues:mr,valuesSnapshot:hr,setValues:gr,setFieldValue:xr,resetValues:vr,setValuesSnapshot:_r,initialize:yr,getValues:br,getValuesSnapshot:Sr,resetField:wr}}function useFormWatch({$status:e}){const rr=reactExports.useRef({}),ir=reactExports.useCallback((dr,fr)=>{reactExports.useEffect(()=>(rr.current[dr]=rr.current[dr]||[],rr.current[dr].push(fr),()=>{rr.current[dr]=rr.current[dr].filter(mr=>mr!==fr)}),[fr])},[]),lr=reactExports.useCallback(dr=>rr.current[dr]?rr.current[dr].map(fr=>mr=>fr({previousValue:getPath(dr,mr.previousValues),value:getPath(dr,mr.updatedValues),touched:e.isTouched(dr),dirty:e.isDirty(dr)})):[],[]);return{subscribers:rr,watch:ir,getFieldSubscribers:lr}}function getDataPath(e,rr){return e?`${e}-${rr.toString()}`:rr.toString()}const formRootRule=Symbol("root-rule");function getValidationResults(e){const rr=filterErrors(e);return{hasErrors:Object.keys(rr).length>0,errors:rr}}function validateRulesRecord(e,rr,ir="",lr={}){return typeof e!="object"||e===null?lr:Object.keys(e).reduce((dr,fr)=>{const mr=e[fr],hr=`${ir===""?"":`${ir}.`}${fr}`,gr=getPath(hr,rr);let xr=!1;return typeof mr=="function"&&(dr[hr]=mr(gr,rr,hr)),typeof mr=="object"&&Array.isArray(gr)&&(xr=!0,gr.forEach((_r,yr)=>validateRulesRecord(mr,rr,`${hr}.${yr}`,dr)),formRootRule in mr&&(dr[hr]=mr[formRootRule](gr,rr,hr))),typeof mr=="object"&&typeof gr=="object"&&gr!==null&&(xr||validateRulesRecord(mr,rr,hr,dr),formRootRule in mr&&(dr[hr]=mr[formRootRule](gr,rr,hr))),dr},lr)}function validateValues(e,rr){return getValidationResults(typeof e=="function"?e(rr):validateRulesRecord(e,rr))}function validateFieldValue(e,rr,ir){if(typeof e!="string")return{hasError:!1,error:null};const lr=validateValues(rr,ir),dr=Object.keys(lr.errors).find(fr=>e.split(".").every((mr,hr)=>mr===fr.split(".")[hr]));return{hasError:!!dr,error:dr?lr.errors[dr]:null}}const FORM_INDEX="__MANTINE_FORM_INDEX__";function shouldValidateOnChange(e,rr){return rr?typeof rr=="boolean"?rr:Array.isArray(rr)?rr.includes(e.replace(/[.][0-9]+/g,`.${FORM_INDEX}`)):!1:!1}function useForm({name:e,mode:rr="controlled",initialValues:ir,initialErrors:lr={},initialDirty:dr={},initialTouched:fr={},clearInputErrorOnChange:mr=!0,validateInputOnChange:hr=!1,validateInputOnBlur:gr=!1,onValuesChange:xr,transformValues:_r=wr=>wr,enhanceGetInputProps:yr,validate:vr,onSubmitPreventDefault:br="always",touchTrigger:Sr="change"}={}){const wr=useFormErrors(lr),Mr=useFormValues({initialValues:ir,onValuesChange:xr,mode:rr}),kr=useFormStatus({initialDirty:dr,initialTouched:fr,$values:Mr,mode:rr}),Ar=useFormList({$values:Mr,$errors:wr,$status:kr}),Ir=useFormWatch({$status:kr}),[$r,Dr]=reactExports.useState(0),[Or,Fr]=reactExports.useState({}),[Lr,zr]=reactExports.useState(!1),Gr=reactExports.useCallback(()=>{Mr.resetValues(),wr.clearErrors(),kr.resetDirty(),kr.resetTouched(),rr==="uncontrolled"&&Dr(ss=>ss+1)},[]),Jr=reactExports.useCallback(ss=>{mr&&wr.clearErrors(),rr==="uncontrolled"&&Dr(as=>as+1),Object.keys(Ir.subscribers.current).forEach(as=>{const us=getPath(as,Mr.refValues.current),hs=getPath(as,ss);us!==hs&&Ir.getFieldSubscribers(as).forEach(gs=>gs({previousValues:ss,updatedValues:Mr.refValues.current}))})},[mr]),Yn=reactExports.useCallback(ss=>{const as=Mr.refValues.current;Mr.initialize(ss,()=>rr==="uncontrolled"&&Dr(us=>us+1)),Jr(as)},[Jr]),Jn=reactExports.useCallback((ss,as,us)=>{const hs=shouldValidateOnChange(ss,hr),gs=as instanceof Function?as(getPath(ss,Mr.refValues.current)):as;kr.setCalculatedFieldDirty(ss,gs),Sr==="change"&&kr.setFieldTouched(ss,!0),!hs&&mr&&wr.clearFieldError(ss),Mr.setFieldValue({path:ss,value:as,updateState:rr==="controlled",subscribers:[...Ir.getFieldSubscribers(ss),hs?xs=>{const ms=validateFieldValue(ss,vr,xs.updatedValues);ms.hasError?wr.setFieldError(ss,ms.error):wr.clearFieldError(ss)}:null,us?.forceUpdate!==!1&&rr!=="controlled"?()=>Fr(xs=>({...xs,[ss]:(xs[ss]||0)+1})):null]})},[xr,vr]),Zn=reactExports.useCallback(ss=>{const as=Mr.refValues.current;Mr.setValues({values:ss,updateState:rr==="controlled"}),Jr(as)},[xr,Jr]),Hn=reactExports.useCallback(()=>{const ss=validateValues(vr,Mr.refValues.current);return wr.setErrors(ss.errors),ss},[vr]),Kn=reactExports.useCallback(ss=>{const as=validateFieldValue(ss,vr,Mr.refValues.current);return as.hasError?wr.setFieldError(ss,as.error):wr.clearFieldError(ss),as},[vr]),qn=(ss,{type:as="input",withError:us=!0,withFocus:hs=!0,...gs}={})=>{const ms={onChange:getInputOnChange(_s=>Jn(ss,_s,{forceUpdate:!1})),"data-path":getDataPath(e,ss)};return us&&(ms.error=wr.errorsState[ss]),as==="checkbox"?ms[rr==="controlled"?"checked":"defaultChecked"]=getPath(ss,Mr.refValues.current):ms[rr==="controlled"?"value":"defaultValue"]=getPath(ss,Mr.refValues.current),hs&&(ms.onFocus=()=>kr.setFieldTouched(ss,!0),ms.onBlur=()=>{if(shouldValidateOnChange(ss,gr)){const _s=validateFieldValue(ss,vr,Mr.refValues.current);_s.hasError?wr.setFieldError(ss,_s.error):wr.clearFieldError(ss)}}),Object.assign(ms,yr?.({inputProps:ms,field:ss,options:{type:as,withError:us,withFocus:hs,...gs},form:ls}))},Qr=(ss,as)=>us=>{br==="always"&&us?.preventDefault();const hs=Hn();if(hs.hasErrors)br==="validation-failed"&&us?.preventDefault(),as?.(hs.errors,Mr.refValues.current,us);else{const gs=ss?.(_r(Mr.refValues.current),us);gs instanceof Promise&&(zr(!0),gs.finally(()=>zr(!1)))}},$n=ss=>_r(ss||Mr.refValues.current),es=reactExports.useCallback(ss=>{ss.preventDefault(),Gr()},[]),Xn=reactExports.useCallback(ss=>ss?!validateFieldValue(ss,vr,Mr.refValues.current).hasError:!validateValues(vr,Mr.refValues.current).hasErrors,[vr]),rs=ss=>`${$r}-${ss}-${Or[ss]||0}`,ns=reactExports.useCallback(ss=>document.querySelector(`[data-path="${getDataPath(e,ss)}"]`),[]),ls={watch:Ir.watch,initialized:Mr.initialized.current,values:rr==="uncontrolled"?Mr.refValues.current:Mr.stateValues,getValues:Mr.getValues,getInitialValues:Mr.getValuesSnapshot,setInitialValues:Mr.setValuesSnapshot,resetField:Mr.resetField,initialize:Yn,setValues:Zn,setFieldValue:Jn,submitting:Lr,setSubmitting:zr,errors:wr.errorsState,setErrors:wr.setErrors,setFieldError:wr.setFieldError,clearFieldError:wr.clearFieldError,clearErrors:wr.clearErrors,resetDirty:kr.resetDirty,setTouched:kr.setTouched,setDirty:kr.setDirty,isTouched:kr.isTouched,resetTouched:kr.resetTouched,isDirty:kr.isDirty,getTouched:kr.getTouched,getDirty:kr.getDirty,reorderListItem:Ar.reorderListItem,insertListItem:Ar.insertListItem,removeListItem:Ar.removeListItem,replaceListItem:Ar.replaceListItem,reset:Gr,validate:Hn,validateField:Kn,getInputProps:qn,onSubmit:Qr,onReset:es,isValid:Xn,getTransformedValues:$n,key:rs,getInputNode:ns};return useFormActions(e,ls),ls}var util;(function(e){e.assertEqual=dr=>{};function rr(dr){}e.assertIs=rr;function ir(dr){throw new Error}e.assertNever=ir,e.arrayToEnum=dr=>{const fr={};for(const mr of dr)fr[mr]=mr;return fr},e.getValidEnumValues=dr=>{const fr=e.objectKeys(dr).filter(hr=>typeof dr[dr[hr]]!="number"),mr={};for(const hr of fr)mr[hr]=dr[hr];return e.objectValues(mr)},e.objectValues=dr=>e.objectKeys(dr).map(function(fr){return dr[fr]}),e.objectKeys=typeof Object.keys=="function"?dr=>Object.keys(dr):dr=>{const fr=[];for(const mr in dr)Object.prototype.hasOwnProperty.call(dr,mr)&&fr.push(mr);return fr},e.find=(dr,fr)=>{for(const mr of dr)if(fr(mr))return mr},e.isInteger=typeof Number.isInteger=="function"?dr=>Number.isInteger(dr):dr=>typeof dr=="number"&&Number.isFinite(dr)&&Math.floor(dr)===dr;function lr(dr,fr=" | "){return dr.map(mr=>typeof mr=="string"?`'${mr}'`:mr).join(fr)}e.joinValues=lr,e.jsonStringifyReplacer=(dr,fr)=>typeof fr=="bigint"?fr.toString():fr})(util||(util={}));var objectUtil;(function(e){e.mergeShapes=(rr,ir)=>({...rr,...ir})})(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:e===null?ZodParsedType.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ZodParsedType.promise:typeof Map<"u"&&e instanceof Map?ZodParsedType.map:typeof Set<"u"&&e instanceof Set?ZodParsedType.set:typeof Date<"u"&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{get errors(){return this.issues}constructor(rr){super(),this.issues=[],this.addIssue=lr=>{this.issues=[...this.issues,lr]},this.addIssues=(lr=[])=>{this.issues=[...this.issues,...lr]};const ir=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,ir):this.__proto__=ir,this.name="ZodError",this.issues=rr}format(rr){const ir=rr||function(fr){return fr.message},lr={_errors:[]},dr=fr=>{for(const mr of fr.issues)if(mr.code==="invalid_union")mr.unionErrors.map(dr);else if(mr.code==="invalid_return_type")dr(mr.returnTypeError);else if(mr.code==="invalid_arguments")dr(mr.argumentsError);else if(mr.path.length===0)lr._errors.push(ir(mr));else{let hr=lr,gr=0;for(;gr<mr.path.length;){const xr=mr.path[gr];gr===mr.path.length-1?(hr[xr]=hr[xr]||{_errors:[]},hr[xr]._errors.push(ir(mr))):hr[xr]=hr[xr]||{_errors:[]},hr=hr[xr],gr++}}};return dr(this),lr}static assert(rr){if(!(rr instanceof ZodError))throw new Error(`Not a ZodError: ${rr}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(rr=ir=>ir.message){const ir={},lr=[];for(const dr of this.issues)dr.path.length>0?(ir[dr.path[0]]=ir[dr.path[0]]||[],ir[dr.path[0]].push(rr(dr))):lr.push(rr(dr));return{formErrors:lr,fieldErrors:ir}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,rr)=>{let ir;switch(e.code){case ZodIssueCode.invalid_type:e.received===ZodParsedType.undefined?ir="Required":ir=`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:ir=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:ir=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:ir="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:ir=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:ir=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:ir="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:ir="Invalid function return type";break;case ZodIssueCode.invalid_date:ir="Invalid date";break;case ZodIssueCode.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(ir=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(ir=`${ir} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?ir=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?ir=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):e.validation!=="regex"?ir=`Invalid ${e.validation}`:ir="Invalid";break;case ZodIssueCode.too_small:e.type==="array"?ir=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?ir=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?ir=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?ir=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:ir="Invalid input";break;case ZodIssueCode.too_big:e.type==="array"?ir=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?ir=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?ir=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?ir=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?ir=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:ir="Invalid input";break;case ZodIssueCode.custom:ir="Invalid input";break;case ZodIssueCode.invalid_intersection_types:ir="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:ir=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:ir="Number must be finite";break;default:ir=rr.defaultError,util.assertNever(e)}return{message:ir}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:rr,path:ir,errorMaps:lr,issueData:dr}=e,fr=[...ir,...dr.path||[]],mr={...dr,path:fr};if(dr.message!==void 0)return{...dr,path:fr,message:dr.message};let hr="";const gr=lr.filter(xr=>!!xr).slice().reverse();for(const xr of gr)hr=xr(mr,{data:rr,defaultError:hr}).message;return{...dr,path:fr,message:hr}},EMPTY_PATH=[];function addIssueToContext(e,rr){const ir=getErrorMap(),lr=makeIssue({issueData:rr,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,ir,ir===errorMap?void 0:errorMap].filter(dr=>!!dr)});e.common.issues.push(lr)}class ParseStatus{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(rr,ir){const lr=[];for(const dr of ir){if(dr.status==="aborted")return INVALID;dr.status==="dirty"&&rr.dirty(),lr.push(dr.value)}return{status:rr.value,value:lr}}static async mergeObjectAsync(rr,ir){const lr=[];for(const dr of ir){const fr=await dr.key,mr=await dr.value;lr.push({key:fr,value:mr})}return ParseStatus.mergeObjectSync(rr,lr)}static mergeObjectSync(rr,ir){const lr={};for(const dr of ir){const{key:fr,value:mr}=dr;if(fr.status==="aborted"||mr.status==="aborted")return INVALID;fr.status==="dirty"&&rr.dirty(),mr.status==="dirty"&&rr.dirty(),fr.value!=="__proto__"&&(typeof mr.value<"u"||dr.alwaysSet)&&(lr[fr.value]=mr.value)}return{status:rr.value,value:lr}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>e.status==="aborted",isDirty=e=>e.status==="dirty",isValid=e=>e.status==="valid",isAsync=e=>typeof Promise<"u"&&e instanceof Promise;var errorUtil;(function(e){e.errToObj=rr=>typeof rr=="string"?{message:rr}:rr||{},e.toString=rr=>typeof rr=="string"?rr:rr?.message})(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(rr,ir,lr,dr){this._cachedPath=[],this.parent=rr,this.data=ir,this._path=lr,this._key=dr}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,rr)=>{if(isValid(rr))return{success:!0,data:rr.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const ir=new ZodError(e.common.issues);return this._error=ir,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:rr,invalid_type_error:ir,required_error:lr,description:dr}=e;if(rr&&(ir||lr))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return rr?{errorMap:rr,description:dr}:{errorMap:(mr,hr)=>{const{message:gr}=e;return mr.code==="invalid_enum_value"?{message:gr??hr.defaultError}:typeof hr.data>"u"?{message:gr??lr??hr.defaultError}:mr.code!=="invalid_type"?{message:hr.defaultError}:{message:gr??ir??hr.defaultError}},description:dr}}class ZodType{get description(){return this._def.description}_getType(rr){return getParsedType(rr.data)}_getOrReturnCtx(rr,ir){return ir||{common:rr.parent.common,data:rr.data,parsedType:getParsedType(rr.data),schemaErrorMap:this._def.errorMap,path:rr.path,parent:rr.parent}}_processInputParams(rr){return{status:new ParseStatus,ctx:{common:rr.parent.common,data:rr.data,parsedType:getParsedType(rr.data),schemaErrorMap:this._def.errorMap,path:rr.path,parent:rr.parent}}}_parseSync(rr){const ir=this._parse(rr);if(isAsync(ir))throw new Error("Synchronous parse encountered promise.");return ir}_parseAsync(rr){const ir=this._parse(rr);return Promise.resolve(ir)}parse(rr,ir){const lr=this.safeParse(rr,ir);if(lr.success)return lr.data;throw lr.error}safeParse(rr,ir){const lr={common:{issues:[],async:ir?.async??!1,contextualErrorMap:ir?.errorMap},path:ir?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:rr,parsedType:getParsedType(rr)},dr=this._parseSync({data:rr,path:lr.path,parent:lr});return handleResult(lr,dr)}"~validate"(rr){const ir={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:rr,parsedType:getParsedType(rr)};if(!this["~standard"].async)try{const lr=this._parseSync({data:rr,path:[],parent:ir});return isValid(lr)?{value:lr.value}:{issues:ir.common.issues}}catch(lr){lr?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),ir.common={issues:[],async:!0}}return this._parseAsync({data:rr,path:[],parent:ir}).then(lr=>isValid(lr)?{value:lr.value}:{issues:ir.common.issues})}async parseAsync(rr,ir){const lr=await this.safeParseAsync(rr,ir);if(lr.success)return lr.data;throw lr.error}async safeParseAsync(rr,ir){const lr={common:{issues:[],contextualErrorMap:ir?.errorMap,async:!0},path:ir?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:rr,parsedType:getParsedType(rr)},dr=this._parse({data:rr,path:lr.path,parent:lr}),fr=await(isAsync(dr)?dr:Promise.resolve(dr));return handleResult(lr,fr)}refine(rr,ir){const lr=dr=>typeof ir=="string"||typeof ir>"u"?{message:ir}:typeof ir=="function"?ir(dr):ir;return this._refinement((dr,fr)=>{const mr=rr(dr),hr=()=>fr.addIssue({code:ZodIssueCode.custom,...lr(dr)});return typeof Promise<"u"&&mr instanceof Promise?mr.then(gr=>gr?!0:(hr(),!1)):mr?!0:(hr(),!1)})}refinement(rr,ir){return this._refinement((lr,dr)=>rr(lr)?!0:(dr.addIssue(typeof ir=="function"?ir(lr,dr):ir),!1))}_refinement(rr){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:rr}})}superRefine(rr){return this._refinement(rr)}constructor(rr){this.spa=this.safeParseAsync,this._def=rr,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:ir=>this["~validate"](ir)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(rr){return ZodUnion.create([this,rr],this._def)}and(rr){return ZodIntersection.create(this,rr,this._def)}transform(rr){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:rr}})}default(rr){const ir=typeof rr=="function"?rr:()=>rr;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:ir,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(rr){const ir=typeof rr=="function"?rr:()=>rr;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:ir,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(rr){const ir=this.constructor;return new ir({...this._def,description:rr})}pipe(rr){return ZodPipeline.create(this,rr)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_emojiRegex="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(e){let rr="[0-5]\\d";e.precision?rr=`${rr}\\.\\d{${e.precision}}`:e.precision==null&&(rr=`${rr}(\\.\\d+)?`);const ir=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${rr})${ir}`}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let rr=`${dateRegexSource}T${timeRegexSource(e)}`;const ir=[];return ir.push(e.local?"Z?":"Z"),e.offset&&ir.push("([+-]\\d{2}:?\\d{2})"),rr=`${rr}(${ir.join("|")})`,new RegExp(`^${rr}$`)}function isValidIP(e,rr){return!!((rr==="v4"||!rr)&&ipv4Regex.test(e)||(rr==="v6"||!rr)&&ipv6Regex.test(e))}function isValidJWT(e,rr){if(!jwtRegex.test(e))return!1;try{const[ir]=e.split("."),lr=ir.replace(/-/g,"+").replace(/_/g,"/").padEnd(ir.length+(4-ir.length%4)%4,"="),dr=JSON.parse(atob(lr));return!(typeof dr!="object"||dr===null||"typ"in dr&&dr?.typ!=="JWT"||!dr.alg||rr&&dr.alg!==rr)}catch{return!1}}function isValidCidr(e,rr){return!!((rr==="v4"||!rr)&&ipv4CidrRegex.test(e)||(rr==="v6"||!rr)&&ipv6CidrRegex.test(e))}class ZodString extends ZodType{_parse(rr){if(this._def.coerce&&(rr.data=String(rr.data)),this._getType(rr)!==ZodParsedType.string){const fr=this._getOrReturnCtx(rr);return addIssueToContext(fr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:fr.parsedType}),INVALID}const lr=new ParseStatus;let dr;for(const fr of this._def.checks)if(fr.kind==="min")rr.data.length<fr.value&&(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.too_small,minimum:fr.value,type:"string",inclusive:!0,exact:!1,message:fr.message}),lr.dirty());else if(fr.kind==="max")rr.data.length>fr.value&&(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.too_big,maximum:fr.value,type:"string",inclusive:!0,exact:!1,message:fr.message}),lr.dirty());else if(fr.kind==="length"){const mr=rr.data.length>fr.value,hr=rr.data.length<fr.value;(mr||hr)&&(dr=this._getOrReturnCtx(rr,dr),mr?addIssueToContext(dr,{code:ZodIssueCode.too_big,maximum:fr.value,type:"string",inclusive:!0,exact:!0,message:fr.message}):hr&&addIssueToContext(dr,{code:ZodIssueCode.too_small,minimum:fr.value,type:"string",inclusive:!0,exact:!0,message:fr.message}),lr.dirty())}else if(fr.kind==="email")emailRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"email",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="emoji")emojiRegex||(emojiRegex=new RegExp(_emojiRegex,"u")),emojiRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"emoji",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="uuid")uuidRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"uuid",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="nanoid")nanoidRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="cuid")cuidRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"cuid",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="cuid2")cuid2Regex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="ulid")ulidRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"ulid",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty());else if(fr.kind==="url")try{new URL(rr.data)}catch{dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"url",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()}else fr.kind==="regex"?(fr.regex.lastIndex=0,fr.regex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"regex",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty())):fr.kind==="trim"?rr.data=rr.data.trim():fr.kind==="includes"?rr.data.includes(fr.value,fr.position)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:{includes:fr.value,position:fr.position},message:fr.message}),lr.dirty()):fr.kind==="toLowerCase"?rr.data=rr.data.toLowerCase():fr.kind==="toUpperCase"?rr.data=rr.data.toUpperCase():fr.kind==="startsWith"?rr.data.startsWith(fr.value)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:{startsWith:fr.value},message:fr.message}),lr.dirty()):fr.kind==="endsWith"?rr.data.endsWith(fr.value)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:{endsWith:fr.value},message:fr.message}),lr.dirty()):fr.kind==="datetime"?datetimeRegex(fr).test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:"datetime",message:fr.message}),lr.dirty()):fr.kind==="date"?dateRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:"date",message:fr.message}),lr.dirty()):fr.kind==="time"?timeRegex(fr).test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.invalid_string,validation:"time",message:fr.message}),lr.dirty()):fr.kind==="duration"?durationRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"duration",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):fr.kind==="ip"?isValidIP(rr.data,fr.version)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"ip",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):fr.kind==="jwt"?isValidJWT(rr.data,fr.alg)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"jwt",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):fr.kind==="cidr"?isValidCidr(rr.data,fr.version)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"cidr",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):fr.kind==="base64"?base64Regex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"base64",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):fr.kind==="base64url"?base64urlRegex.test(rr.data)||(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{validation:"base64url",code:ZodIssueCode.invalid_string,message:fr.message}),lr.dirty()):util.assertNever(fr);return{status:lr.value,value:rr.data}}_regex(rr,ir,lr){return this.refinement(dr=>rr.test(dr),{validation:ir,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(lr)})}_addCheck(rr){return new ZodString({...this._def,checks:[...this._def.checks,rr]})}email(rr){return this._addCheck({kind:"email",...errorUtil.errToObj(rr)})}url(rr){return this._addCheck({kind:"url",...errorUtil.errToObj(rr)})}emoji(rr){return this._addCheck({kind:"emoji",...errorUtil.errToObj(rr)})}uuid(rr){return this._addCheck({kind:"uuid",...errorUtil.errToObj(rr)})}nanoid(rr){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(rr)})}cuid(rr){return this._addCheck({kind:"cuid",...errorUtil.errToObj(rr)})}cuid2(rr){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(rr)})}ulid(rr){return this._addCheck({kind:"ulid",...errorUtil.errToObj(rr)})}base64(rr){return this._addCheck({kind:"base64",...errorUtil.errToObj(rr)})}base64url(rr){return this._addCheck({kind:"base64url",...errorUtil.errToObj(rr)})}jwt(rr){return this._addCheck({kind:"jwt",...errorUtil.errToObj(rr)})}ip(rr){return this._addCheck({kind:"ip",...errorUtil.errToObj(rr)})}cidr(rr){return this._addCheck({kind:"cidr",...errorUtil.errToObj(rr)})}datetime(rr){return typeof rr=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:rr}):this._addCheck({kind:"datetime",precision:typeof rr?.precision>"u"?null:rr?.precision,offset:rr?.offset??!1,local:rr?.local??!1,...errorUtil.errToObj(rr?.message)})}date(rr){return this._addCheck({kind:"date",message:rr})}time(rr){return typeof rr=="string"?this._addCheck({kind:"time",precision:null,message:rr}):this._addCheck({kind:"time",precision:typeof rr?.precision>"u"?null:rr?.precision,...errorUtil.errToObj(rr?.message)})}duration(rr){return this._addCheck({kind:"duration",...errorUtil.errToObj(rr)})}regex(rr,ir){return this._addCheck({kind:"regex",regex:rr,...errorUtil.errToObj(ir)})}includes(rr,ir){return this._addCheck({kind:"includes",value:rr,position:ir?.position,...errorUtil.errToObj(ir?.message)})}startsWith(rr,ir){return this._addCheck({kind:"startsWith",value:rr,...errorUtil.errToObj(ir)})}endsWith(rr,ir){return this._addCheck({kind:"endsWith",value:rr,...errorUtil.errToObj(ir)})}min(rr,ir){return this._addCheck({kind:"min",value:rr,...errorUtil.errToObj(ir)})}max(rr,ir){return this._addCheck({kind:"max",value:rr,...errorUtil.errToObj(ir)})}length(rr,ir){return this._addCheck({kind:"length",value:rr,...errorUtil.errToObj(ir)})}nonempty(rr){return this.min(1,errorUtil.errToObj(rr))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(rr=>rr.kind==="datetime")}get isDate(){return!!this._def.checks.find(rr=>rr.kind==="date")}get isTime(){return!!this._def.checks.find(rr=>rr.kind==="time")}get isDuration(){return!!this._def.checks.find(rr=>rr.kind==="duration")}get isEmail(){return!!this._def.checks.find(rr=>rr.kind==="email")}get isURL(){return!!this._def.checks.find(rr=>rr.kind==="url")}get isEmoji(){return!!this._def.checks.find(rr=>rr.kind==="emoji")}get isUUID(){return!!this._def.checks.find(rr=>rr.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(rr=>rr.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(rr=>rr.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(rr=>rr.kind==="cuid2")}get isULID(){return!!this._def.checks.find(rr=>rr.kind==="ulid")}get isIP(){return!!this._def.checks.find(rr=>rr.kind==="ip")}get isCIDR(){return!!this._def.checks.find(rr=>rr.kind==="cidr")}get isBase64(){return!!this._def.checks.find(rr=>rr.kind==="base64")}get isBase64url(){return!!this._def.checks.find(rr=>rr.kind==="base64url")}get minLength(){let rr=null;for(const ir of this._def.checks)ir.kind==="min"&&(rr===null||ir.value>rr)&&(rr=ir.value);return rr}get maxLength(){let rr=null;for(const ir of this._def.checks)ir.kind==="max"&&(rr===null||ir.value<rr)&&(rr=ir.value);return rr}}ZodString.create=e=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:e?.coerce??!1,...processCreateParams(e)});function floatSafeRemainder(e,rr){const ir=(e.toString().split(".")[1]||"").length,lr=(rr.toString().split(".")[1]||"").length,dr=ir>lr?ir:lr,fr=Number.parseInt(e.toFixed(dr).replace(".","")),mr=Number.parseInt(rr.toFixed(dr).replace(".",""));return fr%mr/10**dr}class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(rr){if(this._def.coerce&&(rr.data=Number(rr.data)),this._getType(rr)!==ZodParsedType.number){const fr=this._getOrReturnCtx(rr);return addIssueToContext(fr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:fr.parsedType}),INVALID}let lr;const dr=new ParseStatus;for(const fr of this._def.checks)fr.kind==="int"?util.isInteger(rr.data)||(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:fr.message}),dr.dirty()):fr.kind==="min"?(fr.inclusive?rr.data<fr.value:rr.data<=fr.value)&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.too_small,minimum:fr.value,type:"number",inclusive:fr.inclusive,exact:!1,message:fr.message}),dr.dirty()):fr.kind==="max"?(fr.inclusive?rr.data>fr.value:rr.data>=fr.value)&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.too_big,maximum:fr.value,type:"number",inclusive:fr.inclusive,exact:!1,message:fr.message}),dr.dirty()):fr.kind==="multipleOf"?floatSafeRemainder(rr.data,fr.value)!==0&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.not_multiple_of,multipleOf:fr.value,message:fr.message}),dr.dirty()):fr.kind==="finite"?Number.isFinite(rr.data)||(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.not_finite,message:fr.message}),dr.dirty()):util.assertNever(fr);return{status:dr.value,value:rr.data}}gte(rr,ir){return this.setLimit("min",rr,!0,errorUtil.toString(ir))}gt(rr,ir){return this.setLimit("min",rr,!1,errorUtil.toString(ir))}lte(rr,ir){return this.setLimit("max",rr,!0,errorUtil.toString(ir))}lt(rr,ir){return this.setLimit("max",rr,!1,errorUtil.toString(ir))}setLimit(rr,ir,lr,dr){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:rr,value:ir,inclusive:lr,message:errorUtil.toString(dr)}]})}_addCheck(rr){return new ZodNumber({...this._def,checks:[...this._def.checks,rr]})}int(rr){return this._addCheck({kind:"int",message:errorUtil.toString(rr)})}positive(rr){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(rr)})}negative(rr){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(rr)})}nonpositive(rr){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(rr)})}nonnegative(rr){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(rr)})}multipleOf(rr,ir){return this._addCheck({kind:"multipleOf",value:rr,message:errorUtil.toString(ir)})}finite(rr){return this._addCheck({kind:"finite",message:errorUtil.toString(rr)})}safe(rr){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(rr)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(rr)})}get minValue(){let rr=null;for(const ir of this._def.checks)ir.kind==="min"&&(rr===null||ir.value>rr)&&(rr=ir.value);return rr}get maxValue(){let rr=null;for(const ir of this._def.checks)ir.kind==="max"&&(rr===null||ir.value<rr)&&(rr=ir.value);return rr}get isInt(){return!!this._def.checks.find(rr=>rr.kind==="int"||rr.kind==="multipleOf"&&util.isInteger(rr.value))}get isFinite(){let rr=null,ir=null;for(const lr of this._def.checks){if(lr.kind==="finite"||lr.kind==="int"||lr.kind==="multipleOf")return!0;lr.kind==="min"?(ir===null||lr.value>ir)&&(ir=lr.value):lr.kind==="max"&&(rr===null||lr.value<rr)&&(rr=lr.value)}return Number.isFinite(ir)&&Number.isFinite(rr)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(rr){if(this._def.coerce)try{rr.data=BigInt(rr.data)}catch{return this._getInvalidInput(rr)}if(this._getType(rr)!==ZodParsedType.bigint)return this._getInvalidInput(rr);let lr;const dr=new ParseStatus;for(const fr of this._def.checks)fr.kind==="min"?(fr.inclusive?rr.data<fr.value:rr.data<=fr.value)&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.too_small,type:"bigint",minimum:fr.value,inclusive:fr.inclusive,message:fr.message}),dr.dirty()):fr.kind==="max"?(fr.inclusive?rr.data>fr.value:rr.data>=fr.value)&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.too_big,type:"bigint",maximum:fr.value,inclusive:fr.inclusive,message:fr.message}),dr.dirty()):fr.kind==="multipleOf"?rr.data%fr.value!==BigInt(0)&&(lr=this._getOrReturnCtx(rr,lr),addIssueToContext(lr,{code:ZodIssueCode.not_multiple_of,multipleOf:fr.value,message:fr.message}),dr.dirty()):util.assertNever(fr);return{status:dr.value,value:rr.data}}_getInvalidInput(rr){const ir=this._getOrReturnCtx(rr);return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ir.parsedType}),INVALID}gte(rr,ir){return this.setLimit("min",rr,!0,errorUtil.toString(ir))}gt(rr,ir){return this.setLimit("min",rr,!1,errorUtil.toString(ir))}lte(rr,ir){return this.setLimit("max",rr,!0,errorUtil.toString(ir))}lt(rr,ir){return this.setLimit("max",rr,!1,errorUtil.toString(ir))}setLimit(rr,ir,lr,dr){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:rr,value:ir,inclusive:lr,message:errorUtil.toString(dr)}]})}_addCheck(rr){return new ZodBigInt({...this._def,checks:[...this._def.checks,rr]})}positive(rr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(rr)})}negative(rr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(rr)})}nonpositive(rr){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(rr)})}nonnegative(rr){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(rr)})}multipleOf(rr,ir){return this._addCheck({kind:"multipleOf",value:rr,message:errorUtil.toString(ir)})}get minValue(){let rr=null;for(const ir of this._def.checks)ir.kind==="min"&&(rr===null||ir.value>rr)&&(rr=ir.value);return rr}get maxValue(){let rr=null;for(const ir of this._def.checks)ir.kind==="max"&&(rr===null||ir.value<rr)&&(rr=ir.value);return rr}}ZodBigInt.create=e=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:e?.coerce??!1,...processCreateParams(e)});class ZodBoolean extends ZodType{_parse(rr){if(this._def.coerce&&(rr.data=!!rr.data),this._getType(rr)!==ZodParsedType.boolean){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:lr.parsedType}),INVALID}return OK(rr.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(rr){if(this._def.coerce&&(rr.data=new Date(rr.data)),this._getType(rr)!==ZodParsedType.date){const fr=this._getOrReturnCtx(rr);return addIssueToContext(fr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:fr.parsedType}),INVALID}if(Number.isNaN(rr.data.getTime())){const fr=this._getOrReturnCtx(rr);return addIssueToContext(fr,{code:ZodIssueCode.invalid_date}),INVALID}const lr=new ParseStatus;let dr;for(const fr of this._def.checks)fr.kind==="min"?rr.data.getTime()<fr.value&&(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.too_small,message:fr.message,inclusive:!0,exact:!1,minimum:fr.value,type:"date"}),lr.dirty()):fr.kind==="max"?rr.data.getTime()>fr.value&&(dr=this._getOrReturnCtx(rr,dr),addIssueToContext(dr,{code:ZodIssueCode.too_big,message:fr.message,inclusive:!0,exact:!1,maximum:fr.value,type:"date"}),lr.dirty()):util.assertNever(fr);return{status:lr.value,value:new Date(rr.data.getTime())}}_addCheck(rr){return new ZodDate({...this._def,checks:[...this._def.checks,rr]})}min(rr,ir){return this._addCheck({kind:"min",value:rr.getTime(),message:errorUtil.toString(ir)})}max(rr,ir){return this._addCheck({kind:"max",value:rr.getTime(),message:errorUtil.toString(ir)})}get minDate(){let rr=null;for(const ir of this._def.checks)ir.kind==="min"&&(rr===null||ir.value>rr)&&(rr=ir.value);return rr!=null?new Date(rr):null}get maxDate(){let rr=null;for(const ir of this._def.checks)ir.kind==="max"&&(rr===null||ir.value<rr)&&(rr=ir.value);return rr!=null?new Date(rr):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:e?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(rr){if(this._getType(rr)!==ZodParsedType.symbol){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:lr.parsedType}),INVALID}return OK(rr.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(rr){if(this._getType(rr)!==ZodParsedType.undefined){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:lr.parsedType}),INVALID}return OK(rr.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(rr){if(this._getType(rr)!==ZodParsedType.null){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:lr.parsedType}),INVALID}return OK(rr.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(rr){return OK(rr.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(rr){return OK(rr.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(rr){const ir=this._getOrReturnCtx(rr);return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ir.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(rr){if(this._getType(rr)!==ZodParsedType.undefined){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:lr.parsedType}),INVALID}return OK(rr.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(rr){const{ctx:ir,status:lr}=this._processInputParams(rr),dr=this._def;if(ir.parsedType!==ZodParsedType.array)return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ir.parsedType}),INVALID;if(dr.exactLength!==null){const mr=ir.data.length>dr.exactLength.value,hr=ir.data.length<dr.exactLength.value;(mr||hr)&&(addIssueToContext(ir,{code:mr?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:hr?dr.exactLength.value:void 0,maximum:mr?dr.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:dr.exactLength.message}),lr.dirty())}if(dr.minLength!==null&&ir.data.length<dr.minLength.value&&(addIssueToContext(ir,{code:ZodIssueCode.too_small,minimum:dr.minLength.value,type:"array",inclusive:!0,exact:!1,message:dr.minLength.message}),lr.dirty()),dr.maxLength!==null&&ir.data.length>dr.maxLength.value&&(addIssueToContext(ir,{code:ZodIssueCode.too_big,maximum:dr.maxLength.value,type:"array",inclusive:!0,exact:!1,message:dr.maxLength.message}),lr.dirty()),ir.common.async)return Promise.all([...ir.data].map((mr,hr)=>dr.type._parseAsync(new ParseInputLazyPath(ir,mr,ir.path,hr)))).then(mr=>ParseStatus.mergeArray(lr,mr));const fr=[...ir.data].map((mr,hr)=>dr.type._parseSync(new ParseInputLazyPath(ir,mr,ir.path,hr)));return ParseStatus.mergeArray(lr,fr)}get element(){return this._def.type}min(rr,ir){return new ZodArray({...this._def,minLength:{value:rr,message:errorUtil.toString(ir)}})}max(rr,ir){return new ZodArray({...this._def,maxLength:{value:rr,message:errorUtil.toString(ir)}})}length(rr,ir){return new ZodArray({...this._def,exactLength:{value:rr,message:errorUtil.toString(ir)}})}nonempty(rr){return this.min(1,rr)}}ZodArray.create=(e,rr)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(rr)});function deepPartialify(e){if(e instanceof ZodObject){const rr={};for(const ir in e.shape){const lr=e.shape[ir];rr[ir]=ZodOptional.create(deepPartialify(lr))}return new ZodObject({...e._def,shape:()=>rr})}else return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(rr=>deepPartialify(rr))):e}class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const rr=this._def.shape(),ir=util.objectKeys(rr);return this._cached={shape:rr,keys:ir},this._cached}_parse(rr){if(this._getType(rr)!==ZodParsedType.object){const xr=this._getOrReturnCtx(rr);return addIssueToContext(xr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:xr.parsedType}),INVALID}const{status:lr,ctx:dr}=this._processInputParams(rr),{shape:fr,keys:mr}=this._getCached(),hr=[];if(!(this._def.catchall instanceof ZodNever&&this._def.unknownKeys==="strip"))for(const xr in dr.data)mr.includes(xr)||hr.push(xr);const gr=[];for(const xr of mr){const _r=fr[xr],yr=dr.data[xr];gr.push({key:{status:"valid",value:xr},value:_r._parse(new ParseInputLazyPath(dr,yr,dr.path,xr)),alwaysSet:xr in dr.data})}if(this._def.catchall instanceof ZodNever){const xr=this._def.unknownKeys;if(xr==="passthrough")for(const _r of hr)gr.push({key:{status:"valid",value:_r},value:{status:"valid",value:dr.data[_r]}});else if(xr==="strict")hr.length>0&&(addIssueToContext(dr,{code:ZodIssueCode.unrecognized_keys,keys:hr}),lr.dirty());else if(xr!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const xr=this._def.catchall;for(const _r of hr){const yr=dr.data[_r];gr.push({key:{status:"valid",value:_r},value:xr._parse(new ParseInputLazyPath(dr,yr,dr.path,_r)),alwaysSet:_r in dr.data})}}return dr.common.async?Promise.resolve().then(async()=>{const xr=[];for(const _r of gr){const yr=await _r.key,vr=await _r.value;xr.push({key:yr,value:vr,alwaysSet:_r.alwaysSet})}return xr}).then(xr=>ParseStatus.mergeObjectSync(lr,xr)):ParseStatus.mergeObjectSync(lr,gr)}get shape(){return this._def.shape()}strict(rr){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...rr!==void 0?{errorMap:(ir,lr)=>{const dr=this._def.errorMap?.(ir,lr).message??lr.defaultError;return ir.code==="unrecognized_keys"?{message:errorUtil.errToObj(rr).message??dr}:{message:dr}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(rr){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...rr})})}merge(rr){return new ZodObject({unknownKeys:rr._def.unknownKeys,catchall:rr._def.catchall,shape:()=>({...this._def.shape(),...rr._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(rr,ir){return this.augment({[rr]:ir})}catchall(rr){return new ZodObject({...this._def,catchall:rr})}pick(rr){const ir={};for(const lr of util.objectKeys(rr))rr[lr]&&this.shape[lr]&&(ir[lr]=this.shape[lr]);return new ZodObject({...this._def,shape:()=>ir})}omit(rr){const ir={};for(const lr of util.objectKeys(this.shape))rr[lr]||(ir[lr]=this.shape[lr]);return new ZodObject({...this._def,shape:()=>ir})}deepPartial(){return deepPartialify(this)}partial(rr){const ir={};for(const lr of util.objectKeys(this.shape)){const dr=this.shape[lr];rr&&!rr[lr]?ir[lr]=dr:ir[lr]=dr.optional()}return new ZodObject({...this._def,shape:()=>ir})}required(rr){const ir={};for(const lr of util.objectKeys(this.shape))if(rr&&!rr[lr])ir[lr]=this.shape[lr];else{let fr=this.shape[lr];for(;fr instanceof ZodOptional;)fr=fr._def.innerType;ir[lr]=fr}return new ZodObject({...this._def,shape:()=>ir})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,rr)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(rr)});ZodObject.strictCreate=(e,rr)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(rr)});ZodObject.lazycreate=(e,rr)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(rr)});class ZodUnion extends ZodType{_parse(rr){const{ctx:ir}=this._processInputParams(rr),lr=this._def.options;function dr(fr){for(const hr of fr)if(hr.result.status==="valid")return hr.result;for(const hr of fr)if(hr.result.status==="dirty")return ir.common.issues.push(...hr.ctx.common.issues),hr.result;const mr=fr.map(hr=>new ZodError(hr.ctx.common.issues));return addIssueToContext(ir,{code:ZodIssueCode.invalid_union,unionErrors:mr}),INVALID}if(ir.common.async)return Promise.all(lr.map(async fr=>{const mr={...ir,common:{...ir.common,issues:[]},parent:null};return{result:await fr._parseAsync({data:ir.data,path:ir.path,parent:mr}),ctx:mr}})).then(dr);{let fr;const mr=[];for(const gr of lr){const xr={...ir,common:{...ir.common,issues:[]},parent:null},_r=gr._parseSync({data:ir.data,path:ir.path,parent:xr});if(_r.status==="valid")return _r;_r.status==="dirty"&&!fr&&(fr={result:_r,ctx:xr}),xr.common.issues.length&&mr.push(xr.common.issues)}if(fr)return ir.common.issues.push(...fr.ctx.common.issues),fr.result;const hr=mr.map(gr=>new ZodError(gr));return addIssueToContext(ir,{code:ZodIssueCode.invalid_union,unionErrors:hr}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,rr)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(rr)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?util.objectValues(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:e instanceof ZodOptional?[void 0,...getDiscriminator(e.unwrap())]:e instanceof ZodNullable?[null,...getDiscriminator(e.unwrap())]:e instanceof ZodBranded||e instanceof ZodReadonly?getDiscriminator(e.unwrap()):e instanceof ZodCatch?getDiscriminator(e._def.innerType):[];class ZodDiscriminatedUnion extends ZodType{_parse(rr){const{ctx:ir}=this._processInputParams(rr);if(ir.parsedType!==ZodParsedType.object)return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ir.parsedType}),INVALID;const lr=this.discriminator,dr=ir.data[lr],fr=this.optionsMap.get(dr);return fr?ir.common.async?fr._parseAsync({data:ir.data,path:ir.path,parent:ir}):fr._parseSync({data:ir.data,path:ir.path,parent:ir}):(addIssueToContext(ir,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[lr]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(rr,ir,lr){const dr=new Map;for(const fr of ir){const mr=getDiscriminator(fr.shape[rr]);if(!mr.length)throw new Error(`A discriminator value for key \`${rr}\` could not be extracted from all schema options`);for(const hr of mr){if(dr.has(hr))throw new Error(`Discriminator property ${String(rr)} has duplicate value ${String(hr)}`);dr.set(hr,fr)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:rr,options:ir,optionsMap:dr,...processCreateParams(lr)})}}function mergeValues(e,rr){const ir=getParsedType(e),lr=getParsedType(rr);if(e===rr)return{valid:!0,data:e};if(ir===ZodParsedType.object&&lr===ZodParsedType.object){const dr=util.objectKeys(rr),fr=util.objectKeys(e).filter(hr=>dr.indexOf(hr)!==-1),mr={...e,...rr};for(const hr of fr){const gr=mergeValues(e[hr],rr[hr]);if(!gr.valid)return{valid:!1};mr[hr]=gr.data}return{valid:!0,data:mr}}else if(ir===ZodParsedType.array&&lr===ZodParsedType.array){if(e.length!==rr.length)return{valid:!1};const dr=[];for(let fr=0;fr<e.length;fr++){const mr=e[fr],hr=rr[fr],gr=mergeValues(mr,hr);if(!gr.valid)return{valid:!1};dr.push(gr.data)}return{valid:!0,data:dr}}else return ir===ZodParsedType.date&&lr===ZodParsedType.date&&+e==+rr?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr),dr=(fr,mr)=>{if(isAborted(fr)||isAborted(mr))return INVALID;const hr=mergeValues(fr.value,mr.value);return hr.valid?((isDirty(fr)||isDirty(mr))&&ir.dirty(),{status:ir.value,value:hr.data}):(addIssueToContext(lr,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return lr.common.async?Promise.all([this._def.left._parseAsync({data:lr.data,path:lr.path,parent:lr}),this._def.right._parseAsync({data:lr.data,path:lr.path,parent:lr})]).then(([fr,mr])=>dr(fr,mr)):dr(this._def.left._parseSync({data:lr.data,path:lr.path,parent:lr}),this._def.right._parseSync({data:lr.data,path:lr.path,parent:lr}))}}ZodIntersection.create=(e,rr,ir)=>new ZodIntersection({left:e,right:rr,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(ir)});class ZodTuple extends ZodType{_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr);if(lr.parsedType!==ZodParsedType.array)return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:lr.parsedType}),INVALID;if(lr.data.length<this._def.items.length)return addIssueToContext(lr,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&lr.data.length>this._def.items.length&&(addIssueToContext(lr,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ir.dirty());const fr=[...lr.data].map((mr,hr)=>{const gr=this._def.items[hr]||this._def.rest;return gr?gr._parse(new ParseInputLazyPath(lr,mr,lr.path,hr)):null}).filter(mr=>!!mr);return lr.common.async?Promise.all(fr).then(mr=>ParseStatus.mergeArray(ir,mr)):ParseStatus.mergeArray(ir,fr)}get items(){return this._def.items}rest(rr){return new ZodTuple({...this._def,rest:rr})}}ZodTuple.create=(e,rr)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(rr)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr);if(lr.parsedType!==ZodParsedType.object)return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:lr.parsedType}),INVALID;const dr=[],fr=this._def.keyType,mr=this._def.valueType;for(const hr in lr.data)dr.push({key:fr._parse(new ParseInputLazyPath(lr,hr,lr.path,hr)),value:mr._parse(new ParseInputLazyPath(lr,lr.data[hr],lr.path,hr)),alwaysSet:hr in lr.data});return lr.common.async?ParseStatus.mergeObjectAsync(ir,dr):ParseStatus.mergeObjectSync(ir,dr)}get element(){return this._def.valueType}static create(rr,ir,lr){return ir instanceof ZodType?new ZodRecord({keyType:rr,valueType:ir,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(lr)}):new ZodRecord({keyType:ZodString.create(),valueType:rr,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(ir)})}}class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr);if(lr.parsedType!==ZodParsedType.map)return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:lr.parsedType}),INVALID;const dr=this._def.keyType,fr=this._def.valueType,mr=[...lr.data.entries()].map(([hr,gr],xr)=>({key:dr._parse(new ParseInputLazyPath(lr,hr,lr.path,[xr,"key"])),value:fr._parse(new ParseInputLazyPath(lr,gr,lr.path,[xr,"value"]))}));if(lr.common.async){const hr=new Map;return Promise.resolve().then(async()=>{for(const gr of mr){const xr=await gr.key,_r=await gr.value;if(xr.status==="aborted"||_r.status==="aborted")return INVALID;(xr.status==="dirty"||_r.status==="dirty")&&ir.dirty(),hr.set(xr.value,_r.value)}return{status:ir.value,value:hr}})}else{const hr=new Map;for(const gr of mr){const xr=gr.key,_r=gr.value;if(xr.status==="aborted"||_r.status==="aborted")return INVALID;(xr.status==="dirty"||_r.status==="dirty")&&ir.dirty(),hr.set(xr.value,_r.value)}return{status:ir.value,value:hr}}}}ZodMap.create=(e,rr,ir)=>new ZodMap({valueType:rr,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(ir)});class ZodSet extends ZodType{_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr);if(lr.parsedType!==ZodParsedType.set)return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:lr.parsedType}),INVALID;const dr=this._def;dr.minSize!==null&&lr.data.size<dr.minSize.value&&(addIssueToContext(lr,{code:ZodIssueCode.too_small,minimum:dr.minSize.value,type:"set",inclusive:!0,exact:!1,message:dr.minSize.message}),ir.dirty()),dr.maxSize!==null&&lr.data.size>dr.maxSize.value&&(addIssueToContext(lr,{code:ZodIssueCode.too_big,maximum:dr.maxSize.value,type:"set",inclusive:!0,exact:!1,message:dr.maxSize.message}),ir.dirty());const fr=this._def.valueType;function mr(gr){const xr=new Set;for(const _r of gr){if(_r.status==="aborted")return INVALID;_r.status==="dirty"&&ir.dirty(),xr.add(_r.value)}return{status:ir.value,value:xr}}const hr=[...lr.data.values()].map((gr,xr)=>fr._parse(new ParseInputLazyPath(lr,gr,lr.path,xr)));return lr.common.async?Promise.all(hr).then(gr=>mr(gr)):mr(hr)}min(rr,ir){return new ZodSet({...this._def,minSize:{value:rr,message:errorUtil.toString(ir)}})}max(rr,ir){return new ZodSet({...this._def,maxSize:{value:rr,message:errorUtil.toString(ir)}})}size(rr,ir){return this.min(rr,ir).max(rr,ir)}nonempty(rr){return this.min(1,rr)}}ZodSet.create=(e,rr)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(rr)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(rr){const{ctx:ir}=this._processInputParams(rr);if(ir.parsedType!==ZodParsedType.function)return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:ir.parsedType}),INVALID;function lr(hr,gr){return makeIssue({data:hr,path:ir.path,errorMaps:[ir.common.contextualErrorMap,ir.schemaErrorMap,getErrorMap(),errorMap].filter(xr=>!!xr),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:gr}})}function dr(hr,gr){return makeIssue({data:hr,path:ir.path,errorMaps:[ir.common.contextualErrorMap,ir.schemaErrorMap,getErrorMap(),errorMap].filter(xr=>!!xr),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:gr}})}const fr={errorMap:ir.common.contextualErrorMap},mr=ir.data;if(this._def.returns instanceof ZodPromise){const hr=this;return OK(async function(...gr){const xr=new ZodError([]),_r=await hr._def.args.parseAsync(gr,fr).catch(br=>{throw xr.addIssue(lr(gr,br)),xr}),yr=await Reflect.apply(mr,this,_r);return await hr._def.returns._def.type.parseAsync(yr,fr).catch(br=>{throw xr.addIssue(dr(yr,br)),xr})})}else{const hr=this;return OK(function(...gr){const xr=hr._def.args.safeParse(gr,fr);if(!xr.success)throw new ZodError([lr(gr,xr.error)]);const _r=Reflect.apply(mr,this,xr.data),yr=hr._def.returns.safeParse(_r,fr);if(!yr.success)throw new ZodError([dr(_r,yr.error)]);return yr.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...rr){return new ZodFunction({...this._def,args:ZodTuple.create(rr).rest(ZodUnknown.create())})}returns(rr){return new ZodFunction({...this._def,returns:rr})}implement(rr){return this.parse(rr)}strictImplement(rr){return this.parse(rr)}static create(rr,ir,lr){return new ZodFunction({args:rr||ZodTuple.create([]).rest(ZodUnknown.create()),returns:ir||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(lr)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(rr){const{ctx:ir}=this._processInputParams(rr);return this._def.getter()._parse({data:ir.data,path:ir.path,parent:ir})}}ZodLazy.create=(e,rr)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(rr)});class ZodLiteral extends ZodType{_parse(rr){if(rr.data!==this._def.value){const ir=this._getOrReturnCtx(rr);return addIssueToContext(ir,{received:ir.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:rr.data}}get value(){return this._def.value}}ZodLiteral.create=(e,rr)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(rr)});function createZodEnum(e,rr){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(rr)})}class ZodEnum extends ZodType{_parse(rr){if(typeof rr.data!="string"){const ir=this._getOrReturnCtx(rr),lr=this._def.values;return addIssueToContext(ir,{expected:util.joinValues(lr),received:ir.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(rr.data)){const ir=this._getOrReturnCtx(rr),lr=this._def.values;return addIssueToContext(ir,{received:ir.data,code:ZodIssueCode.invalid_enum_value,options:lr}),INVALID}return OK(rr.data)}get options(){return this._def.values}get enum(){const rr={};for(const ir of this._def.values)rr[ir]=ir;return rr}get Values(){const rr={};for(const ir of this._def.values)rr[ir]=ir;return rr}get Enum(){const rr={};for(const ir of this._def.values)rr[ir]=ir;return rr}extract(rr,ir=this._def){return ZodEnum.create(rr,{...this._def,...ir})}exclude(rr,ir=this._def){return ZodEnum.create(this.options.filter(lr=>!rr.includes(lr)),{...this._def,...ir})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(rr){const ir=util.getValidEnumValues(this._def.values),lr=this._getOrReturnCtx(rr);if(lr.parsedType!==ZodParsedType.string&&lr.parsedType!==ZodParsedType.number){const dr=util.objectValues(ir);return addIssueToContext(lr,{expected:util.joinValues(dr),received:lr.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(rr.data)){const dr=util.objectValues(ir);return addIssueToContext(lr,{received:lr.data,code:ZodIssueCode.invalid_enum_value,options:dr}),INVALID}return OK(rr.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,rr)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(rr)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(rr){const{ctx:ir}=this._processInputParams(rr);if(ir.parsedType!==ZodParsedType.promise&&ir.common.async===!1)return addIssueToContext(ir,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ir.parsedType}),INVALID;const lr=ir.parsedType===ZodParsedType.promise?ir.data:Promise.resolve(ir.data);return OK(lr.then(dr=>this._def.type.parseAsync(dr,{path:ir.path,errorMap:ir.common.contextualErrorMap})))}}ZodPromise.create=(e,rr)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(rr)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr),dr=this._def.effect||null,fr={addIssue:mr=>{addIssueToContext(lr,mr),mr.fatal?ir.abort():ir.dirty()},get path(){return lr.path}};if(fr.addIssue=fr.addIssue.bind(fr),dr.type==="preprocess"){const mr=dr.transform(lr.data,fr);if(lr.common.async)return Promise.resolve(mr).then(async hr=>{if(ir.value==="aborted")return INVALID;const gr=await this._def.schema._parseAsync({data:hr,path:lr.path,parent:lr});return gr.status==="aborted"?INVALID:gr.status==="dirty"||ir.value==="dirty"?DIRTY(gr.value):gr});{if(ir.value==="aborted")return INVALID;const hr=this._def.schema._parseSync({data:mr,path:lr.path,parent:lr});return hr.status==="aborted"?INVALID:hr.status==="dirty"||ir.value==="dirty"?DIRTY(hr.value):hr}}if(dr.type==="refinement"){const mr=hr=>{const gr=dr.refinement(hr,fr);if(lr.common.async)return Promise.resolve(gr);if(gr instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return hr};if(lr.common.async===!1){const hr=this._def.schema._parseSync({data:lr.data,path:lr.path,parent:lr});return hr.status==="aborted"?INVALID:(hr.status==="dirty"&&ir.dirty(),mr(hr.value),{status:ir.value,value:hr.value})}else return this._def.schema._parseAsync({data:lr.data,path:lr.path,parent:lr}).then(hr=>hr.status==="aborted"?INVALID:(hr.status==="dirty"&&ir.dirty(),mr(hr.value).then(()=>({status:ir.value,value:hr.value}))))}if(dr.type==="transform")if(lr.common.async===!1){const mr=this._def.schema._parseSync({data:lr.data,path:lr.path,parent:lr});if(!isValid(mr))return INVALID;const hr=dr.transform(mr.value,fr);if(hr instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:ir.value,value:hr}}else return this._def.schema._parseAsync({data:lr.data,path:lr.path,parent:lr}).then(mr=>isValid(mr)?Promise.resolve(dr.transform(mr.value,fr)).then(hr=>({status:ir.value,value:hr})):INVALID);util.assertNever(dr)}}ZodEffects.create=(e,rr,ir)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:rr,...processCreateParams(ir)});ZodEffects.createWithPreprocess=(e,rr,ir)=>new ZodEffects({schema:rr,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(ir)});class ZodOptional extends ZodType{_parse(rr){return this._getType(rr)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(rr)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,rr)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(rr)});class ZodNullable extends ZodType{_parse(rr){return this._getType(rr)===ZodParsedType.null?OK(null):this._def.innerType._parse(rr)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,rr)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(rr)});class ZodDefault extends ZodType{_parse(rr){const{ctx:ir}=this._processInputParams(rr);let lr=ir.data;return ir.parsedType===ZodParsedType.undefined&&(lr=this._def.defaultValue()),this._def.innerType._parse({data:lr,path:ir.path,parent:ir})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,rr)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:typeof rr.default=="function"?rr.default:()=>rr.default,...processCreateParams(rr)});class ZodCatch extends ZodType{_parse(rr){const{ctx:ir}=this._processInputParams(rr),lr={...ir,common:{...ir.common,issues:[]}},dr=this._def.innerType._parse({data:lr.data,path:lr.path,parent:{...lr}});return isAsync(dr)?dr.then(fr=>({status:"valid",value:fr.status==="valid"?fr.value:this._def.catchValue({get error(){return new ZodError(lr.common.issues)},input:lr.data})})):{status:"valid",value:dr.status==="valid"?dr.value:this._def.catchValue({get error(){return new ZodError(lr.common.issues)},input:lr.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,rr)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:typeof rr.catch=="function"?rr.catch:()=>rr.catch,...processCreateParams(rr)});class ZodNaN extends ZodType{_parse(rr){if(this._getType(rr)!==ZodParsedType.nan){const lr=this._getOrReturnCtx(rr);return addIssueToContext(lr,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:lr.parsedType}),INVALID}return{status:"valid",value:rr.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(rr){const{ctx:ir}=this._processInputParams(rr),lr=ir.data;return this._def.type._parse({data:lr,path:ir.path,parent:ir})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(rr){const{status:ir,ctx:lr}=this._processInputParams(rr);if(lr.common.async)return(async()=>{const fr=await this._def.in._parseAsync({data:lr.data,path:lr.path,parent:lr});return fr.status==="aborted"?INVALID:fr.status==="dirty"?(ir.dirty(),DIRTY(fr.value)):this._def.out._parseAsync({data:fr.value,path:lr.path,parent:lr})})();{const dr=this._def.in._parseSync({data:lr.data,path:lr.path,parent:lr});return dr.status==="aborted"?INVALID:dr.status==="dirty"?(ir.dirty(),{status:"dirty",value:dr.value}):this._def.out._parseSync({data:dr.value,path:lr.path,parent:lr})}}static create(rr,ir){return new ZodPipeline({in:rr,out:ir,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(rr){const ir=this._def.innerType._parse(rr),lr=dr=>(isValid(dr)&&(dr.value=Object.freeze(dr.value)),dr);return isAsync(ir)?ir.then(dr=>lr(dr)):lr(ir)}unwrap(){return this._def.innerType}}ZodReadonly.create=(e,rr)=>new ZodReadonly({innerType:e,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(rr)});function cleanParams(e,rr){const ir=typeof e=="function"?e(rr):typeof e=="string"?{message:e}:e;return typeof ir=="string"?{message:ir}:ir}function custom(e,rr={},ir){return e?ZodAny.create().superRefine((lr,dr)=>{const fr=e(lr);if(fr instanceof Promise)return fr.then(mr=>{if(!mr){const hr=cleanParams(rr,lr),gr=hr.fatal??ir??!0;dr.addIssue({code:"custom",...hr,fatal:gr})}});if(!fr){const mr=cleanParams(rr,lr),hr=mr.fatal??ir??!0;dr.addIssue({code:"custom",...mr,fatal:hr})}}):ZodAny.create()}const late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,rr={message:`Input not instance of ${e.name}`})=>custom(ir=>ir instanceof e,rr),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID,z$1=Object.freeze(Object.defineProperty({__proto__:null,BRAND,DIRTY,EMPTY_PATH,INVALID,NEVER,OK,ParseStatus,Schema:ZodType,ZodAny,ZodArray,ZodBigInt,ZodBoolean,ZodBranded,ZodCatch,ZodDate,ZodDefault,ZodDiscriminatedUnion,ZodEffects,ZodEnum,ZodError,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},ZodFunction,ZodIntersection,ZodIssueCode,ZodLazy,ZodLiteral,ZodMap,ZodNaN,ZodNativeEnum,ZodNever,ZodNull,ZodNullable,ZodNumber,ZodObject,ZodOptional,ZodParsedType,ZodPipeline,ZodPromise,ZodReadonly,ZodRecord,ZodSchema:ZodType,ZodSet,ZodString,ZodSymbol,ZodTransformer:ZodEffects,ZodTuple,ZodType,ZodUndefined,ZodUnion,ZodUnknown,ZodVoid,addIssueToContext,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,coerce,custom,date:dateType,datetimeRegex,defaultErrorMap:errorMap,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,getErrorMap,getParsedType,instanceof:instanceOfType,intersection:intersectionType,isAborted,isAsync,isDirty,isValid,late,lazy:lazyType,literal:literalType,makeIssue,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,get objectUtil(){return objectUtil},oboolean,onumber,optional:optionalType,ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,quotelessJson,record:recordType,set:setType,setErrorMap,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,get util(){return util},void:voidType},Symbol.toStringTag,{value:"Module"}));function zodResolver(e,rr){return ir=>{const lr=e.safeParse(ir);if(lr.success)return{};const dr={};return"error"in lr&&lr.error.errors.forEach(fr=>{dr[fr.path.join(".")]=fr.message}),dr}}const title="_title_1409h_1",subtitle="_subtitle_1409h_6",classes$d={title,subtitle};/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes$1={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const createReactComponent=(e,rr,ir,lr)=>{const dr=reactExports.forwardRef(({color:fr="currentColor",size:mr=24,stroke:hr=2,title:gr,className:xr,children:_r,...yr},vr)=>reactExports.createElement("svg",{ref:vr,...defaultAttributes$1[e],width:mr,height:mr,className:["tabler-icon",`tabler-icon-${rr}`,xr].join(" "),strokeWidth:hr,stroke:fr,...yr},[gr&&reactExports.createElement("title",{key:"svg-title"},gr),...lr.map(([br,Sr])=>reactExports.createElement(br,Sr)),...Array.isArray(_r)?_r:[_r]]));return dr.displayName=`${ir}`,dr};/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconAlertCircle=createReactComponent("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconArrowRight=createReactComponent("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconArrowsUpDown=createReactComponent("outline","arrows-up-down","IconArrowsUpDown",[["path",{d:"M7 3l0 18",key:"svg-0"}],["path",{d:"M10 6l-3 -3l-3 3",key:"svg-1"}],["path",{d:"M20 18l-3 3l-3 -3",key:"svg-2"}],["path",{d:"M17 21l0 -18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconBook=createReactComponent("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCalendar=createReactComponent("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCheck=createReactComponent("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCheckbox=createReactComponent("outline","checkbox","IconCheckbox",[["path",{d:"M9 11l3 3l8 -8",key:"svg-0"}],["path",{d:"M20 12v6a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h9",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconClockOff=createReactComponent("outline","clock-off","IconClockOff",[["path",{d:"M5.633 5.64a9 9 0 1 0 12.735 12.72m1.674 -2.32a9 9 0 0 0 -12.082 -12.082",key:"svg-0"}],["path",{d:"M12 7v1",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconClock=createReactComponent("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconDeviceFloppy=createReactComponent("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconEdit=createReactComponent("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconEye=createReactComponent("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFilePencil=createReactComponent("outline","file-pencil","IconFilePencil",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M10 18l5 -5a1.414 1.414 0 0 0 -2 -2l-5 5v2h2z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFileTypeCsv=createReactComponent("outline","file-type-csv","IconFileTypeCsv",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-2"}],["path",{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-3"}],["path",{d:"M16 15l2 6l2 -6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFile=createReactComponent("outline","file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFilter=createReactComponent("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconGripVertical=createReactComponent("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconInfoCircle=createReactComponent("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconLink=createReactComponent("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconLogout=createReactComponent("outline","logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconMail=createReactComponent("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconMaximize=createReactComponent("outline","maximize","IconMaximize",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconNumber123=createReactComponent("outline","number-123","IconNumber123",[["path",{d:"M3 10l2 -2v8",key:"svg-0"}],["path",{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3",key:"svg-1"}],["path",{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconPlayerPlay=createReactComponent("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconRefresh=createReactComponent("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconSend=createReactComponent("outline","send","IconSend",[["path",{d:"M10 14l11 -11",key:"svg-0"}],["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconSettings=createReactComponent("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconTemplate=createReactComponent("outline","template","IconTemplate",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M4 12m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M14 12l6 0",key:"svg-2"}],["path",{d:"M14 16l6 0",key:"svg-3"}],["path",{d:"M14 20l6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconTrash=createReactComponent("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconTrophy=createReactComponent("outline","trophy","IconTrophy",[["path",{d:"M8 21l8 0",key:"svg-0"}],["path",{d:"M12 17l0 4",key:"svg-1"}],["path",{d:"M7 4l10 0",key:"svg-2"}],["path",{d:"M17 4v8a5 5 0 0 1 -10 0v-8",key:"svg-3"}],["path",{d:"M5 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M19 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconUpload=createReactComponent("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconUser=createReactComponent("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconUsersGroup=createReactComponent("outline","users-group","IconUsersGroup",[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.34.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconX=createReactComponent("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);function showSuccess(e){notifications.show({icon:jsxRuntimeExports.jsx(IconCheck,{style:{width:rem(20),height:rem(20)},stroke:1.75}),message:e,color:"teal"})}function showError(e){notifications.show({icon:jsxRuntimeExports.jsx(IconX,{style:{width:rem(20),height:rem(20)},stroke:1.75}),message:e,color:"red"})}const resolveFetch$3=e=>{let rr;return e?rr=e:typeof fetch>"u"?rr=(...ir)=>__vitePreload(async()=>{const{default:lr}=await Promise.resolve().then(()=>browser);return{default:lr}},void 0).then(({default:lr})=>lr(...ir)):rr=fetch,(...ir)=>rr(...ir)};class FunctionsError extends Error{constructor(rr,ir="FunctionsError",lr){super(rr),this.name=ir,this.context=lr}}class FunctionsFetchError extends FunctionsError{constructor(rr){super("Failed to send a request to the Edge Function","FunctionsFetchError",rr)}}class FunctionsRelayError extends FunctionsError{constructor(rr){super("Relay Error invoking the Edge Function","FunctionsRelayError",rr)}}class FunctionsHttpError extends FunctionsError{constructor(rr){super("Edge Function returned a non-2xx status code","FunctionsHttpError",rr)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};class FunctionsClient{constructor(rr,{headers:ir={},customFetch:lr,region:dr=FunctionRegion.Any}={}){this.url=rr,this.headers=ir,this.region=dr,this.fetch=resolveFetch$3(lr)}setAuth(rr){this.headers.Authorization=`Bearer ${rr}`}invoke(rr,ir={}){var lr;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:dr,method:fr,body:mr}=ir;let hr={},{region:gr}=ir;gr||(gr=this.region);const xr=new URL(`${this.url}/${rr}`);gr&&gr!=="any"&&(hr["x-region"]=gr,xr.searchParams.set("forceFunctionRegion",gr));let _r;mr&&(dr&&!Object.prototype.hasOwnProperty.call(dr,"Content-Type")||!dr)&&(typeof Blob<"u"&&mr instanceof Blob||mr instanceof ArrayBuffer?(hr["Content-Type"]="application/octet-stream",_r=mr):typeof mr=="string"?(hr["Content-Type"]="text/plain",_r=mr):typeof FormData<"u"&&mr instanceof FormData?_r=mr:(hr["Content-Type"]="application/json",_r=JSON.stringify(mr)));const yr=yield this.fetch(xr.toString(),{method:fr||"POST",headers:Object.assign(Object.assign(Object.assign({},hr),this.headers),dr),body:_r}).catch(wr=>{throw new FunctionsFetchError(wr)}),vr=yr.headers.get("x-relay-error");if(vr&&vr==="true")throw new FunctionsRelayError(yr);if(!yr.ok)throw new FunctionsHttpError(yr);let br=((lr=yr.headers.get("Content-Type"))!==null&&lr!==void 0?lr:"text/plain").split(";")[0].trim(),Sr;return br==="application/json"?Sr=yield yr.json():br==="application/octet-stream"?Sr=yield yr.blob():br==="text/event-stream"?Sr=yr:br==="multipart/form-data"?Sr=yield yr.formData():Sr=yield yr.text(),{data:Sr,error:null,response:yr}}catch(dr){return{data:null,error:dr,response:dr instanceof FunctionsHttpError||dr instanceof FunctionsRelayError?dr.context:void 0}}})}}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(rr){super(rr.message),this.name="PostgrestError",this.details=rr.details,this.hint=rr.hint,this.code=rr.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(rr){var ir,lr;this.shouldThrowOnError=!1,this.method=rr.method,this.url=rr.url,this.headers=new Headers(rr.headers),this.schema=rr.schema,this.body=rr.body,this.shouldThrowOnError=(ir=rr.shouldThrowOnError)!==null&&ir!==void 0?ir:!1,this.signal=rr.signal,this.isMaybeSingle=(lr=rr.isMaybeSingle)!==null&&lr!==void 0?lr:!1,rr.fetch?this.fetch=rr.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(rr,ir){return this.headers=new Headers(this.headers),this.headers.set(rr,ir),this}then(rr,ir){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const lr=this.fetch;let dr=lr(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async fr=>{var mr,hr,gr,xr;let _r=null,yr=null,vr=null,br=fr.status,Sr=fr.statusText;if(fr.ok){if(this.method!=="HEAD"){const Ar=await fr.text();Ar===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((mr=this.headers.get("Accept"))===null||mr===void 0)&&mr.includes("application/vnd.pgrst.plan+text"))?yr=Ar:yr=JSON.parse(Ar))}const Mr=(hr=this.headers.get("Prefer"))===null||hr===void 0?void 0:hr.match(/count=(exact|planned|estimated)/),kr=(gr=fr.headers.get("content-range"))===null||gr===void 0?void 0:gr.split("/");Mr&&kr&&kr.length>1&&(vr=parseInt(kr[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(yr)&&(yr.length>1?(_r={code:"PGRST116",details:`Results contain ${yr.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},yr=null,vr=null,br=406,Sr="Not Acceptable"):yr.length===1?yr=yr[0]:yr=null)}else{const Mr=await fr.text();try{_r=JSON.parse(Mr),Array.isArray(_r)&&fr.status===404&&(yr=[],_r=null,br=200,Sr="OK")}catch{fr.status===404&&Mr===""?(br=204,Sr="No Content"):_r={message:Mr}}if(_r&&this.isMaybeSingle&&(!((xr=_r?.details)===null||xr===void 0)&&xr.includes("0 rows"))&&(_r=null,br=200,Sr="OK"),_r&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(_r)}return{error:_r,data:yr,count:vr,status:br,statusText:Sr}});return this.shouldThrowOnError||(dr=dr.catch(fr=>{var mr,hr,gr;return{error:{message:`${(mr=fr?.name)!==null&&mr!==void 0?mr:"FetchError"}: ${fr?.message}`,details:`${(hr=fr?.stack)!==null&&hr!==void 0?hr:""}`,hint:"",code:`${(gr=fr?.code)!==null&&gr!==void 0?gr:""}`},data:null,count:null,status:0,statusText:""}})),dr.then(rr,ir)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(rr){let ir=!1;const lr=(rr??"*").split("").map(dr=>/\s/.test(dr)&&!ir?"":(dr==='"'&&(ir=!ir),dr)).join("");return this.url.searchParams.set("select",lr),this.headers.append("Prefer","return=representation"),this}order(rr,{ascending:ir=!0,nullsFirst:lr,foreignTable:dr,referencedTable:fr=dr}={}){const mr=fr?`${fr}.order`:"order",hr=this.url.searchParams.get(mr);return this.url.searchParams.set(mr,`${hr?`${hr},`:""}${rr}.${ir?"asc":"desc"}${lr===void 0?"":lr?".nullsfirst":".nullslast"}`),this}limit(rr,{foreignTable:ir,referencedTable:lr=ir}={}){const dr=typeof lr>"u"?"limit":`${lr}.limit`;return this.url.searchParams.set(dr,`${rr}`),this}range(rr,ir,{foreignTable:lr,referencedTable:dr=lr}={}){const fr=typeof dr>"u"?"offset":`${dr}.offset`,mr=typeof dr>"u"?"limit":`${dr}.limit`;return this.url.searchParams.set(fr,`${rr}`),this.url.searchParams.set(mr,`${ir-rr+1}`),this}abortSignal(rr){return this.signal=rr,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:rr=!1,verbose:ir=!1,settings:lr=!1,buffers:dr=!1,wal:fr=!1,format:mr="text"}={}){var hr;const gr=[rr?"analyze":null,ir?"verbose":null,lr?"settings":null,dr?"buffers":null,fr?"wal":null].filter(Boolean).join("|"),xr=(hr=this.headers.get("Accept"))!==null&&hr!==void 0?hr:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${mr}; for="${xr}"; options=${gr};`),mr==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(rr){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${rr}`),this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(rr,ir){return this.url.searchParams.append(rr,`eq.${ir}`),this}neq(rr,ir){return this.url.searchParams.append(rr,`neq.${ir}`),this}gt(rr,ir){return this.url.searchParams.append(rr,`gt.${ir}`),this}gte(rr,ir){return this.url.searchParams.append(rr,`gte.${ir}`),this}lt(rr,ir){return this.url.searchParams.append(rr,`lt.${ir}`),this}lte(rr,ir){return this.url.searchParams.append(rr,`lte.${ir}`),this}like(rr,ir){return this.url.searchParams.append(rr,`like.${ir}`),this}likeAllOf(rr,ir){return this.url.searchParams.append(rr,`like(all).{${ir.join(",")}}`),this}likeAnyOf(rr,ir){return this.url.searchParams.append(rr,`like(any).{${ir.join(",")}}`),this}ilike(rr,ir){return this.url.searchParams.append(rr,`ilike.${ir}`),this}ilikeAllOf(rr,ir){return this.url.searchParams.append(rr,`ilike(all).{${ir.join(",")}}`),this}ilikeAnyOf(rr,ir){return this.url.searchParams.append(rr,`ilike(any).{${ir.join(",")}}`),this}is(rr,ir){return this.url.searchParams.append(rr,`is.${ir}`),this}in(rr,ir){const lr=Array.from(new Set(ir)).map(dr=>typeof dr=="string"&&new RegExp("[,()]").test(dr)?`"${dr}"`:`${dr}`).join(",");return this.url.searchParams.append(rr,`in.(${lr})`),this}contains(rr,ir){return typeof ir=="string"?this.url.searchParams.append(rr,`cs.${ir}`):Array.isArray(ir)?this.url.searchParams.append(rr,`cs.{${ir.join(",")}}`):this.url.searchParams.append(rr,`cs.${JSON.stringify(ir)}`),this}containedBy(rr,ir){return typeof ir=="string"?this.url.searchParams.append(rr,`cd.${ir}`):Array.isArray(ir)?this.url.searchParams.append(rr,`cd.{${ir.join(",")}}`):this.url.searchParams.append(rr,`cd.${JSON.stringify(ir)}`),this}rangeGt(rr,ir){return this.url.searchParams.append(rr,`sr.${ir}`),this}rangeGte(rr,ir){return this.url.searchParams.append(rr,`nxl.${ir}`),this}rangeLt(rr,ir){return this.url.searchParams.append(rr,`sl.${ir}`),this}rangeLte(rr,ir){return this.url.searchParams.append(rr,`nxr.${ir}`),this}rangeAdjacent(rr,ir){return this.url.searchParams.append(rr,`adj.${ir}`),this}overlaps(rr,ir){return typeof ir=="string"?this.url.searchParams.append(rr,`ov.${ir}`):this.url.searchParams.append(rr,`ov.{${ir.join(",")}}`),this}textSearch(rr,ir,{config:lr,type:dr}={}){let fr="";dr==="plain"?fr="pl":dr==="phrase"?fr="ph":dr==="websearch"&&(fr="w");const mr=lr===void 0?"":`(${lr})`;return this.url.searchParams.append(rr,`${fr}fts${mr}.${ir}`),this}match(rr){return Object.entries(rr).forEach(([ir,lr])=>{this.url.searchParams.append(ir,`eq.${lr}`)}),this}not(rr,ir,lr){return this.url.searchParams.append(rr,`not.${ir}.${lr}`),this}or(rr,{foreignTable:ir,referencedTable:lr=ir}={}){const dr=lr?`${lr}.or`:"or";return this.url.searchParams.append(dr,`(${rr})`),this}filter(rr,ir,lr){return this.url.searchParams.append(rr,`${ir}.${lr}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(rr,{headers:ir={},schema:lr,fetch:dr}){this.url=rr,this.headers=new Headers(ir),this.schema=lr,this.fetch=dr}select(rr,{head:ir=!1,count:lr}={}){const dr=ir?"HEAD":"GET";let fr=!1;const mr=(rr??"*").split("").map(hr=>/\s/.test(hr)&&!fr?"":(hr==='"'&&(fr=!fr),hr)).join("");return this.url.searchParams.set("select",mr),lr&&this.headers.append("Prefer",`count=${lr}`),new PostgrestFilterBuilder_1$2.default({method:dr,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(rr,{count:ir,defaultToNull:lr=!0}={}){var dr;const fr="POST";if(ir&&this.headers.append("Prefer",`count=${ir}`),lr||this.headers.append("Prefer","missing=default"),Array.isArray(rr)){const mr=rr.reduce((hr,gr)=>hr.concat(Object.keys(gr)),[]);if(mr.length>0){const hr=[...new Set(mr)].map(gr=>`"${gr}"`);this.url.searchParams.set("columns",hr.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:fr,url:this.url,headers:this.headers,schema:this.schema,body:rr,fetch:(dr=this.fetch)!==null&&dr!==void 0?dr:fetch})}upsert(rr,{onConflict:ir,ignoreDuplicates:lr=!1,count:dr,defaultToNull:fr=!0}={}){var mr;const hr="POST";if(this.headers.append("Prefer",`resolution=${lr?"ignore":"merge"}-duplicates`),ir!==void 0&&this.url.searchParams.set("on_conflict",ir),dr&&this.headers.append("Prefer",`count=${dr}`),fr||this.headers.append("Prefer","missing=default"),Array.isArray(rr)){const gr=rr.reduce((xr,_r)=>xr.concat(Object.keys(_r)),[]);if(gr.length>0){const xr=[...new Set(gr)].map(_r=>`"${_r}"`);this.url.searchParams.set("columns",xr.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:hr,url:this.url,headers:this.headers,schema:this.schema,body:rr,fetch:(mr=this.fetch)!==null&&mr!==void 0?mr:fetch})}update(rr,{count:ir}={}){var lr;const dr="PATCH";return ir&&this.headers.append("Prefer",`count=${ir}`),new PostgrestFilterBuilder_1$2.default({method:dr,url:this.url,headers:this.headers,schema:this.schema,body:rr,fetch:(lr=this.fetch)!==null&&lr!==void 0?lr:fetch})}delete({count:rr}={}){var ir;const lr="DELETE";return rr&&this.headers.append("Prefer",`count=${rr}`),new PostgrestFilterBuilder_1$2.default({method:lr,url:this.url,headers:this.headers,schema:this.schema,fetch:(ir=this.fetch)!==null&&ir!==void 0?ir:fetch})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2);let PostgrestClient$1=class go{constructor(rr,{headers:ir={},schema:lr,fetch:dr}={}){this.url=rr,this.headers=new Headers(ir),this.schemaName=lr,this.fetch=dr}from(rr){const ir=new URL(`${this.url}/${rr}`);return new PostgrestQueryBuilder_1$1.default(ir,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(rr){return new go(this.url,{headers:this.headers,schema:rr,fetch:this.fetch})}rpc(rr,ir={},{head:lr=!1,get:dr=!1,count:fr}={}){var mr;let hr;const gr=new URL(`${this.url}/rpc/${rr}`);let xr;lr||dr?(hr=lr?"HEAD":"GET",Object.entries(ir).filter(([yr,vr])=>vr!==void 0).map(([yr,vr])=>[yr,Array.isArray(vr)?`{${vr.join(",")}}`:`${vr}`]).forEach(([yr,vr])=>{gr.searchParams.append(yr,vr)})):(hr="POST",xr=ir);const _r=new Headers(this.headers);return fr&&_r.set("Prefer",`count=${fr}`),new PostgrestFilterBuilder_1$1.default({method:hr,url:gr,headers:_r,schema:this.schemaName,body:xr,fetch:(mr=this.fetch)!==null&&mr!==void 0?mr:fetch})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default$1=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default$1;class WebSocketFactory{static detectEnvironment(){var rr;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((rr=navigator.userAgent)===null||rr===void 0)&&rr.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const ir=process.versions;if(ir&&ir.node){const lr=ir.node,dr=parseInt(lr.replace(/^v/,"").split(".")[0]);return dr>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${dr} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${dr} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const rr=this.detectEnvironment();if(rr.constructor)return rr.constructor;let ir=rr.error||"WebSocket not supported in this environment.";throw rr.workaround&&(ir+=`

Suggested solution: ${rr.workaround}`),new Error(ir)}static createWebSocket(rr,ir){const lr=this.getWebSocketConstructor();return new lr(rr,ir)}static isWebSocketSupported(){try{const rr=this.detectEnvironment();return rr.type==="native"||rr.type==="ws"}catch{return!1}}}const version$3="2.15.5",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(rr,ir){return rr.constructor===ArrayBuffer?ir(this._binaryDecode(rr)):ir(typeof rr=="string"?JSON.parse(rr):{})}_binaryDecode(rr){const ir=new DataView(rr),lr=new TextDecoder;return this._decodeBroadcast(rr,ir,lr)}_decodeBroadcast(rr,ir,lr){const dr=ir.getUint8(1),fr=ir.getUint8(2);let mr=this.HEADER_LENGTH+2;const hr=lr.decode(rr.slice(mr,mr+dr));mr=mr+dr;const gr=lr.decode(rr.slice(mr,mr+fr));mr=mr+fr;const xr=JSON.parse(lr.decode(rr.slice(mr,rr.byteLength)));return{ref:null,topic:hr,event:gr,payload:xr}}}class Timer{constructor(rr,ir){this.callback=rr,this.timerCalc=ir,this.timer=void 0,this.tries=0,this.callback=rr,this.timerCalc=ir}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,rr,ir={})=>{var lr;const dr=(lr=ir.skipTypes)!==null&&lr!==void 0?lr:[];return Object.keys(rr).reduce((fr,mr)=>(fr[mr]=convertColumn(mr,e,rr,dr),fr),{})},convertColumn=(e,rr,ir,lr)=>{const dr=rr.find(hr=>hr.name===e),fr=dr?.type,mr=ir[e];return fr&&!lr.includes(fr)?convertCell(fr,mr):noop$5(mr)},convertCell=(e,rr)=>{if(e.charAt(0)==="_"){const ir=e.slice(1,e.length);return toArray(rr,ir)}switch(e){case PostgresTypes.bool:return toBoolean(rr);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(rr);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(rr);case PostgresTypes.timestamp:return toTimestampString(rr);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$5(rr);default:return noop$5(rr)}},noop$5=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber=e=>{if(typeof e=="string"){const rr=parseFloat(e);if(!Number.isNaN(rr))return rr}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(rr){return console.log(`JSON parse error: ${rr}`),e}return e},toArray=(e,rr)=>{if(typeof e!="string")return e;const ir=e.length-1,lr=e[ir];if(e[0]==="{"&&lr==="}"){let fr;const mr=e.slice(1,ir);try{fr=JSON.parse("["+mr+"]")}catch{fr=mr?mr.split(","):[]}return fr.map(hr=>convertCell(rr,hr))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{let rr=e;return rr=rr.replace(/^ws/i,"http"),rr=rr.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),rr.replace(/\/+$/,"")+"/api/broadcast"};class Push{constructor(rr,ir,lr={},dr=DEFAULT_TIMEOUT){this.channel=rr,this.event=ir,this.payload=lr,this.timeout=dr,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(rr){this.timeout=rr,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(rr){this.payload=Object.assign(Object.assign({},this.payload),rr)}receive(rr,ir){var lr;return this._hasReceived(rr)&&ir((lr=this.receivedResp)===null||lr===void 0?void 0:lr.response),this.recHooks.push({status:rr,callback:ir}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const rr=ir=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=ir,this._matchReceive(ir)};this.channel._on(this.refEvent,{},rr),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(rr,ir){this.refEvent&&this.channel._trigger(this.refEvent,{status:rr,response:ir})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:rr,response:ir}){this.recHooks.filter(lr=>lr.status===rr).forEach(lr=>lr.callback(ir))}_hasReceived(rr){return this.receivedResp&&this.receivedResp.status===rr}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(rr,ir){this.channel=rr,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const lr=ir?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(lr.state,{},dr=>{const{onJoin:fr,onLeave:mr,onSync:hr}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,dr,fr,mr),this.pendingDiffs.forEach(gr=>{this.state=RealtimePresence.syncDiff(this.state,gr,fr,mr)}),this.pendingDiffs=[],hr()}),this.channel._on(lr.diff,{},dr=>{const{onJoin:fr,onLeave:mr,onSync:hr}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(dr):(this.state=RealtimePresence.syncDiff(this.state,dr,fr,mr),hr())}),this.onJoin((dr,fr,mr)=>{this.channel._trigger("presence",{event:"join",key:dr,currentPresences:fr,newPresences:mr})}),this.onLeave((dr,fr,mr)=>{this.channel._trigger("presence",{event:"leave",key:dr,currentPresences:fr,leftPresences:mr})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(rr,ir,lr,dr){const fr=this.cloneDeep(rr),mr=this.transformState(ir),hr={},gr={};return this.map(fr,(xr,_r)=>{mr[xr]||(gr[xr]=_r)}),this.map(mr,(xr,_r)=>{const yr=fr[xr];if(yr){const vr=_r.map(Mr=>Mr.presence_ref),br=yr.map(Mr=>Mr.presence_ref),Sr=_r.filter(Mr=>br.indexOf(Mr.presence_ref)<0),wr=yr.filter(Mr=>vr.indexOf(Mr.presence_ref)<0);Sr.length>0&&(hr[xr]=Sr),wr.length>0&&(gr[xr]=wr)}else hr[xr]=_r}),this.syncDiff(fr,{joins:hr,leaves:gr},lr,dr)}static syncDiff(rr,ir,lr,dr){const{joins:fr,leaves:mr}={joins:this.transformState(ir.joins),leaves:this.transformState(ir.leaves)};return lr||(lr=()=>{}),dr||(dr=()=>{}),this.map(fr,(hr,gr)=>{var xr;const _r=(xr=rr[hr])!==null&&xr!==void 0?xr:[];if(rr[hr]=this.cloneDeep(gr),_r.length>0){const yr=rr[hr].map(br=>br.presence_ref),vr=_r.filter(br=>yr.indexOf(br.presence_ref)<0);rr[hr].unshift(...vr)}lr(hr,_r,gr)}),this.map(mr,(hr,gr)=>{let xr=rr[hr];if(!xr)return;const _r=gr.map(yr=>yr.presence_ref);xr=xr.filter(yr=>_r.indexOf(yr.presence_ref)<0),rr[hr]=xr,dr(hr,xr,gr),xr.length===0&&delete rr[hr]}),rr}static map(rr,ir){return Object.getOwnPropertyNames(rr).map(lr=>ir(lr,rr[lr]))}static transformState(rr){return rr=this.cloneDeep(rr),Object.getOwnPropertyNames(rr).reduce((ir,lr)=>{const dr=rr[lr];return"metas"in dr?ir[lr]=dr.metas.map(fr=>(fr.presence_ref=fr.phx_ref,delete fr.phx_ref,delete fr.phx_ref_prev,fr)):ir[lr]=dr,ir},{})}static cloneDeep(rr){return JSON.parse(JSON.stringify(rr))}onJoin(rr){this.caller.onJoin=rr}onLeave(rr){this.caller.onLeave=rr}onSync(rr){this.caller.onSync=rr}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(rr,ir={config:{}},lr){this.topic=rr,this.params=ir,this.socket=lr,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=rr.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},ir.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(dr=>dr.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(dr=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,dr),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",dr=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,dr),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(dr,fr)=>{this._trigger(this._replyEventName(fr),dr)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(rr,ir=this.timeout){var lr,dr,fr;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:mr,presence:hr,private:gr}}=this.params,xr=(dr=(lr=this.bindings.postgres_changes)===null||lr===void 0?void 0:lr.map(br=>br.filter))!==null&&dr!==void 0?dr:[],_r=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((fr=this.params.config.presence)===null||fr===void 0?void 0:fr.enabled)===!0,yr={},vr={broadcast:mr,presence:Object.assign(Object.assign({},hr),{enabled:_r}),postgres_changes:xr,private:gr};this.socket.accessTokenValue&&(yr.access_token=this.socket.accessTokenValue),this._onError(br=>rr?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,br)),this._onClose(()=>rr?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:vr},yr)),this.joinedOnce=!0,this._rejoin(ir),this.joinPush.receive("ok",async({postgres_changes:br})=>{var Sr;if(this.socket.setAuth(),br===void 0){rr?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const wr=this.bindings.postgres_changes,Mr=(Sr=wr?.length)!==null&&Sr!==void 0?Sr:0,kr=[];for(let Ar=0;Ar<Mr;Ar++){const Ir=wr[Ar],{filter:{event:$r,schema:Dr,table:Or,filter:Fr}}=Ir,Lr=br&&br[Ar];if(Lr&&Lr.event===$r&&Lr.schema===Dr&&Lr.table===Or&&Lr.filter===Fr)kr.push(Object.assign(Object.assign({},Ir),{id:Lr.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,rr?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=kr,rr&&rr(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",br=>{this.state=CHANNEL_STATES.errored,rr?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(br).join(", ")||"error")))}).receive("timeout",()=>{rr?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(rr,ir={}){return await this.send({type:"presence",event:"track",payload:rr},ir.timeout||this.timeout)}async untrack(rr={}){return await this.send({type:"presence",event:"untrack"},rr)}on(rr,ir,lr){return this.state===CHANNEL_STATES.joined&&rr===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(rr,ir,lr)}async send(rr,ir={}){var lr,dr;if(!this._canPush()&&rr.type==="broadcast"){const{event:fr,payload:mr}=rr,gr={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:fr,payload:mr,private:this.private}]})};try{const xr=await this._fetchWithTimeout(this.broadcastEndpointURL,gr,(lr=ir.timeout)!==null&&lr!==void 0?lr:this.timeout);return await((dr=xr.body)===null||dr===void 0?void 0:dr.cancel()),xr.ok?"ok":"error"}catch(xr){return xr.name==="AbortError"?"timed out":"error"}}else return new Promise(fr=>{var mr,hr,gr;const xr=this._push(rr.type,rr,ir.timeout||this.timeout);rr.type==="broadcast"&&!(!((gr=(hr=(mr=this.params)===null||mr===void 0?void 0:mr.config)===null||hr===void 0?void 0:hr.broadcast)===null||gr===void 0)&&gr.ack)&&fr("ok"),xr.receive("ok",()=>fr("ok")),xr.receive("error",()=>fr("error")),xr.receive("timeout",()=>fr("timed out"))})}updateJoinPayload(rr){this.joinPush.updatePayload(rr)}unsubscribe(rr=this.timeout){this.state=CHANNEL_STATES.leaving;const ir=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let lr=null;return new Promise(dr=>{lr=new Push(this,CHANNEL_EVENTS.leave,{},rr),lr.receive("ok",()=>{ir(),dr("ok")}).receive("timeout",()=>{ir(),dr("timed out")}).receive("error",()=>{dr("error")}),lr.send(),this._canPush()||lr.trigger("ok",{})}).finally(()=>{lr?.destroy()})}teardown(){this.pushBuffer.forEach(rr=>rr.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(rr,ir,lr){const dr=new AbortController,fr=setTimeout(()=>dr.abort(),lr),mr=await this.socket.fetch(rr,Object.assign(Object.assign({},ir),{signal:dr.signal}));return clearTimeout(fr),mr}_push(rr,ir,lr=this.timeout){if(!this.joinedOnce)throw`tried to push '${rr}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let dr=new Push(this,rr,ir,lr);return this._canPush()?dr.send():this._addToPushBuffer(dr),dr}_addToPushBuffer(rr){if(rr.startTimeout(),this.pushBuffer.push(rr),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const ir=this.pushBuffer.shift();ir&&(ir.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${ir.event}`,ir.payload))}}_onMessage(rr,ir,lr){return ir}_isMember(rr){return this.topic===rr}_joinRef(){return this.joinPush.ref}_trigger(rr,ir,lr){var dr,fr;const mr=rr.toLocaleLowerCase(),{close:hr,error:gr,leave:xr,join:_r}=CHANNEL_EVENTS;if(lr&&[hr,gr,xr,_r].indexOf(mr)>=0&&lr!==this._joinRef())return;let vr=this._onMessage(mr,ir,lr);if(ir&&!vr)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(mr)?(dr=this.bindings.postgres_changes)===null||dr===void 0||dr.filter(br=>{var Sr,wr,Mr;return((Sr=br.filter)===null||Sr===void 0?void 0:Sr.event)==="*"||((Mr=(wr=br.filter)===null||wr===void 0?void 0:wr.event)===null||Mr===void 0?void 0:Mr.toLocaleLowerCase())===mr}).map(br=>br.callback(vr,lr)):(fr=this.bindings[mr])===null||fr===void 0||fr.filter(br=>{var Sr,wr,Mr,kr,Ar,Ir;if(["broadcast","presence","postgres_changes"].includes(mr))if("id"in br){const $r=br.id,Dr=(Sr=br.filter)===null||Sr===void 0?void 0:Sr.event;return $r&&((wr=ir.ids)===null||wr===void 0?void 0:wr.includes($r))&&(Dr==="*"||Dr?.toLocaleLowerCase()===((Mr=ir.data)===null||Mr===void 0?void 0:Mr.type.toLocaleLowerCase()))}else{const $r=(Ar=(kr=br?.filter)===null||kr===void 0?void 0:kr.event)===null||Ar===void 0?void 0:Ar.toLocaleLowerCase();return $r==="*"||$r===((Ir=ir?.event)===null||Ir===void 0?void 0:Ir.toLocaleLowerCase())}else return br.type.toLocaleLowerCase()===mr}).map(br=>{if(typeof vr=="object"&&"ids"in vr){const Sr=vr.data,{schema:wr,table:Mr,commit_timestamp:kr,type:Ar,errors:Ir}=Sr;vr=Object.assign(Object.assign({},{schema:wr,table:Mr,commit_timestamp:kr,eventType:Ar,new:{},old:{},errors:Ir}),this._getPayloadRecords(Sr))}br.callback(vr,lr)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(rr){return`chan_reply_${rr}`}_on(rr,ir,lr){const dr=rr.toLocaleLowerCase(),fr={type:dr,filter:ir,callback:lr};return this.bindings[dr]?this.bindings[dr].push(fr):this.bindings[dr]=[fr],this}_off(rr,ir){const lr=rr.toLocaleLowerCase();return this.bindings[lr]&&(this.bindings[lr]=this.bindings[lr].filter(dr=>{var fr;return!(((fr=dr.type)===null||fr===void 0?void 0:fr.toLocaleLowerCase())===lr&&RealtimeChannel.isEqual(dr.filter,ir))})),this}static isEqual(rr,ir){if(Object.keys(rr).length!==Object.keys(ir).length)return!1;for(const lr in rr)if(rr[lr]!==ir[lr])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(rr){this._on(CHANNEL_EVENTS.close,{},rr)}_onError(rr){this._on(CHANNEL_EVENTS.error,{},ir=>rr(ir))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(rr=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(rr))}_getPayloadRecords(rr){const ir={new:{},old:{}};return(rr.type==="INSERT"||rr.type==="UPDATE")&&(ir.new=convertChangeData(rr.columns,rr.record)),(rr.type==="UPDATE"||rr.type==="DELETE")&&(ir.old=convertChangeData(rr.columns,rr.old_record)),ir}}const noop$4=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(rr,ir){var lr;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$4,this.ref=0,this.reconnectTimer=null,this.logger=noop$4,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=dr=>{let fr;return dr?fr=dr:typeof fetch>"u"?fr=(...mr)=>__vitePreload(async()=>{const{default:hr}=await Promise.resolve().then(()=>browser);return{default:hr}},void 0).then(({default:hr})=>hr(...mr)).catch(hr=>{throw new Error(`Failed to load @supabase/node-fetch: ${hr.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fr=fetch,(...mr)=>fr(...mr)},!(!((lr=ir?.params)===null||lr===void 0)&&lr.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=ir.params.apikey,this.endPoint=`${rr}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(rr),this._initializeOptions(ir),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(ir?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(rr){this._setConnectionState("disconnected");const ir=rr.message;throw ir.includes("Node.js")?new Error(`${ir}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${ir}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(rr,ir){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const lr=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(lr),this._setConnectionState("disconnected")},rr?this.conn.close(rr,ir??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(rr){const ir=await rr.unsubscribe();return this.channels.length===0&&this.disconnect(),ir}async removeAllChannels(){const rr=await Promise.all(this.channels.map(ir=>ir.unsubscribe()));return this.channels=[],this.disconnect(),rr}log(rr,ir,lr){this.logger(rr,ir,lr)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(rr,ir={config:{}}){const lr=`realtime:${rr}`,dr=this.getChannels().find(fr=>fr.topic===lr);if(dr)return dr;{const fr=new RealtimeChannel(`realtime:${rr}`,ir,this);return this.channels.push(fr),fr}}push(rr){const{topic:ir,event:lr,payload:dr,ref:fr}=rr,mr=()=>{this.encode(rr,hr=>{var gr;(gr=this.conn)===null||gr===void 0||gr.send(hr)})};this.log("push",`${ir} ${lr} (${fr})`,dr),this.isConnected()?mr():this.sendBuffer.push(mr)}async setAuth(rr=null){this._authPromise=this._performAuth(rr);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var rr;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(ir){this.log("error","error in heartbeat callback",ir)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(ir){this.log("error","error in heartbeat callback",ir)}this._wasManualDisconnect=!1,(rr=this.conn)===null||rr===void 0||rr.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var ir;this.isConnected()||(ir=this.reconnectTimer)===null||ir===void 0||ir.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(ir){this.log("error","error in heartbeat callback",ir)}this._setAuthSafely("heartbeat")}onHeartbeat(rr){this.heartbeatCallback=rr}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(rr=>rr()),this.sendBuffer=[])}_makeRef(){let rr=this.ref+1;return rr===this.ref?this.ref=0:this.ref=rr,this.ref.toString()}_leaveOpenTopic(rr){let ir=this.channels.find(lr=>lr.topic===rr&&(lr._isJoined()||lr._isJoining()));ir&&(this.log("transport",`leaving duplicate topic "${rr}"`),ir.unsubscribe())}_remove(rr){this.channels=this.channels.filter(ir=>ir.topic!==rr.topic)}_onConnMessage(rr){this.decode(rr.data,ir=>{if(ir.topic==="phoenix"&&ir.event==="phx_reply")try{this.heartbeatCallback(ir.payload.status==="ok"?"ok":"error")}catch(xr){this.log("error","error in heartbeat callback",xr)}ir.ref&&ir.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:lr,event:dr,payload:fr,ref:mr}=ir,hr=mr?`(${mr})`:"",gr=fr.status||"";this.log("receive",`${gr} ${lr} ${dr} ${hr}`.trim(),fr),this.channels.filter(xr=>xr._isMember(lr)).forEach(xr=>xr._trigger(dr,fr,mr)),this._triggerStateCallbacks("message",ir)})}_clearTimer(rr){var ir;rr==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):rr==="reconnect"&&((ir=this.reconnectTimer)===null||ir===void 0||ir.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=rr=>this._onConnError(rr),this.conn.onmessage=rr=>this._onConnMessage(rr),this.conn.onclose=rr=>this._onConnClose(rr))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(rr=>rr.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const rr=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(rr),this.workerRef.onerror=ir=>{this.log("worker","worker error",ir.message),this.workerRef.terminate()},this.workerRef.onmessage=ir=>{ir.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(rr){var ir;this._setConnectionState("disconnected"),this.log("transport","close",rr),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(ir=this.reconnectTimer)===null||ir===void 0||ir.scheduleTimeout(),this._triggerStateCallbacks("close",rr)}_onConnError(rr){this._setConnectionState("disconnected"),this.log("transport",`${rr}`),this._triggerChanError(),this._triggerStateCallbacks("error",rr)}_triggerChanError(){this.channels.forEach(rr=>rr._trigger(CHANNEL_EVENTS.error))}_appendParams(rr,ir){if(Object.keys(ir).length===0)return rr;const lr=rr.match(/\?/)?"&":"?",dr=new URLSearchParams(ir);return`${rr}${lr}${dr}`}_workerObjectUrl(rr){let ir;if(rr)ir=rr;else{const lr=new Blob([WORKER_SCRIPT],{type:"application/javascript"});ir=URL.createObjectURL(lr)}return ir}_setConnectionState(rr,ir=!1){this._connectionState=rr,rr==="connecting"?this._wasManualDisconnect=!1:rr==="disconnecting"&&(this._wasManualDisconnect=ir)}async _performAuth(rr=null){let ir;rr?ir=rr:this.accessToken?ir=await this.accessToken():ir=this.accessTokenValue,this.accessTokenValue!=ir&&(this.accessTokenValue=ir,this.channels.forEach(lr=>{const dr={access_token:ir,version:DEFAULT_VERSION};ir&&lr.updateJoinPayload(dr),lr.joinedOnce&&lr._isJoined()&&lr._push(CHANNEL_EVENTS.access_token,{access_token:ir})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(rr="general"){this.setAuth().catch(ir=>{this.log("error",`error setting auth in ${rr}`,ir)})}_triggerStateCallbacks(rr,ir){try{this.stateChangeCallbacks[rr].forEach(lr=>{try{lr(ir)}catch(dr){this.log("error",`error in ${rr} callback`,dr)}})}catch(lr){this.log("error",`error triggering ${rr} callbacks`,lr)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(rr){var ir,lr,dr,fr,mr,hr,gr,xr,_r;if(this.transport=(ir=rr?.transport)!==null&&ir!==void 0?ir:null,this.timeout=(lr=rr?.timeout)!==null&&lr!==void 0?lr:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(dr=rr?.heartbeatIntervalMs)!==null&&dr!==void 0?dr:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(fr=rr?.worker)!==null&&fr!==void 0?fr:!1,this.accessToken=(mr=rr?.accessToken)!==null&&mr!==void 0?mr:null,this.heartbeatCallback=(hr=rr?.heartbeatCallback)!==null&&hr!==void 0?hr:noop$4,rr?.params&&(this.params=rr.params),rr?.logger&&(this.logger=rr.logger),(rr?.logLevel||rr?.log_level)&&(this.logLevel=rr.logLevel||rr.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(gr=rr?.reconnectAfterMs)!==null&&gr!==void 0?gr:yr=>RECONNECT_INTERVALS[yr-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(xr=rr?.encode)!==null&&xr!==void 0?xr:(yr,vr)=>vr(JSON.stringify(yr)),this.decode=(_r=rr?.decode)!==null&&_r!==void 0?_r:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=rr?.workerUrl}}}class StorageError extends Error{constructor(rr){super(rr),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class StorageApiError extends StorageError{constructor(rr,ir,lr){super(rr),this.name="StorageApiError",this.status=ir,this.statusCode=lr}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(rr,ir){super(rr),this.name="StorageUnknownError",this.originalError=ir}}var __awaiter$6=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};const resolveFetch$2=e=>{let rr;return e?rr=e:typeof fetch>"u"?rr=(...ir)=>__vitePreload(async()=>{const{default:lr}=await Promise.resolve().then(()=>browser);return{default:lr}},void 0).then(({default:lr})=>lr(...ir)):rr=fetch,(...ir)=>rr(...ir)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=e=>{if(Array.isArray(e))return e.map(ir=>recursiveToCamel(ir));if(typeof e=="function"||e!==Object(e))return e;const rr={};return Object.entries(e).forEach(([ir,lr])=>{const dr=ir.replace(/([-_][a-z])/gi,fr=>fr.toUpperCase().replace(/[-_]/g,""));rr[dr]=recursiveToCamel(lr)}),rr},isPlainObject$1=e=>{if(typeof e!="object"||e===null)return!1;const rr=Object.getPrototypeOf(e);return(rr===null||rr===Object.prototype||Object.getPrototypeOf(rr)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var __awaiter$5=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};const _getErrorMessage$1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$1=(e,rr,ir)=>__awaiter$5(void 0,void 0,void 0,function*(){const lr=yield resolveResponse();e instanceof lr&&!ir?.noResolveJson?e.json().then(dr=>{const fr=e.status||500,mr=dr?.statusCode||fr+"";rr(new StorageApiError(_getErrorMessage$1(dr),fr,mr))}).catch(dr=>{rr(new StorageUnknownError(_getErrorMessage$1(dr),dr))}):rr(new StorageUnknownError(_getErrorMessage$1(e),e))}),_getRequestParams$1=(e,rr,ir,lr)=>{const dr={method:e,headers:rr?.headers||{}};return e==="GET"||!lr?dr:(isPlainObject$1(lr)?(dr.headers=Object.assign({"Content-Type":"application/json"},rr?.headers),dr.body=JSON.stringify(lr)):dr.body=lr,rr?.duplex&&(dr.duplex=rr.duplex),Object.assign(Object.assign({},dr),ir))};function _handleRequest$1(e,rr,ir,lr,dr,fr){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((mr,hr)=>{e(ir,_getRequestParams$1(rr,lr,dr,fr)).then(gr=>{if(!gr.ok)throw gr;return lr?.noResolveJson?gr:gr.json()}).then(gr=>mr(gr)).catch(gr=>handleError$1(gr,hr,lr))})})}function get(e,rr,ir,lr){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"GET",rr,ir,lr)})}function post(e,rr,ir,lr,dr){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"POST",rr,lr,dr,ir)})}function put(e,rr,ir,lr,dr){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"PUT",rr,lr,dr,ir)})}function head(e,rr,ir,lr){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"HEAD",rr,Object.assign(Object.assign({},ir),{noResolveJson:!0}),lr)})}function remove(e,rr,ir,lr,dr){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(e,"DELETE",rr,lr,dr,ir)})}var __awaiter$4=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(rr,ir={},lr,dr){this.shouldThrowOnError=!1,this.url=rr,this.headers=ir,this.bucketId=lr,this.fetch=resolveFetch$2(dr)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(rr,ir,lr,dr){return __awaiter$4(this,void 0,void 0,function*(){try{let fr;const mr=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),dr);let hr=Object.assign(Object.assign({},this.headers),rr==="POST"&&{"x-upsert":String(mr.upsert)});const gr=mr.metadata;typeof Blob<"u"&&lr instanceof Blob?(fr=new FormData,fr.append("cacheControl",mr.cacheControl),gr&&fr.append("metadata",this.encodeMetadata(gr)),fr.append("",lr)):typeof FormData<"u"&&lr instanceof FormData?(fr=lr,fr.append("cacheControl",mr.cacheControl),gr&&fr.append("metadata",this.encodeMetadata(gr))):(fr=lr,hr["cache-control"]=`max-age=${mr.cacheControl}`,hr["content-type"]=mr.contentType,gr&&(hr["x-metadata"]=this.toBase64(this.encodeMetadata(gr)))),dr?.headers&&(hr=Object.assign(Object.assign({},hr),dr.headers));const xr=this._removeEmptyFolders(ir),_r=this._getFinalPath(xr),yr=yield(rr=="PUT"?put:post)(this.fetch,`${this.url}/object/${_r}`,fr,Object.assign({headers:hr},mr?.duplex?{duplex:mr.duplex}:{}));return{data:{path:xr,id:yr.Id,fullPath:yr.Key},error:null}}catch(fr){if(this.shouldThrowOnError)throw fr;if(isStorageError(fr))return{data:null,error:fr};throw fr}})}upload(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",rr,ir,lr)})}uploadToSignedUrl(rr,ir,lr,dr){return __awaiter$4(this,void 0,void 0,function*(){const fr=this._removeEmptyFolders(rr),mr=this._getFinalPath(fr),hr=new URL(this.url+`/object/upload/sign/${mr}`);hr.searchParams.set("token",ir);try{let gr;const xr=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},dr),_r=Object.assign(Object.assign({},this.headers),{"x-upsert":String(xr.upsert)});typeof Blob<"u"&&lr instanceof Blob?(gr=new FormData,gr.append("cacheControl",xr.cacheControl),gr.append("",lr)):typeof FormData<"u"&&lr instanceof FormData?(gr=lr,gr.append("cacheControl",xr.cacheControl)):(gr=lr,_r["cache-control"]=`max-age=${xr.cacheControl}`,_r["content-type"]=xr.contentType);const yr=yield put(this.fetch,hr.toString(),gr,{headers:_r});return{data:{path:fr,fullPath:yr.Key},error:null}}catch(gr){if(this.shouldThrowOnError)throw gr;if(isStorageError(gr))return{data:null,error:gr};throw gr}})}createSignedUploadUrl(rr,ir){return __awaiter$4(this,void 0,void 0,function*(){try{let lr=this._getFinalPath(rr);const dr=Object.assign({},this.headers);ir?.upsert&&(dr["x-upsert"]="true");const fr=yield post(this.fetch,`${this.url}/object/upload/sign/${lr}`,{},{headers:dr}),mr=new URL(this.url+fr.url),hr=mr.searchParams.get("token");if(!hr)throw new StorageError("No token returned by API");return{data:{signedUrl:mr.toString(),path:rr,token:hr},error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr))return{data:null,error:lr};throw lr}})}update(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",rr,ir,lr)})}move(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:rr,destinationKey:ir,destinationBucket:lr?.destinationBucket},{headers:this.headers}),error:null}}catch(dr){if(this.shouldThrowOnError)throw dr;if(isStorageError(dr))return{data:null,error:dr};throw dr}})}copy(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:rr,destinationKey:ir,destinationBucket:lr?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(dr){if(this.shouldThrowOnError)throw dr;if(isStorageError(dr))return{data:null,error:dr};throw dr}})}createSignedUrl(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){try{let dr=this._getFinalPath(rr),fr=yield post(this.fetch,`${this.url}/object/sign/${dr}`,Object.assign({expiresIn:ir},lr?.transform?{transform:lr.transform}:{}),{headers:this.headers});const mr=lr?.download?`&download=${lr.download===!0?"":lr.download}`:"";return fr={signedUrl:encodeURI(`${this.url}${fr.signedURL}${mr}`)},{data:fr,error:null}}catch(dr){if(this.shouldThrowOnError)throw dr;if(isStorageError(dr))return{data:null,error:dr};throw dr}})}createSignedUrls(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){try{const dr=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:ir,paths:rr},{headers:this.headers}),fr=lr?.download?`&download=${lr.download===!0?"":lr.download}`:"";return{data:dr.map(mr=>Object.assign(Object.assign({},mr),{signedUrl:mr.signedURL?encodeURI(`${this.url}${mr.signedURL}${fr}`):null})),error:null}}catch(dr){if(this.shouldThrowOnError)throw dr;if(isStorageError(dr))return{data:null,error:dr};throw dr}})}download(rr,ir){return __awaiter$4(this,void 0,void 0,function*(){const dr=typeof ir?.transform<"u"?"render/image/authenticated":"object",fr=this.transformOptsToQueryString(ir?.transform||{}),mr=fr?`?${fr}`:"";try{const hr=this._getFinalPath(rr);return{data:yield(yield get(this.fetch,`${this.url}/${dr}/${hr}${mr}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(hr){if(this.shouldThrowOnError)throw hr;if(isStorageError(hr))return{data:null,error:hr};throw hr}})}info(rr){return __awaiter$4(this,void 0,void 0,function*(){const ir=this._getFinalPath(rr);try{const lr=yield get(this.fetch,`${this.url}/object/info/${ir}`,{headers:this.headers});return{data:recursiveToCamel(lr),error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr))return{data:null,error:lr};throw lr}})}exists(rr){return __awaiter$4(this,void 0,void 0,function*(){const ir=this._getFinalPath(rr);try{return yield head(this.fetch,`${this.url}/object/${ir}`,{headers:this.headers}),{data:!0,error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr)&&lr instanceof StorageUnknownError){const dr=lr.originalError;if([400,404].includes(dr?.status))return{data:!1,error:lr}}throw lr}})}getPublicUrl(rr,ir){const lr=this._getFinalPath(rr),dr=[],fr=ir?.download?`download=${ir.download===!0?"":ir.download}`:"";fr!==""&&dr.push(fr);const hr=typeof ir?.transform<"u"?"render/image":"object",gr=this.transformOptsToQueryString(ir?.transform||{});gr!==""&&dr.push(gr);let xr=dr.join("&");return xr!==""&&(xr=`?${xr}`),{data:{publicUrl:encodeURI(`${this.url}/${hr}/public/${lr}${xr}`)}}}remove(rr){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:rr},{headers:this.headers}),error:null}}catch(ir){if(this.shouldThrowOnError)throw ir;if(isStorageError(ir))return{data:null,error:ir};throw ir}})}list(rr,ir,lr){return __awaiter$4(this,void 0,void 0,function*(){try{const dr=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),ir),{prefix:rr||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,dr,{headers:this.headers},lr),error:null}}catch(dr){if(this.shouldThrowOnError)throw dr;if(isStorageError(dr))return{data:null,error:dr};throw dr}})}listV2(rr,ir){return __awaiter$4(this,void 0,void 0,function*(){try{const lr=Object.assign({},rr);return{data:yield post(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,lr,{headers:this.headers},ir),error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr))return{data:null,error:lr};throw lr}})}encodeMetadata(rr){return JSON.stringify(rr)}toBase64(rr){return typeof Buffer<"u"?Buffer.from(rr).toString("base64"):btoa(rr)}_getFinalPath(rr){return`${this.bucketId}/${rr.replace(/^\/+/,"")}`}_removeEmptyFolders(rr){return rr.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(rr){const ir=[];return rr.width&&ir.push(`width=${rr.width}`),rr.height&&ir.push(`height=${rr.height}`),rr.resize&&ir.push(`resize=${rr.resize}`),rr.format&&ir.push(`format=${rr.format}`),rr.quality&&ir.push(`quality=${rr.quality}`),ir.join("&")}}const version$2="2.12.1",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};class StorageBucketApi{constructor(rr,ir={},lr,dr){this.shouldThrowOnError=!1;const fr=new URL(rr);dr?.useNewHostname&&/supabase\.(co|in|red)$/.test(fr.hostname)&&!fr.hostname.includes("storage.supabase.")&&(fr.hostname=fr.hostname.replace("supabase.","storage.supabase.")),this.url=fr.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),ir),this.fetch=resolveFetch$2(lr)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(rr){if(this.shouldThrowOnError)throw rr;if(isStorageError(rr))return{data:null,error:rr};throw rr}})}getBucket(rr){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${rr}`,{headers:this.headers}),error:null}}catch(ir){if(this.shouldThrowOnError)throw ir;if(isStorageError(ir))return{data:null,error:ir};throw ir}})}createBucket(rr,ir={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:rr,name:rr,type:ir.type,public:ir.public,file_size_limit:ir.fileSizeLimit,allowed_mime_types:ir.allowedMimeTypes},{headers:this.headers}),error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr))return{data:null,error:lr};throw lr}})}updateBucket(rr,ir){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${rr}`,{id:rr,name:rr,public:ir.public,file_size_limit:ir.fileSizeLimit,allowed_mime_types:ir.allowedMimeTypes},{headers:this.headers}),error:null}}catch(lr){if(this.shouldThrowOnError)throw lr;if(isStorageError(lr))return{data:null,error:lr};throw lr}})}emptyBucket(rr){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${rr}/empty`,{},{headers:this.headers}),error:null}}catch(ir){if(this.shouldThrowOnError)throw ir;if(isStorageError(ir))return{data:null,error:ir};throw ir}})}deleteBucket(rr){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${rr}`,{},{headers:this.headers}),error:null}}catch(ir){if(this.shouldThrowOnError)throw ir;if(isStorageError(ir))return{data:null,error:ir};throw ir}})}}class StorageClient extends StorageBucketApi{constructor(rr,ir={},lr,dr){super(rr,ir,lr,dr)}from(rr){return new StorageFileApi(this.url,this.headers,rr,this.fetch)}}const version$1="2.57.4";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};const resolveFetch$1=e=>{let rr;return e?rr=e:typeof fetch>"u"?rr=nodeFetch:rr=fetch,(...ir)=>rr(...ir)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(e,rr,ir)=>{const lr=resolveFetch$1(ir),dr=resolveHeadersConstructor();return(fr,mr)=>__awaiter$2(void 0,void 0,void 0,function*(){var hr;const gr=(hr=yield rr())!==null&&hr!==void 0?hr:e;let xr=new dr(mr?.headers);return xr.has("apikey")||xr.set("apikey",e),xr.has("Authorization")||xr.set("Authorization",`Bearer ${gr}`),lr(fr,Object.assign(Object.assign({},mr),{headers:xr}))})};var __awaiter$1=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};function ensureTrailingSlash(e){return e.endsWith("/")?e:e+"/"}function applySettingDefaults(e,rr){var ir,lr;const{db:dr,auth:fr,realtime:mr,global:hr}=e,{db:gr,auth:xr,realtime:_r,global:yr}=rr,vr={db:Object.assign(Object.assign({},gr),dr),auth:Object.assign(Object.assign({},xr),fr),realtime:Object.assign(Object.assign({},_r),mr),storage:{},global:Object.assign(Object.assign(Object.assign({},yr),hr),{headers:Object.assign(Object.assign({},(ir=yr?.headers)!==null&&ir!==void 0?ir:{}),(lr=hr?.headers)!==null&&lr!==void 0?lr:{})}),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return e.accessToken?vr.accessToken=e.accessToken:delete vr.accessToken,vr}function validateSupabaseUrl(e){const rr=e?.trim();if(!rr)throw new Error("supabaseUrl is required.");if(!rr.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(rr))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const version="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(rr,ir,lr){super(rr),this.__isAuthError=!0,this.name="AuthError",this.status=ir,this.code=lr}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(rr,ir,lr){super(rr,ir,lr),this.name="AuthApiError",this.status=ir,this.code=lr}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(rr,ir){super(rr),this.name="AuthUnknownError",this.originalError=ir}}class CustomAuthError extends AuthError{constructor(rr,ir,lr,dr){super(rr,lr,dr),this.name=ir,this.status=lr}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(rr){super(rr,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(rr,ir=null){super(rr,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=ir}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(rr,ir=null){super(rr,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=ir}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(rr,ir){super(rr,"AuthRetryableFetchError",ir,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(rr,ir,lr){super(rr,"AuthWeakPasswordError",ir,"weak_password"),this.reasons=lr}}class AuthInvalidJwtError extends CustomAuthError{constructor(rr){super(rr,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const e=new Array(128);for(let rr=0;rr<e.length;rr+=1)e[rr]=-1;for(let rr=0;rr<IGNORE_BASE64URL.length;rr+=1)e[IGNORE_BASE64URL[rr].charCodeAt(0)]=-2;for(let rr=0;rr<TO_BASE64URL.length;rr+=1)e[TO_BASE64URL[rr].charCodeAt(0)]=rr;return e})();function byteToBase64URL(e,rr,ir){if(e!==null)for(rr.queue=rr.queue<<8|e,rr.queuedBits+=8;rr.queuedBits>=6;){const lr=rr.queue>>rr.queuedBits-6&63;ir(TO_BASE64URL[lr]),rr.queuedBits-=6}else if(rr.queuedBits>0)for(rr.queue=rr.queue<<6-rr.queuedBits,rr.queuedBits=6;rr.queuedBits>=6;){const lr=rr.queue>>rr.queuedBits-6&63;ir(TO_BASE64URL[lr]),rr.queuedBits-=6}}function byteFromBase64URL(e,rr,ir){const lr=FROM_BASE64URL[e];if(lr>-1)for(rr.queue=rr.queue<<6|lr,rr.queuedBits+=6;rr.queuedBits>=8;)ir(rr.queue>>rr.queuedBits-8&255),rr.queuedBits-=8;else{if(lr===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function stringFromBase64URL(e){const rr=[],ir=mr=>{rr.push(String.fromCodePoint(mr))},lr={utf8seq:0,codepoint:0},dr={queue:0,queuedBits:0},fr=mr=>{stringFromUTF8(mr,lr,ir)};for(let mr=0;mr<e.length;mr+=1)byteFromBase64URL(e.charCodeAt(mr),dr,fr);return rr.join("")}function codepointToUTF8(e,rr){if(e<=127){rr(e);return}else if(e<=2047){rr(192|e>>6),rr(128|e&63);return}else if(e<=65535){rr(224|e>>12),rr(128|e>>6&63),rr(128|e&63);return}else if(e<=1114111){rr(240|e>>18),rr(128|e>>12&63),rr(128|e>>6&63),rr(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function stringToUTF8(e,rr){for(let ir=0;ir<e.length;ir+=1){let lr=e.charCodeAt(ir);if(lr>55295&&lr<=56319){const dr=(lr-55296)*1024&65535;lr=(e.charCodeAt(ir+1)-56320&65535|dr)+65536,ir+=1}codepointToUTF8(lr,rr)}}function stringFromUTF8(e,rr,ir){if(rr.utf8seq===0){if(e<=127){ir(e);return}for(let lr=1;lr<6;lr+=1)if(!(e>>7-lr&1)){rr.utf8seq=lr;break}if(rr.utf8seq===2)rr.codepoint=e&31;else if(rr.utf8seq===3)rr.codepoint=e&15;else if(rr.utf8seq===4)rr.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");rr.utf8seq-=1}else if(rr.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");rr.codepoint=rr.codepoint<<6|e&63,rr.utf8seq-=1,rr.utf8seq===0&&ir(rr.codepoint)}}function base64UrlToUint8Array(e){const rr=[],ir={queue:0,queuedBits:0},lr=dr=>{rr.push(dr)};for(let dr=0;dr<e.length;dr+=1)byteFromBase64URL(e.charCodeAt(dr),ir,lr);return new Uint8Array(rr)}function stringToUint8Array(e){const rr=[];return stringToUTF8(e,ir=>rr.push(ir)),new Uint8Array(rr)}function bytesToBase64URL(e){const rr=[],ir={queue:0,queuedBits:0},lr=dr=>{rr.push(dr)};return e.forEach(dr=>byteToBase64URL(dr,ir,lr)),byteToBase64URL(null,ir,lr),rr.join("")}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const rr=Math.random()*16|0;return(e=="x"?rr:rr&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const rr={},ir=new URL(e);if(ir.hash&&ir.hash[0]==="#")try{new URLSearchParams(ir.hash.substring(1)).forEach((dr,fr)=>{rr[fr]=dr})}catch{}return ir.searchParams.forEach((lr,dr)=>{rr[dr]=lr}),rr}const resolveFetch=e=>{let rr;return e?rr=e:typeof fetch>"u"?rr=(...ir)=>__vitePreload(async()=>{const{default:lr}=await Promise.resolve().then(()=>browser);return{default:lr}},void 0).then(({default:lr})=>lr(...ir)):rr=fetch,(...ir)=>rr(...ir)},looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,rr,ir)=>{await e.setItem(rr,JSON.stringify(ir))},getItemAsync=async(e,rr)=>{const ir=await e.getItem(rr);if(!ir)return null;try{return JSON.parse(ir)}catch{return ir}},removeItemAsync=async(e,rr)=>{await e.removeItem(rr)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((rr,ir)=>{this.resolve=rr,this.reject=ir})}}Deferred.promiseConstructor=Promise;function decodeJWT(e){const rr=e.split(".");if(rr.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let lr=0;lr<rr.length;lr++)if(!BASE64URL_REGEX.test(rr[lr]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(rr[0])),payload:JSON.parse(stringFromBase64URL(rr[1])),signature:base64UrlToUint8Array(rr[2]),raw:{header:rr[0],payload:rr[1]}}}async function sleep(e){return await new Promise(rr=>{setTimeout(()=>rr(null),e)})}function retryable(e,rr){return new Promise((lr,dr)=>{(async()=>{for(let fr=0;fr<1/0;fr++)try{const mr=await e(fr);if(!rr(fr,null,mr)){lr(mr);return}}catch(mr){if(!rr(fr,mr)){dr(mr);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const rr=new Uint32Array(56);if(typeof crypto>"u"){const ir="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",lr=ir.length;let dr="";for(let fr=0;fr<56;fr++)dr+=ir.charAt(Math.floor(Math.random()*lr));return dr}return crypto.getRandomValues(rr),Array.from(rr,dec2hex).join("")}async function sha256(e){const ir=new TextEncoder().encode(e),lr=await crypto.subtle.digest("SHA-256",ir),dr=new Uint8Array(lr);return Array.from(dr).map(fr=>String.fromCharCode(fr)).join("")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const ir=await sha256(e);return btoa(ir).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(e,rr,ir=!1){const lr=generatePKCEVerifier();let dr=lr;ir&&(dr+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${rr}-code-verifier`,dr);const fr=await generatePKCEChallenge(lr);return[fr,lr===fr?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const rr=e.headers.get(API_VERSION_HEADER_NAME);if(!rr||!rr.match(API_VERSION_REGEX))return null;try{return new Date(`${rr}T00:00:00.0Z`)}catch{return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");const rr=Math.floor(Date.now()/1e3);if(e<=rr)throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!UUID_REGEX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const e={};return new Proxy(e,{get:(rr,ir)=>{if(ir==="__isUserNotAvailableProxy")return!0;if(typeof ir=="symbol"){const lr=ir.toString();if(lr==="Symbol(Symbol.toPrimitive)"||lr==="Symbol(Symbol.toStringTag)"||lr==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${ir}" property of the session object is not supported. Please use getUser() instead.`)},set:(rr,ir)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${ir}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(rr,ir)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${ir}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(e){return JSON.parse(JSON.stringify(e))}var __rest$1=function(e,rr){var ir={};for(var lr in e)Object.prototype.hasOwnProperty.call(e,lr)&&rr.indexOf(lr)<0&&(ir[lr]=e[lr]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dr=0,lr=Object.getOwnPropertySymbols(e);dr<lr.length;dr++)rr.indexOf(lr[dr])<0&&Object.prototype.propertyIsEnumerable.call(e,lr[dr])&&(ir[lr[dr]]=e[lr[dr]]);return ir};const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var rr;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let ir;try{ir=await e.json()}catch(fr){throw new AuthUnknownError(_getErrorMessage(fr),fr)}let lr;const dr=parseResponseAPIVersion(e);if(dr&&dr.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof ir=="object"&&ir&&typeof ir.code=="string"?lr=ir.code:typeof ir=="object"&&ir&&typeof ir.error_code=="string"&&(lr=ir.error_code),lr){if(lr==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(ir),e.status,((rr=ir.weak_password)===null||rr===void 0?void 0:rr.reasons)||[]);if(lr==="session_not_found")throw new AuthSessionMissingError}else if(typeof ir=="object"&&ir&&typeof ir.weak_password=="object"&&ir.weak_password&&Array.isArray(ir.weak_password.reasons)&&ir.weak_password.reasons.length&&ir.weak_password.reasons.reduce((fr,mr)=>fr&&typeof mr=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(ir),e.status,ir.weak_password.reasons);throw new AuthApiError(_getErrorMessage(ir),e.status||500,lr)}const _getRequestParams=(e,rr,ir,lr)=>{const dr={method:e,headers:rr?.headers||{}};return e==="GET"?dr:(dr.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},rr?.headers),dr.body=JSON.stringify(lr),Object.assign(Object.assign({},dr),ir))};async function _request(e,rr,ir,lr){var dr;const fr=Object.assign({},lr?.headers);fr[API_VERSION_HEADER_NAME]||(fr[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),lr?.jwt&&(fr.Authorization=`Bearer ${lr.jwt}`);const mr=(dr=lr?.query)!==null&&dr!==void 0?dr:{};lr?.redirectTo&&(mr.redirect_to=lr.redirectTo);const hr=Object.keys(mr).length?"?"+new URLSearchParams(mr).toString():"",gr=await _handleRequest(e,rr,ir+hr,{headers:fr,noResolveJson:lr?.noResolveJson},{},lr?.body);return lr?.xform?lr?.xform(gr):{data:Object.assign({},gr),error:null}}async function _handleRequest(e,rr,ir,lr,dr,fr){const mr=_getRequestParams(rr,lr,dr,fr);let hr;try{hr=await e(ir,Object.assign({},mr))}catch(gr){throw console.error(gr),new AuthRetryableFetchError(_getErrorMessage(gr),0)}if(hr.ok||await handleError(hr),lr?.noResolveJson)return hr;try{return await hr.json()}catch(gr){await handleError(gr)}}function _sessionResponse(e){var rr;let ir=null;hasSession(e)&&(ir=Object.assign({},e),e.expires_at||(ir.expires_at=expiresAt(e.expires_in)));const lr=(rr=e.user)!==null&&rr!==void 0?rr:e;return{data:{session:ir,user:lr},error:null}}function _sessionResponsePassword(e){const rr=_sessionResponse(e);return!rr.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((ir,lr)=>ir&&typeof lr=="string",!0)&&(rr.data.weak_password=e.weak_password),rr}function _userResponse(e){var rr;return{data:{user:(rr=e.user)!==null&&rr!==void 0?rr:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:rr,email_otp:ir,hashed_token:lr,redirect_to:dr,verification_type:fr}=e,mr=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),hr={action_link:rr,email_otp:ir,hashed_token:lr,redirect_to:dr,verification_type:fr},gr=Object.assign({},mr);return{data:{properties:hr,user:gr},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest=function(e,rr){var ir={};for(var lr in e)Object.prototype.hasOwnProperty.call(e,lr)&&rr.indexOf(lr)<0&&(ir[lr]=e[lr]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dr=0,lr=Object.getOwnPropertySymbols(e);dr<lr.length;dr++)rr.indexOf(lr[dr])<0&&Object.prototype.propertyIsEnumerable.call(e,lr[dr])&&(ir[lr[dr]]=e[lr[dr]]);return ir};class GoTrueAdminApi{constructor({url:rr="",headers:ir={},fetch:lr}){this.url=rr,this.headers=ir,this.fetch=resolveFetch(lr),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(rr,ir=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(ir)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${ir}`,{headers:this.headers,jwt:rr,noResolveJson:!0}),{data:null,error:null}}catch(lr){if(isAuthError(lr))return{data:null,error:lr};throw lr}}async inviteUserByEmail(rr,ir={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:rr,data:ir.data},headers:this.headers,redirectTo:ir.redirectTo,xform:_userResponse})}catch(lr){if(isAuthError(lr))return{data:{user:null},error:lr};throw lr}}async generateLink(rr){try{const{options:ir}=rr,lr=__rest(rr,["options"]),dr=Object.assign(Object.assign({},lr),ir);return"newEmail"in lr&&(dr.new_email=lr?.newEmail,delete dr.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:dr,headers:this.headers,xform:_generateLinkResponse,redirectTo:ir?.redirectTo})}catch(ir){if(isAuthError(ir))return{data:{properties:null,user:null},error:ir};throw ir}}async createUser(rr){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:rr,headers:this.headers,xform:_userResponse})}catch(ir){if(isAuthError(ir))return{data:{user:null},error:ir};throw ir}}async listUsers(rr){var ir,lr,dr,fr,mr,hr,gr;try{const xr={nextPage:null,lastPage:0,total:0},_r=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(lr=(ir=rr?.page)===null||ir===void 0?void 0:ir.toString())!==null&&lr!==void 0?lr:"",per_page:(fr=(dr=rr?.perPage)===null||dr===void 0?void 0:dr.toString())!==null&&fr!==void 0?fr:""},xform:_noResolveJsonResponse});if(_r.error)throw _r.error;const yr=await _r.json(),vr=(mr=_r.headers.get("x-total-count"))!==null&&mr!==void 0?mr:0,br=(gr=(hr=_r.headers.get("link"))===null||hr===void 0?void 0:hr.split(","))!==null&&gr!==void 0?gr:[];return br.length>0&&(br.forEach(Sr=>{const wr=parseInt(Sr.split(";")[0].split("=")[1].substring(0,1)),Mr=JSON.parse(Sr.split(";")[1].split("=")[1]);xr[`${Mr}Page`]=wr}),xr.total=parseInt(vr)),{data:Object.assign(Object.assign({},yr),xr),error:null}}catch(xr){if(isAuthError(xr))return{data:{users:[]},error:xr};throw xr}}async getUserById(rr){validateUUID(rr);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${rr}`,{headers:this.headers,xform:_userResponse})}catch(ir){if(isAuthError(ir))return{data:{user:null},error:ir};throw ir}}async updateUserById(rr,ir){validateUUID(rr);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${rr}`,{body:ir,headers:this.headers,xform:_userResponse})}catch(lr){if(isAuthError(lr))return{data:{user:null},error:lr};throw lr}}async deleteUser(rr,ir=!1){validateUUID(rr);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${rr}`,{headers:this.headers,body:{should_soft_delete:ir},xform:_userResponse})}catch(lr){if(isAuthError(lr))return{data:{user:null},error:lr};throw lr}}async _listFactors(rr){validateUUID(rr.userId);try{const{data:ir,error:lr}=await _request(this.fetch,"GET",`${this.url}/admin/users/${rr.userId}/factors`,{headers:this.headers,xform:dr=>({data:{factors:dr},error:null})});return{data:ir,error:lr}}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}async _deleteFactor(rr){validateUUID(rr.userId),validateUUID(rr.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${rr.userId}/factors/${rr.id}`,{headers:this.headers}),error:null}}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}}function memoryLocalStorageAdapter(e={}){return{getItem:rr=>e[rr]||null,setItem:(rr,ir)=>{e[rr]=ir},removeItem:rr=>{delete e[rr]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(rr){super(rr),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,rr,ir){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,rr);const lr=new globalThis.AbortController;return rr>0&&setTimeout(()=>{lr.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},rr),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,rr===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:lr.signal},async dr=>{if(dr){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,dr.name);try{return await ir()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,dr.name)}}else{if(rr===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const fr=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(fr,null,"  "))}catch(fr){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",fr)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await ir()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(e,rr,ir){return await ir()}const GLOBAL_JWKS={};class GoTrueClient{constructor(rr){var ir,lr;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const dr=Object.assign(Object.assign({},DEFAULT_OPTIONS),rr);if(this.logDebugMessages=!!dr.debug,typeof dr.debug=="function"&&(this.logger=dr.debug),this.persistSession=dr.persistSession,this.storageKey=dr.storageKey,this.autoRefreshToken=dr.autoRefreshToken,this.admin=new GoTrueAdminApi({url:dr.url,headers:dr.headers,fetch:dr.fetch}),this.url=dr.url,this.headers=dr.headers,this.fetch=resolveFetch(dr.fetch),this.lock=dr.lock||lockNoOp,this.detectSessionInUrl=dr.detectSessionInUrl,this.flowType=dr.flowType,this.hasCustomAuthorizationHeader=dr.hasCustomAuthorizationHeader,dr.lock?this.lock=dr.lock:isBrowser()&&(!((ir=globalThis?.navigator)===null||ir===void 0)&&ir.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(dr.storage?this.storage=dr.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),dr.userStorage&&(this.userStorage=dr.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(fr){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",fr)}(lr=this.broadcastChannel)===null||lr===void 0||lr.addEventListener("message",async fr=>{this._debug("received broadcast notification from other tab or client",fr),await this._notifyAllSubscribers(fr.data.event,fr.data.session,!1)})}this.initialize()}get jwks(){var rr,ir;return(ir=(rr=GLOBAL_JWKS[this.storageKey])===null||rr===void 0?void 0:rr.jwks)!==null&&ir!==void 0?ir:{keys:[]}}set jwks(rr){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:rr})}get jwks_cached_at(){var rr,ir;return(ir=(rr=GLOBAL_JWKS[this.storageKey])===null||rr===void 0?void 0:rr.cachedAt)!==null&&ir!==void 0?ir:Number.MIN_SAFE_INTEGER}set jwks_cached_at(rr){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:rr})}_debug(...rr){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...rr),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var rr;try{const ir=parseParametersFromURL(window.location.href);let lr="none";if(this._isImplicitGrantCallback(ir)?lr="implicit":await this._isPKCECallback(ir)&&(lr="pkce"),isBrowser()&&this.detectSessionInUrl&&lr!=="none"){const{data:dr,error:fr}=await this._getSessionFromURL(ir,lr);if(fr){if(this._debug("#_initialize()","error detecting session from URL",fr),isAuthImplicitGrantRedirectError(fr)){const gr=(rr=fr.details)===null||rr===void 0?void 0:rr.code;if(gr==="identity_already_exists"||gr==="identity_not_found"||gr==="single_identity_not_deletable")return{error:fr}}return await this._removeSession(),{error:fr}}const{session:mr,redirectType:hr}=dr;return this._debug("#_initialize()","detected session in URL",mr,"redirect type",hr),await this._saveSession(mr),setTimeout(async()=>{hr==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",mr):await this._notifyAllSubscribers("SIGNED_IN",mr)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(ir){return isAuthError(ir)?{error:ir}:{error:new AuthUnknownError("Unexpected error during initialization",ir)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(rr){var ir,lr,dr;try{const fr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(lr=(ir=rr?.options)===null||ir===void 0?void 0:ir.data)!==null&&lr!==void 0?lr:{},gotrue_meta_security:{captcha_token:(dr=rr?.options)===null||dr===void 0?void 0:dr.captchaToken}},xform:_sessionResponse}),{data:mr,error:hr}=fr;if(hr||!mr)return{data:{user:null,session:null},error:hr};const gr=mr.session,xr=mr.user;return mr.session&&(await this._saveSession(mr.session),await this._notifyAllSubscribers("SIGNED_IN",gr)),{data:{user:xr,session:gr},error:null}}catch(fr){if(isAuthError(fr))return{data:{user:null,session:null},error:fr};throw fr}}async signUp(rr){var ir,lr,dr;try{let fr;if("email"in rr){const{email:_r,password:yr,options:vr}=rr;let br=null,Sr=null;this.flowType==="pkce"&&([br,Sr]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),fr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:vr?.emailRedirectTo,body:{email:_r,password:yr,data:(ir=vr?.data)!==null&&ir!==void 0?ir:{},gotrue_meta_security:{captcha_token:vr?.captchaToken},code_challenge:br,code_challenge_method:Sr},xform:_sessionResponse})}else if("phone"in rr){const{phone:_r,password:yr,options:vr}=rr;fr=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_r,password:yr,data:(lr=vr?.data)!==null&&lr!==void 0?lr:{},channel:(dr=vr?.channel)!==null&&dr!==void 0?dr:"sms",gotrue_meta_security:{captcha_token:vr?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:mr,error:hr}=fr;if(hr||!mr)return{data:{user:null,session:null},error:hr};const gr=mr.session,xr=mr.user;return mr.session&&(await this._saveSession(mr.session),await this._notifyAllSubscribers("SIGNED_IN",gr)),{data:{user:xr,session:gr},error:null}}catch(fr){if(isAuthError(fr))return{data:{user:null,session:null},error:fr};throw fr}}async signInWithPassword(rr){try{let ir;if("email"in rr){const{email:fr,password:mr,options:hr}=rr;ir=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:fr,password:mr,gotrue_meta_security:{captcha_token:hr?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in rr){const{phone:fr,password:mr,options:hr}=rr;ir=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:fr,password:mr,gotrue_meta_security:{captcha_token:hr?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:lr,error:dr}=ir;return dr?{data:{user:null,session:null},error:dr}:!lr||!lr.session||!lr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(lr.session&&(await this._saveSession(lr.session),await this._notifyAllSubscribers("SIGNED_IN",lr.session)),{data:Object.assign({user:lr.user,session:lr.session},lr.weak_password?{weakPassword:lr.weak_password}:null),error:dr})}catch(ir){if(isAuthError(ir))return{data:{user:null,session:null},error:ir};throw ir}}async signInWithOAuth(rr){var ir,lr,dr,fr;return await this._handleProviderSignIn(rr.provider,{redirectTo:(ir=rr.options)===null||ir===void 0?void 0:ir.redirectTo,scopes:(lr=rr.options)===null||lr===void 0?void 0:lr.scopes,queryParams:(dr=rr.options)===null||dr===void 0?void 0:dr.queryParams,skipBrowserRedirect:(fr=rr.options)===null||fr===void 0?void 0:fr.skipBrowserRedirect})}async exchangeCodeForSession(rr){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(rr))}async signInWithWeb3(rr){const{chain:ir}=rr;if(ir==="solana")return await this.signInWithSolana(rr);throw new Error(`@supabase/auth-js: Unsupported chain "${ir}"`)}async signInWithSolana(rr){var ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br;let Sr,wr;if("message"in rr)Sr=rr.message,wr=rr.signature;else{const{chain:Mr,wallet:kr,statement:Ar,options:Ir}=rr;let $r;if(isBrowser())if(typeof kr=="object")$r=kr;else{const Or=window;if("solana"in Or&&typeof Or.solana=="object"&&("signIn"in Or.solana&&typeof Or.solana.signIn=="function"||"signMessage"in Or.solana&&typeof Or.solana.signMessage=="function"))$r=Or.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof kr!="object"||!Ir?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$r=kr}const Dr=new URL((ir=Ir?.url)!==null&&ir!==void 0?ir:window.location.href);if("signIn"in $r&&$r.signIn){const Or=await $r.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Ir?.signInWithSolana),{version:"1",domain:Dr.host,uri:Dr.href}),Ar?{statement:Ar}:null));let Fr;if(Array.isArray(Or)&&Or[0]&&typeof Or[0]=="object")Fr=Or[0];else if(Or&&typeof Or=="object"&&"signedMessage"in Or&&"signature"in Or)Fr=Or;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Fr&&"signature"in Fr&&(typeof Fr.signedMessage=="string"||Fr.signedMessage instanceof Uint8Array)&&Fr.signature instanceof Uint8Array)Sr=typeof Fr.signedMessage=="string"?Fr.signedMessage:new TextDecoder().decode(Fr.signedMessage),wr=Fr.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $r)||typeof $r.signMessage!="function"||!("publicKey"in $r)||typeof $r!="object"||!$r.publicKey||!("toBase58"in $r.publicKey)||typeof $r.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Sr=[`${Dr.host} wants you to sign in with your Solana account:`,$r.publicKey.toBase58(),...Ar?["",Ar,""]:[""],"Version: 1",`URI: ${Dr.href}`,`Issued At: ${(dr=(lr=Ir?.signInWithSolana)===null||lr===void 0?void 0:lr.issuedAt)!==null&&dr!==void 0?dr:new Date().toISOString()}`,...!((fr=Ir?.signInWithSolana)===null||fr===void 0)&&fr.notBefore?[`Not Before: ${Ir.signInWithSolana.notBefore}`]:[],...!((mr=Ir?.signInWithSolana)===null||mr===void 0)&&mr.expirationTime?[`Expiration Time: ${Ir.signInWithSolana.expirationTime}`]:[],...!((hr=Ir?.signInWithSolana)===null||hr===void 0)&&hr.chainId?[`Chain ID: ${Ir.signInWithSolana.chainId}`]:[],...!((gr=Ir?.signInWithSolana)===null||gr===void 0)&&gr.nonce?[`Nonce: ${Ir.signInWithSolana.nonce}`]:[],...!((xr=Ir?.signInWithSolana)===null||xr===void 0)&&xr.requestId?[`Request ID: ${Ir.signInWithSolana.requestId}`]:[],...!((yr=(_r=Ir?.signInWithSolana)===null||_r===void 0?void 0:_r.resources)===null||yr===void 0)&&yr.length?["Resources",...Ir.signInWithSolana.resources.map(Fr=>`- ${Fr}`)]:[]].join(`
`);const Or=await $r.signMessage(new TextEncoder().encode(Sr),"utf8");if(!Or||!(Or instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");wr=Or}}try{const{data:Mr,error:kr}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:Sr,signature:bytesToBase64URL(wr)},!((vr=rr.options)===null||vr===void 0)&&vr.captchaToken?{gotrue_meta_security:{captcha_token:(br=rr.options)===null||br===void 0?void 0:br.captchaToken}}:null),xform:_sessionResponse});if(kr)throw kr;return!Mr||!Mr.session||!Mr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(Mr.session&&(await this._saveSession(Mr.session),await this._notifyAllSubscribers("SIGNED_IN",Mr.session)),{data:Object.assign({},Mr),error:kr})}catch(Mr){if(isAuthError(Mr))return{data:{user:null,session:null},error:Mr};throw Mr}}async _exchangeCodeForSession(rr){const ir=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[lr,dr]=(ir??"").split("/");try{const{data:fr,error:mr}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:rr,code_verifier:lr},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),mr)throw mr;return!fr||!fr.session||!fr.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(fr.session&&(await this._saveSession(fr.session),await this._notifyAllSubscribers("SIGNED_IN",fr.session)),{data:Object.assign(Object.assign({},fr),{redirectType:dr??null}),error:mr})}catch(fr){if(isAuthError(fr))return{data:{user:null,session:null,redirectType:null},error:fr};throw fr}}async signInWithIdToken(rr){try{const{options:ir,provider:lr,token:dr,access_token:fr,nonce:mr}=rr,hr=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:lr,id_token:dr,access_token:fr,nonce:mr,gotrue_meta_security:{captcha_token:ir?.captchaToken}},xform:_sessionResponse}),{data:gr,error:xr}=hr;return xr?{data:{user:null,session:null},error:xr}:!gr||!gr.session||!gr.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(gr.session&&(await this._saveSession(gr.session),await this._notifyAllSubscribers("SIGNED_IN",gr.session)),{data:gr,error:xr})}catch(ir){if(isAuthError(ir))return{data:{user:null,session:null},error:ir};throw ir}}async signInWithOtp(rr){var ir,lr,dr,fr,mr;try{if("email"in rr){const{email:hr,options:gr}=rr;let xr=null,_r=null;this.flowType==="pkce"&&([xr,_r]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:yr}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:hr,data:(ir=gr?.data)!==null&&ir!==void 0?ir:{},create_user:(lr=gr?.shouldCreateUser)!==null&&lr!==void 0?lr:!0,gotrue_meta_security:{captcha_token:gr?.captchaToken},code_challenge:xr,code_challenge_method:_r},redirectTo:gr?.emailRedirectTo});return{data:{user:null,session:null},error:yr}}if("phone"in rr){const{phone:hr,options:gr}=rr,{data:xr,error:_r}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:hr,data:(dr=gr?.data)!==null&&dr!==void 0?dr:{},create_user:(fr=gr?.shouldCreateUser)!==null&&fr!==void 0?fr:!0,gotrue_meta_security:{captcha_token:gr?.captchaToken},channel:(mr=gr?.channel)!==null&&mr!==void 0?mr:"sms"}});return{data:{user:null,session:null,messageId:xr?.message_id},error:_r}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(hr){if(isAuthError(hr))return{data:{user:null,session:null},error:hr};throw hr}}async verifyOtp(rr){var ir,lr;try{let dr,fr;"options"in rr&&(dr=(ir=rr.options)===null||ir===void 0?void 0:ir.redirectTo,fr=(lr=rr.options)===null||lr===void 0?void 0:lr.captchaToken);const{data:mr,error:hr}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},rr),{gotrue_meta_security:{captcha_token:fr}}),redirectTo:dr,xform:_sessionResponse});if(hr)throw hr;if(!mr)throw new Error("An error occurred on token verification.");const gr=mr.session,xr=mr.user;return gr?.access_token&&(await this._saveSession(gr),await this._notifyAllSubscribers(rr.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",gr)),{data:{user:xr,session:gr},error:null}}catch(dr){if(isAuthError(dr))return{data:{user:null,session:null},error:dr};throw dr}}async signInWithSSO(rr){var ir,lr,dr;try{let fr=null,mr=null;return this.flowType==="pkce"&&([fr,mr]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in rr?{provider_id:rr.providerId}:null),"domain"in rr?{domain:rr.domain}:null),{redirect_to:(lr=(ir=rr.options)===null||ir===void 0?void 0:ir.redirectTo)!==null&&lr!==void 0?lr:void 0}),!((dr=rr?.options)===null||dr===void 0)&&dr.captchaToken?{gotrue_meta_security:{captcha_token:rr.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:fr,code_challenge_method:mr}),headers:this.headers,xform:_ssoResponse})}catch(fr){if(isAuthError(fr))return{data:null,error:fr};throw fr}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async rr=>{const{data:{session:ir},error:lr}=rr;if(lr)throw lr;if(!ir)throw new AuthSessionMissingError;const{error:dr}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:ir.access_token});return{data:{user:null,session:null},error:dr}})}catch(rr){if(isAuthError(rr))return{data:{user:null,session:null},error:rr};throw rr}}async resend(rr){try{const ir=`${this.url}/resend`;if("email"in rr){const{email:lr,type:dr,options:fr}=rr,{error:mr}=await _request(this.fetch,"POST",ir,{headers:this.headers,body:{email:lr,type:dr,gotrue_meta_security:{captcha_token:fr?.captchaToken}},redirectTo:fr?.emailRedirectTo});return{data:{user:null,session:null},error:mr}}else if("phone"in rr){const{phone:lr,type:dr,options:fr}=rr,{data:mr,error:hr}=await _request(this.fetch,"POST",ir,{headers:this.headers,body:{phone:lr,type:dr,gotrue_meta_security:{captcha_token:fr?.captchaToken}}});return{data:{user:null,session:null,messageId:mr?.message_id},error:hr}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(ir){if(isAuthError(ir))return{data:{user:null,session:null},error:ir};throw ir}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async ir=>ir))}async _acquireLock(rr,ir){this._debug("#_acquireLock","begin",rr);try{if(this.lockAcquired){const lr=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),dr=(async()=>(await lr,await ir()))();return this.pendingInLock.push((async()=>{try{await dr}catch{}})()),dr}return await this.lock(`lock:${this.storageKey}`,rr,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const lr=ir();for(this.pendingInLock.push((async()=>{try{await lr}catch{}})()),await lr;this.pendingInLock.length;){const dr=[...this.pendingInLock];await Promise.all(dr),this.pendingInLock.splice(0,dr.length)}return await lr}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(rr){this._debug("#_useSession","begin");try{const ir=await this.__loadSession();return await rr(ir)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let rr=null;const ir=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",ir),ir!==null&&(this._isValidSession(ir)?rr=ir:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!rr)return{data:{session:null},error:null};const lr=rr.expires_at?rr.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${lr?"":" not"} expired`,"expires_at",rr.expires_at),!lr){if(this.userStorage){const mr=await getItemAsync(this.userStorage,this.storageKey+"-user");mr?.user?rr.user=mr.user:rr.user=userNotAvailableProxy()}if(this.storage.isServer&&rr.user){let mr=this.suppressGetSessionWarning;rr=new Proxy(rr,{get:(gr,xr,_r)=>(!mr&&xr==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),mr=!0,this.suppressGetSessionWarning=!0),Reflect.get(gr,xr,_r))})}return{data:{session:rr},error:null}}const{session:dr,error:fr}=await this._callRefreshToken(rr.refresh_token);return fr?{data:{session:null},error:fr}:{data:{session:dr},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(rr){return rr?await this._getUser(rr):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(rr){try{return rr?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:rr,xform:_userResponse}):await this._useSession(async ir=>{var lr,dr,fr;const{data:mr,error:hr}=ir;if(hr)throw hr;return!(!((lr=mr.session)===null||lr===void 0)&&lr.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(fr=(dr=mr.session)===null||dr===void 0?void 0:dr.access_token)!==null&&fr!==void 0?fr:void 0,xform:_userResponse})})}catch(ir){if(isAuthError(ir))return isAuthSessionMissingError(ir)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:ir};throw ir}}async updateUser(rr,ir={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(rr,ir))}async _updateUser(rr,ir={}){try{return await this._useSession(async lr=>{const{data:dr,error:fr}=lr;if(fr)throw fr;if(!dr.session)throw new AuthSessionMissingError;const mr=dr.session;let hr=null,gr=null;this.flowType==="pkce"&&rr.email!=null&&([hr,gr]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:xr,error:_r}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:ir?.emailRedirectTo,body:Object.assign(Object.assign({},rr),{code_challenge:hr,code_challenge_method:gr}),jwt:mr.access_token,xform:_userResponse});if(_r)throw _r;return mr.user=xr.user,await this._saveSession(mr),await this._notifyAllSubscribers("USER_UPDATED",mr),{data:{user:mr.user},error:null}})}catch(lr){if(isAuthError(lr))return{data:{user:null},error:lr};throw lr}}async setSession(rr){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(rr))}async _setSession(rr){try{if(!rr.access_token||!rr.refresh_token)throw new AuthSessionMissingError;const ir=Date.now()/1e3;let lr=ir,dr=!0,fr=null;const{payload:mr}=decodeJWT(rr.access_token);if(mr.exp&&(lr=mr.exp,dr=lr<=ir),dr){const{session:hr,error:gr}=await this._callRefreshToken(rr.refresh_token);if(gr)return{data:{user:null,session:null},error:gr};if(!hr)return{data:{user:null,session:null},error:null};fr=hr}else{const{data:hr,error:gr}=await this._getUser(rr.access_token);if(gr)throw gr;fr={access_token:rr.access_token,refresh_token:rr.refresh_token,user:hr.user,token_type:"bearer",expires_in:lr-ir,expires_at:lr},await this._saveSession(fr),await this._notifyAllSubscribers("SIGNED_IN",fr)}return{data:{user:fr.user,session:fr},error:null}}catch(ir){if(isAuthError(ir))return{data:{session:null,user:null},error:ir};throw ir}}async refreshSession(rr){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(rr))}async _refreshSession(rr){try{return await this._useSession(async ir=>{var lr;if(!rr){const{data:mr,error:hr}=ir;if(hr)throw hr;rr=(lr=mr.session)!==null&&lr!==void 0?lr:void 0}if(!rr?.refresh_token)throw new AuthSessionMissingError;const{session:dr,error:fr}=await this._callRefreshToken(rr.refresh_token);return fr?{data:{user:null,session:null},error:fr}:dr?{data:{user:dr.user,session:dr},error:null}:{data:{user:null,session:null},error:null}})}catch(ir){if(isAuthError(ir))return{data:{user:null,session:null},error:ir};throw ir}}async _getSessionFromURL(rr,ir){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(rr.error||rr.error_description||rr.error_code)throw new AuthImplicitGrantRedirectError(rr.error_description||"Error in URL with unspecified error_description",{error:rr.error||"unspecified_error",code:rr.error_code||"unspecified_code"});switch(ir){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(ir==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!rr.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:Ar,error:Ir}=await this._exchangeCodeForSession(rr.code);if(Ir)throw Ir;const $r=new URL(window.location.href);return $r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$r.toString()),{data:{session:Ar.session,redirectType:null},error:null}}const{provider_token:lr,provider_refresh_token:dr,access_token:fr,refresh_token:mr,expires_in:hr,expires_at:gr,token_type:xr}=rr;if(!fr||!hr||!mr||!xr)throw new AuthImplicitGrantRedirectError("No session defined in URL");const _r=Math.round(Date.now()/1e3),yr=parseInt(hr);let vr=_r+yr;gr&&(vr=parseInt(gr));const br=vr-_r;br*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${br}s, should have been closer to ${yr}s`);const Sr=vr-yr;_r-Sr>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Sr,vr,_r):_r-Sr<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Sr,vr,_r);const{data:wr,error:Mr}=await this._getUser(fr);if(Mr)throw Mr;const kr={provider_token:lr,provider_refresh_token:dr,access_token:fr,expires_in:yr,expires_at:vr,refresh_token:mr,token_type:xr,user:wr.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:kr,redirectType:rr.type},error:null}}catch(lr){if(isAuthError(lr))return{data:{session:null,redirectType:null},error:lr};throw lr}}_isImplicitGrantCallback(rr){return!!(rr.access_token||rr.error_description)}async _isPKCECallback(rr){const ir=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(rr.code&&ir)}async signOut(rr={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(rr))}async _signOut({scope:rr}={scope:"global"}){return await this._useSession(async ir=>{var lr;const{data:dr,error:fr}=ir;if(fr)return{error:fr};const mr=(lr=dr.session)===null||lr===void 0?void 0:lr.access_token;if(mr){const{error:hr}=await this.admin.signOut(mr,rr);if(hr&&!(isAuthApiError(hr)&&(hr.status===404||hr.status===401||hr.status===403)))return{error:hr}}return rr!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(rr){const ir=uuid(),lr={id:ir,callback:rr,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",ir),this.stateChangeEmitters.delete(ir)}};return this._debug("#onAuthStateChange()","registered callback with id",ir),this.stateChangeEmitters.set(ir,lr),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(ir)})))(),{data:{subscription:lr}}}async _emitInitialSession(rr){return await this._useSession(async ir=>{var lr,dr;try{const{data:{session:fr},error:mr}=ir;if(mr)throw mr;await((lr=this.stateChangeEmitters.get(rr))===null||lr===void 0?void 0:lr.callback("INITIAL_SESSION",fr)),this._debug("INITIAL_SESSION","callback id",rr,"session",fr)}catch(fr){await((dr=this.stateChangeEmitters.get(rr))===null||dr===void 0?void 0:dr.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",rr,"error",fr),console.error(fr)}})}async resetPasswordForEmail(rr,ir={}){let lr=null,dr=null;this.flowType==="pkce"&&([lr,dr]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:rr,code_challenge:lr,code_challenge_method:dr,gotrue_meta_security:{captcha_token:ir.captchaToken}},headers:this.headers,redirectTo:ir.redirectTo})}catch(fr){if(isAuthError(fr))return{data:null,error:fr};throw fr}}async getUserIdentities(){var rr;try{const{data:ir,error:lr}=await this.getUser();if(lr)throw lr;return{data:{identities:(rr=ir.user.identities)!==null&&rr!==void 0?rr:[]},error:null}}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}async linkIdentity(rr){var ir;try{const{data:lr,error:dr}=await this._useSession(async fr=>{var mr,hr,gr,xr,_r;const{data:yr,error:vr}=fr;if(vr)throw vr;const br=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,rr.provider,{redirectTo:(mr=rr.options)===null||mr===void 0?void 0:mr.redirectTo,scopes:(hr=rr.options)===null||hr===void 0?void 0:hr.scopes,queryParams:(gr=rr.options)===null||gr===void 0?void 0:gr.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",br,{headers:this.headers,jwt:(_r=(xr=yr.session)===null||xr===void 0?void 0:xr.access_token)!==null&&_r!==void 0?_r:void 0})});if(dr)throw dr;return isBrowser()&&!(!((ir=rr.options)===null||ir===void 0)&&ir.skipBrowserRedirect)&&window.location.assign(lr?.url),{data:{provider:rr.provider,url:lr?.url},error:null}}catch(lr){if(isAuthError(lr))return{data:{provider:rr.provider,url:null},error:lr};throw lr}}async unlinkIdentity(rr){try{return await this._useSession(async ir=>{var lr,dr;const{data:fr,error:mr}=ir;if(mr)throw mr;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${rr.identity_id}`,{headers:this.headers,jwt:(dr=(lr=fr.session)===null||lr===void 0?void 0:lr.access_token)!==null&&dr!==void 0?dr:void 0})})}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}async _refreshAccessToken(rr){const ir=`#_refreshAccessToken(${rr.substring(0,5)}...)`;this._debug(ir,"begin");try{const lr=Date.now();return await retryable(async dr=>(dr>0&&await sleep(200*Math.pow(2,dr-1)),this._debug(ir,"refreshing attempt",dr),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:rr},headers:this.headers,xform:_sessionResponse})),(dr,fr)=>{const mr=200*Math.pow(2,dr);return fr&&isAuthRetryableFetchError(fr)&&Date.now()+mr-lr<AUTO_REFRESH_TICK_DURATION_MS})}catch(lr){if(this._debug(ir,"error",lr),isAuthError(lr))return{data:{session:null,user:null},error:lr};throw lr}finally{this._debug(ir,"end")}}_isValidSession(rr){return typeof rr=="object"&&rr!==null&&"access_token"in rr&&"refresh_token"in rr&&"expires_at"in rr}async _handleProviderSignIn(rr,ir){const lr=await this._getUrlForProvider(`${this.url}/authorize`,rr,{redirectTo:ir.redirectTo,scopes:ir.scopes,queryParams:ir.queryParams});return this._debug("#_handleProviderSignIn()","provider",rr,"options",ir,"url",lr),isBrowser()&&!ir.skipBrowserRedirect&&window.location.assign(lr),{data:{provider:rr,url:lr},error:null}}async _recoverAndRefresh(){var rr,ir;const lr="#_recoverAndRefresh()";this._debug(lr,"begin");try{const dr=await getItemAsync(this.storage,this.storageKey);if(dr&&this.userStorage){let mr=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!mr&&(mr={user:dr.user},await setItemAsync(this.userStorage,this.storageKey+"-user",mr)),dr.user=(rr=mr?.user)!==null&&rr!==void 0?rr:userNotAvailableProxy()}else if(dr&&!dr.user&&!dr.user){const mr=await getItemAsync(this.storage,this.storageKey+"-user");mr&&mr?.user?(dr.user=mr.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,dr)):dr.user=userNotAvailableProxy()}if(this._debug(lr,"session from storage",dr),!this._isValidSession(dr)){this._debug(lr,"session is not valid"),dr!==null&&await this._removeSession();return}const fr=((ir=dr.expires_at)!==null&&ir!==void 0?ir:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(lr,`session has${fr?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),fr){if(this.autoRefreshToken&&dr.refresh_token){const{error:mr}=await this._callRefreshToken(dr.refresh_token);mr&&(console.error(mr),isAuthRetryableFetchError(mr)||(this._debug(lr,"refresh failed with a non-retryable error, removing the session",mr),await this._removeSession()))}}else if(dr.user&&dr.user.__isUserNotAvailableProxy===!0)try{const{data:mr,error:hr}=await this._getUser(dr.access_token);!hr&&mr?.user?(dr.user=mr.user,await this._saveSession(dr),await this._notifyAllSubscribers("SIGNED_IN",dr)):this._debug(lr,"could not get user data, skipping SIGNED_IN notification")}catch(mr){console.error("Error getting user data:",mr),this._debug(lr,"error getting user data, skipping SIGNED_IN notification",mr)}else await this._notifyAllSubscribers("SIGNED_IN",dr)}catch(dr){this._debug(lr,"error",dr),console.error(dr);return}finally{this._debug(lr,"end")}}async _callRefreshToken(rr){var ir,lr;if(!rr)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const dr=`#_callRefreshToken(${rr.substring(0,5)}...)`;this._debug(dr,"begin");try{this.refreshingDeferred=new Deferred;const{data:fr,error:mr}=await this._refreshAccessToken(rr);if(mr)throw mr;if(!fr.session)throw new AuthSessionMissingError;await this._saveSession(fr.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",fr.session);const hr={session:fr.session,error:null};return this.refreshingDeferred.resolve(hr),hr}catch(fr){if(this._debug(dr,"error",fr),isAuthError(fr)){const mr={session:null,error:fr};return isAuthRetryableFetchError(fr)||await this._removeSession(),(ir=this.refreshingDeferred)===null||ir===void 0||ir.resolve(mr),mr}throw(lr=this.refreshingDeferred)===null||lr===void 0||lr.reject(fr),fr}finally{this.refreshingDeferred=null,this._debug(dr,"end")}}async _notifyAllSubscribers(rr,ir,lr=!0){const dr=`#_notifyAllSubscribers(${rr})`;this._debug(dr,"begin",ir,`broadcast = ${lr}`);try{this.broadcastChannel&&lr&&this.broadcastChannel.postMessage({event:rr,session:ir});const fr=[],mr=Array.from(this.stateChangeEmitters.values()).map(async hr=>{try{await hr.callback(rr,ir)}catch(gr){fr.push(gr)}});if(await Promise.all(mr),fr.length>0){for(let hr=0;hr<fr.length;hr+=1)console.error(fr[hr]);throw fr[0]}}finally{this._debug(dr,"end")}}async _saveSession(rr){this._debug("#_saveSession()",rr),this.suppressGetSessionWarning=!0;const ir=Object.assign({},rr),lr=ir.user&&ir.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!lr&&ir.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:ir.user});const dr=Object.assign({},ir);delete dr.user;const fr=deepClone(dr);await setItemAsync(this.storage,this.storageKey,fr)}else{const dr=deepClone(ir);await setItemAsync(this.storage,this.storageKey,dr)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const rr=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{rr&&isBrowser()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",rr)}catch(ir){console.error("removing visibilitychange callback failed",ir)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const rr=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=rr,rr&&typeof rr=="object"&&typeof rr.unref=="function"?rr.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(rr),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const rr=this.autoRefreshTicker;this.autoRefreshTicker=null,rr&&clearInterval(rr)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const rr=Date.now();try{return await this._useSession(async ir=>{const{data:{session:lr}}=ir;if(!lr||!lr.refresh_token||!lr.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const dr=Math.floor((lr.expires_at*1e3-rr)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${dr} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),dr<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(lr.refresh_token)})}catch(ir){console.error("Auto refresh tick failed with error. This is likely a transient error.",ir)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(rr){if(rr.isAcquireTimeout||rr instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw rr}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(rr){console.error("_handleVisibilityChange",rr)}}async _onVisibilityChanged(rr){const ir=`#_onVisibilityChanged(${rr})`;this._debug(ir,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),rr||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(ir,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(rr,ir,lr){const dr=[`provider=${encodeURIComponent(ir)}`];if(lr?.redirectTo&&dr.push(`redirect_to=${encodeURIComponent(lr.redirectTo)}`),lr?.scopes&&dr.push(`scopes=${encodeURIComponent(lr.scopes)}`),this.flowType==="pkce"){const[fr,mr]=await getCodeChallengeAndMethod(this.storage,this.storageKey),hr=new URLSearchParams({code_challenge:`${encodeURIComponent(fr)}`,code_challenge_method:`${encodeURIComponent(mr)}`});dr.push(hr.toString())}if(lr?.queryParams){const fr=new URLSearchParams(lr.queryParams);dr.push(fr.toString())}return lr?.skipBrowserRedirect&&dr.push(`skip_http_redirect=${lr.skipBrowserRedirect}`),`${rr}?${dr.join("&")}`}async _unenroll(rr){try{return await this._useSession(async ir=>{var lr;const{data:dr,error:fr}=ir;return fr?{data:null,error:fr}:await _request(this.fetch,"DELETE",`${this.url}/factors/${rr.factorId}`,{headers:this.headers,jwt:(lr=dr?.session)===null||lr===void 0?void 0:lr.access_token})})}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}async _enroll(rr){try{return await this._useSession(async ir=>{var lr,dr;const{data:fr,error:mr}=ir;if(mr)return{data:null,error:mr};const hr=Object.assign({friendly_name:rr.friendlyName,factor_type:rr.factorType},rr.factorType==="phone"?{phone:rr.phone}:{issuer:rr.issuer}),{data:gr,error:xr}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:hr,headers:this.headers,jwt:(lr=fr?.session)===null||lr===void 0?void 0:lr.access_token});return xr?{data:null,error:xr}:(rr.factorType==="totp"&&(!((dr=gr?.totp)===null||dr===void 0)&&dr.qr_code)&&(gr.totp.qr_code=`data:image/svg+xml;utf-8,${gr.totp.qr_code}`),{data:gr,error:null})})}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}}async _verify(rr){return this._acquireLock(-1,async()=>{try{return await this._useSession(async ir=>{var lr;const{data:dr,error:fr}=ir;if(fr)return{data:null,error:fr};const{data:mr,error:hr}=await _request(this.fetch,"POST",`${this.url}/factors/${rr.factorId}/verify`,{body:{code:rr.code,challenge_id:rr.challengeId},headers:this.headers,jwt:(lr=dr?.session)===null||lr===void 0?void 0:lr.access_token});return hr?{data:null,error:hr}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+mr.expires_in},mr)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",mr),{data:mr,error:hr})})}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}})}async _challenge(rr){return this._acquireLock(-1,async()=>{try{return await this._useSession(async ir=>{var lr;const{data:dr,error:fr}=ir;return fr?{data:null,error:fr}:await _request(this.fetch,"POST",`${this.url}/factors/${rr.factorId}/challenge`,{body:{channel:rr.channel},headers:this.headers,jwt:(lr=dr?.session)===null||lr===void 0?void 0:lr.access_token})})}catch(ir){if(isAuthError(ir))return{data:null,error:ir};throw ir}})}async _challengeAndVerify(rr){const{data:ir,error:lr}=await this._challenge({factorId:rr.factorId});return lr?{data:null,error:lr}:await this._verify({factorId:rr.factorId,challengeId:ir.id,code:rr.code})}async _listFactors(){const{data:{user:rr},error:ir}=await this.getUser();if(ir)return{data:null,error:ir};const lr=rr?.factors||[],dr=lr.filter(mr=>mr.factor_type==="totp"&&mr.status==="verified"),fr=lr.filter(mr=>mr.factor_type==="phone"&&mr.status==="verified");return{data:{all:lr,totp:dr,phone:fr},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async rr=>{var ir,lr;const{data:{session:dr},error:fr}=rr;if(fr)return{data:null,error:fr};if(!dr)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:mr}=decodeJWT(dr.access_token);let hr=null;mr.aal&&(hr=mr.aal);let gr=hr;((lr=(ir=dr.user.factors)===null||ir===void 0?void 0:ir.filter(yr=>yr.status==="verified"))!==null&&lr!==void 0?lr:[]).length>0&&(gr="aal2");const _r=mr.amr||[];return{data:{currentLevel:hr,nextLevel:gr,currentAuthenticationMethods:_r},error:null}}))}async fetchJwk(rr,ir={keys:[]}){let lr=ir.keys.find(hr=>hr.kid===rr);if(lr)return lr;const dr=Date.now();if(lr=this.jwks.keys.find(hr=>hr.kid===rr),lr&&this.jwks_cached_at+JWKS_TTL>dr)return lr;const{data:fr,error:mr}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(mr)throw mr;return!fr.keys||fr.keys.length===0||(this.jwks=fr,this.jwks_cached_at=dr,lr=fr.keys.find(hr=>hr.kid===rr),!lr)?null:lr}async getClaims(rr,ir={}){try{let lr=rr;if(!lr){const{data:br,error:Sr}=await this.getSession();if(Sr||!br.session)return{data:null,error:Sr};lr=br.session.access_token}const{header:dr,payload:fr,signature:mr,raw:{header:hr,payload:gr}}=decodeJWT(lr);ir?.allowExpired||validateExp(fr.exp);const xr=!dr.alg||dr.alg.startsWith("HS")||!dr.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(dr.kid,ir?.keys?{keys:ir.keys}:ir?.jwks);if(!xr){const{error:br}=await this.getUser(lr);if(br)throw br;return{data:{claims:fr,header:dr,signature:mr},error:null}}const _r=getAlgorithm(dr.alg),yr=await crypto.subtle.importKey("jwk",xr,_r,!0,["verify"]);if(!await crypto.subtle.verify(_r,yr,mr,stringToUint8Array(`${hr}.${gr}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:fr,header:dr,signature:mr},error:null}}catch(lr){if(isAuthError(lr))return{data:null,error:lr};throw lr}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(rr){super(rr)}}var __awaiter=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,rr||[])).next())})};class SupabaseClient{constructor(rr,ir,lr){var dr,fr,mr;this.supabaseUrl=rr,this.supabaseKey=ir;const hr=validateSupabaseUrl(rr);if(!ir)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",hr),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",hr),this.storageUrl=new URL("storage/v1",hr),this.functionsUrl=new URL("functions/v1",hr);const gr=`sb-${hr.hostname.split(".")[0]}-auth-token`,xr={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:gr}),global:DEFAULT_GLOBAL_OPTIONS},_r=applySettingDefaults(lr??{},xr);this.storageKey=(dr=_r.auth.storageKey)!==null&&dr!==void 0?dr:"",this.headers=(fr=_r.global.headers)!==null&&fr!==void 0?fr:{},_r.accessToken?(this.accessToken=_r.accessToken,this.auth=new Proxy({},{get:(yr,vr)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(vr)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((mr=_r.auth)!==null&&mr!==void 0?mr:{},this.headers,_r.global.fetch),this.fetch=fetchWithAuth(ir,this._getAccessToken.bind(this),_r.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_r.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",hr).href,{headers:this.headers,schema:_r.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,lr?.storage),_r.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(rr){return this.rest.from(rr)}schema(rr){return this.rest.schema(rr)}rpc(rr,ir={},lr={}){return this.rest.rpc(rr,ir,lr)}channel(rr,ir={config:{}}){return this.realtime.channel(rr,ir)}getChannels(){return this.realtime.getChannels()}removeChannel(rr){return this.realtime.removeChannel(rr)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var rr,ir;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:lr}=yield this.auth.getSession();return(ir=(rr=lr.session)===null||rr===void 0?void 0:rr.access_token)!==null&&ir!==void 0?ir:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:rr,persistSession:ir,detectSessionInUrl:lr,storage:dr,userStorage:fr,storageKey:mr,flowType:hr,lock:gr,debug:xr},_r,yr){const vr={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},vr),_r),storageKey:mr,autoRefreshToken:rr,persistSession:ir,detectSessionInUrl:lr,storage:dr,userStorage:fr,flowType:hr,lock:gr,debug:xr,fetch:yr,hasCustomAuthorizationHeader:Object.keys(this.headers).some(br=>br.toLowerCase()==="authorization")})}_initRealtimeClient(rr){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},rr),{params:Object.assign({apikey:this.supabaseKey},rr?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((ir,lr)=>{this._handleTokenChanged(ir,"CLIENT",lr?.access_token)})}_handleTokenChanged(rr,ir,lr){(rr==="TOKEN_REFRESHED"||rr==="SIGNED_IN")&&this.changedAccessToken!==lr?this.changedAccessToken=lr:rr==="SIGNED_OUT"&&(this.realtime.setAuth(),ir=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(e,rr,ir)=>new SupabaseClient(e,rr,ir);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const rr=e.match(/^v(\d+)\./);return rr?parseInt(rr[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://hmmpdcfxjqskkwmsoxzh.supabase.co",supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhtbXBkY2Z4anFza2t3bXNveHpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwOTIwNDgsImV4cCI6MjA2NzY2ODA0OH0.wwWzVS7gMDgoMvNFtVEbDkIaGUrcbaDvSNWqP4G8MqY",supabase=createClient(supabaseUrl,supabaseAnonKey),redirectUrl$1="https://queryproctor.com";function Register(){const e=useForm({initialValues:{email:"",password:"",confirmPassword:""},validate:zodResolver(objectType({email:stringType().email("Invalid email"),password:stringType().min(6,"Password must be at least 6 characters"),confirmPassword:stringType()}).refine(lr=>lr.password===lr.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}))}),rr=useNavigate(),ir=useMutation({mutationKey:["auth","signup"],mutationFn:async lr=>{const{data:dr,error:fr}=await supabase.auth.signUp({email:lr.email,password:lr.password,options:{emailRedirectTo:redirectUrl$1}});if(fr)throw fr;return dr},onSuccess:()=>{e.reset(),notifications.show({title:"Registration successful",message:"Please check your email to confirm your account.",color:"green"}),rr({to:"/login"})},onError:lr=>{showError(lr.message)}});return jsxRuntimeExports.jsx("div",{className:classes$d.wrapper,children:jsxRuntimeExports.jsxs(Paper,{className:classes$d.form,radius:0,p:30,children:[jsxRuntimeExports.jsx(Title,{order:2,className:classes$d.title,ta:"center",mt:"md",mb:50,children:"Create your account"}),jsxRuntimeExports.jsxs("form",{onSubmit:e.onSubmit(lr=>ir.mutate(lr)),children:[jsxRuntimeExports.jsx(TextInput,{label:"Email address",placeholder:"hello@gmail.com",size:"md",...e.getInputProps("email")}),jsxRuntimeExports.jsx(PasswordInput,{label:"Password",placeholder:"Your password",mt:"md",size:"md",...e.getInputProps("password")}),jsxRuntimeExports.jsx(PasswordInput,{label:"Confirm Password",placeholder:"Confirm your password",mt:"md",size:"md",...e.getInputProps("confirmPassword")}),jsxRuntimeExports.jsx(Button$1,{type:"submit",fullWidth:!0,size:"md",mt:"xl",loading:ir.isPending,children:"Register"})]}),jsxRuntimeExports.jsxs(Text$2,{ta:"center",mt:"md",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link$2,{to:"/login",className:"text-hf-blue hover:text-blue-700 font-bold",children:"Login"})]})]})})}const Route$f=createFileRoute("/register")({component:RouteComponent$c});function RouteComponent$c(){return jsxRuntimeExports.jsx(Register,{})}class InvalidTokenError extends Error{}InvalidTokenError.prototype.name="InvalidTokenError";function b64DecodeUnicode(e){return decodeURIComponent(atob(e).replace(/(.)/g,(rr,ir)=>{let lr=ir.charCodeAt(0).toString(16).toUpperCase();return lr.length<2&&(lr="0"+lr),"%"+lr}))}function base64UrlDecode(e){let rr=e.replace(/-/g,"+").replace(/_/g,"/");switch(rr.length%4){case 0:break;case 2:rr+="==";break;case 3:rr+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return b64DecodeUnicode(rr)}catch{return atob(rr)}}function jwtDecode(e,rr){if(typeof e!="string")throw new InvalidTokenError("Invalid token specified: must be a string");rr||(rr={});const ir=rr.header===!0?0:1,lr=e.split(".")[ir];if(typeof lr!="string")throw new InvalidTokenError(`Invalid token specified: missing part #${ir+1}`);let dr;try{dr=base64UrlDecode(lr)}catch(fr){throw new InvalidTokenError(`Invalid token specified: invalid base64 for part #${ir+1} (${fr.message})`)}try{return JSON.parse(dr)}catch(fr){throw new InvalidTokenError(`Invalid token specified: invalid json for part #${ir+1} (${fr.message})`)}}const accessTokenQueryOptions={queryKey:["accessToken"],queryFn:async()=>{const{data:e,error:rr}=await supabase.auth.getSession();if(rr)throw rr;if(!e.session)throw new Error("No session found");const ir=e.session.access_token,lr=jwtDecode(ir);return{raw:ir,payload:lr}}};function useAccessToken(){return useSuspenseQuery(accessTokenQueryOptions)}function useUser(){return useSuspenseQuery(accessTokenQueryOptions).data.payload.user_metadata}function OtpVerification({email:e,onComplete:rr,isLoading:ir=!1,message:lr}){return jsxRuntimeExports.jsxs(Stack,{align:"center",pos:"relative",children:[jsxRuntimeExports.jsx(Text$2,{ta:"center",children:lr??`Enter the 6-digit code we sent to ${e}`}),jsxRuntimeExports.jsx(PinInput,{length:6,onComplete:rr,type:"number",disabled:ir}),ir&&jsxRuntimeExports.jsx(LoadingOverlay,{visible:!0})]})}var _serialize=(e,rr,ir={})=>{let lr=`${e}=${rr}`;if(e.startsWith("__Secure-")&&!ir.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!ir.secure)throw new Error("__Host- Cookie must have Secure attributes");if(ir.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(ir.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(ir&&typeof ir.maxAge=="number"&&ir.maxAge>=0){if(ir.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");lr+=`; Max-Age=${ir.maxAge|0}`}if(ir.domain&&ir.prefix!=="host"&&(lr+=`; Domain=${ir.domain}`),ir.path&&(lr+=`; Path=${ir.path}`),ir.expires){if(ir.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");lr+=`; Expires=${ir.expires.toUTCString()}`}if(ir.httpOnly&&(lr+="; HttpOnly"),ir.secure&&(lr+="; Secure"),ir.sameSite&&(lr+=`; SameSite=${ir.sameSite.charAt(0).toUpperCase()+ir.sameSite.slice(1)}`),ir.priority&&(lr+=`; Priority=${ir.priority}`),ir.partitioned){if(!ir.secure)throw new Error("Partitioned Cookie must have Secure attributes");lr+="; Partitioned"}return lr},serialize=(e,rr,ir)=>(rr=encodeURIComponent(rr),_serialize(e,rr,ir)),mergePath=(e,rr)=>(e=e.replace(/\/+$/,""),e=e+"/",rr=rr.replace(/^\/+/,""),e+rr),replaceUrlParam=(e,rr)=>{for(const[ir,lr]of Object.entries(rr)){const dr=new RegExp("/:"+ir+"(?:{[^/]+})?\\??");e=e.replace(dr,lr?`/${lr}`:"")}return e},buildSearchParams=e=>{const rr=new URLSearchParams;for(const[ir,lr]of Object.entries(e))if(lr!==void 0)if(Array.isArray(lr))for(const dr of lr)rr.append(ir,dr);else rr.set(ir,lr);return rr},replaceUrlProtocol=(e,rr)=>{switch(rr){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},removeIndexString=e=>/^https?:\/\/[^\/]+?\/index$/.test(e)?e.replace(/\/index$/,"/"):e.replace(/\/index$/,"");function isObject$3(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function deepMerge(e,rr){if(!isObject$3(e)&&!isObject$3(rr))return rr;const ir={...e};for(const lr in rr){const dr=rr[lr];isObject$3(ir[lr])&&isObject$3(dr)?ir[lr]=deepMerge(ir[lr],dr):ir[lr]=dr}return ir}var createProxy=(e,rr)=>new Proxy(()=>{},{get(lr,dr){if(!(typeof dr!="string"||dr==="then"))return createProxy(e,[...rr,dr])},apply(lr,dr,fr){return e({path:rr,args:fr})}}),ClientRequestImpl=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(e,rr){this.url=e,this.method=rr}fetch=async(e,rr)=>{if(e){if(e.query&&(this.queryParams=buildSearchParams(e.query)),e.form){const hr=new FormData;for(const[gr,xr]of Object.entries(e.form))if(Array.isArray(xr))for(const _r of xr)hr.append(gr,_r);else hr.append(gr,xr);this.rBody=hr}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let ir=this.method.toUpperCase();const lr={...e?.header,...typeof rr?.headers=="function"?await rr.headers():rr?.headers};if(e?.cookie){const hr=[];for(const[gr,xr]of Object.entries(e.cookie))hr.push(serialize(gr,xr,{path:"/"}));lr.Cookie=hr.join(",")}this.cType&&(lr["Content-Type"]=this.cType);const dr=new Headers(lr??void 0);let fr=this.url;fr=removeIndexString(fr),fr=replaceUrlParam(fr,this.pathParams),this.queryParams&&(fr=fr+"?"+this.queryParams.toString()),ir=this.method.toUpperCase();const mr=!(ir==="GET"||ir==="HEAD");return(rr?.fetch||fetch)(fr,{body:mr?this.rBody:void 0,method:ir,headers:dr,...rr?.init})}},hc=(e,rr)=>createProxy(function ir(lr){const dr=[...lr.path],fr=dr.slice(-3).reverse();if(fr[0]==="toString")return fr[1]==="name"?fr[2]||"":ir.toString();if(fr[0]==="valueOf")return fr[1]==="name"?fr[2]||"":ir;let mr="";if(/^\$/.test(fr[0])){const _r=dr.pop();_r&&(mr=_r.replace(/^\$/,""))}const hr=dr.join("/"),gr=mergePath(e,hr);if(mr==="url"){let _r=gr;return lr.args[0]&&(lr.args[0].param&&(_r=replaceUrlParam(gr,lr.args[0].param)),lr.args[0].query&&(_r=_r+"?"+buildSearchParams(lr.args[0].query).toString())),new URL(_r)}if(mr==="ws"){const _r=replaceUrlProtocol(lr.args[0]&&lr.args[0].param?replaceUrlParam(gr,lr.args[0].param):gr,"ws"),yr=new URL(_r),vr=lr.args[0]?.query;return vr&&Object.entries(vr).forEach(([Sr,wr])=>{Array.isArray(wr)?wr.forEach(Mr=>yr.searchParams.append(Sr,Mr)):yr.searchParams.set(Sr,wr)}),((...Sr)=>rr?.webSocket!==void 0&&typeof rr.webSocket=="function"?rr.webSocket(...Sr):new WebSocket(...Sr))(yr.toString())}const xr=new ClientRequestImpl(gr,mr);if(mr){rr??={};const _r=deepMerge(rr,{...lr.args[1]});return xr.fetch(lr.args[0],_r)}return xr},[]);async function getAuthHeaders(){const rr=(await supabase.auth.getSession()).data.session?.access_token??supabaseAnonKey;return{apikey:supabaseAnonKey,authorization:`Bearer ${rr}`}}const{api}=hc(window.location.origin,{headers:async()=>await getAuthHeaders()}),redirectUrl="https://queryproctor.com";function useSendOtp(){return useMutation({mutationFn:async e=>{const{data:rr,error:ir}=await supabase.auth.signInWithOtp({email:e,options:{shouldCreateUser:!0}});if(ir)throw ir;return rr},onSuccess:()=>{notifications.show({title:"Check your email",message:"We sent you a one time OTP. Check your email inbox.",color:"green"})},onError:e=>{showError(e.message)}})}function useVerifyOtp(){return useMutation({mutationFn:async({email:e,token:rr,processInvitation:ir})=>{const{data:lr,error:dr}=await supabase.auth.verifyOtp({email:e,token:rr,type:"email",options:{redirectTo:redirectUrl}});if(dr)throw dr;if(!lr.user?.email)throw new Error("No email found for user.");if(ir){const mr=await api.auth["process-invitation"].$post();if(!mr.ok){const hr=await mr.text();throw new Error(hr)}}return lr},onError:e=>{showError(e.message)}})}function Login(){const e=useNavigate({from:"/login"}),rr=useForm({mode:"uncontrolled",initialValues:{email:""},validate:zodResolver(objectType({email:stringType().email()}))}),ir=useForm({mode:"uncontrolled",initialValues:{token:""},validate:zodResolver(objectType({token:stringType().min(6).max(6)}))}),lr=useSendOtp(),dr=useVerifyOtp(),{isPending:fr}=lr,{isPending:mr}=dr;return jsxRuntimeExports.jsx("form",{onSubmit:rr.onSubmit(hr=>{lr.mutate(hr.email)}),children:jsxRuntimeExports.jsxs(Container,{size:500,my:40,children:[jsxRuntimeExports.jsx(Title,{ta:"center",className:classes$d.title,children:"Query Proctor"}),jsxRuntimeExports.jsx(Text$2,{className:classes$d.subtitle,children:"Welcome back! Log into Query Proctor with your email address."}),jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",p:22,mt:20,radius:"md",children:lr.isSuccess?jsxRuntimeExports.jsx(OtpVerification,{email:rr.values.email,onComplete:hr=>{ir.setFieldValue("token",hr),dr.mutate({email:rr.values.email,token:hr,processInvitation:!1},{onSuccess:()=>{e({to:"/"})}})},isLoading:mr}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TextInput,{label:"Email",placeholder:"example@email.com",required:!0,radius:"md",...rr.getInputProps("email")}),jsxRuntimeExports.jsx(Button$1,{fullWidth:!0,mt:"xl",radius:"md",type:"submit",loading:fr,disabled:fr,children:"Sign in"})]})})]})})}const Route$e=createFileRoute("/login")({async beforeLoad({context:{queryClient:e}}){try{throw await e.ensureQueryData(accessTokenQueryOptions),redirect({to:"/"})}catch{}},component:reactExports.memo(Login)}),MantineLinkComponent$1=reactExports.forwardRef((e,rr)=>jsxRuntimeExports.jsx(Anchor,{ref:rr,...e})),CreatedLinkComponent=createLink(MantineLinkComponent$1),CustomAnchor=e=>jsxRuntimeExports.jsx(CreatedLinkComponent,{preload:"intent",...e}),DEFAULT_SUCCESS_NOTIFICATION="Operation completed successfully!",DEFAULT_ERROR_NOTIFICATION="An unexpected error occurred!";function showSuccessNotification(e={message:DEFAULT_SUCCESS_NOTIFICATION},rr){notifications.show({...e,message:e.message??DEFAULT_SUCCESS_NOTIFICATION,title:e.title??"Success",color:e.color??"teal"},rr)}function showErrorNotification(e={message:DEFAULT_ERROR_NOTIFICATION},rr){notifications.show({...e,message:e.message??DEFAULT_ERROR_NOTIFICATION,title:e.title??"Error",color:e.color??"red"},rr)}const MantineLinkComponent=reactExports.forwardRef((e,rr)=>jsxRuntimeExports.jsx(NavLink,{ref:rr,...e}));createLink(MantineLinkComponent);function Navbar(){const e=useQueryClient(),rr=useNavigate(),{data:ir}=useAccessToken(),lr=async()=>{const{error:dr}=await supabase.auth.signOut();dr?showErrorNotification({message:dr.message}):(showSuccessNotification({message:"Successfully logged out!"}),e.invalidateQueries({queryKey:["accessToken"]})),rr({to:"/login"})};return jsxRuntimeExports.jsx("div",{className:"flex h-full max-h-screen flex-col gap-6 p-4 items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-1 flex-col justify-between gap-6 items-center w-full",children:[jsxRuntimeExports.jsxs("section",{className:"flex flex-col gap-4 items-center",children:[jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/template-problems",children:jsxRuntimeExports.jsx(Tooltip$1,{label:"Template Problems",position:"right",withArrow:!0,children:jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",c:"black",size:"xl",children:jsxRuntimeExports.jsx(IconTemplate,{size:32})})})}),jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/problems",children:jsxRuntimeExports.jsx(Tooltip$1,{label:"My Problems",position:"right",withArrow:!0,children:jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",c:"black",size:"xl",children:jsxRuntimeExports.jsx(IconBook,{size:32})})})}),jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/assessments",children:jsxRuntimeExports.jsx(Tooltip$1,{label:"Assessments",position:"right",withArrow:!0,children:jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",c:"black",size:"xl",children:jsxRuntimeExports.jsx(IconFilePencil,{size:32})})})})]}),jsxRuntimeExports.jsxs(Stack,{align:"center",gap:"md",children:[jsxRuntimeExports.jsx(Group,{justify:"center",children:jsxRuntimeExports.jsx(Tooltip$1,{label:ir.payload.email,position:"right",withArrow:!0,children:jsxRuntimeExports.jsx(Avatar,{color:"initials",name:ir.payload.email,size:"lg"})})}),jsxRuntimeExports.jsx(Tooltip$1,{label:"Logout",position:"right",withArrow:!0,children:jsxRuntimeExports.jsx(ActionIcon,{onClick:lr,variant:"light",color:"red",size:"xl",children:jsxRuntimeExports.jsx(IconLogout,{size:32})})})]})]})})}function Sidebar(){return jsxRuntimeExports.jsxs(AppShell,{padding:"md",navbar:{width:100,breakpoint:"sm"},children:[jsxRuntimeExports.jsx(AppShell.Navbar,{children:jsxRuntimeExports.jsx(reactExports.Suspense,{children:jsxRuntimeExports.jsx(Navbar,{})})}),jsxRuntimeExports.jsx(AppShell.Main,{children:jsxRuntimeExports.jsx(Paper,{h:"100vh",style:{overflow:"auto"},children:jsxRuntimeExports.jsx(reactExports.Suspense,{children:jsxRuntimeExports.jsx(Outlet,{})})})})]})}const Route$d=createFileRoute("/_student")({component:RouteComponent$b});function RouteComponent$b(){return jsxRuntimeExports.jsx(Sidebar,{})}const Route$c=createFileRoute("/_admin")({async beforeLoad({context:{queryClient:e}}){let rr;try{const{payload:ir}=await e.ensureQueryData(accessTokenQueryOptions);rr=ir}catch{throw redirect({to:"/login"})}throw rr?rr.user_metadata.role==="admin"?redirect({to:"/admin/dashboard"}):redirect({to:"/student/dashboard"}):redirect({to:"/login"})},component:RouteComponent$a});function RouteComponent$a(){return jsxRuntimeExports.jsx(Sidebar,{})}const Route$b=createFileRoute("/")({async beforeLoad({context:{queryClient:e}}){let rr;try{const{payload:ir}=await e.ensureQueryData(accessTokenQueryOptions);rr=ir}catch{throw redirect({to:"/login"})}throw rr?rr.user_metadata.role==="admin"?redirect({to:"/admin/dashboard"}):redirect({to:"/student/dashboard"}):redirect({to:"/login"})}});var dayjs_min={exports:{}};(function(e,rr){(function(ir,lr){e.exports=lr()})(commonjsGlobal,function(){var ir=1e3,lr=6e4,dr=36e5,fr="millisecond",mr="second",hr="minute",gr="hour",xr="day",_r="week",yr="month",vr="quarter",br="year",Sr="date",wr="Invalid Date",Mr=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,kr=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ar={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Zn){var Hn=["th","st","nd","rd"],Kn=Zn%100;return"["+Zn+(Hn[(Kn-20)%10]||Hn[Kn]||Hn[0])+"]"}},Ir=function(Zn,Hn,Kn){var qn=String(Zn);return!qn||qn.length>=Hn?Zn:""+Array(Hn+1-qn.length).join(Kn)+Zn},$r={s:Ir,z:function(Zn){var Hn=-Zn.utcOffset(),Kn=Math.abs(Hn),qn=Math.floor(Kn/60),Qr=Kn%60;return(Hn<=0?"+":"-")+Ir(qn,2,"0")+":"+Ir(Qr,2,"0")},m:function Zn(Hn,Kn){if(Hn.date()<Kn.date())return-Zn(Kn,Hn);var qn=12*(Kn.year()-Hn.year())+(Kn.month()-Hn.month()),Qr=Hn.clone().add(qn,yr),$n=Kn-Qr<0,es=Hn.clone().add(qn+($n?-1:1),yr);return+(-(qn+(Kn-Qr)/($n?Qr-es:es-Qr))||0)},a:function(Zn){return Zn<0?Math.ceil(Zn)||0:Math.floor(Zn)},p:function(Zn){return{M:yr,y:br,w:_r,d:xr,D:Sr,h:gr,m:hr,s:mr,ms:fr,Q:vr}[Zn]||String(Zn||"").toLowerCase().replace(/s$/,"")},u:function(Zn){return Zn===void 0}},Dr="en",Or={};Or[Dr]=Ar;var Fr="$isDayjsObject",Lr=function(Zn){return Zn instanceof Yn||!(!Zn||!Zn[Fr])},zr=function Zn(Hn,Kn,qn){var Qr;if(!Hn)return Dr;if(typeof Hn=="string"){var $n=Hn.toLowerCase();Or[$n]&&(Qr=$n),Kn&&(Or[$n]=Kn,Qr=$n);var es=Hn.split("-");if(!Qr&&es.length>1)return Zn(es[0])}else{var Xn=Hn.name;Or[Xn]=Hn,Qr=Xn}return!qn&&Qr&&(Dr=Qr),Qr||!qn&&Dr},Gr=function(Zn,Hn){if(Lr(Zn))return Zn.clone();var Kn=typeof Hn=="object"?Hn:{};return Kn.date=Zn,Kn.args=arguments,new Yn(Kn)},Jr=$r;Jr.l=zr,Jr.i=Lr,Jr.w=function(Zn,Hn){return Gr(Zn,{locale:Hn.$L,utc:Hn.$u,x:Hn.$x,$offset:Hn.$offset})};var Yn=function(){function Zn(Kn){this.$L=zr(Kn.locale,null,!0),this.parse(Kn),this.$x=this.$x||Kn.x||{},this[Fr]=!0}var Hn=Zn.prototype;return Hn.parse=function(Kn){this.$d=function(qn){var Qr=qn.date,$n=qn.utc;if(Qr===null)return new Date(NaN);if(Jr.u(Qr))return new Date;if(Qr instanceof Date)return new Date(Qr);if(typeof Qr=="string"&&!/Z$/i.test(Qr)){var es=Qr.match(Mr);if(es){var Xn=es[2]-1||0,rs=(es[7]||"0").substring(0,3);return $n?new Date(Date.UTC(es[1],Xn,es[3]||1,es[4]||0,es[5]||0,es[6]||0,rs)):new Date(es[1],Xn,es[3]||1,es[4]||0,es[5]||0,es[6]||0,rs)}}return new Date(Qr)}(Kn),this.init()},Hn.init=function(){var Kn=this.$d;this.$y=Kn.getFullYear(),this.$M=Kn.getMonth(),this.$D=Kn.getDate(),this.$W=Kn.getDay(),this.$H=Kn.getHours(),this.$m=Kn.getMinutes(),this.$s=Kn.getSeconds(),this.$ms=Kn.getMilliseconds()},Hn.$utils=function(){return Jr},Hn.isValid=function(){return this.$d.toString()!==wr},Hn.isSame=function(Kn,qn){var Qr=Gr(Kn);return this.startOf(qn)<=Qr&&Qr<=this.endOf(qn)},Hn.isAfter=function(Kn,qn){return Gr(Kn)<this.startOf(qn)},Hn.isBefore=function(Kn,qn){return this.endOf(qn)<Gr(Kn)},Hn.$g=function(Kn,qn,Qr){return Jr.u(Kn)?this[qn]:this.set(Qr,Kn)},Hn.unix=function(){return Math.floor(this.valueOf()/1e3)},Hn.valueOf=function(){return this.$d.getTime()},Hn.startOf=function(Kn,qn){var Qr=this,$n=!!Jr.u(qn)||qn,es=Jr.p(Kn),Xn=function(gs,xs){var ms=Jr.w(Qr.$u?Date.UTC(Qr.$y,xs,gs):new Date(Qr.$y,xs,gs),Qr);return $n?ms:ms.endOf(xr)},rs=function(gs,xs){return Jr.w(Qr.toDate()[gs].apply(Qr.toDate("s"),($n?[0,0,0,0]:[23,59,59,999]).slice(xs)),Qr)},ns=this.$W,ls=this.$M,ss=this.$D,as="set"+(this.$u?"UTC":"");switch(es){case br:return $n?Xn(1,0):Xn(31,11);case yr:return $n?Xn(1,ls):Xn(0,ls+1);case _r:var us=this.$locale().weekStart||0,hs=(ns<us?ns+7:ns)-us;return Xn($n?ss-hs:ss+(6-hs),ls);case xr:case Sr:return rs(as+"Hours",0);case gr:return rs(as+"Minutes",1);case hr:return rs(as+"Seconds",2);case mr:return rs(as+"Milliseconds",3);default:return this.clone()}},Hn.endOf=function(Kn){return this.startOf(Kn,!1)},Hn.$set=function(Kn,qn){var Qr,$n=Jr.p(Kn),es="set"+(this.$u?"UTC":""),Xn=(Qr={},Qr[xr]=es+"Date",Qr[Sr]=es+"Date",Qr[yr]=es+"Month",Qr[br]=es+"FullYear",Qr[gr]=es+"Hours",Qr[hr]=es+"Minutes",Qr[mr]=es+"Seconds",Qr[fr]=es+"Milliseconds",Qr)[$n],rs=$n===xr?this.$D+(qn-this.$W):qn;if($n===yr||$n===br){var ns=this.clone().set(Sr,1);ns.$d[Xn](rs),ns.init(),this.$d=ns.set(Sr,Math.min(this.$D,ns.daysInMonth())).$d}else Xn&&this.$d[Xn](rs);return this.init(),this},Hn.set=function(Kn,qn){return this.clone().$set(Kn,qn)},Hn.get=function(Kn){return this[Jr.p(Kn)]()},Hn.add=function(Kn,qn){var Qr,$n=this;Kn=Number(Kn);var es=Jr.p(qn),Xn=function(ls){var ss=Gr($n);return Jr.w(ss.date(ss.date()+Math.round(ls*Kn)),$n)};if(es===yr)return this.set(yr,this.$M+Kn);if(es===br)return this.set(br,this.$y+Kn);if(es===xr)return Xn(1);if(es===_r)return Xn(7);var rs=(Qr={},Qr[hr]=lr,Qr[gr]=dr,Qr[mr]=ir,Qr)[es]||1,ns=this.$d.getTime()+Kn*rs;return Jr.w(ns,this)},Hn.subtract=function(Kn,qn){return this.add(-1*Kn,qn)},Hn.format=function(Kn){var qn=this,Qr=this.$locale();if(!this.isValid())return Qr.invalidDate||wr;var $n=Kn||"YYYY-MM-DDTHH:mm:ssZ",es=Jr.z(this),Xn=this.$H,rs=this.$m,ns=this.$M,ls=Qr.weekdays,ss=Qr.months,as=Qr.meridiem,us=function(xs,ms,_s,Es){return xs&&(xs[ms]||xs(qn,$n))||_s[ms].slice(0,Es)},hs=function(xs){return Jr.s(Xn%12||12,xs,"0")},gs=as||function(xs,ms,_s){var Es=xs<12?"AM":"PM";return _s?Es.toLowerCase():Es};return $n.replace(kr,function(xs,ms){return ms||function(_s){switch(_s){case"YY":return String(qn.$y).slice(-2);case"YYYY":return Jr.s(qn.$y,4,"0");case"M":return ns+1;case"MM":return Jr.s(ns+1,2,"0");case"MMM":return us(Qr.monthsShort,ns,ss,3);case"MMMM":return us(ss,ns);case"D":return qn.$D;case"DD":return Jr.s(qn.$D,2,"0");case"d":return String(qn.$W);case"dd":return us(Qr.weekdaysMin,qn.$W,ls,2);case"ddd":return us(Qr.weekdaysShort,qn.$W,ls,3);case"dddd":return ls[qn.$W];case"H":return String(Xn);case"HH":return Jr.s(Xn,2,"0");case"h":return hs(1);case"hh":return hs(2);case"a":return gs(Xn,rs,!0);case"A":return gs(Xn,rs,!1);case"m":return String(rs);case"mm":return Jr.s(rs,2,"0");case"s":return String(qn.$s);case"ss":return Jr.s(qn.$s,2,"0");case"SSS":return Jr.s(qn.$ms,3,"0");case"Z":return es}return null}(xs)||es.replace(":","")})},Hn.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Hn.diff=function(Kn,qn,Qr){var $n,es=this,Xn=Jr.p(qn),rs=Gr(Kn),ns=(rs.utcOffset()-this.utcOffset())*lr,ls=this-rs,ss=function(){return Jr.m(es,rs)};switch(Xn){case br:$n=ss()/12;break;case yr:$n=ss();break;case vr:$n=ss()/3;break;case _r:$n=(ls-ns)/6048e5;break;case xr:$n=(ls-ns)/864e5;break;case gr:$n=ls/dr;break;case hr:$n=ls/lr;break;case mr:$n=ls/ir;break;default:$n=ls}return Qr?$n:Jr.a($n)},Hn.daysInMonth=function(){return this.endOf(yr).$D},Hn.$locale=function(){return Or[this.$L]},Hn.locale=function(Kn,qn){if(!Kn)return this.$L;var Qr=this.clone(),$n=zr(Kn,qn,!0);return $n&&(Qr.$L=$n),Qr},Hn.clone=function(){return Jr.w(this.$d,this)},Hn.toDate=function(){return new Date(this.valueOf())},Hn.toJSON=function(){return this.isValid()?this.toISOString():null},Hn.toISOString=function(){return this.$d.toISOString()},Hn.toString=function(){return this.$d.toUTCString()},Zn}(),Jn=Yn.prototype;return Gr.prototype=Jn,[["$ms",fr],["$s",mr],["$m",hr],["$H",gr],["$W",xr],["$M",yr],["$y",br],["$D",Sr]].forEach(function(Zn){Jn[Zn[1]]=function(Hn){return this.$g(Hn,Zn[0],Zn[1])}}),Gr.extend=function(Zn,Hn){return Zn.$i||(Zn(Hn,Yn,Gr),Zn.$i=!0),Gr},Gr.locale=zr,Gr.isDayjs=Lr,Gr.unix=function(Zn){return Gr(1e3*Zn)},Gr.en=Or[Dr],Gr.Ls=Or,Gr.p={},Gr})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs$1(dayjs_minExports);var timezone$1={exports:{}};(function(e,rr){(function(ir,lr){e.exports=lr()})(commonjsGlobal,function(){var ir={year:0,month:1,day:2,hour:3,minute:4,second:5},lr={};return function(dr,fr,mr){var hr,gr=function(vr,br,Sr){Sr===void 0&&(Sr={});var wr=new Date(vr),Mr=function(kr,Ar){Ar===void 0&&(Ar={});var Ir=Ar.timeZoneName||"short",$r=kr+"|"+Ir,Dr=lr[$r];return Dr||(Dr=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:kr,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:Ir}),lr[$r]=Dr),Dr}(br,Sr);return Mr.formatToParts(wr)},xr=function(vr,br){for(var Sr=gr(vr,br),wr=[],Mr=0;Mr<Sr.length;Mr+=1){var kr=Sr[Mr],Ar=kr.type,Ir=kr.value,$r=ir[Ar];$r>=0&&(wr[$r]=parseInt(Ir,10))}var Dr=wr[3],Or=Dr===24?0:Dr,Fr=wr[0]+"-"+wr[1]+"-"+wr[2]+" "+Or+":"+wr[4]+":"+wr[5]+":000",Lr=+vr;return(mr.utc(Fr).valueOf()-(Lr-=Lr%1e3))/6e4},_r=fr.prototype;_r.tz=function(vr,br){vr===void 0&&(vr=hr);var Sr,wr=this.utcOffset(),Mr=this.toDate(),kr=Mr.toLocaleString("en-US",{timeZone:vr}),Ar=Math.round((Mr-new Date(kr))/1e3/60),Ir=15*-Math.round(Mr.getTimezoneOffset()/15)-Ar;if(!Number(Ir))Sr=this.utcOffset(0,br);else if(Sr=mr(kr,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(Ir,!0),br){var $r=Sr.utcOffset();Sr=Sr.add(wr-$r,"minute")}return Sr.$x.$timezone=vr,Sr},_r.offsetName=function(vr){var br=this.$x.$timezone||mr.tz.guess(),Sr=gr(this.valueOf(),br,{timeZoneName:vr}).find(function(wr){return wr.type.toLowerCase()==="timezonename"});return Sr&&Sr.value};var yr=_r.startOf;_r.startOf=function(vr,br){if(!this.$x||!this.$x.$timezone)return yr.call(this,vr,br);var Sr=mr(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return yr.call(Sr,vr,br).tz(this.$x.$timezone,!0)},mr.tz=function(vr,br,Sr){var wr=Sr&&br,Mr=Sr||br||hr,kr=xr(+mr(),Mr);if(typeof vr!="string")return mr(vr).tz(Mr);var Ar=function(Or,Fr,Lr){var zr=Or-60*Fr*1e3,Gr=xr(zr,Lr);if(Fr===Gr)return[zr,Fr];var Jr=xr(zr-=60*(Gr-Fr)*1e3,Lr);return Gr===Jr?[zr,Gr]:[Or-60*Math.min(Gr,Jr)*1e3,Math.max(Gr,Jr)]}(mr.utc(vr,wr).valueOf(),kr,Mr),Ir=Ar[0],$r=Ar[1],Dr=mr(Ir).utcOffset($r);return Dr.$x.$timezone=Mr,Dr},mr.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},mr.tz.setDefault=function(vr){hr=vr}}})})(timezone$1);var timezoneExports=timezone$1.exports;const timezone=getDefaultExportFromCjs$1(timezoneExports);var utc$1={exports:{}};(function(e,rr){(function(ir,lr){e.exports=lr()})(commonjsGlobal,function(){var ir="minute",lr=/[+-]\d\d(?::?\d\d)?/g,dr=/([+-]|\d\d)/g;return function(fr,mr,hr){var gr=mr.prototype;hr.utc=function(wr){var Mr={date:wr,utc:!0,args:arguments};return new mr(Mr)},gr.utc=function(wr){var Mr=hr(this.toDate(),{locale:this.$L,utc:!0});return wr?Mr.add(this.utcOffset(),ir):Mr},gr.local=function(){return hr(this.toDate(),{locale:this.$L,utc:!1})};var xr=gr.parse;gr.parse=function(wr){wr.utc&&(this.$u=!0),this.$utils().u(wr.$offset)||(this.$offset=wr.$offset),xr.call(this,wr)};var _r=gr.init;gr.init=function(){if(this.$u){var wr=this.$d;this.$y=wr.getUTCFullYear(),this.$M=wr.getUTCMonth(),this.$D=wr.getUTCDate(),this.$W=wr.getUTCDay(),this.$H=wr.getUTCHours(),this.$m=wr.getUTCMinutes(),this.$s=wr.getUTCSeconds(),this.$ms=wr.getUTCMilliseconds()}else _r.call(this)};var yr=gr.utcOffset;gr.utcOffset=function(wr,Mr){var kr=this.$utils().u;if(kr(wr))return this.$u?0:kr(this.$offset)?yr.call(this):this.$offset;if(typeof wr=="string"&&(wr=function(Dr){Dr===void 0&&(Dr="");var Or=Dr.match(lr);if(!Or)return null;var Fr=(""+Or[0]).match(dr)||["-",0,0],Lr=Fr[0],zr=60*+Fr[1]+ +Fr[2];return zr===0?0:Lr==="+"?zr:-zr}(wr),wr===null))return this;var Ar=Math.abs(wr)<=16?60*wr:wr;if(Ar===0)return this.utc(Mr);var Ir=this.clone();if(Mr)return Ir.$offset=Ar,Ir.$u=!1,Ir;var $r=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(Ir=this.local().add(Ar+$r,ir)).$offset=Ar,Ir.$x.$localOffset=$r,Ir};var vr=gr.format;gr.format=function(wr){var Mr=wr||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return vr.call(this,Mr)},gr.valueOf=function(){var wr=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*wr},gr.isUTC=function(){return!!this.$u},gr.toISOString=function(){return this.toDate().toISOString()},gr.toString=function(){return this.toDate().toUTCString()};var br=gr.toDate;gr.toDate=function(wr){return wr==="s"&&this.$offset?hr(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():br.call(this)};var Sr=gr.diff;gr.diff=function(wr,Mr,kr){if(wr&&this.$u===wr.$u)return Sr.call(this,wr,Mr,kr);var Ar=this.local(),Ir=hr(wr).local();return Sr.call(Ar,Ir,Mr,kr)}}})})(utc$1);var utcExports=utc$1.exports;const utc=getDefaultExportFromCjs$1(utcExports);dayjs.extend(utc);dayjs.extend(timezone);dayjs.tz.setDefault("Asia/Singapore");function InvitationAccept(){const{token:e}=useParams({from:"/invitation/$token"}),rr=useNavigate(),[ir,lr]=reactExports.useState(!1),[dr,fr]=reactExports.useState(""),[mr,hr]=reactExports.useState(null),{data:gr,isLoading:xr,error:_r}=useQuery({queryKey:["invitation",e],queryFn:async()=>{const wr=await api.invitations[":token"].$get({param:{token:e}});if(!wr.ok){const Mr=await wr.text();throw new Error(Mr)}return wr.json()},retry:!1}),yr=useSendOtp(),vr=useVerifyOtp(),br=useMutation({mutationKey:["invitation","accept",e],mutationFn:async()=>{const wr=await api.invitations[":token"].accept.$get({param:{token:e}});if(!wr.ok){const Mr=await wr.text();throw new Error(Mr)}return wr.json()},onSuccess:wr=>{notifications.show({title:"Invitation Accepted!",message:wr.accountExists?"Welcome back! Sending OTP to your email...":"Account created successfully! Sending OTP to your email...",color:"green",icon:jsxRuntimeExports.jsx(IconCheck,{size:16})}),hr(wr.assessmentId);const Mr=gr?.invitation.email;Mr?(fr(Mr),yr.mutate(Mr,{onSuccess:()=>{lr(!0)}})):showError("Could not send OTP: email not found")},onError:wr=>{showError(wr.message)}});if(xr)return jsxRuntimeExports.jsx(Container,{size:"sm",py:80,children:jsxRuntimeExports.jsxs(Paper,{shadow:"md",p:30,radius:"md",withBorder:!0,children:[jsxRuntimeExports.jsx(LoadingOverlay,{visible:!0}),jsxRuntimeExports.jsx(Text$2,{ta:"center",c:"dimmed",children:"Loading invitation details..."})]})});if(_r)return jsxRuntimeExports.jsx(Container,{size:"sm",py:80,children:jsxRuntimeExports.jsx(Paper,{shadow:"md",p:30,radius:"md",withBorder:!0,children:jsxRuntimeExports.jsx(Alert,{icon:jsxRuntimeExports.jsx(IconAlertCircle,{size:16}),title:"Error",color:"red",variant:"filled",children:_r.message||"Failed to load invitation"})})});if(!gr?.invitation)return jsxRuntimeExports.jsx(Container,{size:"sm",py:80,children:jsxRuntimeExports.jsx(Paper,{shadow:"md",p:30,radius:"md",withBorder:!0,children:jsxRuntimeExports.jsx(Alert,{icon:jsxRuntimeExports.jsx(IconAlertCircle,{size:16}),title:"Invalid Invitation",color:"red",variant:"filled",children:"This invitation link is invalid or has expired."})})});const{invitation:Sr}=gr;return jsxRuntimeExports.jsx(Container,{size:"sm",py:80,children:jsxRuntimeExports.jsxs(Paper,{shadow:"md",p:30,radius:"md",withBorder:!0,pos:"relative",children:[jsxRuntimeExports.jsx(LoadingOverlay,{visible:br.isPending||yr.isPending}),jsxRuntimeExports.jsx(Title,{order:2,ta:"center",mb:"md",children:ir?"Verify Your Email":"Assessment Invitation"}),jsxRuntimeExports.jsx(Text$2,{ta:"center",c:"dimmed",size:"sm",mb:"xl",children:ir?"Enter the OTP we sent to your email":"You've been invited to participate in an assessment"}),ir?jsxRuntimeExports.jsx(OtpVerification,{email:dr,onComplete:wr=>{vr.mutate({email:dr,token:wr,processInvitation:!0},{onSuccess:()=>{showSuccess("OTP verified! Redirecting to assessment..."),mr&&setTimeout(()=>{rr({to:"/student/assessment/$id",params:{id:mr}})},1500)}})},isLoading:vr.isPending}):jsxRuntimeExports.jsxs(Stack,{gap:"xl",children:[jsxRuntimeExports.jsxs(Paper,{p:"md",withBorder:!0,children:[jsxRuntimeExports.jsx(Title,{order:3,size:"h4",mb:"sm",children:Sr.assessmentTitle}),Sr.assessmentDate&&jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(ThemeIcon,{variant:"light",size:"sm",children:jsxRuntimeExports.jsx(IconCalendar,{size:14})}),jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",children:dayjs(Sr.assessmentDate).format("MMMM D, YYYY [at] h:mm A")})]})]}),jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(ThemeIcon,{variant:"light",size:"md",children:jsxRuntimeExports.jsx(IconUser,{size:16})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:"Full Name"}),jsxRuntimeExports.jsx(Text$2,{fw:500,children:Sr.fullName})]})]}),jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(ThemeIcon,{variant:"light",size:"md",children:jsxRuntimeExports.jsx(IconMail,{size:16})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:"Email"}),jsxRuntimeExports.jsx(Text$2,{fw:500,children:Sr.email})]})]}),Sr.matriculationNumber&&jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(ThemeIcon,{variant:"light",size:"md",children:jsxRuntimeExports.jsx(IconUser,{size:16})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:"Matriculation Number"}),jsxRuntimeExports.jsx(Text$2,{fw:500,children:Sr.matriculationNumber})]})]})]}),jsxRuntimeExports.jsx(Button$1,{size:"lg",fullWidth:!0,onClick:()=>br.mutate(),loading:br.isPending,children:"Accept Invitation & Continue"}),jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",ta:"center",children:"By accepting, an account will be created for you and you'll be redirected to the assessment."})]})]})})}const Route$a=createFileRoute("/invitation/$token")({component:InvitationAccept}),Route$9=createFileRoute("/_student/student/dashboard")({component:RouteComponent$9});function RouteComponent$9(){return jsxRuntimeExports.jsx("div",{children:'Hello "/_student/student/dashboard"!'})}const zodValidator=e=>{const rr="input"in e?e.input:"input",ir="output"in e?e.output:"output",lr="schema"in e?e.schema._input:e._input,dr="schema"in e?e.schema._output:e._output;return{types:{input:rr==="output"?dr:lr,output:ir==="input"?lr:dr},parse:fr=>"schema"in e?e.schema.parse(fr):e.parse(fr)}},normalizeFilters=e=>Object.fromEntries(Object.entries(e).filter(([,rr])=>!(rr==null||typeof rr=="string"&&rr.trim()===""||Array.isArray(rr)&&rr.length===0))),templateProblemKeys={all:[{scope:"template-problems"}],lists:()=>[{...templateProblemKeys.all[0],entity:"list"}],listParams:(e,rr,ir)=>[{...templateProblemKeys.lists()[0],kind:"params",filters:normalizeFilters(e),sorting:rr.sortOptions,pageIndex:ir}],infinite:(e,rr)=>[{...templateProblemKeys.lists()[0],kind:"infinite",filters:normalizeFilters(e),sorting:rr.sortOptions}],totalPages:(e,rr)=>[{...templateProblemKeys.lists()[0],kind:"total-pages",filters:normalizeFilters(e),pageSize:rr}],totalCount:e=>[{...templateProblemKeys.lists()[0],kind:"total-count",filters:normalizeFilters(e)}],infinitePage:(e,rr,ir)=>[{...templateProblemKeys.infinite(e,rr)[0],page:ir??"first"}],detail:e=>[{...templateProblemKeys.all[0],entity:"detail",id:e}]},myProblemKeys={all:[{scope:"myProblem"}],lists:()=>[{...myProblemKeys.all[0],entity:"list"}],listParams:(e,rr,ir)=>[{...myProblemKeys.lists()[0],kind:"params",filters:normalizeFilters(e),sorting:rr.sortOptions,pageIndex:ir}],infinite:(e,rr)=>[{...myProblemKeys.lists()[0],kind:"infinite",filters:normalizeFilters(e),sorting:rr.sortOptions}],totalPages:(e,rr)=>[{...myProblemKeys.lists()[0],kind:"total-pages",filters:normalizeFilters(e),pageSize:rr}],totalCount:e=>[{...myProblemKeys.lists()[0],kind:"total-count",filters:normalizeFilters(e)}],infinitePage:(e,rr,ir)=>[{...myProblemKeys.infinite(e,rr)[0],page:ir??"first"}],detail:e=>[{...myProblemKeys.all[0],entity:"detail",id:e}]},fetchTemplateProblemsPage=async({filters:e,sorting:rr,pageIndex:ir,pageSize:lr})=>{const dr=ir?ir*lr:0,fr=dr+lr-1;let mr=supabase.from("problems").select("id",{count:"exact",head:!0}),hr=supabase.from("problems").select("*");if(e.search){const Mr=`%${e.search}%`;hr=hr.or(`name.ilike.${Mr},description.ilike.${Mr}`),mr=mr.or(`name.ilike.${Mr},description.ilike.${Mr}`)}if(e.id){const Mr=e.id;hr=hr.or(`id.eq.${Mr}`),mr=mr.or(`id.eq.${Mr}`)}if(rr.sortOptions.length>0)for(const Mr of rr.sortOptions)hr=hr.order(Mr.sortBy,{ascending:Mr.order==="asc"});hr=hr.range(dr||0,fr);const[gr,xr]=await Promise.all([mr,hr]),{data:_r,error:yr}=xr,{count:vr,error:br}=gr;if(yr||br)throw new Error(yr?.message??br?.message??"Unknown error");const Sr=vr??0,wr=Sr?Math.ceil(Sr/lr):0;return{items:_r,totalCount:Sr,totalPages:wr}},templateProblemsQueryOptions=({filters:e,sorting:rr,pageSize:ir=20,pageIndex:lr=0})=>({queryKey:templateProblemKeys.listParams(e,rr,lr),queryFn:()=>fetchTemplateProblemsPage({filters:e,sorting:rr,pageIndex:lr,pageSize:ir})}),useTemplateProblemsQuery=(e,rr,ir=20,lr=0)=>{const dr={...e,search:e.search?.trim()?e.search.trim():void 0};return useSuspenseQuery(templateProblemsQueryOptions({filters:dr,sorting:rr,pageSize:ir,pageIndex:lr}))},useFetchTemplateProblemDetails=e=>useSuspenseQuery({queryKey:[templateProblemKeys.detail(e)],queryFn:async()=>{const{data:rr}=await supabase.from("problems").select("name, description").eq("id",e).single();return rr}}),useApplyTemplateMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async({templateProblemId:rr})=>{const ir=await api.problems["use-template"].$post({json:{templateProblemId:rr}});if(!ir.ok){const dr=await ir.text();throw new Error(dr||"Failed to apply template")}return await ir.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[myProblemKeys.all]})}})};function OrderedMap(e){this.content=e}OrderedMap.prototype={constructor:OrderedMap,find:function(e){for(var rr=0;rr<this.content.length;rr+=2)if(this.content[rr]===e)return rr;return-1},get:function(e){var rr=this.find(e);return rr==-1?void 0:this.content[rr+1]},update:function(e,rr,ir){var lr=ir&&ir!=e?this.remove(ir):this,dr=lr.find(e),fr=lr.content.slice();return dr==-1?fr.push(ir||e,rr):(fr[dr+1]=rr,ir&&(fr[dr]=ir)),new OrderedMap(fr)},remove:function(e){var rr=this.find(e);if(rr==-1)return this;var ir=this.content.slice();return ir.splice(rr,2),new OrderedMap(ir)},addToStart:function(e,rr){return new OrderedMap([e,rr].concat(this.remove(e).content))},addToEnd:function(e,rr){var ir=this.remove(e).content.slice();return ir.push(e,rr),new OrderedMap(ir)},addBefore:function(e,rr,ir){var lr=this.remove(rr),dr=lr.content.slice(),fr=lr.find(e);return dr.splice(fr==-1?dr.length:fr,0,rr,ir),new OrderedMap(dr)},forEach:function(e){for(var rr=0;rr<this.content.length;rr+=2)e(this.content[rr],this.content[rr+1])},prepend:function(e){return e=OrderedMap.from(e),e.size?new OrderedMap(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=OrderedMap.from(e),e.size?new OrderedMap(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var rr=this;e=OrderedMap.from(e);for(var ir=0;ir<e.content.length;ir+=2)rr=rr.remove(e.content[ir]);return rr},toObject:function(){var e={};return this.forEach(function(rr,ir){e[rr]=ir}),e},get size(){return this.content.length>>1}};OrderedMap.from=function(e){if(e instanceof OrderedMap)return e;var rr=[];if(e)for(var ir in e)rr.push(ir,e[ir]);return new OrderedMap(rr)};function findDiffStart(e,rr,ir){for(let lr=0;;lr++){if(lr==e.childCount||lr==rr.childCount)return e.childCount==rr.childCount?null:ir;let dr=e.child(lr),fr=rr.child(lr);if(dr==fr){ir+=dr.nodeSize;continue}if(!dr.sameMarkup(fr))return ir;if(dr.isText&&dr.text!=fr.text){for(let mr=0;dr.text[mr]==fr.text[mr];mr++)ir++;return ir}if(dr.content.size||fr.content.size){let mr=findDiffStart(dr.content,fr.content,ir+1);if(mr!=null)return mr}ir+=dr.nodeSize}}function findDiffEnd(e,rr,ir,lr){for(let dr=e.childCount,fr=rr.childCount;;){if(dr==0||fr==0)return dr==fr?null:{a:ir,b:lr};let mr=e.child(--dr),hr=rr.child(--fr),gr=mr.nodeSize;if(mr==hr){ir-=gr,lr-=gr;continue}if(!mr.sameMarkup(hr))return{a:ir,b:lr};if(mr.isText&&mr.text!=hr.text){let xr=0,_r=Math.min(mr.text.length,hr.text.length);for(;xr<_r&&mr.text[mr.text.length-xr-1]==hr.text[hr.text.length-xr-1];)xr++,ir--,lr--;return{a:ir,b:lr}}if(mr.content.size||hr.content.size){let xr=findDiffEnd(mr.content,hr.content,ir-1,lr-1);if(xr)return xr}ir-=gr,lr-=gr}}class Fragment{constructor(rr,ir){if(this.content=rr,this.size=ir||0,ir==null)for(let lr=0;lr<rr.length;lr++)this.size+=rr[lr].nodeSize}nodesBetween(rr,ir,lr,dr=0,fr){for(let mr=0,hr=0;hr<ir;mr++){let gr=this.content[mr],xr=hr+gr.nodeSize;if(xr>rr&&lr(gr,dr+hr,fr||null,mr)!==!1&&gr.content.size){let _r=hr+1;gr.nodesBetween(Math.max(0,rr-_r),Math.min(gr.content.size,ir-_r),lr,dr+_r)}hr=xr}}descendants(rr){this.nodesBetween(0,this.size,rr)}textBetween(rr,ir,lr,dr){let fr="",mr=!0;return this.nodesBetween(rr,ir,(hr,gr)=>{let xr=hr.isText?hr.text.slice(Math.max(rr,gr)-gr,ir-gr):hr.isLeaf?dr?typeof dr=="function"?dr(hr):dr:hr.type.spec.leafText?hr.type.spec.leafText(hr):"":"";hr.isBlock&&(hr.isLeaf&&xr||hr.isTextblock)&&lr&&(mr?mr=!1:fr+=lr),fr+=xr},0),fr}append(rr){if(!rr.size)return this;if(!this.size)return rr;let ir=this.lastChild,lr=rr.firstChild,dr=this.content.slice(),fr=0;for(ir.isText&&ir.sameMarkup(lr)&&(dr[dr.length-1]=ir.withText(ir.text+lr.text),fr=1);fr<rr.content.length;fr++)dr.push(rr.content[fr]);return new Fragment(dr,this.size+rr.size)}cut(rr,ir=this.size){if(rr==0&&ir==this.size)return this;let lr=[],dr=0;if(ir>rr)for(let fr=0,mr=0;mr<ir;fr++){let hr=this.content[fr],gr=mr+hr.nodeSize;gr>rr&&((mr<rr||gr>ir)&&(hr.isText?hr=hr.cut(Math.max(0,rr-mr),Math.min(hr.text.length,ir-mr)):hr=hr.cut(Math.max(0,rr-mr-1),Math.min(hr.content.size,ir-mr-1))),lr.push(hr),dr+=hr.nodeSize),mr=gr}return new Fragment(lr,dr)}cutByIndex(rr,ir){return rr==ir?Fragment.empty:rr==0&&ir==this.content.length?this:new Fragment(this.content.slice(rr,ir))}replaceChild(rr,ir){let lr=this.content[rr];if(lr==ir)return this;let dr=this.content.slice(),fr=this.size+ir.nodeSize-lr.nodeSize;return dr[rr]=ir,new Fragment(dr,fr)}addToStart(rr){return new Fragment([rr].concat(this.content),this.size+rr.nodeSize)}addToEnd(rr){return new Fragment(this.content.concat(rr),this.size+rr.nodeSize)}eq(rr){if(this.content.length!=rr.content.length)return!1;for(let ir=0;ir<this.content.length;ir++)if(!this.content[ir].eq(rr.content[ir]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(rr){let ir=this.content[rr];if(!ir)throw new RangeError("Index "+rr+" out of range for "+this);return ir}maybeChild(rr){return this.content[rr]||null}forEach(rr){for(let ir=0,lr=0;ir<this.content.length;ir++){let dr=this.content[ir];rr(dr,lr,ir),lr+=dr.nodeSize}}findDiffStart(rr,ir=0){return findDiffStart(this,rr,ir)}findDiffEnd(rr,ir=this.size,lr=rr.size){return findDiffEnd(this,rr,ir,lr)}findIndex(rr,ir=-1){if(rr==0)return retIndex(0,rr);if(rr==this.size)return retIndex(this.content.length,rr);if(rr>this.size||rr<0)throw new RangeError(`Position ${rr} outside of fragment (${this})`);for(let lr=0,dr=0;;lr++){let fr=this.child(lr),mr=dr+fr.nodeSize;if(mr>=rr)return mr==rr||ir>0?retIndex(lr+1,mr):retIndex(lr,dr);dr=mr}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(rr=>rr.toJSON()):null}static fromJSON(rr,ir){if(!ir)return Fragment.empty;if(!Array.isArray(ir))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(ir.map(rr.nodeFromJSON))}static fromArray(rr){if(!rr.length)return Fragment.empty;let ir,lr=0;for(let dr=0;dr<rr.length;dr++){let fr=rr[dr];lr+=fr.nodeSize,dr&&fr.isText&&rr[dr-1].sameMarkup(fr)?(ir||(ir=rr.slice(0,dr)),ir[ir.length-1]=fr.withText(ir[ir.length-1].text+fr.text)):ir&&ir.push(fr)}return new Fragment(ir||rr,lr)}static from(rr){if(!rr)return Fragment.empty;if(rr instanceof Fragment)return rr;if(Array.isArray(rr))return this.fromArray(rr);if(rr.attrs)return new Fragment([rr],rr.nodeSize);throw new RangeError("Can not convert "+rr+" to a Fragment"+(rr.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(e,rr){return found.index=e,found.offset=rr,found}function compareDeep(e,rr){if(e===rr)return!0;if(!(e&&typeof e=="object")||!(rr&&typeof rr=="object"))return!1;let ir=Array.isArray(e);if(Array.isArray(rr)!=ir)return!1;if(ir){if(e.length!=rr.length)return!1;for(let lr=0;lr<e.length;lr++)if(!compareDeep(e[lr],rr[lr]))return!1}else{for(let lr in e)if(!(lr in rr)||!compareDeep(e[lr],rr[lr]))return!1;for(let lr in rr)if(!(lr in e))return!1}return!0}let Mark$1=class po{constructor(rr,ir){this.type=rr,this.attrs=ir}addToSet(rr){let ir,lr=!1;for(let dr=0;dr<rr.length;dr++){let fr=rr[dr];if(this.eq(fr))return rr;if(this.type.excludes(fr.type))ir||(ir=rr.slice(0,dr));else{if(fr.type.excludes(this.type))return rr;!lr&&fr.type.rank>this.type.rank&&(ir||(ir=rr.slice(0,dr)),ir.push(this),lr=!0),ir&&ir.push(fr)}}return ir||(ir=rr.slice()),lr||ir.push(this),ir}removeFromSet(rr){for(let ir=0;ir<rr.length;ir++)if(this.eq(rr[ir]))return rr.slice(0,ir).concat(rr.slice(ir+1));return rr}isInSet(rr){for(let ir=0;ir<rr.length;ir++)if(this.eq(rr[ir]))return!0;return!1}eq(rr){return this==rr||this.type==rr.type&&compareDeep(this.attrs,rr.attrs)}toJSON(){let rr={type:this.type.name};for(let ir in this.attrs){rr.attrs=this.attrs;break}return rr}static fromJSON(rr,ir){if(!ir)throw new RangeError("Invalid input for Mark.fromJSON");let lr=rr.marks[ir.type];if(!lr)throw new RangeError(`There is no mark type ${ir.type} in this schema`);let dr=lr.create(ir.attrs);return lr.checkAttrs(dr.attrs),dr}static sameSet(rr,ir){if(rr==ir)return!0;if(rr.length!=ir.length)return!1;for(let lr=0;lr<rr.length;lr++)if(!rr[lr].eq(ir[lr]))return!1;return!0}static setFrom(rr){if(!rr||Array.isArray(rr)&&rr.length==0)return po.none;if(rr instanceof po)return[rr];let ir=rr.slice();return ir.sort((lr,dr)=>lr.type.rank-dr.type.rank),ir}};Mark$1.none=[];class ReplaceError extends Error{}class Slice{constructor(rr,ir,lr){this.content=rr,this.openStart=ir,this.openEnd=lr}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(rr,ir){let lr=insertInto(this.content,rr+this.openStart,ir);return lr&&new Slice(lr,this.openStart,this.openEnd)}removeBetween(rr,ir){return new Slice(removeRange(this.content,rr+this.openStart,ir+this.openStart),this.openStart,this.openEnd)}eq(rr){return this.content.eq(rr.content)&&this.openStart==rr.openStart&&this.openEnd==rr.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let rr={content:this.content.toJSON()};return this.openStart>0&&(rr.openStart=this.openStart),this.openEnd>0&&(rr.openEnd=this.openEnd),rr}static fromJSON(rr,ir){if(!ir)return Slice.empty;let lr=ir.openStart||0,dr=ir.openEnd||0;if(typeof lr!="number"||typeof dr!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(rr,ir.content),lr,dr)}static maxOpen(rr,ir=!0){let lr=0,dr=0;for(let fr=rr.firstChild;fr&&!fr.isLeaf&&(ir||!fr.type.spec.isolating);fr=fr.firstChild)lr++;for(let fr=rr.lastChild;fr&&!fr.isLeaf&&(ir||!fr.type.spec.isolating);fr=fr.lastChild)dr++;return new Slice(rr,lr,dr)}}Slice.empty=new Slice(Fragment.empty,0,0);function removeRange(e,rr,ir){let{index:lr,offset:dr}=e.findIndex(rr),fr=e.maybeChild(lr),{index:mr,offset:hr}=e.findIndex(ir);if(dr==rr||fr.isText){if(hr!=ir&&!e.child(mr).isText)throw new RangeError("Removing non-flat range");return e.cut(0,rr).append(e.cut(ir))}if(lr!=mr)throw new RangeError("Removing non-flat range");return e.replaceChild(lr,fr.copy(removeRange(fr.content,rr-dr-1,ir-dr-1)))}function insertInto(e,rr,ir,lr){let{index:dr,offset:fr}=e.findIndex(rr),mr=e.maybeChild(dr);if(fr==rr||mr.isText)return e.cut(0,rr).append(ir).append(e.cut(rr));let hr=insertInto(mr.content,rr-fr-1,ir);return hr&&e.replaceChild(dr,mr.copy(hr))}function replace(e,rr,ir){if(ir.openStart>e.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(e.depth-ir.openStart!=rr.depth-ir.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(e,rr,ir,0)}function replaceOuter(e,rr,ir,lr){let dr=e.index(lr),fr=e.node(lr);if(dr==rr.index(lr)&&lr<e.depth-ir.openStart){let mr=replaceOuter(e,rr,ir,lr+1);return fr.copy(fr.content.replaceChild(dr,mr))}else if(ir.content.size)if(!ir.openStart&&!ir.openEnd&&e.depth==lr&&rr.depth==lr){let mr=e.parent,hr=mr.content;return close(mr,hr.cut(0,e.parentOffset).append(ir.content).append(hr.cut(rr.parentOffset)))}else{let{start:mr,end:hr}=prepareSliceForReplace(ir,e);return close(fr,replaceThreeWay(e,mr,hr,rr,lr))}else return close(fr,replaceTwoWay(e,rr,lr))}function checkJoin(e,rr){if(!rr.type.compatibleContent(e.type))throw new ReplaceError("Cannot join "+rr.type.name+" onto "+e.type.name)}function joinable$1(e,rr,ir){let lr=e.node(ir);return checkJoin(lr,rr.node(ir)),lr}function addNode(e,rr){let ir=rr.length-1;ir>=0&&e.isText&&e.sameMarkup(rr[ir])?rr[ir]=e.withText(rr[ir].text+e.text):rr.push(e)}function addRange(e,rr,ir,lr){let dr=(rr||e).node(ir),fr=0,mr=rr?rr.index(ir):dr.childCount;e&&(fr=e.index(ir),e.depth>ir?fr++:e.textOffset&&(addNode(e.nodeAfter,lr),fr++));for(let hr=fr;hr<mr;hr++)addNode(dr.child(hr),lr);rr&&rr.depth==ir&&rr.textOffset&&addNode(rr.nodeBefore,lr)}function close(e,rr){return e.type.checkContent(rr),e.copy(rr)}function replaceThreeWay(e,rr,ir,lr,dr){let fr=e.depth>dr&&joinable$1(e,rr,dr+1),mr=lr.depth>dr&&joinable$1(ir,lr,dr+1),hr=[];return addRange(null,e,dr,hr),fr&&mr&&rr.index(dr)==ir.index(dr)?(checkJoin(fr,mr),addNode(close(fr,replaceThreeWay(e,rr,ir,lr,dr+1)),hr)):(fr&&addNode(close(fr,replaceTwoWay(e,rr,dr+1)),hr),addRange(rr,ir,dr,hr),mr&&addNode(close(mr,replaceTwoWay(ir,lr,dr+1)),hr)),addRange(lr,null,dr,hr),new Fragment(hr)}function replaceTwoWay(e,rr,ir){let lr=[];if(addRange(null,e,ir,lr),e.depth>ir){let dr=joinable$1(e,rr,ir+1);addNode(close(dr,replaceTwoWay(e,rr,ir+1)),lr)}return addRange(rr,null,ir,lr),new Fragment(lr)}function prepareSliceForReplace(e,rr){let ir=rr.depth-e.openStart,dr=rr.node(ir).copy(e.content);for(let fr=ir-1;fr>=0;fr--)dr=rr.node(fr).copy(Fragment.from(dr));return{start:dr.resolveNoCache(e.openStart+ir),end:dr.resolveNoCache(dr.content.size-e.openEnd-ir)}}class ResolvedPos{constructor(rr,ir,lr){this.pos=rr,this.path=ir,this.parentOffset=lr,this.depth=ir.length/3-1}resolveDepth(rr){return rr==null?this.depth:rr<0?this.depth+rr:rr}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(rr){return this.path[this.resolveDepth(rr)*3]}index(rr){return this.path[this.resolveDepth(rr)*3+1]}indexAfter(rr){return rr=this.resolveDepth(rr),this.index(rr)+(rr==this.depth&&!this.textOffset?0:1)}start(rr){return rr=this.resolveDepth(rr),rr==0?0:this.path[rr*3-1]+1}end(rr){return rr=this.resolveDepth(rr),this.start(rr)+this.node(rr).content.size}before(rr){if(rr=this.resolveDepth(rr),!rr)throw new RangeError("There is no position before the top-level node");return rr==this.depth+1?this.pos:this.path[rr*3-1]}after(rr){if(rr=this.resolveDepth(rr),!rr)throw new RangeError("There is no position after the top-level node");return rr==this.depth+1?this.pos:this.path[rr*3-1]+this.path[rr*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let rr=this.parent,ir=this.index(this.depth);if(ir==rr.childCount)return null;let lr=this.pos-this.path[this.path.length-1],dr=rr.child(ir);return lr?rr.child(ir).cut(lr):dr}get nodeBefore(){let rr=this.index(this.depth),ir=this.pos-this.path[this.path.length-1];return ir?this.parent.child(rr).cut(0,ir):rr==0?null:this.parent.child(rr-1)}posAtIndex(rr,ir){ir=this.resolveDepth(ir);let lr=this.path[ir*3],dr=ir==0?0:this.path[ir*3-1]+1;for(let fr=0;fr<rr;fr++)dr+=lr.child(fr).nodeSize;return dr}marks(){let rr=this.parent,ir=this.index();if(rr.content.size==0)return Mark$1.none;if(this.textOffset)return rr.child(ir).marks;let lr=rr.maybeChild(ir-1),dr=rr.maybeChild(ir);if(!lr){let hr=lr;lr=dr,dr=hr}let fr=lr.marks;for(var mr=0;mr<fr.length;mr++)fr[mr].type.spec.inclusive===!1&&(!dr||!fr[mr].isInSet(dr.marks))&&(fr=fr[mr--].removeFromSet(fr));return fr}marksAcross(rr){let ir=this.parent.maybeChild(this.index());if(!ir||!ir.isInline)return null;let lr=ir.marks,dr=rr.parent.maybeChild(rr.index());for(var fr=0;fr<lr.length;fr++)lr[fr].type.spec.inclusive===!1&&(!dr||!lr[fr].isInSet(dr.marks))&&(lr=lr[fr--].removeFromSet(lr));return lr}sharedDepth(rr){for(let ir=this.depth;ir>0;ir--)if(this.start(ir)<=rr&&this.end(ir)>=rr)return ir;return 0}blockRange(rr=this,ir){if(rr.pos<this.pos)return rr.blockRange(this);for(let lr=this.depth-(this.parent.inlineContent||this.pos==rr.pos?1:0);lr>=0;lr--)if(rr.pos<=this.end(lr)&&(!ir||ir(this.node(lr))))return new NodeRange(this,rr,lr);return null}sameParent(rr){return this.pos-this.parentOffset==rr.pos-rr.parentOffset}max(rr){return rr.pos>this.pos?rr:this}min(rr){return rr.pos<this.pos?rr:this}toString(){let rr="";for(let ir=1;ir<=this.depth;ir++)rr+=(rr?"/":"")+this.node(ir).type.name+"_"+this.index(ir-1);return rr+":"+this.parentOffset}static resolve(rr,ir){if(!(ir>=0&&ir<=rr.content.size))throw new RangeError("Position "+ir+" out of range");let lr=[],dr=0,fr=ir;for(let mr=rr;;){let{index:hr,offset:gr}=mr.content.findIndex(fr),xr=fr-gr;if(lr.push(mr,hr,dr+gr),!xr||(mr=mr.child(hr),mr.isText))break;fr=xr-1,dr+=gr+1}return new ResolvedPos(ir,lr,fr)}static resolveCached(rr,ir){let lr=resolveCache.get(rr);if(lr)for(let fr=0;fr<lr.elts.length;fr++){let mr=lr.elts[fr];if(mr.pos==ir)return mr}else resolveCache.set(rr,lr=new ResolveCache);let dr=lr.elts[lr.i]=ResolvedPos.resolve(rr,ir);return lr.i=(lr.i+1)%resolveCacheSize,dr}}class ResolveCache{constructor(){this.elts=[],this.i=0}}const resolveCacheSize=12,resolveCache=new WeakMap;class NodeRange{constructor(rr,ir,lr){this.$from=rr,this.$to=ir,this.depth=lr}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);let Node$2=class fo{constructor(rr,ir,lr,dr=Mark$1.none){this.type=rr,this.attrs=ir,this.marks=dr,this.content=lr||Fragment.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(rr){return this.content.child(rr)}maybeChild(rr){return this.content.maybeChild(rr)}forEach(rr){this.content.forEach(rr)}nodesBetween(rr,ir,lr,dr=0){this.content.nodesBetween(rr,ir,lr,dr,this)}descendants(rr){this.nodesBetween(0,this.content.size,rr)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(rr,ir,lr,dr){return this.content.textBetween(rr,ir,lr,dr)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(rr){return this==rr||this.sameMarkup(rr)&&this.content.eq(rr.content)}sameMarkup(rr){return this.hasMarkup(rr.type,rr.attrs,rr.marks)}hasMarkup(rr,ir,lr){return this.type==rr&&compareDeep(this.attrs,ir||rr.defaultAttrs||emptyAttrs)&&Mark$1.sameSet(this.marks,lr||Mark$1.none)}copy(rr=null){return rr==this.content?this:new fo(this.type,this.attrs,rr,this.marks)}mark(rr){return rr==this.marks?this:new fo(this.type,this.attrs,this.content,rr)}cut(rr,ir=this.content.size){return rr==0&&ir==this.content.size?this:this.copy(this.content.cut(rr,ir))}slice(rr,ir=this.content.size,lr=!1){if(rr==ir)return Slice.empty;let dr=this.resolve(rr),fr=this.resolve(ir),mr=lr?0:dr.sharedDepth(ir),hr=dr.start(mr),xr=dr.node(mr).content.cut(dr.pos-hr,fr.pos-hr);return new Slice(xr,dr.depth-mr,fr.depth-mr)}replace(rr,ir,lr){return replace(this.resolve(rr),this.resolve(ir),lr)}nodeAt(rr){for(let ir=this;;){let{index:lr,offset:dr}=ir.content.findIndex(rr);if(ir=ir.maybeChild(lr),!ir)return null;if(dr==rr||ir.isText)return ir;rr-=dr+1}}childAfter(rr){let{index:ir,offset:lr}=this.content.findIndex(rr);return{node:this.content.maybeChild(ir),index:ir,offset:lr}}childBefore(rr){if(rr==0)return{node:null,index:0,offset:0};let{index:ir,offset:lr}=this.content.findIndex(rr);if(lr<rr)return{node:this.content.child(ir),index:ir,offset:lr};let dr=this.content.child(ir-1);return{node:dr,index:ir-1,offset:lr-dr.nodeSize}}resolve(rr){return ResolvedPos.resolveCached(this,rr)}resolveNoCache(rr){return ResolvedPos.resolve(this,rr)}rangeHasMark(rr,ir,lr){let dr=!1;return ir>rr&&this.nodesBetween(rr,ir,fr=>(lr.isInSet(fr.marks)&&(dr=!0),!dr)),dr}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let rr=this.type.name;return this.content.size&&(rr+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,rr)}contentMatchAt(rr){let ir=this.type.contentMatch.matchFragment(this.content,0,rr);if(!ir)throw new Error("Called contentMatchAt on a node with invalid content");return ir}canReplace(rr,ir,lr=Fragment.empty,dr=0,fr=lr.childCount){let mr=this.contentMatchAt(rr).matchFragment(lr,dr,fr),hr=mr&&mr.matchFragment(this.content,ir);if(!hr||!hr.validEnd)return!1;for(let gr=dr;gr<fr;gr++)if(!this.type.allowsMarks(lr.child(gr).marks))return!1;return!0}canReplaceWith(rr,ir,lr,dr){if(dr&&!this.type.allowsMarks(dr))return!1;let fr=this.contentMatchAt(rr).matchType(lr),mr=fr&&fr.matchFragment(this.content,ir);return mr?mr.validEnd:!1}canAppend(rr){return rr.content.size?this.canReplace(this.childCount,this.childCount,rr.content):this.type.compatibleContent(rr.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let rr=Mark$1.none;for(let ir=0;ir<this.marks.length;ir++){let lr=this.marks[ir];lr.type.checkAttrs(lr.attrs),rr=lr.addToSet(rr)}if(!Mark$1.sameSet(rr,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(ir=>ir.type.name)}`);this.content.forEach(ir=>ir.check())}toJSON(){let rr={type:this.type.name};for(let ir in this.attrs){rr.attrs=this.attrs;break}return this.content.size&&(rr.content=this.content.toJSON()),this.marks.length&&(rr.marks=this.marks.map(ir=>ir.toJSON())),rr}static fromJSON(rr,ir){if(!ir)throw new RangeError("Invalid input for Node.fromJSON");let lr;if(ir.marks){if(!Array.isArray(ir.marks))throw new RangeError("Invalid mark data for Node.fromJSON");lr=ir.marks.map(rr.markFromJSON)}if(ir.type=="text"){if(typeof ir.text!="string")throw new RangeError("Invalid text node in JSON");return rr.text(ir.text,lr)}let dr=Fragment.fromJSON(rr,ir.content),fr=rr.nodeType(ir.type).create(ir.attrs,dr,lr);return fr.type.checkAttrs(fr.attrs),fr}};Node$2.prototype.text=void 0;class TextNode extends Node$2{constructor(rr,ir,lr,dr){if(super(rr,ir,null,dr),!lr)throw new RangeError("Empty text nodes are not allowed");this.text=lr}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(rr,ir){return this.text.slice(rr,ir)}get nodeSize(){return this.text.length}mark(rr){return rr==this.marks?this:new TextNode(this.type,this.attrs,this.text,rr)}withText(rr){return rr==this.text?this:new TextNode(this.type,this.attrs,rr,this.marks)}cut(rr=0,ir=this.text.length){return rr==0&&ir==this.text.length?this:this.withText(this.text.slice(rr,ir))}eq(rr){return this.sameMarkup(rr)&&this.text==rr.text}toJSON(){let rr=super.toJSON();return rr.text=this.text,rr}}function wrapMarks(e,rr){for(let ir=e.length-1;ir>=0;ir--)rr=e[ir].type.name+"("+rr+")";return rr}class ContentMatch{constructor(rr){this.validEnd=rr,this.next=[],this.wrapCache=[]}static parse(rr,ir){let lr=new TokenStream(rr,ir);if(lr.next==null)return ContentMatch.empty;let dr=parseExpr(lr);lr.next&&lr.err("Unexpected trailing text");let fr=dfa(nfa(dr));return checkForDeadEnds(fr,lr),fr}matchType(rr){for(let ir=0;ir<this.next.length;ir++)if(this.next[ir].type==rr)return this.next[ir].next;return null}matchFragment(rr,ir=0,lr=rr.childCount){let dr=this;for(let fr=ir;dr&&fr<lr;fr++)dr=dr.matchType(rr.child(fr).type);return dr}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let rr=0;rr<this.next.length;rr++){let{type:ir}=this.next[rr];if(!(ir.isText||ir.hasRequiredAttrs()))return ir}return null}compatible(rr){for(let ir=0;ir<this.next.length;ir++)for(let lr=0;lr<rr.next.length;lr++)if(this.next[ir].type==rr.next[lr].type)return!0;return!1}fillBefore(rr,ir=!1,lr=0){let dr=[this];function fr(mr,hr){let gr=mr.matchFragment(rr,lr);if(gr&&(!ir||gr.validEnd))return Fragment.from(hr.map(xr=>xr.createAndFill()));for(let xr=0;xr<mr.next.length;xr++){let{type:_r,next:yr}=mr.next[xr];if(!(_r.isText||_r.hasRequiredAttrs())&&dr.indexOf(yr)==-1){dr.push(yr);let vr=fr(yr,hr.concat(_r));if(vr)return vr}}return null}return fr(this,[])}findWrapping(rr){for(let lr=0;lr<this.wrapCache.length;lr+=2)if(this.wrapCache[lr]==rr)return this.wrapCache[lr+1];let ir=this.computeWrapping(rr);return this.wrapCache.push(rr,ir),ir}computeWrapping(rr){let ir=Object.create(null),lr=[{match:this,type:null,via:null}];for(;lr.length;){let dr=lr.shift(),fr=dr.match;if(fr.matchType(rr)){let mr=[];for(let hr=dr;hr.type;hr=hr.via)mr.push(hr.type);return mr.reverse()}for(let mr=0;mr<fr.next.length;mr++){let{type:hr,next:gr}=fr.next[mr];!hr.isLeaf&&!hr.hasRequiredAttrs()&&!(hr.name in ir)&&(!dr.type||gr.validEnd)&&(lr.push({match:hr.contentMatch,type:hr,via:dr}),ir[hr.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(rr){if(rr>=this.next.length)throw new RangeError(`There's no ${rr}th edge in this content match`);return this.next[rr]}toString(){let rr=[];function ir(lr){rr.push(lr);for(let dr=0;dr<lr.next.length;dr++)rr.indexOf(lr.next[dr].next)==-1&&ir(lr.next[dr].next)}return ir(this),rr.map((lr,dr)=>{let fr=dr+(lr.validEnd?"*":" ")+" ";for(let mr=0;mr<lr.next.length;mr++)fr+=(mr?", ":"")+lr.next[mr].type.name+"->"+rr.indexOf(lr.next[mr].next);return fr}).join(`
`)}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(rr,ir){this.string=rr,this.nodeTypes=ir,this.inline=null,this.pos=0,this.tokens=rr.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(rr){return this.next==rr&&(this.pos++||!0)}err(rr){throw new SyntaxError(rr+" (in content expression '"+this.string+"')")}}function parseExpr(e){let rr=[];do rr.push(parseExprSeq(e));while(e.eat("|"));return rr.length==1?rr[0]:{type:"choice",exprs:rr}}function parseExprSeq(e){let rr=[];do rr.push(parseExprSubscript(e));while(e.next&&e.next!=")"&&e.next!="|");return rr.length==1?rr[0]:{type:"seq",exprs:rr}}function parseExprSubscript(e){let rr=parseExprAtom(e);for(;;)if(e.eat("+"))rr={type:"plus",expr:rr};else if(e.eat("*"))rr={type:"star",expr:rr};else if(e.eat("?"))rr={type:"opt",expr:rr};else if(e.eat("{"))rr=parseExprRange(e,rr);else break;return rr}function parseNum(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let rr=Number(e.next);return e.pos++,rr}function parseExprRange(e,rr){let ir=parseNum(e),lr=ir;return e.eat(",")&&(e.next!="}"?lr=parseNum(e):lr=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:ir,max:lr,expr:rr}}function resolveName(e,rr){let ir=e.nodeTypes,lr=ir[rr];if(lr)return[lr];let dr=[];for(let fr in ir){let mr=ir[fr];mr.isInGroup(rr)&&dr.push(mr)}return dr.length==0&&e.err("No node type or group '"+rr+"' found"),dr}function parseExprAtom(e){if(e.eat("(")){let rr=parseExpr(e);return e.eat(")")||e.err("Missing closing paren"),rr}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let rr=resolveName(e,e.next).map(ir=>(e.inline==null?e.inline=ir.isInline:e.inline!=ir.isInline&&e.err("Mixing inline and block content"),{type:"name",value:ir}));return e.pos++,rr.length==1?rr[0]:{type:"choice",exprs:rr}}}function nfa(e){let rr=[[]];return dr(fr(e,0),ir()),rr;function ir(){return rr.push([])-1}function lr(mr,hr,gr){let xr={term:gr,to:hr};return rr[mr].push(xr),xr}function dr(mr,hr){mr.forEach(gr=>gr.to=hr)}function fr(mr,hr){if(mr.type=="choice")return mr.exprs.reduce((gr,xr)=>gr.concat(fr(xr,hr)),[]);if(mr.type=="seq")for(let gr=0;;gr++){let xr=fr(mr.exprs[gr],hr);if(gr==mr.exprs.length-1)return xr;dr(xr,hr=ir())}else if(mr.type=="star"){let gr=ir();return lr(hr,gr),dr(fr(mr.expr,gr),gr),[lr(gr)]}else if(mr.type=="plus"){let gr=ir();return dr(fr(mr.expr,hr),gr),dr(fr(mr.expr,gr),gr),[lr(gr)]}else{if(mr.type=="opt")return[lr(hr)].concat(fr(mr.expr,hr));if(mr.type=="range"){let gr=hr;for(let xr=0;xr<mr.min;xr++){let _r=ir();dr(fr(mr.expr,gr),_r),gr=_r}if(mr.max==-1)dr(fr(mr.expr,gr),gr);else for(let xr=mr.min;xr<mr.max;xr++){let _r=ir();lr(gr,_r),dr(fr(mr.expr,gr),_r),gr=_r}return[lr(gr)]}else{if(mr.type=="name")return[lr(hr,void 0,mr.value)];throw new Error("Unknown expr type")}}}}function cmp(e,rr){return rr-e}function nullFrom(e,rr){let ir=[];return lr(rr),ir.sort(cmp);function lr(dr){let fr=e[dr];if(fr.length==1&&!fr[0].term)return lr(fr[0].to);ir.push(dr);for(let mr=0;mr<fr.length;mr++){let{term:hr,to:gr}=fr[mr];!hr&&ir.indexOf(gr)==-1&&lr(gr)}}}function dfa(e){let rr=Object.create(null);return ir(nullFrom(e,0));function ir(lr){let dr=[];lr.forEach(mr=>{e[mr].forEach(({term:hr,to:gr})=>{if(!hr)return;let xr;for(let _r=0;_r<dr.length;_r++)dr[_r][0]==hr&&(xr=dr[_r][1]);nullFrom(e,gr).forEach(_r=>{xr||dr.push([hr,xr=[]]),xr.indexOf(_r)==-1&&xr.push(_r)})})});let fr=rr[lr.join(",")]=new ContentMatch(lr.indexOf(e.length-1)>-1);for(let mr=0;mr<dr.length;mr++){let hr=dr[mr][1].sort(cmp);fr.next.push({type:dr[mr][0],next:rr[hr.join(",")]||ir(hr)})}return fr}}function checkForDeadEnds(e,rr){for(let ir=0,lr=[e];ir<lr.length;ir++){let dr=lr[ir],fr=!dr.validEnd,mr=[];for(let hr=0;hr<dr.next.length;hr++){let{type:gr,next:xr}=dr.next[hr];mr.push(gr.name),fr&&!(gr.isText||gr.hasRequiredAttrs())&&(fr=!1),lr.indexOf(xr)==-1&&lr.push(xr)}fr&&rr.err("Only non-generatable nodes ("+mr.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(e){let rr=Object.create(null);for(let ir in e){let lr=e[ir];if(!lr.hasDefault)return null;rr[ir]=lr.default}return rr}function computeAttrs(e,rr){let ir=Object.create(null);for(let lr in e){let dr=rr&&rr[lr];if(dr===void 0){let fr=e[lr];if(fr.hasDefault)dr=fr.default;else throw new RangeError("No value supplied for attribute "+lr)}ir[lr]=dr}return ir}function checkAttrs(e,rr,ir,lr){for(let dr in rr)if(!(dr in e))throw new RangeError(`Unsupported attribute ${dr} for ${ir} of type ${dr}`);for(let dr in e){let fr=e[dr];fr.validate&&fr.validate(rr[dr])}}function initAttrs(e,rr){let ir=Object.create(null);if(rr)for(let lr in rr)ir[lr]=new Attribute(e,lr,rr[lr]);return ir}let NodeType$1=class xo{constructor(rr,ir,lr){this.name=rr,this.schema=ir,this.spec=lr,this.markSet=null,this.groups=lr.group?lr.group.split(" "):[],this.attrs=initAttrs(rr,lr.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(lr.inline||rr=="text"),this.isText=rr=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(rr){return this.groups.indexOf(rr)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let rr in this.attrs)if(this.attrs[rr].isRequired)return!0;return!1}compatibleContent(rr){return this==rr||this.contentMatch.compatible(rr.contentMatch)}computeAttrs(rr){return!rr&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,rr)}create(rr=null,ir,lr){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node$2(this,this.computeAttrs(rr),Fragment.from(ir),Mark$1.setFrom(lr))}createChecked(rr=null,ir,lr){return ir=Fragment.from(ir),this.checkContent(ir),new Node$2(this,this.computeAttrs(rr),ir,Mark$1.setFrom(lr))}createAndFill(rr=null,ir,lr){if(rr=this.computeAttrs(rr),ir=Fragment.from(ir),ir.size){let mr=this.contentMatch.fillBefore(ir);if(!mr)return null;ir=mr.append(ir)}let dr=this.contentMatch.matchFragment(ir),fr=dr&&dr.fillBefore(Fragment.empty,!0);return fr?new Node$2(this,rr,ir.append(fr),Mark$1.setFrom(lr)):null}validContent(rr){let ir=this.contentMatch.matchFragment(rr);if(!ir||!ir.validEnd)return!1;for(let lr=0;lr<rr.childCount;lr++)if(!this.allowsMarks(rr.child(lr).marks))return!1;return!0}checkContent(rr){if(!this.validContent(rr))throw new RangeError(`Invalid content for node ${this.name}: ${rr.toString().slice(0,50)}`)}checkAttrs(rr){checkAttrs(this.attrs,rr,"node",this.name)}allowsMarkType(rr){return this.markSet==null||this.markSet.indexOf(rr)>-1}allowsMarks(rr){if(this.markSet==null)return!0;for(let ir=0;ir<rr.length;ir++)if(!this.allowsMarkType(rr[ir].type))return!1;return!0}allowedMarks(rr){if(this.markSet==null)return rr;let ir;for(let lr=0;lr<rr.length;lr++)this.allowsMarkType(rr[lr].type)?ir&&ir.push(rr[lr]):ir||(ir=rr.slice(0,lr));return ir?ir.length?ir:Mark$1.none:rr}static compile(rr,ir){let lr=Object.create(null);rr.forEach((fr,mr)=>lr[fr]=new xo(fr,ir,mr));let dr=ir.spec.topNode||"doc";if(!lr[dr])throw new RangeError("Schema is missing its top node type ('"+dr+"')");if(!lr.text)throw new RangeError("Every schema needs a 'text' type");for(let fr in lr.text.attrs)throw new RangeError("The text node type should not have attributes");return lr}};function validateType(e,rr,ir){let lr=ir.split("|");return dr=>{let fr=dr===null?"null":typeof dr;if(lr.indexOf(fr)<0)throw new RangeError(`Expected value of type ${lr} for attribute ${rr} on type ${e}, got ${fr}`)}}class Attribute{constructor(rr,ir,lr){this.hasDefault=Object.prototype.hasOwnProperty.call(lr,"default"),this.default=lr.default,this.validate=typeof lr.validate=="string"?validateType(rr,ir,lr.validate):lr.validate}get isRequired(){return!this.hasDefault}}class MarkType{constructor(rr,ir,lr,dr){this.name=rr,this.rank=ir,this.schema=lr,this.spec=dr,this.attrs=initAttrs(rr,dr.attrs),this.excluded=null;let fr=defaultAttrs(this.attrs);this.instance=fr?new Mark$1(this,fr):null}create(rr=null){return!rr&&this.instance?this.instance:new Mark$1(this,computeAttrs(this.attrs,rr))}static compile(rr,ir){let lr=Object.create(null),dr=0;return rr.forEach((fr,mr)=>lr[fr]=new MarkType(fr,dr++,ir,mr)),lr}removeFromSet(rr){for(var ir=0;ir<rr.length;ir++)rr[ir].type==this&&(rr=rr.slice(0,ir).concat(rr.slice(ir+1)),ir--);return rr}isInSet(rr){for(let ir=0;ir<rr.length;ir++)if(rr[ir].type==this)return rr[ir]}checkAttrs(rr){checkAttrs(this.attrs,rr,"mark",this.name)}excludes(rr){return this.excluded.indexOf(rr)>-1}}class Schema{constructor(rr){this.linebreakReplacement=null,this.cached=Object.create(null);let ir=this.spec={};for(let dr in rr)ir[dr]=rr[dr];ir.nodes=OrderedMap.from(rr.nodes),ir.marks=OrderedMap.from(rr.marks||{}),this.nodes=NodeType$1.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let lr=Object.create(null);for(let dr in this.nodes){if(dr in this.marks)throw new RangeError(dr+" can not be both a node and a mark");let fr=this.nodes[dr],mr=fr.spec.content||"",hr=fr.spec.marks;if(fr.contentMatch=lr[mr]||(lr[mr]=ContentMatch.parse(mr,this.nodes)),fr.inlineContent=fr.contentMatch.inlineContent,fr.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!fr.isInline||!fr.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=fr}fr.markSet=hr=="_"?null:hr?gatherMarks(this,hr.split(" ")):hr==""||!fr.inlineContent?[]:null}for(let dr in this.marks){let fr=this.marks[dr],mr=fr.spec.excludes;fr.excluded=mr==null?[fr]:mr==""?[]:gatherMarks(this,mr.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(rr,ir=null,lr,dr){if(typeof rr=="string")rr=this.nodeType(rr);else if(rr instanceof NodeType$1){if(rr.schema!=this)throw new RangeError("Node type from different schema used ("+rr.name+")")}else throw new RangeError("Invalid node type: "+rr);return rr.createChecked(ir,lr,dr)}text(rr,ir){let lr=this.nodes.text;return new TextNode(lr,lr.defaultAttrs,rr,Mark$1.setFrom(ir))}mark(rr,ir){return typeof rr=="string"&&(rr=this.marks[rr]),rr.create(ir)}nodeFromJSON(rr){return Node$2.fromJSON(this,rr)}markFromJSON(rr){return Mark$1.fromJSON(this,rr)}nodeType(rr){let ir=this.nodes[rr];if(!ir)throw new RangeError("Unknown node type: "+rr);return ir}}function gatherMarks(e,rr){let ir=[];for(let lr=0;lr<rr.length;lr++){let dr=rr[lr],fr=e.marks[dr],mr=fr;if(fr)ir.push(fr);else for(let hr in e.marks){let gr=e.marks[hr];(dr=="_"||gr.spec.group&&gr.spec.group.split(" ").indexOf(dr)>-1)&&ir.push(mr=gr)}if(!mr)throw new SyntaxError("Unknown mark type: '"+rr[lr]+"'")}return ir}function isTagRule(e){return e.tag!=null}function isStyleRule(e){return e.style!=null}class DOMParser{constructor(rr,ir){this.schema=rr,this.rules=ir,this.tags=[],this.styles=[];let lr=this.matchedStyles=[];ir.forEach(dr=>{if(isTagRule(dr))this.tags.push(dr);else if(isStyleRule(dr)){let fr=/[^=]*/.exec(dr.style)[0];lr.indexOf(fr)<0&&lr.push(fr),this.styles.push(dr)}}),this.normalizeLists=!this.tags.some(dr=>{if(!/^(ul|ol)\b/.test(dr.tag)||!dr.node)return!1;let fr=rr.nodes[dr.node];return fr.contentMatch.matchType(fr)})}parse(rr,ir={}){let lr=new ParseContext(this,ir,!1);return lr.addAll(rr,Mark$1.none,ir.from,ir.to),lr.finish()}parseSlice(rr,ir={}){let lr=new ParseContext(this,ir,!0);return lr.addAll(rr,Mark$1.none,ir.from,ir.to),Slice.maxOpen(lr.finish())}matchTag(rr,ir,lr){for(let dr=lr?this.tags.indexOf(lr)+1:0;dr<this.tags.length;dr++){let fr=this.tags[dr];if(matches(rr,fr.tag)&&(fr.namespace===void 0||rr.namespaceURI==fr.namespace)&&(!fr.context||ir.matchesContext(fr.context))){if(fr.getAttrs){let mr=fr.getAttrs(rr);if(mr===!1)continue;fr.attrs=mr||void 0}return fr}}}matchStyle(rr,ir,lr,dr){for(let fr=dr?this.styles.indexOf(dr)+1:0;fr<this.styles.length;fr++){let mr=this.styles[fr],hr=mr.style;if(!(hr.indexOf(rr)!=0||mr.context&&!lr.matchesContext(mr.context)||hr.length>rr.length&&(hr.charCodeAt(rr.length)!=61||hr.slice(rr.length+1)!=ir))){if(mr.getAttrs){let gr=mr.getAttrs(ir);if(gr===!1)continue;mr.attrs=gr||void 0}return mr}}}static schemaRules(rr){let ir=[];function lr(dr){let fr=dr.priority==null?50:dr.priority,mr=0;for(;mr<ir.length;mr++){let hr=ir[mr];if((hr.priority==null?50:hr.priority)<fr)break}ir.splice(mr,0,dr)}for(let dr in rr.marks){let fr=rr.marks[dr].spec.parseDOM;fr&&fr.forEach(mr=>{lr(mr=copy(mr)),mr.mark||mr.ignore||mr.clearMark||(mr.mark=dr)})}for(let dr in rr.nodes){let fr=rr.nodes[dr].spec.parseDOM;fr&&fr.forEach(mr=>{lr(mr=copy(mr)),mr.node||mr.ignore||mr.mark||(mr.node=dr)})}return ir}static fromSchema(rr){return rr.cached.domParser||(rr.cached.domParser=new DOMParser(rr,DOMParser.schemaRules(rr)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(e,rr,ir){return rr!=null?(rr?OPT_PRESERVE_WS:0)|(rr==="full"?OPT_PRESERVE_WS_FULL:0):e&&e.whitespace=="pre"?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:ir&~OPT_OPEN_LEFT}class NodeContext{constructor(rr,ir,lr,dr,fr,mr){this.type=rr,this.attrs=ir,this.marks=lr,this.solid=dr,this.options=mr,this.content=[],this.activeMarks=Mark$1.none,this.match=fr||(mr&OPT_OPEN_LEFT?null:rr.contentMatch)}findWrapping(rr){if(!this.match){if(!this.type)return[];let ir=this.type.contentMatch.fillBefore(Fragment.from(rr));if(ir)this.match=this.type.contentMatch.matchFragment(ir);else{let lr=this.type.contentMatch,dr;return(dr=lr.findWrapping(rr.type))?(this.match=lr,dr):null}}return this.match.findWrapping(rr.type)}finish(rr){if(!(this.options&OPT_PRESERVE_WS)){let lr=this.content[this.content.length-1],dr;if(lr&&lr.isText&&(dr=/[ \t\r\n\u000c]+$/.exec(lr.text))){let fr=lr;lr.text.length==dr[0].length?this.content.pop():this.content[this.content.length-1]=fr.withText(fr.text.slice(0,fr.text.length-dr[0].length))}}let ir=Fragment.from(this.content);return!rr&&this.match&&(ir=ir.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,ir,this.marks):ir}inlineContext(rr){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:rr.parentNode&&!blockTags.hasOwnProperty(rr.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(rr,ir,lr){this.parser=rr,this.options=ir,this.isOpen=lr,this.open=0,this.localPreserveWS=!1;let dr=ir.topNode,fr,mr=wsOptionsFor(null,ir.preserveWhitespace,0)|(lr?OPT_OPEN_LEFT:0);dr?fr=new NodeContext(dr.type,dr.attrs,Mark$1.none,!0,ir.topMatch||dr.type.contentMatch,mr):lr?fr=new NodeContext(null,null,Mark$1.none,!0,null,mr):fr=new NodeContext(rr.schema.topNodeType,null,Mark$1.none,!0,null,mr),this.nodes=[fr],this.find=ir.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(rr,ir){rr.nodeType==3?this.addTextNode(rr,ir):rr.nodeType==1&&this.addElement(rr,ir)}addTextNode(rr,ir){let lr=rr.nodeValue,dr=this.top,fr=dr.options&OPT_PRESERVE_WS_FULL?"full":this.localPreserveWS||(dr.options&OPT_PRESERVE_WS)>0;if(fr==="full"||dr.inlineContext(rr)||/[^ \t\r\n\u000c]/.test(lr)){if(fr)fr!=="full"?lr=lr.replace(/\r?\n|\r/g," "):lr=lr.replace(/\r\n?/g,`
`);else if(lr=lr.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(lr)&&this.open==this.nodes.length-1){let mr=dr.content[dr.content.length-1],hr=rr.previousSibling;(!mr||hr&&hr.nodeName=="BR"||mr.isText&&/[ \t\r\n\u000c]$/.test(mr.text))&&(lr=lr.slice(1))}lr&&this.insertNode(this.parser.schema.text(lr),ir,!/\S/.test(lr)),this.findInText(rr)}else this.findInside(rr)}addElement(rr,ir,lr){let dr=this.localPreserveWS,fr=this.top;(rr.tagName=="PRE"||/pre/.test(rr.style&&rr.style.whiteSpace))&&(this.localPreserveWS=!0);let mr=rr.nodeName.toLowerCase(),hr;listTags.hasOwnProperty(mr)&&this.parser.normalizeLists&&normalizeList(rr);let gr=this.options.ruleFromNode&&this.options.ruleFromNode(rr)||(hr=this.parser.matchTag(rr,this,lr));e:if(gr?gr.ignore:ignoreTags.hasOwnProperty(mr))this.findInside(rr),this.ignoreFallback(rr,ir);else if(!gr||gr.skip||gr.closeParent){gr&&gr.closeParent?this.open=Math.max(0,this.open-1):gr&&gr.skip.nodeType&&(rr=gr.skip);let xr,_r=this.needsBlock;if(blockTags.hasOwnProperty(mr))fr.content.length&&fr.content[0].isInline&&this.open&&(this.open--,fr=this.top),xr=!0,fr.type||(this.needsBlock=!0);else if(!rr.firstChild){this.leafFallback(rr,ir);break e}let yr=gr&&gr.skip?ir:this.readStyles(rr,ir);yr&&this.addAll(rr,yr),xr&&this.sync(fr),this.needsBlock=_r}else{let xr=this.readStyles(rr,ir);xr&&this.addElementByRule(rr,gr,xr,gr.consuming===!1?hr:void 0)}this.localPreserveWS=dr}leafFallback(rr,ir){rr.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(rr.ownerDocument.createTextNode(`
`),ir)}ignoreFallback(rr,ir){rr.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),ir,!0)}readStyles(rr,ir){let lr=rr.style;if(lr&&lr.length)for(let dr=0;dr<this.parser.matchedStyles.length;dr++){let fr=this.parser.matchedStyles[dr],mr=lr.getPropertyValue(fr);if(mr)for(let hr=void 0;;){let gr=this.parser.matchStyle(fr,mr,this,hr);if(!gr)break;if(gr.ignore)return null;if(gr.clearMark?ir=ir.filter(xr=>!gr.clearMark(xr)):ir=ir.concat(this.parser.schema.marks[gr.mark].create(gr.attrs)),gr.consuming===!1)hr=gr;else break}}return ir}addElementByRule(rr,ir,lr,dr){let fr,mr;if(ir.node)if(mr=this.parser.schema.nodes[ir.node],mr.isLeaf)this.insertNode(mr.create(ir.attrs),lr,rr.nodeName=="BR")||this.leafFallback(rr,lr);else{let gr=this.enter(mr,ir.attrs||null,lr,ir.preserveWhitespace);gr&&(fr=!0,lr=gr)}else{let gr=this.parser.schema.marks[ir.mark];lr=lr.concat(gr.create(ir.attrs))}let hr=this.top;if(mr&&mr.isLeaf)this.findInside(rr);else if(dr)this.addElement(rr,lr,dr);else if(ir.getContent)this.findInside(rr),ir.getContent(rr,this.parser.schema).forEach(gr=>this.insertNode(gr,lr,!1));else{let gr=rr;typeof ir.contentElement=="string"?gr=rr.querySelector(ir.contentElement):typeof ir.contentElement=="function"?gr=ir.contentElement(rr):ir.contentElement&&(gr=ir.contentElement),this.findAround(rr,gr,!0),this.addAll(gr,lr),this.findAround(rr,gr,!1)}fr&&this.sync(hr)&&this.open--}addAll(rr,ir,lr,dr){let fr=lr||0;for(let mr=lr?rr.childNodes[lr]:rr.firstChild,hr=dr==null?null:rr.childNodes[dr];mr!=hr;mr=mr.nextSibling,++fr)this.findAtPoint(rr,fr),this.addDOM(mr,ir);this.findAtPoint(rr,fr)}findPlace(rr,ir,lr){let dr,fr;for(let mr=this.open,hr=0;mr>=0;mr--){let gr=this.nodes[mr],xr=gr.findWrapping(rr);if(xr&&(!dr||dr.length>xr.length+hr)&&(dr=xr,fr=gr,!xr.length))break;if(gr.solid){if(lr)break;hr+=2}}if(!dr)return null;this.sync(fr);for(let mr=0;mr<dr.length;mr++)ir=this.enterInner(dr[mr],null,ir,!1);return ir}insertNode(rr,ir,lr){if(rr.isInline&&this.needsBlock&&!this.top.type){let fr=this.textblockFromContext();fr&&(ir=this.enterInner(fr,null,ir))}let dr=this.findPlace(rr,ir,lr);if(dr){this.closeExtra();let fr=this.top;fr.match&&(fr.match=fr.match.matchType(rr.type));let mr=Mark$1.none;for(let hr of dr.concat(rr.marks))(fr.type?fr.type.allowsMarkType(hr.type):markMayApply(hr.type,rr.type))&&(mr=hr.addToSet(mr));return fr.content.push(rr.mark(mr)),!0}return!1}enter(rr,ir,lr,dr){let fr=this.findPlace(rr.create(ir),lr,!1);return fr&&(fr=this.enterInner(rr,ir,lr,!0,dr)),fr}enterInner(rr,ir,lr,dr=!1,fr){this.closeExtra();let mr=this.top;mr.match=mr.match&&mr.match.matchType(rr);let hr=wsOptionsFor(rr,fr,mr.options);mr.options&OPT_OPEN_LEFT&&mr.content.length==0&&(hr|=OPT_OPEN_LEFT);let gr=Mark$1.none;return lr=lr.filter(xr=>(mr.type?mr.type.allowsMarkType(xr.type):markMayApply(xr.type,rr))?(gr=xr.addToSet(gr),!1):!0),this.nodes.push(new NodeContext(rr,ir,gr,dr,null,hr)),this.open++,lr}closeExtra(rr=!1){let ir=this.nodes.length-1;if(ir>this.open){for(;ir>this.open;ir--)this.nodes[ir-1].content.push(this.nodes[ir].finish(rr));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(rr){for(let ir=this.open;ir>=0;ir--){if(this.nodes[ir]==rr)return this.open=ir,!0;this.localPreserveWS&&(this.nodes[ir].options|=OPT_PRESERVE_WS)}return!1}get currentPos(){this.closeExtra();let rr=0;for(let ir=this.open;ir>=0;ir--){let lr=this.nodes[ir].content;for(let dr=lr.length-1;dr>=0;dr--)rr+=lr[dr].nodeSize;ir&&rr++}return rr}findAtPoint(rr,ir){if(this.find)for(let lr=0;lr<this.find.length;lr++)this.find[lr].node==rr&&this.find[lr].offset==ir&&(this.find[lr].pos=this.currentPos)}findInside(rr){if(this.find)for(let ir=0;ir<this.find.length;ir++)this.find[ir].pos==null&&rr.nodeType==1&&rr.contains(this.find[ir].node)&&(this.find[ir].pos=this.currentPos)}findAround(rr,ir,lr){if(rr!=ir&&this.find)for(let dr=0;dr<this.find.length;dr++)this.find[dr].pos==null&&rr.nodeType==1&&rr.contains(this.find[dr].node)&&ir.compareDocumentPosition(this.find[dr].node)&(lr?2:4)&&(this.find[dr].pos=this.currentPos)}findInText(rr){if(this.find)for(let ir=0;ir<this.find.length;ir++)this.find[ir].node==rr&&(this.find[ir].pos=this.currentPos-(rr.nodeValue.length-this.find[ir].offset))}matchesContext(rr){if(rr.indexOf("|")>-1)return rr.split(/\s*\|\s*/).some(this.matchesContext,this);let ir=rr.split("/"),lr=this.options.context,dr=!this.isOpen&&(!lr||lr.parent.type==this.nodes[0].type),fr=-(lr?lr.depth+1:0)+(dr?0:1),mr=(hr,gr)=>{for(;hr>=0;hr--){let xr=ir[hr];if(xr==""){if(hr==ir.length-1||hr==0)continue;for(;gr>=fr;gr--)if(mr(hr-1,gr))return!0;return!1}else{let _r=gr>0||gr==0&&dr?this.nodes[gr].type:lr&&gr>=fr?lr.node(gr-fr).type:null;if(!_r||_r.name!=xr&&!_r.isInGroup(xr))return!1;gr--}}return!0};return mr(ir.length-1,this.open)}textblockFromContext(){let rr=this.options.context;if(rr)for(let ir=rr.depth;ir>=0;ir--){let lr=rr.node(ir).contentMatchAt(rr.indexAfter(ir)).defaultType;if(lr&&lr.isTextblock&&lr.defaultAttrs)return lr}for(let ir in this.parser.schema.nodes){let lr=this.parser.schema.nodes[ir];if(lr.isTextblock&&lr.defaultAttrs)return lr}}}function normalizeList(e){for(let rr=e.firstChild,ir=null;rr;rr=rr.nextSibling){let lr=rr.nodeType==1?rr.nodeName.toLowerCase():null;lr&&listTags.hasOwnProperty(lr)&&ir?(ir.appendChild(rr),rr=ir):lr=="li"?ir=rr:lr&&(ir=null)}}function matches(e,rr){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,rr)}function copy(e){let rr={};for(let ir in e)rr[ir]=e[ir];return rr}function markMayApply(e,rr){let ir=rr.schema.nodes;for(let lr in ir){let dr=ir[lr];if(!dr.allowsMarkType(e))continue;let fr=[],mr=hr=>{fr.push(hr);for(let gr=0;gr<hr.edgeCount;gr++){let{type:xr,next:_r}=hr.edge(gr);if(xr==rr||fr.indexOf(_r)<0&&mr(_r))return!0}};if(mr(dr.contentMatch))return!0}}class DOMSerializer{constructor(rr,ir){this.nodes=rr,this.marks=ir}serializeFragment(rr,ir={},lr){lr||(lr=doc$1(ir).createDocumentFragment());let dr=lr,fr=[];return rr.forEach(mr=>{if(fr.length||mr.marks.length){let hr=0,gr=0;for(;hr<fr.length&&gr<mr.marks.length;){let xr=mr.marks[gr];if(!this.marks[xr.type.name]){gr++;continue}if(!xr.eq(fr[hr][0])||xr.type.spec.spanning===!1)break;hr++,gr++}for(;hr<fr.length;)dr=fr.pop()[1];for(;gr<mr.marks.length;){let xr=mr.marks[gr++],_r=this.serializeMark(xr,mr.isInline,ir);_r&&(fr.push([xr,dr]),dr.appendChild(_r.dom),dr=_r.contentDOM||_r.dom)}}dr.appendChild(this.serializeNodeInner(mr,ir))}),lr}serializeNodeInner(rr,ir){let{dom:lr,contentDOM:dr}=renderSpec(doc$1(ir),this.nodes[rr.type.name](rr),null,rr.attrs);if(dr){if(rr.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(rr.content,ir,dr)}return lr}serializeNode(rr,ir={}){let lr=this.serializeNodeInner(rr,ir);for(let dr=rr.marks.length-1;dr>=0;dr--){let fr=this.serializeMark(rr.marks[dr],rr.isInline,ir);fr&&((fr.contentDOM||fr.dom).appendChild(lr),lr=fr.dom)}return lr}serializeMark(rr,ir,lr={}){let dr=this.marks[rr.type.name];return dr&&renderSpec(doc$1(lr),dr(rr,ir),null,rr.attrs)}static renderSpec(rr,ir,lr=null,dr){return renderSpec(rr,ir,lr,dr)}static fromSchema(rr){return rr.cached.domSerializer||(rr.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(rr),this.marksFromSchema(rr)))}static nodesFromSchema(rr){let ir=gatherToDOM(rr.nodes);return ir.text||(ir.text=lr=>lr.text),ir}static marksFromSchema(rr){return gatherToDOM(rr.marks)}}function gatherToDOM(e){let rr={};for(let ir in e){let lr=e[ir].spec.toDOM;lr&&(rr[ir]=lr)}return rr}function doc$1(e){return e.document||window.document}const suspiciousAttributeCache=new WeakMap;function suspiciousAttributes(e){let rr=suspiciousAttributeCache.get(e);return rr===void 0&&suspiciousAttributeCache.set(e,rr=suspiciousAttributesInner(e)),rr}function suspiciousAttributesInner(e){let rr=null;function ir(lr){if(lr&&typeof lr=="object")if(Array.isArray(lr))if(typeof lr[0]=="string")rr||(rr=[]),rr.push(lr);else for(let dr=0;dr<lr.length;dr++)ir(lr[dr]);else for(let dr in lr)ir(lr[dr])}return ir(e),rr}function renderSpec(e,rr,ir,lr){if(typeof rr=="string")return{dom:e.createTextNode(rr)};if(rr.nodeType!=null)return{dom:rr};if(rr.dom&&rr.dom.nodeType!=null)return rr;let dr=rr[0],fr;if(typeof dr!="string")throw new RangeError("Invalid array passed to renderSpec");if(lr&&(fr=suspiciousAttributes(lr))&&fr.indexOf(rr)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let mr=dr.indexOf(" ");mr>0&&(ir=dr.slice(0,mr),dr=dr.slice(mr+1));let hr,gr=ir?e.createElementNS(ir,dr):e.createElement(dr),xr=rr[1],_r=1;if(xr&&typeof xr=="object"&&xr.nodeType==null&&!Array.isArray(xr)){_r=2;for(let yr in xr)if(xr[yr]!=null){let vr=yr.indexOf(" ");vr>0?gr.setAttributeNS(yr.slice(0,vr),yr.slice(vr+1),xr[yr]):gr.setAttribute(yr,xr[yr])}}for(let yr=_r;yr<rr.length;yr++){let vr=rr[yr];if(vr===0){if(yr<rr.length-1||yr>_r)throw new RangeError("Content hole must be the only child of its parent node");return{dom:gr,contentDOM:gr}}else{let{dom:br,contentDOM:Sr}=renderSpec(e,vr,ir,lr);if(gr.appendChild(br),Sr){if(hr)throw new RangeError("Multiple content holes");hr=Sr}}}return{dom:gr,contentDOM:hr}}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(e,rr){return e+rr*factor16}function recoverIndex(e){return e&lower16}function recoverOffset(e){return(e-(e&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(rr,ir,lr){this.pos=rr,this.delInfo=ir,this.recover=lr}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(rr,ir=!1){if(this.ranges=rr,this.inverted=ir,!rr.length&&StepMap.empty)return StepMap.empty}recover(rr){let ir=0,lr=recoverIndex(rr);if(!this.inverted)for(let dr=0;dr<lr;dr++)ir+=this.ranges[dr*3+2]-this.ranges[dr*3+1];return this.ranges[lr*3]+ir+recoverOffset(rr)}mapResult(rr,ir=1){return this._map(rr,ir,!1)}map(rr,ir=1){return this._map(rr,ir,!0)}_map(rr,ir,lr){let dr=0,fr=this.inverted?2:1,mr=this.inverted?1:2;for(let hr=0;hr<this.ranges.length;hr+=3){let gr=this.ranges[hr]-(this.inverted?dr:0);if(gr>rr)break;let xr=this.ranges[hr+fr],_r=this.ranges[hr+mr],yr=gr+xr;if(rr<=yr){let vr=xr?rr==gr?-1:rr==yr?1:ir:ir,br=gr+dr+(vr<0?0:_r);if(lr)return br;let Sr=rr==(ir<0?gr:yr)?null:makeRecover(hr/3,rr-gr),wr=rr==gr?DEL_AFTER:rr==yr?DEL_BEFORE:DEL_ACROSS;return(ir<0?rr!=gr:rr!=yr)&&(wr|=DEL_SIDE),new MapResult(br,wr,Sr)}dr+=_r-xr}return lr?rr+dr:new MapResult(rr+dr,0,null)}touches(rr,ir){let lr=0,dr=recoverIndex(ir),fr=this.inverted?2:1,mr=this.inverted?1:2;for(let hr=0;hr<this.ranges.length;hr+=3){let gr=this.ranges[hr]-(this.inverted?lr:0);if(gr>rr)break;let xr=this.ranges[hr+fr],_r=gr+xr;if(rr<=_r&&hr==dr*3)return!0;lr+=this.ranges[hr+mr]-xr}return!1}forEach(rr){let ir=this.inverted?2:1,lr=this.inverted?1:2;for(let dr=0,fr=0;dr<this.ranges.length;dr+=3){let mr=this.ranges[dr],hr=mr-(this.inverted?fr:0),gr=mr+(this.inverted?0:fr),xr=this.ranges[dr+ir],_r=this.ranges[dr+lr];rr(hr,hr+xr,gr,gr+_r),fr+=_r-xr}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(rr){return rr==0?StepMap.empty:new StepMap(rr<0?[0,-rr,0]:[0,0,rr])}}StepMap.empty=new StepMap([]);class Mapping{constructor(rr,ir,lr=0,dr=rr?rr.length:0){this.mirror=ir,this.from=lr,this.to=dr,this._maps=rr||[],this.ownData=!(rr||ir)}get maps(){return this._maps}slice(rr=0,ir=this.maps.length){return new Mapping(this._maps,this.mirror,rr,ir)}appendMap(rr,ir){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(rr),ir!=null&&this.setMirror(this._maps.length-1,ir)}appendMapping(rr){for(let ir=0,lr=this._maps.length;ir<rr._maps.length;ir++){let dr=rr.getMirror(ir);this.appendMap(rr._maps[ir],dr!=null&&dr<ir?lr+dr:void 0)}}getMirror(rr){if(this.mirror){for(let ir=0;ir<this.mirror.length;ir++)if(this.mirror[ir]==rr)return this.mirror[ir+(ir%2?-1:1)]}}setMirror(rr,ir){this.mirror||(this.mirror=[]),this.mirror.push(rr,ir)}appendMappingInverted(rr){for(let ir=rr.maps.length-1,lr=this._maps.length+rr._maps.length;ir>=0;ir--){let dr=rr.getMirror(ir);this.appendMap(rr._maps[ir].invert(),dr!=null&&dr>ir?lr-dr-1:void 0)}}invert(){let rr=new Mapping;return rr.appendMappingInverted(this),rr}map(rr,ir=1){if(this.mirror)return this._map(rr,ir,!0);for(let lr=this.from;lr<this.to;lr++)rr=this._maps[lr].map(rr,ir);return rr}mapResult(rr,ir=1){return this._map(rr,ir,!1)}_map(rr,ir,lr){let dr=0;for(let fr=this.from;fr<this.to;fr++){let mr=this._maps[fr],hr=mr.mapResult(rr,ir);if(hr.recover!=null){let gr=this.getMirror(fr);if(gr!=null&&gr>fr&&gr<this.to){fr=gr,rr=this._maps[gr].recover(hr.recover);continue}}dr|=hr.delInfo,rr=hr.pos}return lr?rr:new MapResult(rr,dr,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(rr){return null}static fromJSON(rr,ir){if(!ir||!ir.stepType)throw new RangeError("Invalid input for Step.fromJSON");let lr=stepsByID[ir.stepType];if(!lr)throw new RangeError(`No step type ${ir.stepType} defined`);return lr.fromJSON(rr,ir)}static jsonID(rr,ir){if(rr in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+rr);return stepsByID[rr]=ir,ir.prototype.jsonID=rr,ir}}class StepResult{constructor(rr,ir){this.doc=rr,this.failed=ir}static ok(rr){return new StepResult(rr,null)}static fail(rr){return new StepResult(null,rr)}static fromReplace(rr,ir,lr,dr){try{return StepResult.ok(rr.replace(ir,lr,dr))}catch(fr){if(fr instanceof ReplaceError)return StepResult.fail(fr.message);throw fr}}}function mapFragment(e,rr,ir){let lr=[];for(let dr=0;dr<e.childCount;dr++){let fr=e.child(dr);fr.content.size&&(fr=fr.copy(mapFragment(fr.content,rr,fr))),fr.isInline&&(fr=rr(fr,ir,dr)),lr.push(fr)}return Fragment.fromArray(lr)}class AddMarkStep extends Step{constructor(rr,ir,lr){super(),this.from=rr,this.to=ir,this.mark=lr}apply(rr){let ir=rr.slice(this.from,this.to),lr=rr.resolve(this.from),dr=lr.node(lr.sharedDepth(this.to)),fr=new Slice(mapFragment(ir.content,(mr,hr)=>!mr.isAtom||!hr.type.allowsMarkType(this.mark.type)?mr:mr.mark(this.mark.addToSet(mr.marks)),dr),ir.openStart,ir.openEnd);return StepResult.fromReplace(rr,this.from,this.to,fr)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(rr){let ir=rr.mapResult(this.from,1),lr=rr.mapResult(this.to,-1);return ir.deleted&&lr.deleted||ir.pos>=lr.pos?null:new AddMarkStep(ir.pos,lr.pos,this.mark)}merge(rr){return rr instanceof AddMarkStep&&rr.mark.eq(this.mark)&&this.from<=rr.to&&this.to>=rr.from?new AddMarkStep(Math.min(this.from,rr.from),Math.max(this.to,rr.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(rr,ir){if(typeof ir.from!="number"||typeof ir.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(ir.from,ir.to,rr.markFromJSON(ir.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(rr,ir,lr){super(),this.from=rr,this.to=ir,this.mark=lr}apply(rr){let ir=rr.slice(this.from,this.to),lr=new Slice(mapFragment(ir.content,dr=>dr.mark(this.mark.removeFromSet(dr.marks)),rr),ir.openStart,ir.openEnd);return StepResult.fromReplace(rr,this.from,this.to,lr)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(rr){let ir=rr.mapResult(this.from,1),lr=rr.mapResult(this.to,-1);return ir.deleted&&lr.deleted||ir.pos>=lr.pos?null:new RemoveMarkStep(ir.pos,lr.pos,this.mark)}merge(rr){return rr instanceof RemoveMarkStep&&rr.mark.eq(this.mark)&&this.from<=rr.to&&this.to>=rr.from?new RemoveMarkStep(Math.min(this.from,rr.from),Math.max(this.to,rr.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(rr,ir){if(typeof ir.from!="number"||typeof ir.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(ir.from,ir.to,rr.markFromJSON(ir.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(rr,ir){super(),this.pos=rr,this.mark=ir}apply(rr){let ir=rr.nodeAt(this.pos);if(!ir)return StepResult.fail("No node at mark step's position");let lr=ir.type.create(ir.attrs,null,this.mark.addToSet(ir.marks));return StepResult.fromReplace(rr,this.pos,this.pos+1,new Slice(Fragment.from(lr),0,ir.isLeaf?0:1))}invert(rr){let ir=rr.nodeAt(this.pos);if(ir){let lr=this.mark.addToSet(ir.marks);if(lr.length==ir.marks.length){for(let dr=0;dr<ir.marks.length;dr++)if(!ir.marks[dr].isInSet(lr))return new AddNodeMarkStep(this.pos,ir.marks[dr]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(rr){let ir=rr.mapResult(this.pos,1);return ir.deletedAfter?null:new AddNodeMarkStep(ir.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(rr,ir){if(typeof ir.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(ir.pos,rr.markFromJSON(ir.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(rr,ir){super(),this.pos=rr,this.mark=ir}apply(rr){let ir=rr.nodeAt(this.pos);if(!ir)return StepResult.fail("No node at mark step's position");let lr=ir.type.create(ir.attrs,null,this.mark.removeFromSet(ir.marks));return StepResult.fromReplace(rr,this.pos,this.pos+1,new Slice(Fragment.from(lr),0,ir.isLeaf?0:1))}invert(rr){let ir=rr.nodeAt(this.pos);return!ir||!this.mark.isInSet(ir.marks)?this:new AddNodeMarkStep(this.pos,this.mark)}map(rr){let ir=rr.mapResult(this.pos,1);return ir.deletedAfter?null:new RemoveNodeMarkStep(ir.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(rr,ir){if(typeof ir.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(ir.pos,rr.markFromJSON(ir.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(rr,ir,lr,dr=!1){super(),this.from=rr,this.to=ir,this.slice=lr,this.structure=dr}apply(rr){return this.structure&&contentBetween(rr,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(rr,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(rr){return new ReplaceStep(this.from,this.from+this.slice.size,rr.slice(this.from,this.to))}map(rr){let ir=rr.mapResult(this.from,1),lr=rr.mapResult(this.to,-1);return ir.deletedAcross&&lr.deletedAcross?null:new ReplaceStep(ir.pos,Math.max(ir.pos,lr.pos),this.slice,this.structure)}merge(rr){if(!(rr instanceof ReplaceStep)||rr.structure||this.structure)return null;if(this.from+this.slice.size==rr.from&&!this.slice.openEnd&&!rr.slice.openStart){let ir=this.slice.size+rr.slice.size==0?Slice.empty:new Slice(this.slice.content.append(rr.slice.content),this.slice.openStart,rr.slice.openEnd);return new ReplaceStep(this.from,this.to+(rr.to-rr.from),ir,this.structure)}else if(rr.to==this.from&&!this.slice.openStart&&!rr.slice.openEnd){let ir=this.slice.size+rr.slice.size==0?Slice.empty:new Slice(rr.slice.content.append(this.slice.content),rr.slice.openStart,this.slice.openEnd);return new ReplaceStep(rr.from,this.to,ir,this.structure)}else return null}toJSON(){let rr={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(rr.slice=this.slice.toJSON()),this.structure&&(rr.structure=!0),rr}static fromJSON(rr,ir){if(typeof ir.from!="number"||typeof ir.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(ir.from,ir.to,Slice.fromJSON(rr,ir.slice),!!ir.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(rr,ir,lr,dr,fr,mr,hr=!1){super(),this.from=rr,this.to=ir,this.gapFrom=lr,this.gapTo=dr,this.slice=fr,this.insert=mr,this.structure=hr}apply(rr){if(this.structure&&(contentBetween(rr,this.from,this.gapFrom)||contentBetween(rr,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let ir=rr.slice(this.gapFrom,this.gapTo);if(ir.openStart||ir.openEnd)return StepResult.fail("Gap is not a flat range");let lr=this.slice.insertAt(this.insert,ir.content);return lr?StepResult.fromReplace(rr,this.from,this.to,lr):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(rr){let ir=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+ir,this.from+this.insert,this.from+this.insert+ir,rr.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(rr){let ir=rr.mapResult(this.from,1),lr=rr.mapResult(this.to,-1),dr=this.from==this.gapFrom?ir.pos:rr.map(this.gapFrom,-1),fr=this.to==this.gapTo?lr.pos:rr.map(this.gapTo,1);return ir.deletedAcross&&lr.deletedAcross||dr<ir.pos||fr>lr.pos?null:new ReplaceAroundStep(ir.pos,lr.pos,dr,fr,this.slice,this.insert,this.structure)}toJSON(){let rr={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(rr.slice=this.slice.toJSON()),this.structure&&(rr.structure=!0),rr}static fromJSON(rr,ir){if(typeof ir.from!="number"||typeof ir.to!="number"||typeof ir.gapFrom!="number"||typeof ir.gapTo!="number"||typeof ir.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(ir.from,ir.to,ir.gapFrom,ir.gapTo,Slice.fromJSON(rr,ir.slice),ir.insert,!!ir.structure)}}Step.jsonID("replaceAround",ReplaceAroundStep);function contentBetween(e,rr,ir){let lr=e.resolve(rr),dr=ir-rr,fr=lr.depth;for(;dr>0&&fr>0&&lr.indexAfter(fr)==lr.node(fr).childCount;)fr--,dr--;if(dr>0){let mr=lr.node(fr).maybeChild(lr.indexAfter(fr));for(;dr>0;){if(!mr||mr.isLeaf)return!0;mr=mr.firstChild,dr--}}return!1}function addMark(e,rr,ir,lr){let dr=[],fr=[],mr,hr;e.doc.nodesBetween(rr,ir,(gr,xr,_r)=>{if(!gr.isInline)return;let yr=gr.marks;if(!lr.isInSet(yr)&&_r.type.allowsMarkType(lr.type)){let vr=Math.max(xr,rr),br=Math.min(xr+gr.nodeSize,ir),Sr=lr.addToSet(yr);for(let wr=0;wr<yr.length;wr++)yr[wr].isInSet(Sr)||(mr&&mr.to==vr&&mr.mark.eq(yr[wr])?mr.to=br:dr.push(mr=new RemoveMarkStep(vr,br,yr[wr])));hr&&hr.to==vr?hr.to=br:fr.push(hr=new AddMarkStep(vr,br,lr))}}),dr.forEach(gr=>e.step(gr)),fr.forEach(gr=>e.step(gr))}function removeMark(e,rr,ir,lr){let dr=[],fr=0;e.doc.nodesBetween(rr,ir,(mr,hr)=>{if(!mr.isInline)return;fr++;let gr=null;if(lr instanceof MarkType){let xr=mr.marks,_r;for(;_r=lr.isInSet(xr);)(gr||(gr=[])).push(_r),xr=_r.removeFromSet(xr)}else lr?lr.isInSet(mr.marks)&&(gr=[lr]):gr=mr.marks;if(gr&&gr.length){let xr=Math.min(hr+mr.nodeSize,ir);for(let _r=0;_r<gr.length;_r++){let yr=gr[_r],vr;for(let br=0;br<dr.length;br++){let Sr=dr[br];Sr.step==fr-1&&yr.eq(dr[br].style)&&(vr=Sr)}vr?(vr.to=xr,vr.step=fr):dr.push({style:yr,from:Math.max(hr,rr),to:xr,step:fr})}}}),dr.forEach(mr=>e.step(new RemoveMarkStep(mr.from,mr.to,mr.style)))}function clearIncompatible(e,rr,ir,lr=ir.contentMatch,dr=!0){let fr=e.doc.nodeAt(rr),mr=[],hr=rr+1;for(let gr=0;gr<fr.childCount;gr++){let xr=fr.child(gr),_r=hr+xr.nodeSize,yr=lr.matchType(xr.type);if(!yr)mr.push(new ReplaceStep(hr,_r,Slice.empty));else{lr=yr;for(let vr=0;vr<xr.marks.length;vr++)ir.allowsMarkType(xr.marks[vr].type)||e.step(new RemoveMarkStep(hr,_r,xr.marks[vr]));if(dr&&xr.isText&&ir.whitespace!="pre"){let vr,br=/\r?\n|\r/g,Sr;for(;vr=br.exec(xr.text);)Sr||(Sr=new Slice(Fragment.from(ir.schema.text(" ",ir.allowedMarks(xr.marks))),0,0)),mr.push(new ReplaceStep(hr+vr.index,hr+vr.index+vr[0].length,Sr))}}hr=_r}if(!lr.validEnd){let gr=lr.fillBefore(Fragment.empty,!0);e.replace(hr,hr,new Slice(gr,0,0))}for(let gr=mr.length-1;gr>=0;gr--)e.step(mr[gr])}function canCut(e,rr,ir){return(rr==0||e.canReplace(rr,e.childCount))&&(ir==e.childCount||e.canReplace(0,ir))}function liftTarget(e){let ir=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let lr=e.depth;;--lr){let dr=e.$from.node(lr),fr=e.$from.index(lr),mr=e.$to.indexAfter(lr);if(lr<e.depth&&dr.canReplace(fr,mr,ir))return lr;if(lr==0||dr.type.spec.isolating||!canCut(dr,fr,mr))break}return null}function lift$2(e,rr,ir){let{$from:lr,$to:dr,depth:fr}=rr,mr=lr.before(fr+1),hr=dr.after(fr+1),gr=mr,xr=hr,_r=Fragment.empty,yr=0;for(let Sr=fr,wr=!1;Sr>ir;Sr--)wr||lr.index(Sr)>0?(wr=!0,_r=Fragment.from(lr.node(Sr).copy(_r)),yr++):gr--;let vr=Fragment.empty,br=0;for(let Sr=fr,wr=!1;Sr>ir;Sr--)wr||dr.after(Sr+1)<dr.end(Sr)?(wr=!0,vr=Fragment.from(dr.node(Sr).copy(vr)),br++):xr++;e.step(new ReplaceAroundStep(gr,xr,mr,hr,new Slice(_r.append(vr),yr,br),_r.size-yr,!0))}function findWrapping(e,rr,ir=null,lr=e){let dr=findWrappingOutside(e,rr),fr=dr&&findWrappingInside(lr,rr);return fr?dr.map(withAttrs).concat({type:rr,attrs:ir}).concat(fr.map(withAttrs)):null}function withAttrs(e){return{type:e,attrs:null}}function findWrappingOutside(e,rr){let{parent:ir,startIndex:lr,endIndex:dr}=e,fr=ir.contentMatchAt(lr).findWrapping(rr);if(!fr)return null;let mr=fr.length?fr[0]:rr;return ir.canReplaceWith(lr,dr,mr)?fr:null}function findWrappingInside(e,rr){let{parent:ir,startIndex:lr,endIndex:dr}=e,fr=ir.child(lr),mr=rr.contentMatch.findWrapping(fr.type);if(!mr)return null;let gr=(mr.length?mr[mr.length-1]:rr).contentMatch;for(let xr=lr;gr&&xr<dr;xr++)gr=gr.matchType(ir.child(xr).type);return!gr||!gr.validEnd?null:mr}function wrap(e,rr,ir){let lr=Fragment.empty;for(let mr=ir.length-1;mr>=0;mr--){if(lr.size){let hr=ir[mr].type.contentMatch.matchFragment(lr);if(!hr||!hr.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}lr=Fragment.from(ir[mr].type.create(ir[mr].attrs,lr))}let dr=rr.start,fr=rr.end;e.step(new ReplaceAroundStep(dr,fr,dr,fr,new Slice(lr,0,0),ir.length,!0))}function setBlockType$1(e,rr,ir,lr,dr){if(!lr.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let fr=e.steps.length;e.doc.nodesBetween(rr,ir,(mr,hr)=>{let gr=typeof dr=="function"?dr(mr):dr;if(mr.isTextblock&&!mr.hasMarkup(lr,gr)&&canChangeType(e.doc,e.mapping.slice(fr).map(hr),lr)){let xr=null;if(lr.schema.linebreakReplacement){let br=lr.whitespace=="pre",Sr=!!lr.contentMatch.matchType(lr.schema.linebreakReplacement);br&&!Sr?xr=!1:!br&&Sr&&(xr=!0)}xr===!1&&replaceLinebreaks(e,mr,hr,fr),clearIncompatible(e,e.mapping.slice(fr).map(hr,1),lr,void 0,xr===null);let _r=e.mapping.slice(fr),yr=_r.map(hr,1),vr=_r.map(hr+mr.nodeSize,1);return e.step(new ReplaceAroundStep(yr,vr,yr+1,vr-1,new Slice(Fragment.from(lr.create(gr,null,mr.marks)),0,0),1,!0)),xr===!0&&replaceNewlines(e,mr,hr,fr),!1}})}function replaceNewlines(e,rr,ir,lr){rr.forEach((dr,fr)=>{if(dr.isText){let mr,hr=/\r?\n|\r/g;for(;mr=hr.exec(dr.text);){let gr=e.mapping.slice(lr).map(ir+1+fr+mr.index);e.replaceWith(gr,gr+1,rr.type.schema.linebreakReplacement.create())}}})}function replaceLinebreaks(e,rr,ir,lr){rr.forEach((dr,fr)=>{if(dr.type==dr.type.schema.linebreakReplacement){let mr=e.mapping.slice(lr).map(ir+1+fr);e.replaceWith(mr,mr+1,rr.type.schema.text(`
`))}})}function canChangeType(e,rr,ir){let lr=e.resolve(rr),dr=lr.index();return lr.parent.canReplaceWith(dr,dr+1,ir)}function setNodeMarkup(e,rr,ir,lr,dr){let fr=e.doc.nodeAt(rr);if(!fr)throw new RangeError("No node at given position");ir||(ir=fr.type);let mr=ir.create(lr,null,dr||fr.marks);if(fr.isLeaf)return e.replaceWith(rr,rr+fr.nodeSize,mr);if(!ir.validContent(fr.content))throw new RangeError("Invalid content for node type "+ir.name);e.step(new ReplaceAroundStep(rr,rr+fr.nodeSize,rr+1,rr+fr.nodeSize-1,new Slice(Fragment.from(mr),0,0),1,!0))}function canSplit(e,rr,ir=1,lr){let dr=e.resolve(rr),fr=dr.depth-ir,mr=lr&&lr[lr.length-1]||dr.parent;if(fr<0||dr.parent.type.spec.isolating||!dr.parent.canReplace(dr.index(),dr.parent.childCount)||!mr.type.validContent(dr.parent.content.cutByIndex(dr.index(),dr.parent.childCount)))return!1;for(let xr=dr.depth-1,_r=ir-2;xr>fr;xr--,_r--){let yr=dr.node(xr),vr=dr.index(xr);if(yr.type.spec.isolating)return!1;let br=yr.content.cutByIndex(vr,yr.childCount),Sr=lr&&lr[_r+1];Sr&&(br=br.replaceChild(0,Sr.type.create(Sr.attrs)));let wr=lr&&lr[_r]||yr;if(!yr.canReplace(vr+1,yr.childCount)||!wr.type.validContent(br))return!1}let hr=dr.indexAfter(fr),gr=lr&&lr[0];return dr.node(fr).canReplaceWith(hr,hr,gr?gr.type:dr.node(fr+1).type)}function split(e,rr,ir=1,lr){let dr=e.doc.resolve(rr),fr=Fragment.empty,mr=Fragment.empty;for(let hr=dr.depth,gr=dr.depth-ir,xr=ir-1;hr>gr;hr--,xr--){fr=Fragment.from(dr.node(hr).copy(fr));let _r=lr&&lr[xr];mr=Fragment.from(_r?_r.type.create(_r.attrs,mr):dr.node(hr).copy(mr))}e.step(new ReplaceStep(rr,rr,new Slice(fr.append(mr),ir,ir),!0))}function canJoin(e,rr){let ir=e.resolve(rr),lr=ir.index();return joinable(ir.nodeBefore,ir.nodeAfter)&&ir.parent.canReplace(lr,lr+1)}function canAppendWithSubstitutedLinebreaks(e,rr){rr.content.size||e.type.compatibleContent(rr.type);let ir=e.contentMatchAt(e.childCount),{linebreakReplacement:lr}=e.type.schema;for(let dr=0;dr<rr.childCount;dr++){let fr=rr.child(dr),mr=fr.type==lr?e.type.schema.nodes.text:fr.type;if(ir=ir.matchType(mr),!ir||!e.type.allowsMarks(fr.marks))return!1}return ir.validEnd}function joinable(e,rr){return!!(e&&rr&&!e.isLeaf&&canAppendWithSubstitutedLinebreaks(e,rr))}function joinPoint(e,rr,ir=-1){let lr=e.resolve(rr);for(let dr=lr.depth;;dr--){let fr,mr,hr=lr.index(dr);if(dr==lr.depth?(fr=lr.nodeBefore,mr=lr.nodeAfter):ir>0?(fr=lr.node(dr+1),hr++,mr=lr.node(dr).maybeChild(hr)):(fr=lr.node(dr).maybeChild(hr-1),mr=lr.node(dr+1)),fr&&!fr.isTextblock&&joinable(fr,mr)&&lr.node(dr).canReplace(hr,hr+1))return rr;if(dr==0)break;rr=ir<0?lr.before(dr):lr.after(dr)}}function join(e,rr,ir){let lr=null,{linebreakReplacement:dr}=e.doc.type.schema,fr=e.doc.resolve(rr-ir),mr=fr.node().type;if(dr&&mr.inlineContent){let _r=mr.whitespace=="pre",yr=!!mr.contentMatch.matchType(dr);_r&&!yr?lr=!1:!_r&&yr&&(lr=!0)}let hr=e.steps.length;if(lr===!1){let _r=e.doc.resolve(rr+ir);replaceLinebreaks(e,_r.node(),_r.before(),hr)}mr.inlineContent&&clearIncompatible(e,rr+ir-1,mr,fr.node().contentMatchAt(fr.index()),lr==null);let gr=e.mapping.slice(hr),xr=gr.map(rr-ir);if(e.step(new ReplaceStep(xr,gr.map(rr+ir,-1),Slice.empty,!0)),lr===!0){let _r=e.doc.resolve(xr);replaceNewlines(e,_r.node(),_r.before(),e.steps.length)}return e}function insertPoint(e,rr,ir){let lr=e.resolve(rr);if(lr.parent.canReplaceWith(lr.index(),lr.index(),ir))return rr;if(lr.parentOffset==0)for(let dr=lr.depth-1;dr>=0;dr--){let fr=lr.index(dr);if(lr.node(dr).canReplaceWith(fr,fr,ir))return lr.before(dr+1);if(fr>0)return null}if(lr.parentOffset==lr.parent.content.size)for(let dr=lr.depth-1;dr>=0;dr--){let fr=lr.indexAfter(dr);if(lr.node(dr).canReplaceWith(fr,fr,ir))return lr.after(dr+1);if(fr<lr.node(dr).childCount)return null}return null}function dropPoint(e,rr,ir){let lr=e.resolve(rr);if(!ir.content.size)return rr;let dr=ir.content;for(let fr=0;fr<ir.openStart;fr++)dr=dr.firstChild.content;for(let fr=1;fr<=(ir.openStart==0&&ir.size?2:1);fr++)for(let mr=lr.depth;mr>=0;mr--){let hr=mr==lr.depth?0:lr.pos<=(lr.start(mr+1)+lr.end(mr+1))/2?-1:1,gr=lr.index(mr)+(hr>0?1:0),xr=lr.node(mr),_r=!1;if(fr==1)_r=xr.canReplace(gr,gr,dr);else{let yr=xr.contentMatchAt(gr).findWrapping(dr.firstChild.type);_r=yr&&xr.canReplaceWith(gr,gr,yr[0])}if(_r)return hr==0?lr.pos:hr<0?lr.before(mr+1):lr.after(mr+1)}return null}function replaceStep(e,rr,ir=rr,lr=Slice.empty){if(rr==ir&&!lr.size)return null;let dr=e.resolve(rr),fr=e.resolve(ir);return fitsTrivially(dr,fr,lr)?new ReplaceStep(rr,ir,lr):new Fitter(dr,fr,lr).fit()}function fitsTrivially(e,rr,ir){return!ir.openStart&&!ir.openEnd&&e.start()==rr.start()&&e.parent.canReplace(e.index(),rr.index(),ir.content)}class Fitter{constructor(rr,ir,lr){this.$from=rr,this.$to=ir,this.unplaced=lr,this.frontier=[],this.placed=Fragment.empty;for(let dr=0;dr<=rr.depth;dr++){let fr=rr.node(dr);this.frontier.push({type:fr.type,match:fr.contentMatchAt(rr.indexAfter(dr))})}for(let dr=rr.depth;dr>0;dr--)this.placed=Fragment.from(rr.node(dr).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let xr=this.findFittable();xr?this.placeNodes(xr):this.openMore()||this.dropNode()}let rr=this.mustMoveInline(),ir=this.placed.size-this.depth-this.$from.depth,lr=this.$from,dr=this.close(rr<0?this.$to:lr.doc.resolve(rr));if(!dr)return null;let fr=this.placed,mr=lr.depth,hr=dr.depth;for(;mr&&hr&&fr.childCount==1;)fr=fr.firstChild.content,mr--,hr--;let gr=new Slice(fr,mr,hr);return rr>-1?new ReplaceAroundStep(lr.pos,rr,this.$to.pos,this.$to.end(),gr,ir):gr.size||lr.pos!=this.$to.pos?new ReplaceStep(lr.pos,dr.pos,gr):null}findFittable(){let rr=this.unplaced.openStart;for(let ir=this.unplaced.content,lr=0,dr=this.unplaced.openEnd;lr<rr;lr++){let fr=ir.firstChild;if(ir.childCount>1&&(dr=0),fr.type.spec.isolating&&dr<=lr){rr=lr;break}ir=fr.content}for(let ir=1;ir<=2;ir++)for(let lr=ir==1?rr:this.unplaced.openStart;lr>=0;lr--){let dr,fr=null;lr?(fr=contentAt(this.unplaced.content,lr-1).firstChild,dr=fr.content):dr=this.unplaced.content;let mr=dr.firstChild;for(let hr=this.depth;hr>=0;hr--){let{type:gr,match:xr}=this.frontier[hr],_r,yr=null;if(ir==1&&(mr?xr.matchType(mr.type)||(yr=xr.fillBefore(Fragment.from(mr),!1)):fr&&gr.compatibleContent(fr.type)))return{sliceDepth:lr,frontierDepth:hr,parent:fr,inject:yr};if(ir==2&&mr&&(_r=xr.findWrapping(mr.type)))return{sliceDepth:lr,frontierDepth:hr,parent:fr,wrap:_r};if(fr&&xr.matchType(fr.type))break}}}openMore(){let{content:rr,openStart:ir,openEnd:lr}=this.unplaced,dr=contentAt(rr,ir);return!dr.childCount||dr.firstChild.isLeaf?!1:(this.unplaced=new Slice(rr,ir+1,Math.max(lr,dr.size+ir>=rr.size-lr?ir+1:0)),!0)}dropNode(){let{content:rr,openStart:ir,openEnd:lr}=this.unplaced,dr=contentAt(rr,ir);if(dr.childCount<=1&&ir>0){let fr=rr.size-ir<=ir+dr.size;this.unplaced=new Slice(dropFromFragment(rr,ir-1,1),ir-1,fr?ir-1:lr)}else this.unplaced=new Slice(dropFromFragment(rr,ir,1),ir,lr)}placeNodes({sliceDepth:rr,frontierDepth:ir,parent:lr,inject:dr,wrap:fr}){for(;this.depth>ir;)this.closeFrontierNode();if(fr)for(let wr=0;wr<fr.length;wr++)this.openFrontierNode(fr[wr]);let mr=this.unplaced,hr=lr?lr.content:mr.content,gr=mr.openStart-rr,xr=0,_r=[],{match:yr,type:vr}=this.frontier[ir];if(dr){for(let wr=0;wr<dr.childCount;wr++)_r.push(dr.child(wr));yr=yr.matchFragment(dr)}let br=hr.size+rr-(mr.content.size-mr.openEnd);for(;xr<hr.childCount;){let wr=hr.child(xr),Mr=yr.matchType(wr.type);if(!Mr)break;xr++,(xr>1||gr==0||wr.content.size)&&(yr=Mr,_r.push(closeNodeStart(wr.mark(vr.allowedMarks(wr.marks)),xr==1?gr:0,xr==hr.childCount?br:-1)))}let Sr=xr==hr.childCount;Sr||(br=-1),this.placed=addToFragment(this.placed,ir,Fragment.from(_r)),this.frontier[ir].match=yr,Sr&&br<0&&lr&&lr.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let wr=0,Mr=hr;wr<br;wr++){let kr=Mr.lastChild;this.frontier.push({type:kr.type,match:kr.contentMatchAt(kr.childCount)}),Mr=kr.content}this.unplaced=Sr?rr==0?Slice.empty:new Slice(dropFromFragment(mr.content,rr-1,1),rr-1,br<0?mr.openEnd:rr-1):new Slice(dropFromFragment(mr.content,rr,xr),mr.openStart,mr.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let rr=this.frontier[this.depth],ir;if(!rr.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,rr.type,rr.match,!1)||this.$to.depth==this.depth&&(ir=this.findCloseLevel(this.$to))&&ir.depth==this.depth)return-1;let{depth:lr}=this.$to,dr=this.$to.after(lr);for(;lr>1&&dr==this.$to.end(--lr);)++dr;return dr}findCloseLevel(rr){e:for(let ir=Math.min(this.depth,rr.depth);ir>=0;ir--){let{match:lr,type:dr}=this.frontier[ir],fr=ir<rr.depth&&rr.end(ir+1)==rr.pos+(rr.depth-(ir+1)),mr=contentAfterFits(rr,ir,dr,lr,fr);if(mr){for(let hr=ir-1;hr>=0;hr--){let{match:gr,type:xr}=this.frontier[hr],_r=contentAfterFits(rr,hr,xr,gr,!0);if(!_r||_r.childCount)continue e}return{depth:ir,fit:mr,move:fr?rr.doc.resolve(rr.after(ir+1)):rr}}}}close(rr){let ir=this.findCloseLevel(rr);if(!ir)return null;for(;this.depth>ir.depth;)this.closeFrontierNode();ir.fit.childCount&&(this.placed=addToFragment(this.placed,ir.depth,ir.fit)),rr=ir.move;for(let lr=ir.depth+1;lr<=rr.depth;lr++){let dr=rr.node(lr),fr=dr.type.contentMatch.fillBefore(dr.content,!0,rr.index(lr));this.openFrontierNode(dr.type,dr.attrs,fr)}return rr}openFrontierNode(rr,ir=null,lr){let dr=this.frontier[this.depth];dr.match=dr.match.matchType(rr),this.placed=addToFragment(this.placed,this.depth,Fragment.from(rr.create(ir,lr))),this.frontier.push({type:rr,match:rr.contentMatch})}closeFrontierNode(){let ir=this.frontier.pop().match.fillBefore(Fragment.empty,!0);ir.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,ir))}}function dropFromFragment(e,rr,ir){return rr==0?e.cutByIndex(ir,e.childCount):e.replaceChild(0,e.firstChild.copy(dropFromFragment(e.firstChild.content,rr-1,ir)))}function addToFragment(e,rr,ir){return rr==0?e.append(ir):e.replaceChild(e.childCount-1,e.lastChild.copy(addToFragment(e.lastChild.content,rr-1,ir)))}function contentAt(e,rr){for(let ir=0;ir<rr;ir++)e=e.firstChild.content;return e}function closeNodeStart(e,rr,ir){if(rr<=0)return e;let lr=e.content;return rr>1&&(lr=lr.replaceChild(0,closeNodeStart(lr.firstChild,rr-1,lr.childCount==1?ir-1:0))),rr>0&&(lr=e.type.contentMatch.fillBefore(lr).append(lr),ir<=0&&(lr=lr.append(e.type.contentMatch.matchFragment(lr).fillBefore(Fragment.empty,!0)))),e.copy(lr)}function contentAfterFits(e,rr,ir,lr,dr){let fr=e.node(rr),mr=dr?e.indexAfter(rr):e.index(rr);if(mr==fr.childCount&&!ir.compatibleContent(fr.type))return null;let hr=lr.fillBefore(fr.content,!0,mr);return hr&&!invalidMarks(ir,fr.content,mr)?hr:null}function invalidMarks(e,rr,ir){for(let lr=ir;lr<rr.childCount;lr++)if(!e.allowsMarks(rr.child(lr).marks))return!0;return!1}function definesContent(e){return e.spec.defining||e.spec.definingForContent}function replaceRange(e,rr,ir,lr){if(!lr.size)return e.deleteRange(rr,ir);let dr=e.doc.resolve(rr),fr=e.doc.resolve(ir);if(fitsTrivially(dr,fr,lr))return e.step(new ReplaceStep(rr,ir,lr));let mr=coveredDepths(dr,e.doc.resolve(ir));mr[mr.length-1]==0&&mr.pop();let hr=-(dr.depth+1);mr.unshift(hr);for(let vr=dr.depth,br=dr.pos-1;vr>0;vr--,br--){let Sr=dr.node(vr).type.spec;if(Sr.defining||Sr.definingAsContext||Sr.isolating)break;mr.indexOf(vr)>-1?hr=vr:dr.before(vr)==br&&mr.splice(1,0,-vr)}let gr=mr.indexOf(hr),xr=[],_r=lr.openStart;for(let vr=lr.content,br=0;;br++){let Sr=vr.firstChild;if(xr.push(Sr),br==lr.openStart)break;vr=Sr.content}for(let vr=_r-1;vr>=0;vr--){let br=xr[vr],Sr=definesContent(br.type);if(Sr&&!br.sameMarkup(dr.node(Math.abs(hr)-1)))_r=vr;else if(Sr||!br.type.isTextblock)break}for(let vr=lr.openStart;vr>=0;vr--){let br=(vr+_r+1)%(lr.openStart+1),Sr=xr[br];if(Sr)for(let wr=0;wr<mr.length;wr++){let Mr=mr[(wr+gr)%mr.length],kr=!0;Mr<0&&(kr=!1,Mr=-Mr);let Ar=dr.node(Mr-1),Ir=dr.index(Mr-1);if(Ar.canReplaceWith(Ir,Ir,Sr.type,Sr.marks))return e.replace(dr.before(Mr),kr?fr.after(Mr):ir,new Slice(closeFragment(lr.content,0,lr.openStart,br),br,lr.openEnd))}}let yr=e.steps.length;for(let vr=mr.length-1;vr>=0&&(e.replace(rr,ir,lr),!(e.steps.length>yr));vr--){let br=mr[vr];br<0||(rr=dr.before(br),ir=fr.after(br))}}function closeFragment(e,rr,ir,lr,dr){if(rr<ir){let fr=e.firstChild;e=e.replaceChild(0,fr.copy(closeFragment(fr.content,rr+1,ir,lr,fr)))}if(rr>lr){let fr=dr.contentMatchAt(0),mr=fr.fillBefore(e).append(e);e=mr.append(fr.matchFragment(mr).fillBefore(Fragment.empty,!0))}return e}function replaceRangeWith(e,rr,ir,lr){if(!lr.isInline&&rr==ir&&e.doc.resolve(rr).parent.content.size){let dr=insertPoint(e.doc,rr,lr.type);dr!=null&&(rr=ir=dr)}e.replaceRange(rr,ir,new Slice(Fragment.from(lr),0,0))}function deleteRange$1(e,rr,ir){let lr=e.doc.resolve(rr),dr=e.doc.resolve(ir),fr=coveredDepths(lr,dr);for(let mr=0;mr<fr.length;mr++){let hr=fr[mr],gr=mr==fr.length-1;if(gr&&hr==0||lr.node(hr).type.contentMatch.validEnd)return e.delete(lr.start(hr),dr.end(hr));if(hr>0&&(gr||lr.node(hr-1).canReplace(lr.index(hr-1),dr.indexAfter(hr-1))))return e.delete(lr.before(hr),dr.after(hr))}for(let mr=1;mr<=lr.depth&&mr<=dr.depth;mr++)if(rr-lr.start(mr)==lr.depth-mr&&ir>lr.end(mr)&&dr.end(mr)-ir!=dr.depth-mr&&lr.start(mr-1)==dr.start(mr-1)&&lr.node(mr-1).canReplace(lr.index(mr-1),dr.index(mr-1)))return e.delete(lr.before(mr),ir);e.delete(rr,ir)}function coveredDepths(e,rr){let ir=[],lr=Math.min(e.depth,rr.depth);for(let dr=lr;dr>=0;dr--){let fr=e.start(dr);if(fr<e.pos-(e.depth-dr)||rr.end(dr)>rr.pos+(rr.depth-dr)||e.node(dr).type.spec.isolating||rr.node(dr).type.spec.isolating)break;(fr==rr.start(dr)||dr==e.depth&&dr==rr.depth&&e.parent.inlineContent&&rr.parent.inlineContent&&dr&&rr.start(dr-1)==fr-1)&&ir.push(dr)}return ir}class AttrStep extends Step{constructor(rr,ir,lr){super(),this.pos=rr,this.attr=ir,this.value=lr}apply(rr){let ir=rr.nodeAt(this.pos);if(!ir)return StepResult.fail("No node at attribute step's position");let lr=Object.create(null);for(let fr in ir.attrs)lr[fr]=ir.attrs[fr];lr[this.attr]=this.value;let dr=ir.type.create(lr,null,ir.marks);return StepResult.fromReplace(rr,this.pos,this.pos+1,new Slice(Fragment.from(dr),0,ir.isLeaf?0:1))}getMap(){return StepMap.empty}invert(rr){return new AttrStep(this.pos,this.attr,rr.nodeAt(this.pos).attrs[this.attr])}map(rr){let ir=rr.mapResult(this.pos,1);return ir.deletedAfter?null:new AttrStep(ir.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(rr,ir){if(typeof ir.pos!="number"||typeof ir.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(ir.pos,ir.attr,ir.value)}}Step.jsonID("attr",AttrStep);class DocAttrStep extends Step{constructor(rr,ir){super(),this.attr=rr,this.value=ir}apply(rr){let ir=Object.create(null);for(let dr in rr.attrs)ir[dr]=rr.attrs[dr];ir[this.attr]=this.value;let lr=rr.type.create(ir,rr.content,rr.marks);return StepResult.ok(lr)}getMap(){return StepMap.empty}invert(rr){return new DocAttrStep(this.attr,rr.attrs[this.attr])}map(rr){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(rr,ir){if(typeof ir.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new DocAttrStep(ir.attr,ir.value)}}Step.jsonID("docAttr",DocAttrStep);let TransformError=class extends Error{};TransformError=function e(rr){let ir=Error.call(this,rr);return ir.__proto__=e.prototype,ir};TransformError.prototype=Object.create(Error.prototype);TransformError.prototype.constructor=TransformError;TransformError.prototype.name="TransformError";class Transform{constructor(rr){this.doc=rr,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(rr){let ir=this.maybeStep(rr);if(ir.failed)throw new TransformError(ir.failed);return this}maybeStep(rr){let ir=rr.apply(this.doc);return ir.failed||this.addStep(rr,ir.doc),ir}get docChanged(){return this.steps.length>0}addStep(rr,ir){this.docs.push(this.doc),this.steps.push(rr),this.mapping.appendMap(rr.getMap()),this.doc=ir}replace(rr,ir=rr,lr=Slice.empty){let dr=replaceStep(this.doc,rr,ir,lr);return dr&&this.step(dr),this}replaceWith(rr,ir,lr){return this.replace(rr,ir,new Slice(Fragment.from(lr),0,0))}delete(rr,ir){return this.replace(rr,ir,Slice.empty)}insert(rr,ir){return this.replaceWith(rr,rr,ir)}replaceRange(rr,ir,lr){return replaceRange(this,rr,ir,lr),this}replaceRangeWith(rr,ir,lr){return replaceRangeWith(this,rr,ir,lr),this}deleteRange(rr,ir){return deleteRange$1(this,rr,ir),this}lift(rr,ir){return lift$2(this,rr,ir),this}join(rr,ir=1){return join(this,rr,ir),this}wrap(rr,ir){return wrap(this,rr,ir),this}setBlockType(rr,ir=rr,lr,dr=null){return setBlockType$1(this,rr,ir,lr,dr),this}setNodeMarkup(rr,ir,lr=null,dr){return setNodeMarkup(this,rr,ir,lr,dr),this}setNodeAttribute(rr,ir,lr){return this.step(new AttrStep(rr,ir,lr)),this}setDocAttribute(rr,ir){return this.step(new DocAttrStep(rr,ir)),this}addNodeMark(rr,ir){return this.step(new AddNodeMarkStep(rr,ir)),this}removeNodeMark(rr,ir){let lr=this.doc.nodeAt(rr);if(!lr)throw new RangeError("No node at position "+rr);if(ir instanceof Mark$1)ir.isInSet(lr.marks)&&this.step(new RemoveNodeMarkStep(rr,ir));else{let dr=lr.marks,fr,mr=[];for(;fr=ir.isInSet(dr);)mr.push(new RemoveNodeMarkStep(rr,fr)),dr=fr.removeFromSet(dr);for(let hr=mr.length-1;hr>=0;hr--)this.step(mr[hr])}return this}split(rr,ir=1,lr){return split(this,rr,ir,lr),this}addMark(rr,ir,lr){return addMark(this,rr,ir,lr),this}removeMark(rr,ir,lr){return removeMark(this,rr,ir,lr),this}clearIncompatible(rr,ir,lr){return clearIncompatible(this,rr,ir,lr),this}}const classesById=Object.create(null);let Selection$1=class{constructor(rr,ir,lr){this.$anchor=rr,this.$head=ir,this.ranges=lr||[new SelectionRange(rr.min(ir),rr.max(ir))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let rr=this.ranges;for(let ir=0;ir<rr.length;ir++)if(rr[ir].$from.pos!=rr[ir].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(rr,ir=Slice.empty){let lr=ir.content.lastChild,dr=null;for(let hr=0;hr<ir.openEnd;hr++)dr=lr,lr=lr.lastChild;let fr=rr.steps.length,mr=this.ranges;for(let hr=0;hr<mr.length;hr++){let{$from:gr,$to:xr}=mr[hr],_r=rr.mapping.slice(fr);rr.replaceRange(_r.map(gr.pos),_r.map(xr.pos),hr?Slice.empty:ir),hr==0&&selectionToInsertionEnd$1(rr,fr,(lr?lr.isInline:dr&&dr.isTextblock)?-1:1)}}replaceWith(rr,ir){let lr=rr.steps.length,dr=this.ranges;for(let fr=0;fr<dr.length;fr++){let{$from:mr,$to:hr}=dr[fr],gr=rr.mapping.slice(lr),xr=gr.map(mr.pos),_r=gr.map(hr.pos);fr?rr.deleteRange(xr,_r):(rr.replaceRangeWith(xr,_r,ir),selectionToInsertionEnd$1(rr,lr,ir.isInline?-1:1))}}static findFrom(rr,ir,lr=!1){let dr=rr.parent.inlineContent?new TextSelection(rr):findSelectionIn(rr.node(0),rr.parent,rr.pos,rr.index(),ir,lr);if(dr)return dr;for(let fr=rr.depth-1;fr>=0;fr--){let mr=ir<0?findSelectionIn(rr.node(0),rr.node(fr),rr.before(fr+1),rr.index(fr),ir,lr):findSelectionIn(rr.node(0),rr.node(fr),rr.after(fr+1),rr.index(fr)+1,ir,lr);if(mr)return mr}return null}static near(rr,ir=1){return this.findFrom(rr,ir)||this.findFrom(rr,-ir)||new AllSelection(rr.node(0))}static atStart(rr){return findSelectionIn(rr,rr,0,0,1)||new AllSelection(rr)}static atEnd(rr){return findSelectionIn(rr,rr,rr.content.size,rr.childCount,-1)||new AllSelection(rr)}static fromJSON(rr,ir){if(!ir||!ir.type)throw new RangeError("Invalid input for Selection.fromJSON");let lr=classesById[ir.type];if(!lr)throw new RangeError(`No selection type ${ir.type} defined`);return lr.fromJSON(rr,ir)}static jsonID(rr,ir){if(rr in classesById)throw new RangeError("Duplicate use of selection JSON ID "+rr);return classesById[rr]=ir,ir.prototype.jsonID=rr,ir}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}};Selection$1.prototype.visible=!0;class SelectionRange{constructor(rr,ir){this.$from=rr,this.$to=ir}}let warnedAboutTextSelection=!1;function checkTextSelection(e){!warnedAboutTextSelection&&!e.parent.inlineContent&&(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class TextSelection extends Selection$1{constructor(rr,ir=rr){checkTextSelection(rr),checkTextSelection(ir),super(rr,ir)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(rr,ir){let lr=rr.resolve(ir.map(this.head));if(!lr.parent.inlineContent)return Selection$1.near(lr);let dr=rr.resolve(ir.map(this.anchor));return new TextSelection(dr.parent.inlineContent?dr:lr,lr)}replace(rr,ir=Slice.empty){if(super.replace(rr,ir),ir==Slice.empty){let lr=this.$from.marksAcross(this.$to);lr&&rr.ensureMarks(lr)}}eq(rr){return rr instanceof TextSelection&&rr.anchor==this.anchor&&rr.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(rr,ir){if(typeof ir.anchor!="number"||typeof ir.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(rr.resolve(ir.anchor),rr.resolve(ir.head))}static create(rr,ir,lr=ir){let dr=rr.resolve(ir);return new this(dr,lr==ir?dr:rr.resolve(lr))}static between(rr,ir,lr){let dr=rr.pos-ir.pos;if((!lr||dr)&&(lr=dr>=0?1:-1),!ir.parent.inlineContent){let fr=Selection$1.findFrom(ir,lr,!0)||Selection$1.findFrom(ir,-lr,!0);if(fr)ir=fr.$head;else return Selection$1.near(ir,lr)}return rr.parent.inlineContent||(dr==0?rr=ir:(rr=(Selection$1.findFrom(rr,-lr,!0)||Selection$1.findFrom(rr,lr,!0)).$anchor,rr.pos<ir.pos!=dr<0&&(rr=ir))),new TextSelection(rr,ir)}}Selection$1.jsonID("text",TextSelection);class TextBookmark{constructor(rr,ir){this.anchor=rr,this.head=ir}map(rr){return new TextBookmark(rr.map(this.anchor),rr.map(this.head))}resolve(rr){return TextSelection.between(rr.resolve(this.anchor),rr.resolve(this.head))}}class NodeSelection extends Selection$1{constructor(rr){let ir=rr.nodeAfter,lr=rr.node(0).resolve(rr.pos+ir.nodeSize);super(rr,lr),this.node=ir}map(rr,ir){let{deleted:lr,pos:dr}=ir.mapResult(this.anchor),fr=rr.resolve(dr);return lr?Selection$1.near(fr):new NodeSelection(fr)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(rr){return rr instanceof NodeSelection&&rr.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(rr,ir){if(typeof ir.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(rr.resolve(ir.anchor))}static create(rr,ir){return new NodeSelection(rr.resolve(ir))}static isSelectable(rr){return!rr.isText&&rr.type.spec.selectable!==!1}}NodeSelection.prototype.visible=!1;Selection$1.jsonID("node",NodeSelection);class NodeBookmark{constructor(rr){this.anchor=rr}map(rr){let{deleted:ir,pos:lr}=rr.mapResult(this.anchor);return ir?new TextBookmark(lr,lr):new NodeBookmark(lr)}resolve(rr){let ir=rr.resolve(this.anchor),lr=ir.nodeAfter;return lr&&NodeSelection.isSelectable(lr)?new NodeSelection(ir):Selection$1.near(ir)}}class AllSelection extends Selection$1{constructor(rr){super(rr.resolve(0),rr.resolve(rr.content.size))}replace(rr,ir=Slice.empty){if(ir==Slice.empty){rr.delete(0,rr.doc.content.size);let lr=Selection$1.atStart(rr.doc);lr.eq(rr.selection)||rr.setSelection(lr)}else super.replace(rr,ir)}toJSON(){return{type:"all"}}static fromJSON(rr){return new AllSelection(rr)}map(rr){return new AllSelection(rr)}eq(rr){return rr instanceof AllSelection}getBookmark(){return AllBookmark}}Selection$1.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve(e){return new AllSelection(e)}};function findSelectionIn(e,rr,ir,lr,dr,fr=!1){if(rr.inlineContent)return TextSelection.create(e,ir);for(let mr=lr-(dr>0?0:1);dr>0?mr<rr.childCount:mr>=0;mr+=dr){let hr=rr.child(mr);if(hr.isAtom){if(!fr&&NodeSelection.isSelectable(hr))return NodeSelection.create(e,ir-(dr<0?hr.nodeSize:0))}else{let gr=findSelectionIn(e,hr,ir+dr,dr<0?hr.childCount:0,dr,fr);if(gr)return gr}ir+=hr.nodeSize*dr}return null}function selectionToInsertionEnd$1(e,rr,ir){let lr=e.steps.length-1;if(lr<rr)return;let dr=e.steps[lr];if(!(dr instanceof ReplaceStep||dr instanceof ReplaceAroundStep))return;let fr=e.mapping.maps[lr],mr;fr.forEach((hr,gr,xr,_r)=>{mr==null&&(mr=_r)}),e.setSelection(Selection$1.near(e.doc.resolve(mr),ir))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(rr){super(rr.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=rr.selection,this.storedMarks=rr.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(rr){if(rr.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=rr,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(rr){return this.storedMarks=rr,this.updated|=UPDATED_MARKS,this}ensureMarks(rr){return Mark$1.sameSet(this.storedMarks||this.selection.$from.marks(),rr)||this.setStoredMarks(rr),this}addStoredMark(rr){return this.ensureMarks(rr.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(rr){return this.ensureMarks(rr.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(rr,ir){super.addStep(rr,ir),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(rr){return this.time=rr,this}replaceSelection(rr){return this.selection.replace(this,rr),this}replaceSelectionWith(rr,ir=!0){let lr=this.selection;return ir&&(rr=rr.mark(this.storedMarks||(lr.empty?lr.$from.marks():lr.$from.marksAcross(lr.$to)||Mark$1.none))),lr.replaceWith(this,rr),this}deleteSelection(){return this.selection.replace(this),this}insertText(rr,ir,lr){let dr=this.doc.type.schema;if(ir==null)return rr?this.replaceSelectionWith(dr.text(rr),!0):this.deleteSelection();{if(lr==null&&(lr=ir),lr=lr??ir,!rr)return this.deleteRange(ir,lr);let fr=this.storedMarks;if(!fr){let mr=this.doc.resolve(ir);fr=lr==ir?mr.marks():mr.marksAcross(this.doc.resolve(lr))}return this.replaceRangeWith(ir,lr,dr.text(rr,fr)),this.selection.empty||this.setSelection(Selection$1.near(this.selection.$to)),this}}setMeta(rr,ir){return this.meta[typeof rr=="string"?rr:rr.key]=ir,this}getMeta(rr){return this.meta[typeof rr=="string"?rr:rr.key]}get isGeneric(){for(let rr in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind(e,rr){return!rr||!e?e:e.bind(rr)}class FieldDesc{constructor(rr,ir,lr){this.name=rr,this.init=bind(ir.init,lr),this.apply=bind(ir.apply,lr)}}const baseFields=[new FieldDesc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new FieldDesc("selection",{init(e,rr){return e.selection||Selection$1.atStart(rr.doc)},apply(e){return e.selection}}),new FieldDesc("storedMarks",{init(e){return e.storedMarks||null},apply(e,rr,ir,lr){return lr.selection.$cursor?e.storedMarks:null}}),new FieldDesc("scrollToSelection",{init(){return 0},apply(e,rr){return e.scrolledIntoView?rr+1:rr}})];class Configuration{constructor(rr,ir){this.schema=rr,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),ir&&ir.forEach(lr=>{if(this.pluginsByKey[lr.key])throw new RangeError("Adding different instances of a keyed plugin ("+lr.key+")");this.plugins.push(lr),this.pluginsByKey[lr.key]=lr,lr.spec.state&&this.fields.push(new FieldDesc(lr.key,lr.spec.state,lr))})}}class EditorState{constructor(rr){this.config=rr}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(rr){return this.applyTransaction(rr).state}filterTransaction(rr,ir=-1){for(let lr=0;lr<this.config.plugins.length;lr++)if(lr!=ir){let dr=this.config.plugins[lr];if(dr.spec.filterTransaction&&!dr.spec.filterTransaction.call(dr,rr,this))return!1}return!0}applyTransaction(rr){if(!this.filterTransaction(rr))return{state:this,transactions:[]};let ir=[rr],lr=this.applyInner(rr),dr=null;for(;;){let fr=!1;for(let mr=0;mr<this.config.plugins.length;mr++){let hr=this.config.plugins[mr];if(hr.spec.appendTransaction){let gr=dr?dr[mr].n:0,xr=dr?dr[mr].state:this,_r=gr<ir.length&&hr.spec.appendTransaction.call(hr,gr?ir.slice(gr):ir,xr,lr);if(_r&&lr.filterTransaction(_r,mr)){if(_r.setMeta("appendedTransaction",rr),!dr){dr=[];for(let yr=0;yr<this.config.plugins.length;yr++)dr.push(yr<mr?{state:lr,n:ir.length}:{state:this,n:0})}ir.push(_r),lr=lr.applyInner(_r),fr=!0}dr&&(dr[mr]={state:lr,n:ir.length})}}if(!fr)return{state:lr,transactions:ir}}}applyInner(rr){if(!rr.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let ir=new EditorState(this.config),lr=this.config.fields;for(let dr=0;dr<lr.length;dr++){let fr=lr[dr];ir[fr.name]=fr.apply(rr,this[fr.name],this,ir)}return ir}get tr(){return new Transaction(this)}static create(rr){let ir=new Configuration(rr.doc?rr.doc.type.schema:rr.schema,rr.plugins),lr=new EditorState(ir);for(let dr=0;dr<ir.fields.length;dr++)lr[ir.fields[dr].name]=ir.fields[dr].init(rr,lr);return lr}reconfigure(rr){let ir=new Configuration(this.schema,rr.plugins),lr=ir.fields,dr=new EditorState(ir);for(let fr=0;fr<lr.length;fr++){let mr=lr[fr].name;dr[mr]=this.hasOwnProperty(mr)?this[mr]:lr[fr].init(rr,dr)}return dr}toJSON(rr){let ir={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(ir.storedMarks=this.storedMarks.map(lr=>lr.toJSON())),rr&&typeof rr=="object")for(let lr in rr){if(lr=="doc"||lr=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let dr=rr[lr],fr=dr.spec.state;fr&&fr.toJSON&&(ir[lr]=fr.toJSON.call(dr,this[dr.key]))}return ir}static fromJSON(rr,ir,lr){if(!ir)throw new RangeError("Invalid input for EditorState.fromJSON");if(!rr.schema)throw new RangeError("Required config field 'schema' missing");let dr=new Configuration(rr.schema,rr.plugins),fr=new EditorState(dr);return dr.fields.forEach(mr=>{if(mr.name=="doc")fr.doc=Node$2.fromJSON(rr.schema,ir.doc);else if(mr.name=="selection")fr.selection=Selection$1.fromJSON(fr.doc,ir.selection);else if(mr.name=="storedMarks")ir.storedMarks&&(fr.storedMarks=ir.storedMarks.map(rr.schema.markFromJSON));else{if(lr)for(let hr in lr){let gr=lr[hr],xr=gr.spec.state;if(gr.key==mr.name&&xr&&xr.fromJSON&&Object.prototype.hasOwnProperty.call(ir,hr)){fr[mr.name]=xr.fromJSON.call(gr,rr,ir[hr],fr);return}}fr[mr.name]=mr.init(rr,fr)}}),fr}}function bindProps(e,rr,ir){for(let lr in e){let dr=e[lr];dr instanceof Function?dr=dr.bind(rr):lr=="handleDOMEvents"&&(dr=bindProps(dr,rr,{})),ir[lr]=dr}return ir}class Plugin{constructor(rr){this.spec=rr,this.props={},rr.props&&bindProps(rr.props,this,this.props),this.key=rr.key?rr.key.key:createKey("plugin")}getState(rr){return rr[this.key]}}const keys=Object.create(null);function createKey(e){return e in keys?e+"$"+ ++keys[e]:(keys[e]=0,e+"$")}class PluginKey{constructor(rr="key"){this.key=createKey(rr)}get(rr){return rr.config.pluginsByKey[this.key]}getState(rr){return rr[this.key]}}const domIndex=function(e){for(var rr=0;;rr++)if(e=e.previousSibling,!e)return rr},parentNode=function(e){let rr=e.assignedSlot||e.parentNode;return rr&&rr.nodeType==11?rr.host:rr};let reusedRange=null;const textRange=function(e,rr,ir){let lr=reusedRange||(reusedRange=document.createRange());return lr.setEnd(e,ir??e.nodeValue.length),lr.setStart(e,rr||0),lr},clearReusedRange=function(){reusedRange=null},isEquivalentPosition=function(e,rr,ir,lr){return ir&&(scanFor(e,rr,ir,lr,-1)||scanFor(e,rr,ir,lr,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(e,rr,ir,lr,dr){for(var fr;;){if(e==ir&&rr==lr)return!0;if(rr==(dr<0?0:nodeSize(e))){let mr=e.parentNode;if(!mr||mr.nodeType!=1||hasBlockDesc(e)||atomElements.test(e.nodeName)||e.contentEditable=="false")return!1;rr=domIndex(e)+(dr<0?0:1),e=mr}else if(e.nodeType==1){let mr=e.childNodes[rr+(dr<0?-1:0)];if(mr.nodeType==1&&mr.contentEditable=="false")if(!((fr=mr.pmViewDesc)===null||fr===void 0)&&fr.ignoreForSelection)rr+=dr;else return!1;else e=mr,rr=dr<0?nodeSize(e):0}else return!1}}function nodeSize(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function textNodeBefore$1(e,rr){for(;;){if(e.nodeType==3&&rr)return e;if(e.nodeType==1&&rr>0){if(e.contentEditable=="false")return null;e=e.childNodes[rr-1],rr=nodeSize(e)}else if(e.parentNode&&!hasBlockDesc(e))rr=domIndex(e),e=e.parentNode;else return null}}function textNodeAfter$1(e,rr){for(;;){if(e.nodeType==3&&rr<e.nodeValue.length)return e;if(e.nodeType==1&&rr<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[rr],rr=0}else if(e.parentNode&&!hasBlockDesc(e))rr=domIndex(e)+1,e=e.parentNode;else return null}}function isOnEdge(e,rr,ir){for(let lr=rr==0,dr=rr==nodeSize(e);lr||dr;){if(e==ir)return!0;let fr=domIndex(e);if(e=e.parentNode,!e)return!1;lr=lr&&fr==0,dr=dr&&fr==nodeSize(e)}}function hasBlockDesc(e){let rr;for(let ir=e;ir&&!(rr=ir.pmViewDesc);ir=ir.parentNode);return rr&&rr.node&&rr.node.isBlock&&(rr.dom==e||rr.contentDOM==e)}const selectionCollapsed=function(e){return e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function keyEvent(e,rr){let ir=document.createEvent("Event");return ir.initEvent("keydown",!0,!0),ir.keyCode=e,ir.key=ir.code=rr,ir}function deepActiveElement(e){let rr=e.activeElement;for(;rr&&rr.shadowRoot;)rr=rr.shadowRoot.activeElement;return rr}function caretFromPoint(e,rr,ir){if(e.caretPositionFromPoint)try{let lr=e.caretPositionFromPoint(rr,ir);if(lr)return{node:lr.offsetNode,offset:Math.min(nodeSize(lr.offsetNode),lr.offset)}}catch{}if(e.caretRangeFromPoint){let lr=e.caretRangeFromPoint(rr,ir);if(lr)return{node:lr.startContainer,offset:Math.min(nodeSize(lr.startContainer),lr.startOffset)}}}const nav=typeof navigator<"u"?navigator:null,doc=typeof document<"u"?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie$3=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie$3&&/gecko\/(\d+)/i.test(agent);gecko&&+(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie$3&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie$3&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac$2=ios||(nav?/Mac/.test(nav.platform):!1),windows$1=nav?/Win/.test(nav.platform):!1,android=/Android \d/.test(agent),webkit=!!doc&&"webkitFontSmoothing"in doc.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(e){let rr=e.defaultView&&e.defaultView.visualViewport;return rr?{left:0,right:rr.width,top:0,bottom:rr.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function getSide(e,rr){return typeof e=="number"?e:e[rr]}function clientRect(e){let rr=e.getBoundingClientRect(),ir=rr.width/e.offsetWidth||1,lr=rr.height/e.offsetHeight||1;return{left:rr.left,right:rr.left+e.clientWidth*ir,top:rr.top,bottom:rr.top+e.clientHeight*lr}}function scrollRectIntoView(e,rr,ir){let lr=e.someProp("scrollThreshold")||0,dr=e.someProp("scrollMargin")||5,fr=e.dom.ownerDocument;for(let mr=ir||e.dom;mr;){if(mr.nodeType!=1){mr=parentNode(mr);continue}let hr=mr,gr=hr==fr.body,xr=gr?windowRect(fr):clientRect(hr),_r=0,yr=0;if(rr.top<xr.top+getSide(lr,"top")?yr=-(xr.top-rr.top+getSide(dr,"top")):rr.bottom>xr.bottom-getSide(lr,"bottom")&&(yr=rr.bottom-rr.top>xr.bottom-xr.top?rr.top+getSide(dr,"top")-xr.top:rr.bottom-xr.bottom+getSide(dr,"bottom")),rr.left<xr.left+getSide(lr,"left")?_r=-(xr.left-rr.left+getSide(dr,"left")):rr.right>xr.right-getSide(lr,"right")&&(_r=rr.right-xr.right+getSide(dr,"right")),_r||yr)if(gr)fr.defaultView.scrollBy(_r,yr);else{let br=hr.scrollLeft,Sr=hr.scrollTop;yr&&(hr.scrollTop+=yr),_r&&(hr.scrollLeft+=_r);let wr=hr.scrollLeft-br,Mr=hr.scrollTop-Sr;rr={left:rr.left-wr,top:rr.top-Mr,right:rr.right-wr,bottom:rr.bottom-Mr}}let vr=gr?"fixed":getComputedStyle(mr).position;if(/^(fixed|sticky)$/.test(vr))break;mr=vr=="absolute"?mr.offsetParent:parentNode(mr)}}function storeScrollPos(e){let rr=e.dom.getBoundingClientRect(),ir=Math.max(0,rr.top),lr,dr;for(let fr=(rr.left+rr.right)/2,mr=ir+1;mr<Math.min(innerHeight,rr.bottom);mr+=5){let hr=e.root.elementFromPoint(fr,mr);if(!hr||hr==e.dom||!e.dom.contains(hr))continue;let gr=hr.getBoundingClientRect();if(gr.top>=ir-20){lr=hr,dr=gr.top;break}}return{refDOM:lr,refTop:dr,stack:scrollStack(e.dom)}}function scrollStack(e){let rr=[],ir=e.ownerDocument;for(let lr=e;lr&&(rr.push({dom:lr,top:lr.scrollTop,left:lr.scrollLeft}),e!=ir);lr=parentNode(lr));return rr}function resetScrollPos({refDOM:e,refTop:rr,stack:ir}){let lr=e?e.getBoundingClientRect().top:0;restoreScrollStack(ir,lr==0?0:lr-rr)}function restoreScrollStack(e,rr){for(let ir=0;ir<e.length;ir++){let{dom:lr,top:dr,left:fr}=e[ir];lr.scrollTop!=dr+rr&&(lr.scrollTop=dr+rr),lr.scrollLeft!=fr&&(lr.scrollLeft=fr)}}let preventScrollSupported=null;function focusPreventScroll(e){if(e.setActive)return e.setActive();if(preventScrollSupported)return e.focus(preventScrollSupported);let rr=scrollStack(e);e.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(rr,0))}function findOffsetInNode(e,rr){let ir,lr=2e8,dr,fr=0,mr=rr.top,hr=rr.top,gr,xr;for(let _r=e.firstChild,yr=0;_r;_r=_r.nextSibling,yr++){let vr;if(_r.nodeType==1)vr=_r.getClientRects();else if(_r.nodeType==3)vr=textRange(_r).getClientRects();else continue;for(let br=0;br<vr.length;br++){let Sr=vr[br];if(Sr.top<=mr&&Sr.bottom>=hr){mr=Math.max(Sr.bottom,mr),hr=Math.min(Sr.top,hr);let wr=Sr.left>rr.left?Sr.left-rr.left:Sr.right<rr.left?rr.left-Sr.right:0;if(wr<lr){ir=_r,lr=wr,dr=wr&&ir.nodeType==3?{left:Sr.right<rr.left?Sr.right:Sr.left,top:rr.top}:rr,_r.nodeType==1&&wr&&(fr=yr+(rr.left>=(Sr.left+Sr.right)/2?1:0));continue}}else Sr.top>rr.top&&!gr&&Sr.left<=rr.left&&Sr.right>=rr.left&&(gr=_r,xr={left:Math.max(Sr.left,Math.min(Sr.right,rr.left)),top:Sr.top});!ir&&(rr.left>=Sr.right&&rr.top>=Sr.top||rr.left>=Sr.left&&rr.top>=Sr.bottom)&&(fr=yr+1)}}return!ir&&gr&&(ir=gr,dr=xr,lr=0),ir&&ir.nodeType==3?findOffsetInText(ir,dr):!ir||lr&&ir.nodeType==1?{node:e,offset:fr}:findOffsetInNode(ir,dr)}function findOffsetInText(e,rr){let ir=e.nodeValue.length,lr=document.createRange();for(let dr=0;dr<ir;dr++){lr.setEnd(e,dr+1),lr.setStart(e,dr);let fr=singleRect(lr,1);if(fr.top!=fr.bottom&&inRect(rr,fr))return{node:e,offset:dr+(rr.left>=(fr.left+fr.right)/2?1:0)}}return{node:e,offset:0}}function inRect(e,rr){return e.left>=rr.left-1&&e.left<=rr.right+1&&e.top>=rr.top-1&&e.top<=rr.bottom+1}function targetKludge(e,rr){let ir=e.parentNode;return ir&&/^li$/i.test(ir.nodeName)&&rr.left<e.getBoundingClientRect().left?ir:e}function posFromElement(e,rr,ir){let{node:lr,offset:dr}=findOffsetInNode(rr,ir),fr=-1;if(lr.nodeType==1&&!lr.firstChild){let mr=lr.getBoundingClientRect();fr=mr.left!=mr.right&&ir.left>(mr.left+mr.right)/2?1:-1}return e.docView.posFromDOM(lr,dr,fr)}function posFromCaret(e,rr,ir,lr){let dr=-1;for(let fr=rr,mr=!1;fr!=e.dom;){let hr=e.docView.nearestDesc(fr,!0),gr;if(!hr)return null;if(hr.dom.nodeType==1&&(hr.node.isBlock&&hr.parent||!hr.contentDOM)&&((gr=hr.dom.getBoundingClientRect()).width||gr.height)&&(hr.node.isBlock&&hr.parent&&(!mr&&gr.left>lr.left||gr.top>lr.top?dr=hr.posBefore:(!mr&&gr.right<lr.left||gr.bottom<lr.top)&&(dr=hr.posAfter),mr=!0),!hr.contentDOM&&dr<0&&!hr.node.isText))return(hr.node.isBlock?lr.top<(gr.top+gr.bottom)/2:lr.left<(gr.left+gr.right)/2)?hr.posBefore:hr.posAfter;fr=hr.dom.parentNode}return dr>-1?dr:e.docView.posFromDOM(rr,ir,-1)}function elementFromPoint(e,rr,ir){let lr=e.childNodes.length;if(lr&&ir.top<ir.bottom)for(let dr=Math.max(0,Math.min(lr-1,Math.floor(lr*(rr.top-ir.top)/(ir.bottom-ir.top))-2)),fr=dr;;){let mr=e.childNodes[fr];if(mr.nodeType==1){let hr=mr.getClientRects();for(let gr=0;gr<hr.length;gr++){let xr=hr[gr];if(inRect(rr,xr))return elementFromPoint(mr,rr,xr)}}if((fr=(fr+1)%lr)==dr)break}return e}function posAtCoords(e,rr){let ir=e.dom.ownerDocument,lr,dr=0,fr=caretFromPoint(ir,rr.left,rr.top);fr&&({node:lr,offset:dr}=fr);let mr=(e.root.elementFromPoint?e.root:ir).elementFromPoint(rr.left,rr.top),hr;if(!mr||!e.dom.contains(mr.nodeType!=1?mr.parentNode:mr)){let xr=e.dom.getBoundingClientRect();if(!inRect(rr,xr)||(mr=elementFromPoint(e.dom,rr,xr),!mr))return null}if(safari)for(let xr=mr;lr&&xr;xr=parentNode(xr))xr.draggable&&(lr=void 0);if(mr=targetKludge(mr,rr),lr){if(gecko&&lr.nodeType==1&&(dr=Math.min(dr,lr.childNodes.length),dr<lr.childNodes.length)){let _r=lr.childNodes[dr],yr;_r.nodeName=="IMG"&&(yr=_r.getBoundingClientRect()).right<=rr.left&&yr.bottom>rr.top&&dr++}let xr;webkit&&dr&&lr.nodeType==1&&(xr=lr.childNodes[dr-1]).nodeType==1&&xr.contentEditable=="false"&&xr.getBoundingClientRect().top>=rr.top&&dr--,lr==e.dom&&dr==lr.childNodes.length-1&&lr.lastChild.nodeType==1&&rr.top>lr.lastChild.getBoundingClientRect().bottom?hr=e.state.doc.content.size:(dr==0||lr.nodeType!=1||lr.childNodes[dr-1].nodeName!="BR")&&(hr=posFromCaret(e,lr,dr,rr))}hr==null&&(hr=posFromElement(e,mr,rr));let gr=e.docView.nearestDesc(mr,!0);return{pos:hr,inside:gr?gr.posAtStart-gr.border:-1}}function nonZero(e){return e.top<e.bottom||e.left<e.right}function singleRect(e,rr){let ir=e.getClientRects();if(ir.length){let lr=ir[rr<0?0:ir.length-1];if(nonZero(lr))return lr}return Array.prototype.find.call(ir,nonZero)||e.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(e,rr,ir){let{node:lr,offset:dr,atom:fr}=e.docView.domFromPos(rr,ir<0?-1:1),mr=webkit||gecko;if(lr.nodeType==3)if(mr&&(BIDI.test(lr.nodeValue)||(ir<0?!dr:dr==lr.nodeValue.length))){let gr=singleRect(textRange(lr,dr,dr),ir);if(gecko&&dr&&/\s/.test(lr.nodeValue[dr-1])&&dr<lr.nodeValue.length){let xr=singleRect(textRange(lr,dr-1,dr-1),-1);if(xr.top==gr.top){let _r=singleRect(textRange(lr,dr,dr+1),-1);if(_r.top!=gr.top)return flattenV(_r,_r.left<xr.left)}}return gr}else{let gr=dr,xr=dr,_r=ir<0?1:-1;return ir<0&&!dr?(xr++,_r=-1):ir>=0&&dr==lr.nodeValue.length?(gr--,_r=1):ir<0?gr--:xr++,flattenV(singleRect(textRange(lr,gr,xr),_r),_r<0)}if(!e.state.doc.resolve(rr-(fr||0)).parent.inlineContent){if(fr==null&&dr&&(ir<0||dr==nodeSize(lr))){let gr=lr.childNodes[dr-1];if(gr.nodeType==1)return flattenH(gr.getBoundingClientRect(),!1)}if(fr==null&&dr<nodeSize(lr)){let gr=lr.childNodes[dr];if(gr.nodeType==1)return flattenH(gr.getBoundingClientRect(),!0)}return flattenH(lr.getBoundingClientRect(),ir>=0)}if(fr==null&&dr&&(ir<0||dr==nodeSize(lr))){let gr=lr.childNodes[dr-1],xr=gr.nodeType==3?textRange(gr,nodeSize(gr)-(mr?0:1)):gr.nodeType==1&&(gr.nodeName!="BR"||!gr.nextSibling)?gr:null;if(xr)return flattenV(singleRect(xr,1),!1)}if(fr==null&&dr<nodeSize(lr)){let gr=lr.childNodes[dr];for(;gr.pmViewDesc&&gr.pmViewDesc.ignoreForCoords;)gr=gr.nextSibling;let xr=gr?gr.nodeType==3?textRange(gr,0,mr?0:1):gr.nodeType==1?gr:null:null;if(xr)return flattenV(singleRect(xr,-1),!0)}return flattenV(singleRect(lr.nodeType==3?textRange(lr):lr,-ir),ir>=0)}function flattenV(e,rr){if(e.width==0)return e;let ir=rr?e.left:e.right;return{top:e.top,bottom:e.bottom,left:ir,right:ir}}function flattenH(e,rr){if(e.height==0)return e;let ir=rr?e.top:e.bottom;return{top:ir,bottom:ir,left:e.left,right:e.right}}function withFlushedState(e,rr,ir){let lr=e.state,dr=e.root.activeElement;lr!=rr&&e.updateState(rr),dr!=e.dom&&e.focus();try{return ir()}finally{lr!=rr&&e.updateState(lr),dr!=e.dom&&dr&&dr.focus()}}function endOfTextblockVertical(e,rr,ir){let lr=rr.selection,dr=ir=="up"?lr.$from:lr.$to;return withFlushedState(e,rr,()=>{let{node:fr}=e.docView.domFromPos(dr.pos,ir=="up"?-1:1);for(;;){let hr=e.docView.nearestDesc(fr,!0);if(!hr)break;if(hr.node.isBlock){fr=hr.contentDOM||hr.dom;break}fr=hr.dom.parentNode}let mr=coordsAtPos(e,dr.pos,1);for(let hr=fr.firstChild;hr;hr=hr.nextSibling){let gr;if(hr.nodeType==1)gr=hr.getClientRects();else if(hr.nodeType==3)gr=textRange(hr,0,hr.nodeValue.length).getClientRects();else continue;for(let xr=0;xr<gr.length;xr++){let _r=gr[xr];if(_r.bottom>_r.top+1&&(ir=="up"?mr.top-_r.top>(_r.bottom-mr.top)*2:_r.bottom-mr.bottom>(mr.bottom-_r.top)*2))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(e,rr,ir){let{$head:lr}=rr.selection;if(!lr.parent.isTextblock)return!1;let dr=lr.parentOffset,fr=!dr,mr=dr==lr.parent.content.size,hr=e.domSelection();return hr?!maybeRTL.test(lr.parent.textContent)||!hr.modify?ir=="left"||ir=="backward"?fr:mr:withFlushedState(e,rr,()=>{let{focusNode:gr,focusOffset:xr,anchorNode:_r,anchorOffset:yr}=e.domSelectionRange(),vr=hr.caretBidiLevel;hr.modify("move",ir,"character");let br=lr.depth?e.docView.domAfterPos(lr.before()):e.dom,{focusNode:Sr,focusOffset:wr}=e.domSelectionRange(),Mr=Sr&&!br.contains(Sr.nodeType==1?Sr:Sr.parentNode)||gr==Sr&&xr==wr;try{hr.collapse(_r,yr),gr&&(gr!=_r||xr!=yr)&&hr.extend&&hr.extend(gr,xr)}catch{}return vr!=null&&(hr.caretBidiLevel=vr),Mr}):lr.pos==lr.start()||lr.pos==lr.end()}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(e,rr,ir){return cachedState==rr&&cachedDir==ir?cachedResult:(cachedState=rr,cachedDir=ir,cachedResult=ir=="up"||ir=="down"?endOfTextblockVertical(e,rr,ir):endOfTextblockHorizontal(e,rr,ir))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(rr,ir,lr,dr){this.parent=rr,this.children=ir,this.dom=lr,this.contentDOM=dr,this.dirty=NOT_DIRTY,lr.pmViewDesc=this}matchesWidget(rr){return!1}matchesMark(rr){return!1}matchesNode(rr,ir,lr){return!1}matchesHack(rr){return!1}parseRule(){return null}stopEvent(rr){return!1}get size(){let rr=0;for(let ir=0;ir<this.children.length;ir++)rr+=this.children[ir].size;return rr}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let rr=0;rr<this.children.length;rr++)this.children[rr].destroy()}posBeforeChild(rr){for(let ir=0,lr=this.posAtStart;;ir++){let dr=this.children[ir];if(dr==rr)return lr;lr+=dr.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(rr,ir,lr){if(this.contentDOM&&this.contentDOM.contains(rr.nodeType==1?rr:rr.parentNode))if(lr<0){let fr,mr;if(rr==this.contentDOM)fr=rr.childNodes[ir-1];else{for(;rr.parentNode!=this.contentDOM;)rr=rr.parentNode;fr=rr.previousSibling}for(;fr&&!((mr=fr.pmViewDesc)&&mr.parent==this);)fr=fr.previousSibling;return fr?this.posBeforeChild(mr)+mr.size:this.posAtStart}else{let fr,mr;if(rr==this.contentDOM)fr=rr.childNodes[ir];else{for(;rr.parentNode!=this.contentDOM;)rr=rr.parentNode;fr=rr.nextSibling}for(;fr&&!((mr=fr.pmViewDesc)&&mr.parent==this);)fr=fr.nextSibling;return fr?this.posBeforeChild(mr):this.posAtEnd}let dr;if(rr==this.dom&&this.contentDOM)dr=ir>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))dr=rr.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(ir==0)for(let fr=rr;;fr=fr.parentNode){if(fr==this.dom){dr=!1;break}if(fr.previousSibling)break}if(dr==null&&ir==rr.childNodes.length)for(let fr=rr;;fr=fr.parentNode){if(fr==this.dom){dr=!0;break}if(fr.nextSibling)break}}return dr??lr>0?this.posAtEnd:this.posAtStart}nearestDesc(rr,ir=!1){for(let lr=!0,dr=rr;dr;dr=dr.parentNode){let fr=this.getDesc(dr),mr;if(fr&&(!ir||fr.node))if(lr&&(mr=fr.nodeDOM)&&!(mr.nodeType==1?mr.contains(rr.nodeType==1?rr:rr.parentNode):mr==rr))lr=!1;else return fr}}getDesc(rr){let ir=rr.pmViewDesc;for(let lr=ir;lr;lr=lr.parent)if(lr==this)return ir}posFromDOM(rr,ir,lr){for(let dr=rr;dr;dr=dr.parentNode){let fr=this.getDesc(dr);if(fr)return fr.localPosFromDOM(rr,ir,lr)}return-1}descAt(rr){for(let ir=0,lr=0;ir<this.children.length;ir++){let dr=this.children[ir],fr=lr+dr.size;if(lr==rr&&fr!=lr){for(;!dr.border&&dr.children.length;)for(let mr=0;mr<dr.children.length;mr++){let hr=dr.children[mr];if(hr.size){dr=hr;break}}return dr}if(rr<fr)return dr.descAt(rr-lr-dr.border);lr=fr}}domFromPos(rr,ir){if(!this.contentDOM)return{node:this.dom,offset:0,atom:rr+1};let lr=0,dr=0;for(let fr=0;lr<this.children.length;lr++){let mr=this.children[lr],hr=fr+mr.size;if(hr>rr||mr instanceof TrailingHackViewDesc){dr=rr-fr;break}fr=hr}if(dr)return this.children[lr].domFromPos(dr-this.children[lr].border,ir);for(let fr;lr&&!(fr=this.children[lr-1]).size&&fr instanceof WidgetViewDesc&&fr.side>=0;lr--);if(ir<=0){let fr,mr=!0;for(;fr=lr?this.children[lr-1]:null,!(!fr||fr.dom.parentNode==this.contentDOM);lr--,mr=!1);return fr&&ir&&mr&&!fr.border&&!fr.domAtom?fr.domFromPos(fr.size,ir):{node:this.contentDOM,offset:fr?domIndex(fr.dom)+1:0}}else{let fr,mr=!0;for(;fr=lr<this.children.length?this.children[lr]:null,!(!fr||fr.dom.parentNode==this.contentDOM);lr++,mr=!1);return fr&&mr&&!fr.border&&!fr.domAtom?fr.domFromPos(0,ir):{node:this.contentDOM,offset:fr?domIndex(fr.dom):this.contentDOM.childNodes.length}}}parseRange(rr,ir,lr=0){if(this.children.length==0)return{node:this.contentDOM,from:rr,to:ir,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let dr=-1,fr=-1;for(let mr=lr,hr=0;;hr++){let gr=this.children[hr],xr=mr+gr.size;if(dr==-1&&rr<=xr){let _r=mr+gr.border;if(rr>=_r&&ir<=xr-gr.border&&gr.node&&gr.contentDOM&&this.contentDOM.contains(gr.contentDOM))return gr.parseRange(rr,ir,_r);rr=mr;for(let yr=hr;yr>0;yr--){let vr=this.children[yr-1];if(vr.size&&vr.dom.parentNode==this.contentDOM&&!vr.emptyChildAt(1)){dr=domIndex(vr.dom)+1;break}rr-=vr.size}dr==-1&&(dr=0)}if(dr>-1&&(xr>ir||hr==this.children.length-1)){ir=xr;for(let _r=hr+1;_r<this.children.length;_r++){let yr=this.children[_r];if(yr.size&&yr.dom.parentNode==this.contentDOM&&!yr.emptyChildAt(-1)){fr=domIndex(yr.dom);break}ir+=yr.size}fr==-1&&(fr=this.contentDOM.childNodes.length);break}mr=xr}return{node:this.contentDOM,from:rr,to:ir,fromOffset:dr,toOffset:fr}}emptyChildAt(rr){if(this.border||!this.contentDOM||!this.children.length)return!1;let ir=this.children[rr<0?0:this.children.length-1];return ir.size==0||ir.emptyChildAt(rr)}domAfterPos(rr){let{node:ir,offset:lr}=this.domFromPos(rr,0);if(ir.nodeType!=1||lr==ir.childNodes.length)throw new RangeError("No node after pos "+rr);return ir.childNodes[lr]}setSelection(rr,ir,lr,dr=!1){let fr=Math.min(rr,ir),mr=Math.max(rr,ir);for(let br=0,Sr=0;br<this.children.length;br++){let wr=this.children[br],Mr=Sr+wr.size;if(fr>Sr&&mr<Mr)return wr.setSelection(rr-Sr-wr.border,ir-Sr-wr.border,lr,dr);Sr=Mr}let hr=this.domFromPos(rr,rr?-1:1),gr=ir==rr?hr:this.domFromPos(ir,ir?-1:1),xr=lr.root.getSelection(),_r=lr.domSelectionRange(),yr=!1;if((gecko||safari)&&rr==ir){let{node:br,offset:Sr}=hr;if(br.nodeType==3){if(yr=!!(Sr&&br.nodeValue[Sr-1]==`
`),yr&&Sr==br.nodeValue.length)for(let wr=br,Mr;wr;wr=wr.parentNode){if(Mr=wr.nextSibling){Mr.nodeName=="BR"&&(hr=gr={node:Mr.parentNode,offset:domIndex(Mr)+1});break}let kr=wr.pmViewDesc;if(kr&&kr.node&&kr.node.isBlock)break}}else{let wr=br.childNodes[Sr-1];yr=wr&&(wr.nodeName=="BR"||wr.contentEditable=="false")}}if(gecko&&_r.focusNode&&_r.focusNode!=gr.node&&_r.focusNode.nodeType==1){let br=_r.focusNode.childNodes[_r.focusOffset];br&&br.contentEditable=="false"&&(dr=!0)}if(!(dr||yr&&safari)&&isEquivalentPosition(hr.node,hr.offset,_r.anchorNode,_r.anchorOffset)&&isEquivalentPosition(gr.node,gr.offset,_r.focusNode,_r.focusOffset))return;let vr=!1;if((xr.extend||rr==ir)&&!yr){xr.collapse(hr.node,hr.offset);try{rr!=ir&&xr.extend(gr.node,gr.offset),vr=!0}catch{}}if(!vr){if(rr>ir){let Sr=hr;hr=gr,gr=Sr}let br=document.createRange();br.setEnd(gr.node,gr.offset),br.setStart(hr.node,hr.offset),xr.removeAllRanges(),xr.addRange(br)}}ignoreMutation(rr){return!this.contentDOM&&rr.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(rr,ir){for(let lr=0,dr=0;dr<this.children.length;dr++){let fr=this.children[dr],mr=lr+fr.size;if(lr==mr?rr<=mr&&ir>=lr:rr<mr&&ir>lr){let hr=lr+fr.border,gr=mr-fr.border;if(rr>=hr&&ir<=gr){this.dirty=rr==lr||ir==mr?CONTENT_DIRTY:CHILD_DIRTY,rr==hr&&ir==gr&&(fr.contentLost||fr.dom.parentNode!=this.contentDOM)?fr.dirty=NODE_DIRTY:fr.markDirty(rr-hr,ir-hr);return}else fr.dirty=fr.dom==fr.contentDOM&&fr.dom.parentNode==this.contentDOM&&!fr.children.length?CONTENT_DIRTY:NODE_DIRTY}lr=mr}this.dirty=CONTENT_DIRTY}markParentsDirty(){let rr=1;for(let ir=this.parent;ir;ir=ir.parent,rr++){let lr=rr==1?CONTENT_DIRTY:CHILD_DIRTY;ir.dirty<lr&&(ir.dirty=lr)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(rr){return!1}}class WidgetViewDesc extends ViewDesc{constructor(rr,ir,lr,dr){let fr,mr=ir.type.toDOM;if(typeof mr=="function"&&(mr=mr(lr,()=>{if(!fr)return dr;if(fr.parent)return fr.parent.posBeforeChild(fr)})),!ir.type.spec.raw){if(mr.nodeType!=1){let hr=document.createElement("span");hr.appendChild(mr),mr=hr}mr.contentEditable="false",mr.classList.add("ProseMirror-widget")}super(rr,[],mr,null),this.widget=ir,this.widget=ir,fr=this}matchesWidget(rr){return this.dirty==NOT_DIRTY&&rr.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(rr){let ir=this.widget.spec.stopEvent;return ir?ir(rr):!1}ignoreMutation(rr){return rr.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(rr,ir,lr,dr){super(rr,[],ir,null),this.textDOM=lr,this.text=dr}get size(){return this.text.length}localPosFromDOM(rr,ir){return rr!=this.textDOM?this.posAtStart+(ir?this.size:0):this.posAtStart+ir}domFromPos(rr){return{node:this.textDOM,offset:rr}}ignoreMutation(rr){return rr.type==="characterData"&&rr.target.nodeValue==rr.oldValue}}class MarkViewDesc extends ViewDesc{constructor(rr,ir,lr,dr,fr){super(rr,[],lr,dr),this.mark=ir,this.spec=fr}static create(rr,ir,lr,dr){let fr=dr.nodeViews[ir.type.name],mr=fr&&fr(ir,dr,lr);return(!mr||!mr.dom)&&(mr=DOMSerializer.renderSpec(document,ir.type.spec.toDOM(ir,lr),null,ir.attrs)),new MarkViewDesc(rr,ir,mr.dom,mr.contentDOM||mr.dom,mr)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(rr){return this.dirty!=NODE_DIRTY&&this.mark.eq(rr)}markDirty(rr,ir){if(super.markDirty(rr,ir),this.dirty!=NOT_DIRTY){let lr=this.parent;for(;!lr.node;)lr=lr.parent;lr.dirty<this.dirty&&(lr.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(rr,ir,lr){let dr=MarkViewDesc.create(this.parent,this.mark,!0,lr),fr=this.children,mr=this.size;ir<mr&&(fr=replaceNodes(fr,ir,mr,lr)),rr>0&&(fr=replaceNodes(fr,0,rr,lr));for(let hr=0;hr<fr.length;hr++)fr[hr].parent=dr;return dr.children=fr,dr}ignoreMutation(rr){return this.spec.ignoreMutation?this.spec.ignoreMutation(rr):super.ignoreMutation(rr)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class NodeViewDesc extends ViewDesc{constructor(rr,ir,lr,dr,fr,mr,hr,gr,xr){super(rr,[],fr,mr),this.node=ir,this.outerDeco=lr,this.innerDeco=dr,this.nodeDOM=hr}static create(rr,ir,lr,dr,fr,mr){let hr=fr.nodeViews[ir.type.name],gr,xr=hr&&hr(ir,fr,()=>{if(!gr)return mr;if(gr.parent)return gr.parent.posBeforeChild(gr)},lr,dr),_r=xr&&xr.dom,yr=xr&&xr.contentDOM;if(ir.isText){if(!_r)_r=document.createTextNode(ir.text);else if(_r.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else _r||({dom:_r,contentDOM:yr}=DOMSerializer.renderSpec(document,ir.type.spec.toDOM(ir),null,ir.attrs));!yr&&!ir.isText&&_r.nodeName!="BR"&&(_r.hasAttribute("contenteditable")||(_r.contentEditable="false"),ir.type.spec.draggable&&(_r.draggable=!0));let vr=_r;return _r=applyOuterDeco(_r,lr,ir),xr?gr=new CustomNodeViewDesc(rr,ir,lr,dr,_r,yr||null,vr,xr,fr,mr+1):ir.isText?new TextViewDesc(rr,ir,lr,dr,_r,vr,fr):new NodeViewDesc(rr,ir,lr,dr,_r,yr||null,vr,fr,mr+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let rr={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(rr.preserveWhitespace="full"),!this.contentDOM)rr.getContent=()=>this.node.content;else if(!this.contentLost)rr.contentElement=this.contentDOM;else{for(let ir=this.children.length-1;ir>=0;ir--){let lr=this.children[ir];if(this.dom.contains(lr.dom.parentNode)){rr.contentElement=lr.dom.parentNode;break}}rr.contentElement||(rr.getContent=()=>Fragment.empty)}return rr}matchesNode(rr,ir,lr){return this.dirty==NOT_DIRTY&&rr.eq(this.node)&&sameOuterDeco(ir,this.outerDeco)&&lr.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(rr,ir){let lr=this.node.inlineContent,dr=ir,fr=rr.composing?this.localCompositionInfo(rr,ir):null,mr=fr&&fr.pos>-1?fr:null,hr=fr&&fr.pos<0,gr=new ViewTreeUpdater(this,mr&&mr.node,rr);iterDeco(this.node,this.innerDeco,(xr,_r,yr)=>{xr.spec.marks?gr.syncToMarks(xr.spec.marks,lr,rr):xr.type.side>=0&&!yr&&gr.syncToMarks(_r==this.node.childCount?Mark$1.none:this.node.child(_r).marks,lr,rr),gr.placeWidget(xr,rr,dr)},(xr,_r,yr,vr)=>{gr.syncToMarks(xr.marks,lr,rr);let br;gr.findNodeMatch(xr,_r,yr,vr)||hr&&rr.state.selection.from>dr&&rr.state.selection.to<dr+xr.nodeSize&&(br=gr.findIndexWithChild(fr.node))>-1&&gr.updateNodeAt(xr,_r,yr,br,rr)||gr.updateNextNode(xr,_r,yr,rr,vr,dr)||gr.addNode(xr,_r,yr,rr,dr),dr+=xr.nodeSize}),gr.syncToMarks([],lr,rr),this.node.isTextblock&&gr.addTextblockHacks(),gr.destroyRest(),(gr.changed||this.dirty==CONTENT_DIRTY)&&(mr&&this.protectLocalComposition(rr,mr),renderDescs(this.contentDOM,this.children,rr),ios&&iosHacks(this.dom))}localCompositionInfo(rr,ir){let{from:lr,to:dr}=rr.state.selection;if(!(rr.state.selection instanceof TextSelection)||lr<ir||dr>ir+this.node.content.size)return null;let fr=rr.input.compositionNode;if(!fr||!this.dom.contains(fr.parentNode))return null;if(this.node.inlineContent){let mr=fr.nodeValue,hr=findTextInFragment(this.node.content,mr,lr-ir,dr-ir);return hr<0?null:{node:fr,pos:hr,text:mr}}else return{node:fr,pos:-1,text:""}}protectLocalComposition(rr,{node:ir,pos:lr,text:dr}){if(this.getDesc(ir))return;let fr=ir;for(;fr.parentNode!=this.contentDOM;fr=fr.parentNode){for(;fr.previousSibling;)fr.parentNode.removeChild(fr.previousSibling);for(;fr.nextSibling;)fr.parentNode.removeChild(fr.nextSibling);fr.pmViewDesc&&(fr.pmViewDesc=void 0)}let mr=new CompositionViewDesc(this,fr,ir,dr);rr.input.compositionNodes.push(mr),this.children=replaceNodes(this.children,lr,lr+dr.length,rr,mr)}update(rr,ir,lr,dr){return this.dirty==NODE_DIRTY||!rr.sameMarkup(this.node)?!1:(this.updateInner(rr,ir,lr,dr),!0)}updateInner(rr,ir,lr,dr){this.updateOuterDeco(ir),this.node=rr,this.innerDeco=lr,this.contentDOM&&this.updateChildren(dr,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(rr){if(sameOuterDeco(rr,this.outerDeco))return;let ir=this.nodeDOM.nodeType!=1,lr=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,ir),computeOuterDeco(rr,this.node,ir)),this.dom!=lr&&(lr.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=rr}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function docViewDesc(e,rr,ir,lr,dr){applyOuterDeco(lr,rr,e);let fr=new NodeViewDesc(void 0,e,rr,ir,lr,lr,lr,dr,0);return fr.contentDOM&&fr.updateChildren(dr,0),fr}class TextViewDesc extends NodeViewDesc{constructor(rr,ir,lr,dr,fr,mr,hr){super(rr,ir,lr,dr,fr,null,mr,hr,0)}parseRule(){let rr=this.nodeDOM.parentNode;for(;rr&&rr!=this.dom&&!rr.pmIsDeco;)rr=rr.parentNode;return{skip:rr||!0}}update(rr,ir,lr,dr){return this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!rr.sameMarkup(this.node)?!1:(this.updateOuterDeco(ir),(this.dirty!=NOT_DIRTY||rr.text!=this.node.text)&&rr.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=rr.text,dr.trackWrites==this.nodeDOM&&(dr.trackWrites=null)),this.node=rr,this.dirty=NOT_DIRTY,!0)}inParent(){let rr=this.parent.contentDOM;for(let ir=this.nodeDOM;ir;ir=ir.parentNode)if(ir==rr)return!0;return!1}domFromPos(rr){return{node:this.nodeDOM,offset:rr}}localPosFromDOM(rr,ir,lr){return rr==this.nodeDOM?this.posAtStart+Math.min(ir,this.node.text.length):super.localPosFromDOM(rr,ir,lr)}ignoreMutation(rr){return rr.type!="characterData"&&rr.type!="selection"}slice(rr,ir,lr){let dr=this.node.cut(rr,ir),fr=document.createTextNode(dr.text);return new TextViewDesc(this.parent,dr,this.outerDeco,this.innerDeco,fr,fr,lr)}markDirty(rr,ir){super.markDirty(rr,ir),this.dom!=this.nodeDOM&&(rr==0||ir==this.nodeDOM.nodeValue.length)&&(this.dirty=NODE_DIRTY)}get domAtom(){return!1}isText(rr){return this.node.text==rr}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(rr){return this.dirty==NOT_DIRTY&&this.dom.nodeName==rr}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CustomNodeViewDesc extends NodeViewDesc{constructor(rr,ir,lr,dr,fr,mr,hr,gr,xr,_r){super(rr,ir,lr,dr,fr,mr,hr,xr,_r),this.spec=gr}update(rr,ir,lr,dr){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update&&(this.node.type==rr.type||this.spec.multiType)){let fr=this.spec.update(rr,ir,lr);return fr&&this.updateInner(rr,ir,lr,dr),fr}else return!this.contentDOM&&!rr.isLeaf?!1:super.update(rr,ir,lr,dr)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(rr,ir,lr,dr){this.spec.setSelection?this.spec.setSelection(rr,ir,lr.root):super.setSelection(rr,ir,lr,dr)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(rr){return this.spec.stopEvent?this.spec.stopEvent(rr):!1}ignoreMutation(rr){return this.spec.ignoreMutation?this.spec.ignoreMutation(rr):super.ignoreMutation(rr)}}function renderDescs(e,rr,ir){let lr=e.firstChild,dr=!1;for(let fr=0;fr<rr.length;fr++){let mr=rr[fr],hr=mr.dom;if(hr.parentNode==e){for(;hr!=lr;)lr=rm(lr),dr=!0;lr=lr.nextSibling}else dr=!0,e.insertBefore(hr,lr);if(mr instanceof MarkViewDesc){let gr=lr?lr.previousSibling:e.lastChild;renderDescs(mr.contentDOM,mr.children,ir),lr=gr?gr.nextSibling:e.firstChild}}for(;lr;)lr=rm(lr),dr=!0;dr&&ir.trackWrites==e&&(ir.trackWrites=null)}const OuterDecoLevel=function(e){e&&(this.nodeName=e)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(e,rr,ir){if(e.length==0)return noDeco;let lr=ir?noDeco[0]:new OuterDecoLevel,dr=[lr];for(let fr=0;fr<e.length;fr++){let mr=e[fr].type.attrs;if(mr){mr.nodeName&&dr.push(lr=new OuterDecoLevel(mr.nodeName));for(let hr in mr){let gr=mr[hr];gr!=null&&(ir&&dr.length==1&&dr.push(lr=new OuterDecoLevel(rr.isInline?"span":"div")),hr=="class"?lr.class=(lr.class?lr.class+" ":"")+gr:hr=="style"?lr.style=(lr.style?lr.style+";":"")+gr:hr!="nodeName"&&(lr[hr]=gr))}}}return dr}function patchOuterDeco(e,rr,ir,lr){if(ir==noDeco&&lr==noDeco)return rr;let dr=rr;for(let fr=0;fr<lr.length;fr++){let mr=lr[fr],hr=ir[fr];if(fr){let gr;hr&&hr.nodeName==mr.nodeName&&dr!=e&&(gr=dr.parentNode)&&gr.nodeName.toLowerCase()==mr.nodeName||(gr=document.createElement(mr.nodeName),gr.pmIsDeco=!0,gr.appendChild(dr),hr=noDeco[0]),dr=gr}patchAttributes(dr,hr||noDeco[0],mr)}return dr}function patchAttributes(e,rr,ir){for(let lr in rr)lr!="class"&&lr!="style"&&lr!="nodeName"&&!(lr in ir)&&e.removeAttribute(lr);for(let lr in ir)lr!="class"&&lr!="style"&&lr!="nodeName"&&ir[lr]!=rr[lr]&&e.setAttribute(lr,ir[lr]);if(rr.class!=ir.class){let lr=rr.class?rr.class.split(" ").filter(Boolean):[],dr=ir.class?ir.class.split(" ").filter(Boolean):[];for(let fr=0;fr<lr.length;fr++)dr.indexOf(lr[fr])==-1&&e.classList.remove(lr[fr]);for(let fr=0;fr<dr.length;fr++)lr.indexOf(dr[fr])==-1&&e.classList.add(dr[fr]);e.classList.length==0&&e.removeAttribute("class")}if(rr.style!=ir.style){if(rr.style){let lr=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,dr;for(;dr=lr.exec(rr.style);)e.style.removeProperty(dr[1])}ir.style&&(e.style.cssText+=ir.style)}}function applyOuterDeco(e,rr,ir){return patchOuterDeco(e,e,noDeco,computeOuterDeco(rr,ir,e.nodeType!=1))}function sameOuterDeco(e,rr){if(e.length!=rr.length)return!1;for(let ir=0;ir<e.length;ir++)if(!e[ir].type.eq(rr[ir].type))return!1;return!0}function rm(e){let rr=e.nextSibling;return e.parentNode.removeChild(e),rr}class ViewTreeUpdater{constructor(rr,ir,lr){this.lock=ir,this.view=lr,this.index=0,this.stack=[],this.changed=!1,this.top=rr,this.preMatch=preMatch(rr.node.content,rr)}destroyBetween(rr,ir){if(rr!=ir){for(let lr=rr;lr<ir;lr++)this.top.children[lr].destroy();this.top.children.splice(rr,ir-rr),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(rr,ir,lr){let dr=0,fr=this.stack.length>>1,mr=Math.min(fr,rr.length);for(;dr<mr&&(dr==fr-1?this.top:this.stack[dr+1<<1]).matchesMark(rr[dr])&&rr[dr].type.spec.spanning!==!1;)dr++;for(;dr<fr;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),fr--;for(;fr<rr.length;){this.stack.push(this.top,this.index+1);let hr=-1;for(let gr=this.index;gr<Math.min(this.index+3,this.top.children.length);gr++){let xr=this.top.children[gr];if(xr.matchesMark(rr[fr])&&!this.isLocked(xr.dom)){hr=gr;break}}if(hr>-1)hr>this.index&&(this.changed=!0,this.destroyBetween(this.index,hr)),this.top=this.top.children[this.index];else{let gr=MarkViewDesc.create(this.top,rr[fr],ir,lr);this.top.children.splice(this.index,0,gr),this.top=gr,this.changed=!0}this.index=0,fr++}}findNodeMatch(rr,ir,lr,dr){let fr=-1,mr;if(dr>=this.preMatch.index&&(mr=this.preMatch.matches[dr-this.preMatch.index]).parent==this.top&&mr.matchesNode(rr,ir,lr))fr=this.top.children.indexOf(mr,this.index);else for(let hr=this.index,gr=Math.min(this.top.children.length,hr+5);hr<gr;hr++){let xr=this.top.children[hr];if(xr.matchesNode(rr,ir,lr)&&!this.preMatch.matched.has(xr)){fr=hr;break}}return fr<0?!1:(this.destroyBetween(this.index,fr),this.index++,!0)}updateNodeAt(rr,ir,lr,dr,fr){let mr=this.top.children[dr];return mr.dirty==NODE_DIRTY&&mr.dom==mr.contentDOM&&(mr.dirty=CONTENT_DIRTY),mr.update(rr,ir,lr,fr)?(this.destroyBetween(this.index,dr),this.index++,!0):!1}findIndexWithChild(rr){for(;;){let ir=rr.parentNode;if(!ir)return-1;if(ir==this.top.contentDOM){let lr=rr.pmViewDesc;if(lr){for(let dr=this.index;dr<this.top.children.length;dr++)if(this.top.children[dr]==lr)return dr}return-1}rr=ir}}updateNextNode(rr,ir,lr,dr,fr,mr){for(let hr=this.index;hr<this.top.children.length;hr++){let gr=this.top.children[hr];if(gr instanceof NodeViewDesc){let xr=this.preMatch.matched.get(gr);if(xr!=null&&xr!=fr)return!1;let _r=gr.dom,yr,vr=this.isLocked(_r)&&!(rr.isText&&gr.node&&gr.node.isText&&gr.nodeDOM.nodeValue==rr.text&&gr.dirty!=NODE_DIRTY&&sameOuterDeco(ir,gr.outerDeco));if(!vr&&gr.update(rr,ir,lr,dr))return this.destroyBetween(this.index,hr),gr.dom!=_r&&(this.changed=!0),this.index++,!0;if(!vr&&(yr=this.recreateWrapper(gr,rr,ir,lr,dr,mr)))return this.destroyBetween(this.index,hr),this.top.children[this.index]=yr,yr.contentDOM&&(yr.dirty=CONTENT_DIRTY,yr.updateChildren(dr,mr+1),yr.dirty=NOT_DIRTY),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(rr,ir,lr,dr,fr,mr){if(rr.dirty||ir.isAtom||!rr.children.length||!rr.node.content.eq(ir.content)||!sameOuterDeco(lr,rr.outerDeco)||!dr.eq(rr.innerDeco))return null;let hr=NodeViewDesc.create(this.top,ir,lr,dr,fr,mr);if(hr.contentDOM){hr.children=rr.children,rr.children=[];for(let gr of hr.children)gr.parent=hr}return rr.destroy(),hr}addNode(rr,ir,lr,dr,fr){let mr=NodeViewDesc.create(this.top,rr,ir,lr,dr,fr);mr.contentDOM&&mr.updateChildren(dr,fr+1),this.top.children.splice(this.index++,0,mr),this.changed=!0}placeWidget(rr,ir,lr){let dr=this.index<this.top.children.length?this.top.children[this.index]:null;if(dr&&dr.matchesWidget(rr)&&(rr==dr.widget||!dr.widget.type.toDOM.parentNode))this.index++;else{let fr=new WidgetViewDesc(this.top,rr,ir,lr);this.top.children.splice(this.index++,0,fr),this.changed=!0}}addTextblockHacks(){let rr=this.top.children[this.index-1],ir=this.top;for(;rr instanceof MarkViewDesc;)ir=rr,rr=ir.children[ir.children.length-1];(!rr||!(rr instanceof TextViewDesc)||/\n$/.test(rr.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(rr.node.text))&&((safari||chrome)&&rr&&rr.dom.contentEditable=="false"&&this.addHackNode("IMG",ir),this.addHackNode("BR",this.top))}addHackNode(rr,ir){if(ir==this.top&&this.index<ir.children.length&&ir.children[this.index].matchesHack(rr))this.index++;else{let lr=document.createElement(rr);rr=="IMG"&&(lr.className="ProseMirror-separator",lr.alt=""),rr=="BR"&&(lr.className="ProseMirror-trailingBreak");let dr=new TrailingHackViewDesc(this.top,[],lr,null);ir!=this.top?ir.children.push(dr):ir.children.splice(this.index++,0,dr),this.changed=!0}}isLocked(rr){return this.lock&&(rr==this.lock||rr.nodeType==1&&rr.contains(this.lock.parentNode))}}function preMatch(e,rr){let ir=rr,lr=ir.children.length,dr=e.childCount,fr=new Map,mr=[];e:for(;dr>0;){let hr;for(;;)if(lr){let xr=ir.children[lr-1];if(xr instanceof MarkViewDesc)ir=xr,lr=xr.children.length;else{hr=xr,lr--;break}}else{if(ir==rr)break e;lr=ir.parent.children.indexOf(ir),ir=ir.parent}let gr=hr.node;if(gr){if(gr!=e.child(dr-1))break;--dr,fr.set(hr,dr),mr.push(hr)}}return{index:dr,matched:fr,matches:mr.reverse()}}function compareSide(e,rr){return e.type.side-rr.type.side}function iterDeco(e,rr,ir,lr){let dr=rr.locals(e),fr=0;if(dr.length==0){for(let xr=0;xr<e.childCount;xr++){let _r=e.child(xr);lr(_r,dr,rr.forChild(fr,_r),xr),fr+=_r.nodeSize}return}let mr=0,hr=[],gr=null;for(let xr=0;;){let _r,yr;for(;mr<dr.length&&dr[mr].to==fr;){let Mr=dr[mr++];Mr.widget&&(_r?(yr||(yr=[_r])).push(Mr):_r=Mr)}if(_r)if(yr){yr.sort(compareSide);for(let Mr=0;Mr<yr.length;Mr++)ir(yr[Mr],xr,!!gr)}else ir(_r,xr,!!gr);let vr,br;if(gr)br=-1,vr=gr,gr=null;else if(xr<e.childCount)br=xr,vr=e.child(xr++);else break;for(let Mr=0;Mr<hr.length;Mr++)hr[Mr].to<=fr&&hr.splice(Mr--,1);for(;mr<dr.length&&dr[mr].from<=fr&&dr[mr].to>fr;)hr.push(dr[mr++]);let Sr=fr+vr.nodeSize;if(vr.isText){let Mr=Sr;mr<dr.length&&dr[mr].from<Mr&&(Mr=dr[mr].from);for(let kr=0;kr<hr.length;kr++)hr[kr].to<Mr&&(Mr=hr[kr].to);Mr<Sr&&(gr=vr.cut(Mr-fr),vr=vr.cut(0,Mr-fr),Sr=Mr,br=-1)}else for(;mr<dr.length&&dr[mr].to<Sr;)mr++;let wr=vr.isInline&&!vr.isLeaf?hr.filter(Mr=>!Mr.inline):hr.slice();lr(vr,wr,rr.forChild(fr,vr),br),fr=Sr}}function iosHacks(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let rr=e.style.cssText;e.style.cssText=rr+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=rr}}function findTextInFragment(e,rr,ir,lr){for(let dr=0,fr=0;dr<e.childCount&&fr<=lr;){let mr=e.child(dr++),hr=fr;if(fr+=mr.nodeSize,!mr.isText)continue;let gr=mr.text;for(;dr<e.childCount;){let xr=e.child(dr++);if(fr+=xr.nodeSize,!xr.isText)break;gr+=xr.text}if(fr>=ir){if(fr>=lr&&gr.slice(lr-rr.length-hr,lr-hr)==rr)return lr-rr.length;let xr=hr<lr?gr.lastIndexOf(rr,lr-hr-1):-1;if(xr>=0&&xr+rr.length+hr>=ir)return hr+xr;if(ir==lr&&gr.length>=lr+rr.length-hr&&gr.slice(lr-hr,lr-hr+rr.length)==rr)return lr}}return-1}function replaceNodes(e,rr,ir,lr,dr){let fr=[];for(let mr=0,hr=0;mr<e.length;mr++){let gr=e[mr],xr=hr,_r=hr+=gr.size;xr>=ir||_r<=rr?fr.push(gr):(xr<rr&&fr.push(gr.slice(0,rr-xr,lr)),dr&&(fr.push(dr),dr=void 0),_r>ir&&fr.push(gr.slice(ir-xr,gr.size,lr)))}return fr}function selectionFromDOM(e,rr=null){let ir=e.domSelectionRange(),lr=e.state.doc;if(!ir.focusNode)return null;let dr=e.docView.nearestDesc(ir.focusNode),fr=dr&&dr.size==0,mr=e.docView.posFromDOM(ir.focusNode,ir.focusOffset,1);if(mr<0)return null;let hr=lr.resolve(mr),gr,xr;if(selectionCollapsed(ir)){for(gr=mr;dr&&!dr.node;)dr=dr.parent;let yr=dr.node;if(dr&&yr.isAtom&&NodeSelection.isSelectable(yr)&&dr.parent&&!(yr.isInline&&isOnEdge(ir.focusNode,ir.focusOffset,dr.dom))){let vr=dr.posBefore;xr=new NodeSelection(mr==vr?hr:lr.resolve(vr))}}else{if(ir instanceof e.dom.ownerDocument.defaultView.Selection&&ir.rangeCount>1){let yr=mr,vr=mr;for(let br=0;br<ir.rangeCount;br++){let Sr=ir.getRangeAt(br);yr=Math.min(yr,e.docView.posFromDOM(Sr.startContainer,Sr.startOffset,1)),vr=Math.max(vr,e.docView.posFromDOM(Sr.endContainer,Sr.endOffset,-1))}if(yr<0)return null;[gr,mr]=vr==e.state.selection.anchor?[vr,yr]:[yr,vr],hr=lr.resolve(mr)}else gr=e.docView.posFromDOM(ir.anchorNode,ir.anchorOffset,1);if(gr<0)return null}let _r=lr.resolve(gr);if(!xr){let yr=rr=="pointer"||e.state.selection.head<hr.pos&&!fr?1:-1;xr=selectionBetween(e,_r,hr,yr)}return xr}function editorOwnsSelection(e){return e.editable?e.hasFocus():hasSelection(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function selectionToDOM(e,rr=!1){let ir=e.state.selection;if(syncNodeSelection(e,ir),!!editorOwnsSelection(e)){if(!rr&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&chrome){let lr=e.domSelectionRange(),dr=e.domObserver.currentSelection;if(lr.anchorNode&&dr.anchorNode&&isEquivalentPosition(lr.anchorNode,lr.anchorOffset,dr.anchorNode,dr.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)selectCursorWrapper(e);else{let{anchor:lr,head:dr}=ir,fr,mr;brokenSelectBetweenUneditable&&!(ir instanceof TextSelection)&&(ir.$from.parent.inlineContent||(fr=temporarilyEditableNear(e,ir.from)),!ir.empty&&!ir.$from.parent.inlineContent&&(mr=temporarilyEditableNear(e,ir.to))),e.docView.setSelection(lr,dr,e,rr),brokenSelectBetweenUneditable&&(fr&&resetEditable(fr),mr&&resetEditable(mr)),ir.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(e,rr){let{node:ir,offset:lr}=e.docView.domFromPos(rr,0),dr=lr<ir.childNodes.length?ir.childNodes[lr]:null,fr=lr?ir.childNodes[lr-1]:null;if(safari&&dr&&dr.contentEditable=="false")return setEditable(dr);if((!dr||dr.contentEditable=="false")&&(!fr||fr.contentEditable=="false")){if(dr)return setEditable(dr);if(fr)return setEditable(fr)}}function setEditable(e){return e.contentEditable="true",safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function resetEditable(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function removeClassOnSelectionChange(e){let rr=e.dom.ownerDocument;rr.removeEventListener("selectionchange",e.input.hideSelectionGuard);let ir=e.domSelectionRange(),lr=ir.anchorNode,dr=ir.anchorOffset;rr.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(ir.anchorNode!=lr||ir.anchorOffset!=dr)&&(rr.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!editorOwnsSelection(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function selectCursorWrapper(e){let rr=e.domSelection(),ir=document.createRange();if(!rr)return;let lr=e.cursorWrapper.dom,dr=lr.nodeName=="IMG";dr?ir.setStart(lr.parentNode,domIndex(lr)+1):ir.setStart(lr,0),ir.collapse(!0),rr.removeAllRanges(),rr.addRange(ir),!dr&&!e.state.selection.visible&&ie$3&&ie_version<=11&&(lr.disabled=!0,lr.disabled=!1)}function syncNodeSelection(e,rr){if(rr instanceof NodeSelection){let ir=e.docView.descAt(rr.from);ir!=e.lastSelectedViewDesc&&(clearNodeSelection(e),ir&&ir.selectNode(),e.lastSelectedViewDesc=ir)}else clearNodeSelection(e)}function clearNodeSelection(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function selectionBetween(e,rr,ir,lr){return e.someProp("createSelectionBetween",dr=>dr(e,rr,ir))||TextSelection.between(rr,ir,lr)}function hasFocusAndSelection(e){return e.editable&&!e.hasFocus()?!1:hasSelection(e)}function hasSelection(e){let rr=e.domSelectionRange();if(!rr.anchorNode)return!1;try{return e.dom.contains(rr.anchorNode.nodeType==3?rr.anchorNode.parentNode:rr.anchorNode)&&(e.editable||e.dom.contains(rr.focusNode.nodeType==3?rr.focusNode.parentNode:rr.focusNode))}catch{return!1}}function anchorInRightPlace(e){let rr=e.docView.domFromPos(e.state.selection.anchor,0),ir=e.domSelectionRange();return isEquivalentPosition(rr.node,rr.offset,ir.anchorNode,ir.anchorOffset)}function moveSelectionBlock(e,rr){let{$anchor:ir,$head:lr}=e.selection,dr=rr>0?ir.max(lr):ir.min(lr),fr=dr.parent.inlineContent?dr.depth?e.doc.resolve(rr>0?dr.after():dr.before()):null:dr;return fr&&Selection$1.findFrom(fr,rr)}function apply(e,rr){return e.dispatch(e.state.tr.setSelection(rr).scrollIntoView()),!0}function selectHorizontally(e,rr,ir){let lr=e.state.selection;if(lr instanceof TextSelection)if(ir.indexOf("s")>-1){let{$head:dr}=lr,fr=dr.textOffset?null:rr<0?dr.nodeBefore:dr.nodeAfter;if(!fr||fr.isText||!fr.isLeaf)return!1;let mr=e.state.doc.resolve(dr.pos+fr.nodeSize*(rr<0?-1:1));return apply(e,new TextSelection(lr.$anchor,mr))}else if(lr.empty){if(e.endOfTextblock(rr>0?"forward":"backward")){let dr=moveSelectionBlock(e.state,rr);return dr&&dr instanceof NodeSelection?apply(e,dr):!1}else if(!(mac$2&&ir.indexOf("m")>-1)){let dr=lr.$head,fr=dr.textOffset?null:rr<0?dr.nodeBefore:dr.nodeAfter,mr;if(!fr||fr.isText)return!1;let hr=rr<0?dr.pos-fr.nodeSize:dr.pos;return fr.isAtom||(mr=e.docView.descAt(hr))&&!mr.contentDOM?NodeSelection.isSelectable(fr)?apply(e,new NodeSelection(rr<0?e.state.doc.resolve(dr.pos-fr.nodeSize):dr)):webkit?apply(e,new TextSelection(e.state.doc.resolve(rr<0?hr:hr+fr.nodeSize))):!1:!1}}else return!1;else{if(lr instanceof NodeSelection&&lr.node.isInline)return apply(e,new TextSelection(rr>0?lr.$to:lr.$from));{let dr=moveSelectionBlock(e.state,rr);return dr?apply(e,dr):!1}}}function nodeLen(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function isIgnorable(e,rr){let ir=e.pmViewDesc;return ir&&ir.size==0&&(rr<0||e.nextSibling||e.nodeName!="BR")}function skipIgnoredNodes(e,rr){return rr<0?skipIgnoredNodesBefore(e):skipIgnoredNodesAfter(e)}function skipIgnoredNodesBefore(e){let rr=e.domSelectionRange(),ir=rr.focusNode,lr=rr.focusOffset;if(!ir)return;let dr,fr,mr=!1;for(gecko&&ir.nodeType==1&&lr<nodeLen(ir)&&isIgnorable(ir.childNodes[lr],-1)&&(mr=!0);;)if(lr>0){if(ir.nodeType!=1)break;{let hr=ir.childNodes[lr-1];if(isIgnorable(hr,-1))dr=ir,fr=--lr;else if(hr.nodeType==3)ir=hr,lr=ir.nodeValue.length;else break}}else{if(isBlockNode(ir))break;{let hr=ir.previousSibling;for(;hr&&isIgnorable(hr,-1);)dr=ir.parentNode,fr=domIndex(hr),hr=hr.previousSibling;if(hr)ir=hr,lr=nodeLen(ir);else{if(ir=ir.parentNode,ir==e.dom)break;lr=0}}}mr?setSelFocus(e,ir,lr):dr&&setSelFocus(e,dr,fr)}function skipIgnoredNodesAfter(e){let rr=e.domSelectionRange(),ir=rr.focusNode,lr=rr.focusOffset;if(!ir)return;let dr=nodeLen(ir),fr,mr;for(;;)if(lr<dr){if(ir.nodeType!=1)break;let hr=ir.childNodes[lr];if(isIgnorable(hr,1))fr=ir,mr=++lr;else break}else{if(isBlockNode(ir))break;{let hr=ir.nextSibling;for(;hr&&isIgnorable(hr,1);)fr=hr.parentNode,mr=domIndex(hr)+1,hr=hr.nextSibling;if(hr)ir=hr,lr=0,dr=nodeLen(ir);else{if(ir=ir.parentNode,ir==e.dom)break;lr=dr=0}}}fr&&setSelFocus(e,fr,mr)}function isBlockNode(e){let rr=e.pmViewDesc;return rr&&rr.node&&rr.node.isBlock}function textNodeAfter(e,rr){for(;e&&rr==e.childNodes.length&&!hasBlockDesc(e);)rr=domIndex(e)+1,e=e.parentNode;for(;e&&rr<e.childNodes.length;){let ir=e.childNodes[rr];if(ir.nodeType==3)return ir;if(ir.nodeType==1&&ir.contentEditable=="false")break;e=ir,rr=0}}function textNodeBefore(e,rr){for(;e&&!rr&&!hasBlockDesc(e);)rr=domIndex(e),e=e.parentNode;for(;e&&rr;){let ir=e.childNodes[rr-1];if(ir.nodeType==3)return ir;if(ir.nodeType==1&&ir.contentEditable=="false")break;e=ir,rr=e.childNodes.length}}function setSelFocus(e,rr,ir){if(rr.nodeType!=3){let fr,mr;(mr=textNodeAfter(rr,ir))?(rr=mr,ir=0):(fr=textNodeBefore(rr,ir))&&(rr=fr,ir=fr.nodeValue.length)}let lr=e.domSelection();if(!lr)return;if(selectionCollapsed(lr)){let fr=document.createRange();fr.setEnd(rr,ir),fr.setStart(rr,ir),lr.removeAllRanges(),lr.addRange(fr)}else lr.extend&&lr.extend(rr,ir);e.domObserver.setCurSelection();let{state:dr}=e;setTimeout(()=>{e.state==dr&&selectionToDOM(e)},50)}function findDirection(e,rr){let ir=e.state.doc.resolve(rr);if(!(chrome||windows$1)&&ir.parent.inlineContent){let dr=e.coordsAtPos(rr);if(rr>ir.start()){let fr=e.coordsAtPos(rr-1),mr=(fr.top+fr.bottom)/2;if(mr>dr.top&&mr<dr.bottom&&Math.abs(fr.left-dr.left)>1)return fr.left<dr.left?"ltr":"rtl"}if(rr<ir.end()){let fr=e.coordsAtPos(rr+1),mr=(fr.top+fr.bottom)/2;if(mr>dr.top&&mr<dr.bottom&&Math.abs(fr.left-dr.left)>1)return fr.left>dr.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function selectVertically(e,rr,ir){let lr=e.state.selection;if(lr instanceof TextSelection&&!lr.empty||ir.indexOf("s")>-1||mac$2&&ir.indexOf("m")>-1)return!1;let{$from:dr,$to:fr}=lr;if(!dr.parent.inlineContent||e.endOfTextblock(rr<0?"up":"down")){let mr=moveSelectionBlock(e.state,rr);if(mr&&mr instanceof NodeSelection)return apply(e,mr)}if(!dr.parent.inlineContent){let mr=rr<0?dr:fr,hr=lr instanceof AllSelection?Selection$1.near(mr,rr):Selection$1.findFrom(mr,rr);return hr?apply(e,hr):!1}return!1}function stopNativeHorizontalDelete(e,rr){if(!(e.state.selection instanceof TextSelection))return!0;let{$head:ir,$anchor:lr,empty:dr}=e.state.selection;if(!ir.sameParent(lr))return!0;if(!dr)return!1;if(e.endOfTextblock(rr>0?"forward":"backward"))return!0;let fr=!ir.textOffset&&(rr<0?ir.nodeBefore:ir.nodeAfter);if(fr&&!fr.isText){let mr=e.state.tr;return rr<0?mr.delete(ir.pos-fr.nodeSize,ir.pos):mr.delete(ir.pos,ir.pos+fr.nodeSize),e.dispatch(mr),!0}return!1}function switchEditable(e,rr,ir){e.domObserver.stop(),rr.contentEditable=ir,e.domObserver.start()}function safariDownArrowBug(e){if(!safari||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:rr,focusOffset:ir}=e.domSelectionRange();if(rr&&rr.nodeType==1&&ir==0&&rr.firstChild&&rr.firstChild.contentEditable=="false"){let lr=rr.firstChild;switchEditable(e,lr,"true"),setTimeout(()=>switchEditable(e,lr,"false"),20)}return!1}function getMods(e){let rr="";return e.ctrlKey&&(rr+="c"),e.metaKey&&(rr+="m"),e.altKey&&(rr+="a"),e.shiftKey&&(rr+="s"),rr}function captureKeyDown(e,rr){let ir=rr.keyCode,lr=getMods(rr);if(ir==8||mac$2&&ir==72&&lr=="c")return stopNativeHorizontalDelete(e,-1)||skipIgnoredNodes(e,-1);if(ir==46&&!rr.shiftKey||mac$2&&ir==68&&lr=="c")return stopNativeHorizontalDelete(e,1)||skipIgnoredNodes(e,1);if(ir==13||ir==27)return!0;if(ir==37||mac$2&&ir==66&&lr=="c"){let dr=ir==37?findDirection(e,e.state.selection.from)=="ltr"?-1:1:-1;return selectHorizontally(e,dr,lr)||skipIgnoredNodes(e,dr)}else if(ir==39||mac$2&&ir==70&&lr=="c"){let dr=ir==39?findDirection(e,e.state.selection.from)=="ltr"?1:-1:1;return selectHorizontally(e,dr,lr)||skipIgnoredNodes(e,dr)}else{if(ir==38||mac$2&&ir==80&&lr=="c")return selectVertically(e,-1,lr)||skipIgnoredNodes(e,-1);if(ir==40||mac$2&&ir==78&&lr=="c")return safariDownArrowBug(e)||selectVertically(e,1,lr)||skipIgnoredNodes(e,1);if(lr==(mac$2?"m":"c")&&(ir==66||ir==73||ir==89||ir==90))return!0}return!1}function serializeForClipboard(e,rr){e.someProp("transformCopied",br=>{rr=br(rr,e)});let ir=[],{content:lr,openStart:dr,openEnd:fr}=rr;for(;dr>1&&fr>1&&lr.childCount==1&&lr.firstChild.childCount==1;){dr--,fr--;let br=lr.firstChild;ir.push(br.type.name,br.attrs!=br.type.defaultAttrs?br.attrs:null),lr=br.content}let mr=e.someProp("clipboardSerializer")||DOMSerializer.fromSchema(e.state.schema),hr=detachedDoc(),gr=hr.createElement("div");gr.appendChild(mr.serializeFragment(lr,{document:hr}));let xr=gr.firstChild,_r,yr=0;for(;xr&&xr.nodeType==1&&(_r=wrapMap[xr.nodeName.toLowerCase()]);){for(let br=_r.length-1;br>=0;br--){let Sr=hr.createElement(_r[br]);for(;gr.firstChild;)Sr.appendChild(gr.firstChild);gr.appendChild(Sr),yr++}xr=gr.firstChild}xr&&xr.nodeType==1&&xr.setAttribute("data-pm-slice",`${dr} ${fr}${yr?` -${yr}`:""} ${JSON.stringify(ir)}`);let vr=e.someProp("clipboardTextSerializer",br=>br(rr,e))||rr.content.textBetween(0,rr.content.size,`

`);return{dom:gr,text:vr,slice:rr}}function parseFromClipboard(e,rr,ir,lr,dr){let fr=dr.parent.type.spec.code,mr,hr;if(!ir&&!rr)return null;let gr=rr&&(lr||fr||!ir);if(gr){if(e.someProp("transformPastedText",vr=>{rr=vr(rr,fr||lr,e)}),fr)return rr?new Slice(Fragment.from(e.state.schema.text(rr.replace(/\r\n?/g,`
`))),0,0):Slice.empty;let yr=e.someProp("clipboardTextParser",vr=>vr(rr,dr,lr,e));if(yr)hr=yr;else{let vr=dr.marks(),{schema:br}=e.state,Sr=DOMSerializer.fromSchema(br);mr=document.createElement("div"),rr.split(/(?:\r\n?|\n)+/).forEach(wr=>{let Mr=mr.appendChild(document.createElement("p"));wr&&Mr.appendChild(Sr.serializeNode(br.text(wr,vr)))})}}else e.someProp("transformPastedHTML",yr=>{ir=yr(ir,e)}),mr=readHTML(ir),webkit&&restoreReplacedSpaces(mr);let xr=mr&&mr.querySelector("[data-pm-slice]"),_r=xr&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(xr.getAttribute("data-pm-slice")||"");if(_r&&_r[3])for(let yr=+_r[3];yr>0;yr--){let vr=mr.firstChild;for(;vr&&vr.nodeType!=1;)vr=vr.nextSibling;if(!vr)break;mr=vr}if(hr||(hr=(e.someProp("clipboardParser")||e.someProp("domParser")||DOMParser.fromSchema(e.state.schema)).parseSlice(mr,{preserveWhitespace:!!(gr||_r),context:dr,ruleFromNode(vr){return vr.nodeName=="BR"&&!vr.nextSibling&&vr.parentNode&&!inlineParents.test(vr.parentNode.nodeName)?{ignore:!0}:null}})),_r)hr=addContext(closeSlice(hr,+_r[1],+_r[2]),_r[4]);else if(hr=Slice.maxOpen(normalizeSiblings(hr.content,dr),!0),hr.openStart||hr.openEnd){let yr=0,vr=0;for(let br=hr.content.firstChild;yr<hr.openStart&&!br.type.spec.isolating;yr++,br=br.firstChild);for(let br=hr.content.lastChild;vr<hr.openEnd&&!br.type.spec.isolating;vr++,br=br.lastChild);hr=closeSlice(hr,yr,vr)}return e.someProp("transformPasted",yr=>{hr=yr(hr,e)}),hr}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(e,rr){if(e.childCount<2)return e;for(let ir=rr.depth;ir>=0;ir--){let dr=rr.node(ir).contentMatchAt(rr.index(ir)),fr,mr=[];if(e.forEach(hr=>{if(!mr)return;let gr=dr.findWrapping(hr.type),xr;if(!gr)return mr=null;if(xr=mr.length&&fr.length&&addToSibling(gr,fr,hr,mr[mr.length-1],0))mr[mr.length-1]=xr;else{mr.length&&(mr[mr.length-1]=closeRight(mr[mr.length-1],fr.length));let _r=withWrappers(hr,gr);mr.push(_r),dr=dr.matchType(_r.type),fr=gr}}),mr)return Fragment.from(mr)}return e}function withWrappers(e,rr,ir=0){for(let lr=rr.length-1;lr>=ir;lr--)e=rr[lr].create(null,Fragment.from(e));return e}function addToSibling(e,rr,ir,lr,dr){if(dr<e.length&&dr<rr.length&&e[dr]==rr[dr]){let fr=addToSibling(e,rr,ir,lr.lastChild,dr+1);if(fr)return lr.copy(lr.content.replaceChild(lr.childCount-1,fr));if(lr.contentMatchAt(lr.childCount).matchType(dr==e.length-1?ir.type:e[dr+1]))return lr.copy(lr.content.append(Fragment.from(withWrappers(ir,e,dr+1))))}}function closeRight(e,rr){if(rr==0)return e;let ir=e.content.replaceChild(e.childCount-1,closeRight(e.lastChild,rr-1)),lr=e.contentMatchAt(e.childCount).fillBefore(Fragment.empty,!0);return e.copy(ir.append(lr))}function closeRange(e,rr,ir,lr,dr,fr){let mr=rr<0?e.firstChild:e.lastChild,hr=mr.content;return e.childCount>1&&(fr=0),dr<lr-1&&(hr=closeRange(hr,rr,ir,lr,dr+1,fr)),dr>=ir&&(hr=rr<0?mr.contentMatchAt(0).fillBefore(hr,fr<=dr).append(hr):hr.append(mr.contentMatchAt(mr.childCount).fillBefore(Fragment.empty,!0))),e.replaceChild(rr<0?0:e.childCount-1,mr.copy(hr))}function closeSlice(e,rr,ir){return rr<e.openStart&&(e=new Slice(closeRange(e.content,-1,rr,e.openStart,0,e.openEnd),rr,e.openEnd)),ir<e.openEnd&&(e=new Slice(closeRange(e.content,1,ir,e.openEnd,0,0),e.openStart,ir)),e}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}let _policy=null;function maybeWrapTrusted(e){let rr=window.trustedTypes;return rr?(_policy||(_policy=rr.defaultPolicy||rr.createPolicy("ProseMirrorClipboard",{createHTML:ir=>ir})),_policy.createHTML(e)):e}function readHTML(e){let rr=/^(\s*<meta [^>]*>)*/.exec(e);rr&&(e=e.slice(rr[0].length));let ir=detachedDoc().createElement("div"),lr=/<([a-z][^>\s]+)/i.exec(e),dr;if((dr=lr&&wrapMap[lr[1].toLowerCase()])&&(e=dr.map(fr=>"<"+fr+">").join("")+e+dr.map(fr=>"</"+fr+">").reverse().join("")),ir.innerHTML=maybeWrapTrusted(e),dr)for(let fr=0;fr<dr.length;fr++)ir=ir.querySelector(dr[fr])||ir;return ir}function restoreReplacedSpaces(e){let rr=e.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let ir=0;ir<rr.length;ir++){let lr=rr[ir];lr.childNodes.length==1&&lr.textContent==""&&lr.parentNode&&lr.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),lr)}}function addContext(e,rr){if(!e.size)return e;let ir=e.content.firstChild.type.schema,lr;try{lr=JSON.parse(rr)}catch{return e}let{content:dr,openStart:fr,openEnd:mr}=e;for(let hr=lr.length-2;hr>=0;hr-=2){let gr=ir.nodes[lr[hr]];if(!gr||gr.hasRequiredAttrs())break;dr=Fragment.from(gr.create(lr[hr+1],dr)),fr++,mr++}return new Slice(dr,fr,mr)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(e){for(let rr in handlers){let ir=handlers[rr];e.dom.addEventListener(rr,e.input.eventHandlers[rr]=lr=>{eventBelongsToView(e,lr)&&!runCustomHandler(e,lr)&&(e.editable||!(lr.type in editHandlers))&&ir(e,lr)},passiveHandlers[rr]?{passive:!0}:void 0)}safari&&e.dom.addEventListener("input",()=>null),ensureListeners(e)}function setSelectionOrigin(e,rr){e.input.lastSelectionOrigin=rr,e.input.lastSelectionTime=Date.now()}function destroyInput(e){e.domObserver.stop();for(let rr in e.input.eventHandlers)e.dom.removeEventListener(rr,e.input.eventHandlers[rr]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ensureListeners(e){e.someProp("handleDOMEvents",rr=>{for(let ir in rr)e.input.eventHandlers[ir]||e.dom.addEventListener(ir,e.input.eventHandlers[ir]=lr=>runCustomHandler(e,lr))})}function runCustomHandler(e,rr){return e.someProp("handleDOMEvents",ir=>{let lr=ir[rr.type];return lr?lr(e,rr)||rr.defaultPrevented:!1})}function eventBelongsToView(e,rr){if(!rr.bubbles)return!0;if(rr.defaultPrevented)return!1;for(let ir=rr.target;ir!=e.dom;ir=ir.parentNode)if(!ir||ir.nodeType==11||ir.pmViewDesc&&ir.pmViewDesc.stopEvent(rr))return!1;return!0}function dispatchEvent(e,rr){!runCustomHandler(e,rr)&&handlers[rr.type]&&(e.editable||!(rr.type in editHandlers))&&handlers[rr.type](e,rr)}editHandlers.keydown=(e,rr)=>{let ir=rr;if(e.input.shiftKey=ir.keyCode==16||ir.shiftKey,!inOrNearComposition(e,ir)&&(e.input.lastKeyCode=ir.keyCode,e.input.lastKeyCodeTime=Date.now(),!(android&&chrome&&ir.keyCode==13)))if(ir.keyCode!=229&&e.domObserver.forceFlush(),ios&&ir.keyCode==13&&!ir.ctrlKey&&!ir.altKey&&!ir.metaKey){let lr=Date.now();e.input.lastIOSEnter=lr,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==lr&&(e.someProp("handleKeyDown",dr=>dr(e,keyEvent(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",lr=>lr(e,ir))||captureKeyDown(e,ir)?ir.preventDefault():setSelectionOrigin(e,"key")};editHandlers.keyup=(e,rr)=>{rr.keyCode==16&&(e.input.shiftKey=!1)};editHandlers.keypress=(e,rr)=>{let ir=rr;if(inOrNearComposition(e,ir)||!ir.charCode||ir.ctrlKey&&!ir.altKey||mac$2&&ir.metaKey)return;if(e.someProp("handleKeyPress",dr=>dr(e,ir))){ir.preventDefault();return}let lr=e.state.selection;if(!(lr instanceof TextSelection)||!lr.$from.sameParent(lr.$to)){let dr=String.fromCharCode(ir.charCode),fr=()=>e.state.tr.insertText(dr).scrollIntoView();!/[\r\n]/.test(dr)&&!e.someProp("handleTextInput",mr=>mr(e,lr.$from.pos,lr.$to.pos,dr,fr))&&e.dispatch(fr()),ir.preventDefault()}};function eventCoords(e){return{left:e.clientX,top:e.clientY}}function isNear(e,rr){let ir=rr.x-e.clientX,lr=rr.y-e.clientY;return ir*ir+lr*lr<100}function runHandlerOnContext(e,rr,ir,lr,dr){if(lr==-1)return!1;let fr=e.state.doc.resolve(lr);for(let mr=fr.depth+1;mr>0;mr--)if(e.someProp(rr,hr=>mr>fr.depth?hr(e,ir,fr.nodeAfter,fr.before(mr),dr,!0):hr(e,ir,fr.node(mr),fr.before(mr),dr,!1)))return!0;return!1}function updateSelection(e,rr,ir){if(e.focused||e.focus(),e.state.selection.eq(rr))return;let lr=e.state.tr.setSelection(rr);lr.setMeta("pointer",!0),e.dispatch(lr)}function selectClickedLeaf(e,rr){if(rr==-1)return!1;let ir=e.state.doc.resolve(rr),lr=ir.nodeAfter;return lr&&lr.isAtom&&NodeSelection.isSelectable(lr)?(updateSelection(e,new NodeSelection(ir)),!0):!1}function selectClickedNode(e,rr){if(rr==-1)return!1;let ir=e.state.selection,lr,dr;ir instanceof NodeSelection&&(lr=ir.node);let fr=e.state.doc.resolve(rr);for(let mr=fr.depth+1;mr>0;mr--){let hr=mr>fr.depth?fr.nodeAfter:fr.node(mr);if(NodeSelection.isSelectable(hr)){lr&&ir.$from.depth>0&&mr>=ir.$from.depth&&fr.before(ir.$from.depth+1)==ir.$from.pos?dr=fr.before(ir.$from.depth):dr=fr.before(mr);break}}return dr!=null?(updateSelection(e,NodeSelection.create(e.state.doc,dr)),!0):!1}function handleSingleClick(e,rr,ir,lr,dr){return runHandlerOnContext(e,"handleClickOn",rr,ir,lr)||e.someProp("handleClick",fr=>fr(e,rr,lr))||(dr?selectClickedNode(e,ir):selectClickedLeaf(e,ir))}function handleDoubleClick(e,rr,ir,lr){return runHandlerOnContext(e,"handleDoubleClickOn",rr,ir,lr)||e.someProp("handleDoubleClick",dr=>dr(e,rr,lr))}function handleTripleClick(e,rr,ir,lr){return runHandlerOnContext(e,"handleTripleClickOn",rr,ir,lr)||e.someProp("handleTripleClick",dr=>dr(e,rr,lr))||defaultTripleClick(e,ir,lr)}function defaultTripleClick(e,rr,ir){if(ir.button!=0)return!1;let lr=e.state.doc;if(rr==-1)return lr.inlineContent?(updateSelection(e,TextSelection.create(lr,0,lr.content.size)),!0):!1;let dr=lr.resolve(rr);for(let fr=dr.depth+1;fr>0;fr--){let mr=fr>dr.depth?dr.nodeAfter:dr.node(fr),hr=dr.before(fr);if(mr.inlineContent)updateSelection(e,TextSelection.create(lr,hr+1,hr+1+mr.content.size));else if(NodeSelection.isSelectable(mr))updateSelection(e,NodeSelection.create(lr,hr));else continue;return!0}}function forceDOMFlush(e){return endComposition(e)}const selectNodeModifier=mac$2?"metaKey":"ctrlKey";handlers.mousedown=(e,rr)=>{let ir=rr;e.input.shiftKey=ir.shiftKey;let lr=forceDOMFlush(e),dr=Date.now(),fr="singleClick";dr-e.input.lastClick.time<500&&isNear(ir,e.input.lastClick)&&!ir[selectNodeModifier]&&e.input.lastClick.button==ir.button&&(e.input.lastClick.type=="singleClick"?fr="doubleClick":e.input.lastClick.type=="doubleClick"&&(fr="tripleClick")),e.input.lastClick={time:dr,x:ir.clientX,y:ir.clientY,type:fr,button:ir.button};let mr=e.posAtCoords(eventCoords(ir));mr&&(fr=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new MouseDown(e,mr,ir,!!lr)):(fr=="doubleClick"?handleDoubleClick:handleTripleClick)(e,mr.pos,mr.inside,ir)?ir.preventDefault():setSelectionOrigin(e,"pointer"))};class MouseDown{constructor(rr,ir,lr,dr){this.view=rr,this.pos=ir,this.event=lr,this.flushed=dr,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=rr.state.doc,this.selectNode=!!lr[selectNodeModifier],this.allowDefault=lr.shiftKey;let fr,mr;if(ir.inside>-1)fr=rr.state.doc.nodeAt(ir.inside),mr=ir.inside;else{let _r=rr.state.doc.resolve(ir.pos);fr=_r.parent,mr=_r.depth?_r.before():0}const hr=dr?null:lr.target,gr=hr?rr.docView.nearestDesc(hr,!0):null;this.target=gr&&gr.dom.nodeType==1?gr.dom:null;let{selection:xr}=rr.state;(lr.button==0&&fr.type.spec.draggable&&fr.type.spec.selectable!==!1||xr instanceof NodeSelection&&xr.from<=mr&&xr.to>mr)&&(this.mightDrag={node:fr,pos:mr,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gecko&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),rr.root.addEventListener("mouseup",this.up=this.up.bind(this)),rr.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(rr,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(rr){if(this.done(),!this.view.dom.contains(rr.target))return;let ir=this.pos;this.view.state.doc!=this.startDoc&&(ir=this.view.posAtCoords(eventCoords(rr))),this.updateAllowDefault(rr),this.allowDefault||!ir?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,ir.pos,ir.inside,rr,this.selectNode)?rr.preventDefault():rr.button==0&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(ir.pos-this.view.state.selection.from),Math.abs(ir.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection$1.near(this.view.state.doc.resolve(ir.pos))),rr.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(rr){this.updateAllowDefault(rr),setSelectionOrigin(this.view,"pointer"),rr.buttons==0&&this.done()}updateAllowDefault(rr){!this.allowDefault&&(Math.abs(this.event.x-rr.clientX)>4||Math.abs(this.event.y-rr.clientY)>4)&&(this.allowDefault=!0)}}handlers.touchstart=e=>{e.input.lastTouch=Date.now(),forceDOMFlush(e),setSelectionOrigin(e,"pointer")};handlers.touchmove=e=>{e.input.lastTouch=Date.now(),setSelectionOrigin(e,"pointer")};handlers.contextmenu=e=>forceDOMFlush(e);function inOrNearComposition(e,rr){return e.composing?!0:safari&&Math.abs(rr.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const timeoutComposition=android?5e3:-1;editHandlers.compositionstart=editHandlers.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:rr}=e,ir=rr.selection.$to;if(rr.selection instanceof TextSelection&&(rr.storedMarks||!ir.textOffset&&ir.parentOffset&&ir.nodeBefore.marks.some(lr=>lr.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||ir.marks(),endComposition(e,!0),e.markCursor=null;else if(endComposition(e,!rr.selection.empty),gecko&&rr.selection.empty&&ir.parentOffset&&!ir.textOffset&&ir.nodeBefore.marks.length){let lr=e.domSelectionRange();for(let dr=lr.focusNode,fr=lr.focusOffset;dr&&dr.nodeType==1&&fr!=0;){let mr=fr<0?dr.lastChild:dr.childNodes[fr-1];if(!mr)break;if(mr.nodeType==3){let hr=e.domSelection();hr&&hr.collapse(mr,mr.nodeValue.length);break}else dr=mr,fr=-1}}e.input.composing=!0}scheduleComposeEnd(e,timeoutComposition)};editHandlers.compositionend=(e,rr)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=rr.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,scheduleComposeEnd(e,20))};function scheduleComposeEnd(e,rr){clearTimeout(e.input.composingTimeout),rr>-1&&(e.input.composingTimeout=setTimeout(()=>endComposition(e),rr))}function clearComposition(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=timestampFromCustomEvent());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function findCompositionNode(e){let rr=e.domSelectionRange();if(!rr.focusNode)return null;let ir=textNodeBefore$1(rr.focusNode,rr.focusOffset),lr=textNodeAfter$1(rr.focusNode,rr.focusOffset);if(ir&&lr&&ir!=lr){let dr=lr.pmViewDesc,fr=e.domObserver.lastChangedTextNode;if(ir==fr||lr==fr)return fr;if(!dr||!dr.isText(lr.nodeValue))return lr;if(e.input.compositionNode==lr){let mr=ir.pmViewDesc;if(!(!mr||!mr.isText(ir.nodeValue)))return lr}}return ir||lr}function timestampFromCustomEvent(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function endComposition(e,rr=!1){if(!(android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),clearComposition(e),rr||e.docView&&e.docView.dirty){let ir=selectionFromDOM(e),lr=e.state.selection;return ir&&!ir.eq(lr)?e.dispatch(e.state.tr.setSelection(ir)):(e.markCursor||rr)&&!lr.$from.node(lr.$from.sharedDepth(lr.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function captureCopy(e,rr){if(!e.dom.parentNode)return;let ir=e.dom.parentNode.appendChild(document.createElement("div"));ir.appendChild(rr),ir.style.cssText="position: fixed; left: -10000px; top: 10px";let lr=getSelection(),dr=document.createRange();dr.selectNodeContents(rr),e.dom.blur(),lr.removeAllRanges(),lr.addRange(dr),setTimeout(()=>{ir.parentNode&&ir.parentNode.removeChild(ir),e.focus()},50)}const brokenClipboardAPI=ie$3&&ie_version<15||ios&&webkit_version<604;handlers.copy=editHandlers.cut=(e,rr)=>{let ir=rr,lr=e.state.selection,dr=ir.type=="cut";if(lr.empty)return;let fr=brokenClipboardAPI?null:ir.clipboardData,mr=lr.content(),{dom:hr,text:gr}=serializeForClipboard(e,mr);fr?(ir.preventDefault(),fr.clearData(),fr.setData("text/html",hr.innerHTML),fr.setData("text/plain",gr)):captureCopy(e,hr),dr&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function sliceSingleNode(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function capturePaste(e,rr){if(!e.dom.parentNode)return;let ir=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,lr=e.dom.parentNode.appendChild(document.createElement(ir?"textarea":"div"));ir||(lr.contentEditable="true"),lr.style.cssText="position: fixed; left: -10000px; top: 10px",lr.focus();let dr=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),lr.parentNode&&lr.parentNode.removeChild(lr),ir?doPaste(e,lr.value,null,dr,rr):doPaste(e,lr.textContent,lr.innerHTML,dr,rr)},50)}function doPaste(e,rr,ir,lr,dr){let fr=parseFromClipboard(e,rr,ir,lr,e.state.selection.$from);if(e.someProp("handlePaste",gr=>gr(e,dr,fr||Slice.empty)))return!0;if(!fr)return!1;let mr=sliceSingleNode(fr),hr=mr?e.state.tr.replaceSelectionWith(mr,lr):e.state.tr.replaceSelection(fr);return e.dispatch(hr.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function getText$1(e){let rr=e.getData("text/plain")||e.getData("Text");if(rr)return rr;let ir=e.getData("text/uri-list");return ir?ir.replace(/\r?\n/g," "):""}editHandlers.paste=(e,rr)=>{let ir=rr;if(e.composing&&!android)return;let lr=brokenClipboardAPI?null:ir.clipboardData,dr=e.input.shiftKey&&e.input.lastKeyCode!=45;lr&&doPaste(e,getText$1(lr),lr.getData("text/html"),dr,ir)?ir.preventDefault():capturePaste(e,ir)};class Dragging{constructor(rr,ir,lr){this.slice=rr,this.move=ir,this.node=lr}}const dragCopyModifier=mac$2?"altKey":"ctrlKey";function dragMoves(e,rr){let ir=e.someProp("dragCopies",lr=>!lr(rr));return ir??!rr[dragCopyModifier]}handlers.dragstart=(e,rr)=>{let ir=rr,lr=e.input.mouseDown;if(lr&&lr.done(),!ir.dataTransfer)return;let dr=e.state.selection,fr=dr.empty?null:e.posAtCoords(eventCoords(ir)),mr;if(!(fr&&fr.pos>=dr.from&&fr.pos<=(dr instanceof NodeSelection?dr.to-1:dr.to))){if(lr&&lr.mightDrag)mr=NodeSelection.create(e.state.doc,lr.mightDrag.pos);else if(ir.target&&ir.target.nodeType==1){let yr=e.docView.nearestDesc(ir.target,!0);yr&&yr.node.type.spec.draggable&&yr!=e.docView&&(mr=NodeSelection.create(e.state.doc,yr.posBefore))}}let hr=(mr||e.state.selection).content(),{dom:gr,text:xr,slice:_r}=serializeForClipboard(e,hr);(!ir.dataTransfer.files.length||!chrome||chrome_version>120)&&ir.dataTransfer.clearData(),ir.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",gr.innerHTML),ir.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||ir.dataTransfer.setData("text/plain",xr),e.dragging=new Dragging(_r,dragMoves(e,ir),mr)};handlers.dragend=e=>{let rr=e.dragging;window.setTimeout(()=>{e.dragging==rr&&(e.dragging=null)},50)};editHandlers.dragover=editHandlers.dragenter=(e,rr)=>rr.preventDefault();editHandlers.drop=(e,rr)=>{let ir=rr,lr=e.dragging;if(e.dragging=null,!ir.dataTransfer)return;let dr=e.posAtCoords(eventCoords(ir));if(!dr)return;let fr=e.state.doc.resolve(dr.pos),mr=lr&&lr.slice;mr?e.someProp("transformPasted",Sr=>{mr=Sr(mr,e)}):mr=parseFromClipboard(e,getText$1(ir.dataTransfer),brokenClipboardAPI?null:ir.dataTransfer.getData("text/html"),!1,fr);let hr=!!(lr&&dragMoves(e,ir));if(e.someProp("handleDrop",Sr=>Sr(e,ir,mr||Slice.empty,hr))){ir.preventDefault();return}if(!mr)return;ir.preventDefault();let gr=mr?dropPoint(e.state.doc,fr.pos,mr):fr.pos;gr==null&&(gr=fr.pos);let xr=e.state.tr;if(hr){let{node:Sr}=lr;Sr?Sr.replace(xr):xr.deleteSelection()}let _r=xr.mapping.map(gr),yr=mr.openStart==0&&mr.openEnd==0&&mr.content.childCount==1,vr=xr.doc;if(yr?xr.replaceRangeWith(_r,_r,mr.content.firstChild):xr.replaceRange(_r,_r,mr),xr.doc.eq(vr))return;let br=xr.doc.resolve(_r);if(yr&&NodeSelection.isSelectable(mr.content.firstChild)&&br.nodeAfter&&br.nodeAfter.sameMarkup(mr.content.firstChild))xr.setSelection(new NodeSelection(br));else{let Sr=xr.mapping.map(gr);xr.mapping.maps[xr.mapping.maps.length-1].forEach((wr,Mr,kr,Ar)=>Sr=Ar),xr.setSelection(selectionBetween(e,br,xr.doc.resolve(Sr)))}e.focus(),e.dispatch(xr.setMeta("uiEvent","drop"))};handlers.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&selectionToDOM(e)},20))};handlers.blur=(e,rr)=>{let ir=rr;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),ir.relatedTarget&&e.dom.contains(ir.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};handlers.beforeinput=(e,rr)=>{if(chrome&&android&&rr.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:lr}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=lr||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",fr=>fr(e,keyEvent(8,"Backspace")))))return;let{$cursor:dr}=e.state.selection;dr&&dr.pos>0&&e.dispatch(e.state.tr.delete(dr.pos-1,dr.pos).scrollIntoView())},50)}};for(let e in editHandlers)handlers[e]=editHandlers[e];function compareObjs(e,rr){if(e==rr)return!0;for(let ir in e)if(e[ir]!==rr[ir])return!1;for(let ir in rr)if(!(ir in e))return!1;return!0}class WidgetType{constructor(rr,ir){this.toDOM=rr,this.spec=ir||noSpec,this.side=this.spec.side||0}map(rr,ir,lr,dr){let{pos:fr,deleted:mr}=rr.mapResult(ir.from+dr,this.side<0?-1:1);return mr?null:new Decoration(fr-lr,fr-lr,this)}valid(){return!0}eq(rr){return this==rr||rr instanceof WidgetType&&(this.spec.key&&this.spec.key==rr.spec.key||this.toDOM==rr.toDOM&&compareObjs(this.spec,rr.spec))}destroy(rr){this.spec.destroy&&this.spec.destroy(rr)}}class InlineType{constructor(rr,ir){this.attrs=rr,this.spec=ir||noSpec}map(rr,ir,lr,dr){let fr=rr.map(ir.from+dr,this.spec.inclusiveStart?-1:1)-lr,mr=rr.map(ir.to+dr,this.spec.inclusiveEnd?1:-1)-lr;return fr>=mr?null:new Decoration(fr,mr,this)}valid(rr,ir){return ir.from<ir.to}eq(rr){return this==rr||rr instanceof InlineType&&compareObjs(this.attrs,rr.attrs)&&compareObjs(this.spec,rr.spec)}static is(rr){return rr.type instanceof InlineType}destroy(){}}class NodeType{constructor(rr,ir){this.attrs=rr,this.spec=ir||noSpec}map(rr,ir,lr,dr){let fr=rr.mapResult(ir.from+dr,1);if(fr.deleted)return null;let mr=rr.mapResult(ir.to+dr,-1);return mr.deleted||mr.pos<=fr.pos?null:new Decoration(fr.pos-lr,mr.pos-lr,this)}valid(rr,ir){let{index:lr,offset:dr}=rr.content.findIndex(ir.from),fr;return dr==ir.from&&!(fr=rr.child(lr)).isText&&dr+fr.nodeSize==ir.to}eq(rr){return this==rr||rr instanceof NodeType&&compareObjs(this.attrs,rr.attrs)&&compareObjs(this.spec,rr.spec)}destroy(){}}class Decoration{constructor(rr,ir,lr){this.from=rr,this.to=ir,this.type=lr}copy(rr,ir){return new Decoration(rr,ir,this.type)}eq(rr,ir=0){return this.type.eq(rr.type)&&this.from+ir==rr.from&&this.to+ir==rr.to}map(rr,ir,lr){return this.type.map(rr,this,ir,lr)}static widget(rr,ir,lr){return new Decoration(rr,rr,new WidgetType(ir,lr))}static inline(rr,ir,lr,dr){return new Decoration(rr,ir,new InlineType(lr,dr))}static node(rr,ir,lr,dr){return new Decoration(rr,ir,new NodeType(lr,dr))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}get widget(){return this.type instanceof WidgetType}}const none=[],noSpec={};class DecorationSet{constructor(rr,ir){this.local=rr.length?rr:none,this.children=ir.length?ir:none}static create(rr,ir){return ir.length?buildTree(ir,rr,0,noSpec):empty}find(rr,ir,lr){let dr=[];return this.findInner(rr??0,ir??1e9,dr,0,lr),dr}findInner(rr,ir,lr,dr,fr){for(let mr=0;mr<this.local.length;mr++){let hr=this.local[mr];hr.from<=ir&&hr.to>=rr&&(!fr||fr(hr.spec))&&lr.push(hr.copy(hr.from+dr,hr.to+dr))}for(let mr=0;mr<this.children.length;mr+=3)if(this.children[mr]<ir&&this.children[mr+1]>rr){let hr=this.children[mr]+1;this.children[mr+2].findInner(rr-hr,ir-hr,lr,dr+hr,fr)}}map(rr,ir,lr){return this==empty||rr.maps.length==0?this:this.mapInner(rr,ir,0,0,lr||noSpec)}mapInner(rr,ir,lr,dr,fr){let mr;for(let hr=0;hr<this.local.length;hr++){let gr=this.local[hr].map(rr,lr,dr);gr&&gr.type.valid(ir,gr)?(mr||(mr=[])).push(gr):fr.onRemove&&fr.onRemove(this.local[hr].spec)}return this.children.length?mapChildren(this.children,mr||[],rr,ir,lr,dr,fr):mr?new DecorationSet(mr.sort(byPos),none):empty}add(rr,ir){return ir.length?this==empty?DecorationSet.create(rr,ir):this.addInner(rr,ir,0):this}addInner(rr,ir,lr){let dr,fr=0;rr.forEach((hr,gr)=>{let xr=gr+lr,_r;if(_r=takeSpansForNode(ir,hr,xr)){for(dr||(dr=this.children.slice());fr<dr.length&&dr[fr]<gr;)fr+=3;dr[fr]==gr?dr[fr+2]=dr[fr+2].addInner(hr,_r,xr+1):dr.splice(fr,0,gr,gr+hr.nodeSize,buildTree(_r,hr,xr+1,noSpec)),fr+=3}});let mr=moveSpans(fr?withoutNulls(ir):ir,-lr);for(let hr=0;hr<mr.length;hr++)mr[hr].type.valid(rr,mr[hr])||mr.splice(hr--,1);return new DecorationSet(mr.length?this.local.concat(mr).sort(byPos):this.local,dr||this.children)}remove(rr){return rr.length==0||this==empty?this:this.removeInner(rr,0)}removeInner(rr,ir){let lr=this.children,dr=this.local;for(let fr=0;fr<lr.length;fr+=3){let mr,hr=lr[fr]+ir,gr=lr[fr+1]+ir;for(let _r=0,yr;_r<rr.length;_r++)(yr=rr[_r])&&yr.from>hr&&yr.to<gr&&(rr[_r]=null,(mr||(mr=[])).push(yr));if(!mr)continue;lr==this.children&&(lr=this.children.slice());let xr=lr[fr+2].removeInner(mr,hr+1);xr!=empty?lr[fr+2]=xr:(lr.splice(fr,3),fr-=3)}if(dr.length){for(let fr=0,mr;fr<rr.length;fr++)if(mr=rr[fr])for(let hr=0;hr<dr.length;hr++)dr[hr].eq(mr,ir)&&(dr==this.local&&(dr=this.local.slice()),dr.splice(hr--,1))}return lr==this.children&&dr==this.local?this:dr.length||lr.length?new DecorationSet(dr,lr):empty}forChild(rr,ir){if(this==empty)return this;if(ir.isLeaf)return DecorationSet.empty;let lr,dr;for(let hr=0;hr<this.children.length;hr+=3)if(this.children[hr]>=rr){this.children[hr]==rr&&(lr=this.children[hr+2]);break}let fr=rr+1,mr=fr+ir.content.size;for(let hr=0;hr<this.local.length;hr++){let gr=this.local[hr];if(gr.from<mr&&gr.to>fr&&gr.type instanceof InlineType){let xr=Math.max(fr,gr.from)-fr,_r=Math.min(mr,gr.to)-fr;xr<_r&&(dr||(dr=[])).push(gr.copy(xr,_r))}}if(dr){let hr=new DecorationSet(dr.sort(byPos),none);return lr?new DecorationGroup([hr,lr]):hr}return lr||empty}eq(rr){if(this==rr)return!0;if(!(rr instanceof DecorationSet)||this.local.length!=rr.local.length||this.children.length!=rr.children.length)return!1;for(let ir=0;ir<this.local.length;ir++)if(!this.local[ir].eq(rr.local[ir]))return!1;for(let ir=0;ir<this.children.length;ir+=3)if(this.children[ir]!=rr.children[ir]||this.children[ir+1]!=rr.children[ir+1]||!this.children[ir+2].eq(rr.children[ir+2]))return!1;return!0}locals(rr){return removeOverlap(this.localsInner(rr))}localsInner(rr){if(this==empty)return none;if(rr.inlineContent||!this.local.some(InlineType.is))return this.local;let ir=[];for(let lr=0;lr<this.local.length;lr++)this.local[lr].type instanceof InlineType||ir.push(this.local[lr]);return ir}forEachSet(rr){rr(this)}}DecorationSet.empty=new DecorationSet([],[]);DecorationSet.removeOverlap=removeOverlap;const empty=DecorationSet.empty;class DecorationGroup{constructor(rr){this.members=rr}map(rr,ir){const lr=this.members.map(dr=>dr.map(rr,ir,noSpec));return DecorationGroup.from(lr)}forChild(rr,ir){if(ir.isLeaf)return DecorationSet.empty;let lr=[];for(let dr=0;dr<this.members.length;dr++){let fr=this.members[dr].forChild(rr,ir);fr!=empty&&(fr instanceof DecorationGroup?lr=lr.concat(fr.members):lr.push(fr))}return DecorationGroup.from(lr)}eq(rr){if(!(rr instanceof DecorationGroup)||rr.members.length!=this.members.length)return!1;for(let ir=0;ir<this.members.length;ir++)if(!this.members[ir].eq(rr.members[ir]))return!1;return!0}locals(rr){let ir,lr=!0;for(let dr=0;dr<this.members.length;dr++){let fr=this.members[dr].localsInner(rr);if(fr.length)if(!ir)ir=fr;else{lr&&(ir=ir.slice(),lr=!1);for(let mr=0;mr<fr.length;mr++)ir.push(fr[mr])}}return ir?removeOverlap(lr?ir:ir.sort(byPos)):none}static from(rr){switch(rr.length){case 0:return empty;case 1:return rr[0];default:return new DecorationGroup(rr.every(ir=>ir instanceof DecorationSet)?rr:rr.reduce((ir,lr)=>ir.concat(lr instanceof DecorationSet?lr:lr.members),[]))}}forEachSet(rr){for(let ir=0;ir<this.members.length;ir++)this.members[ir].forEachSet(rr)}}function mapChildren(e,rr,ir,lr,dr,fr,mr){let hr=e.slice();for(let xr=0,_r=fr;xr<ir.maps.length;xr++){let yr=0;ir.maps[xr].forEach((vr,br,Sr,wr)=>{let Mr=wr-Sr-(br-vr);for(let kr=0;kr<hr.length;kr+=3){let Ar=hr[kr+1];if(Ar<0||vr>Ar+_r-yr)continue;let Ir=hr[kr]+_r-yr;br>=Ir?hr[kr+1]=vr<=Ir?-2:-1:vr>=_r&&Mr&&(hr[kr]+=Mr,hr[kr+1]+=Mr)}yr+=Mr}),_r=ir.maps[xr].map(_r,-1)}let gr=!1;for(let xr=0;xr<hr.length;xr+=3)if(hr[xr+1]<0){if(hr[xr+1]==-2){gr=!0,hr[xr+1]=-1;continue}let _r=ir.map(e[xr]+fr),yr=_r-dr;if(yr<0||yr>=lr.content.size){gr=!0;continue}let vr=ir.map(e[xr+1]+fr,-1),br=vr-dr,{index:Sr,offset:wr}=lr.content.findIndex(yr),Mr=lr.maybeChild(Sr);if(Mr&&wr==yr&&wr+Mr.nodeSize==br){let kr=hr[xr+2].mapInner(ir,Mr,_r+1,e[xr]+fr+1,mr);kr!=empty?(hr[xr]=yr,hr[xr+1]=br,hr[xr+2]=kr):(hr[xr+1]=-2,gr=!0)}else gr=!0}if(gr){let xr=mapAndGatherRemainingDecorations(hr,e,rr,ir,dr,fr,mr),_r=buildTree(xr,lr,0,mr);rr=_r.local;for(let yr=0;yr<hr.length;yr+=3)hr[yr+1]<0&&(hr.splice(yr,3),yr-=3);for(let yr=0,vr=0;yr<_r.children.length;yr+=3){let br=_r.children[yr];for(;vr<hr.length&&hr[vr]<br;)vr+=3;hr.splice(vr,0,_r.children[yr],_r.children[yr+1],_r.children[yr+2])}}return new DecorationSet(rr.sort(byPos),hr)}function moveSpans(e,rr){if(!rr||!e.length)return e;let ir=[];for(let lr=0;lr<e.length;lr++){let dr=e[lr];ir.push(new Decoration(dr.from+rr,dr.to+rr,dr.type))}return ir}function mapAndGatherRemainingDecorations(e,rr,ir,lr,dr,fr,mr){function hr(gr,xr){for(let _r=0;_r<gr.local.length;_r++){let yr=gr.local[_r].map(lr,dr,xr);yr?ir.push(yr):mr.onRemove&&mr.onRemove(gr.local[_r].spec)}for(let _r=0;_r<gr.children.length;_r+=3)hr(gr.children[_r+2],gr.children[_r]+xr+1)}for(let gr=0;gr<e.length;gr+=3)e[gr+1]==-1&&hr(e[gr+2],rr[gr]+fr+1);return ir}function takeSpansForNode(e,rr,ir){if(rr.isLeaf)return null;let lr=ir+rr.nodeSize,dr=null;for(let fr=0,mr;fr<e.length;fr++)(mr=e[fr])&&mr.from>ir&&mr.to<lr&&((dr||(dr=[])).push(mr),e[fr]=null);return dr}function withoutNulls(e){let rr=[];for(let ir=0;ir<e.length;ir++)e[ir]!=null&&rr.push(e[ir]);return rr}function buildTree(e,rr,ir,lr){let dr=[],fr=!1;rr.forEach((hr,gr)=>{let xr=takeSpansForNode(e,hr,gr+ir);if(xr){fr=!0;let _r=buildTree(xr,hr,ir+gr+1,lr);_r!=empty&&dr.push(gr,gr+hr.nodeSize,_r)}});let mr=moveSpans(fr?withoutNulls(e):e,-ir).sort(byPos);for(let hr=0;hr<mr.length;hr++)mr[hr].type.valid(rr,mr[hr])||(lr.onRemove&&lr.onRemove(mr[hr].spec),mr.splice(hr--,1));return mr.length||dr.length?new DecorationSet(mr,dr):empty}function byPos(e,rr){return e.from-rr.from||e.to-rr.to}function removeOverlap(e){let rr=e;for(let ir=0;ir<rr.length-1;ir++){let lr=rr[ir];if(lr.from!=lr.to)for(let dr=ir+1;dr<rr.length;dr++){let fr=rr[dr];if(fr.from==lr.from){fr.to!=lr.to&&(rr==e&&(rr=e.slice()),rr[dr]=fr.copy(fr.from,lr.to),insertAhead(rr,dr+1,fr.copy(lr.to,fr.to)));continue}else{fr.from<lr.to&&(rr==e&&(rr=e.slice()),rr[ir]=lr.copy(lr.from,fr.from),insertAhead(rr,dr,lr.copy(fr.from,lr.to)));break}}}return rr}function insertAhead(e,rr,ir){for(;rr<e.length&&byPos(ir,e[rr])>0;)rr++;e.splice(rr,0,ir)}function viewDecorations(e){let rr=[];return e.someProp("decorations",ir=>{let lr=ir(e.state);lr&&lr!=empty&&rr.push(lr)}),e.cursorWrapper&&rr.push(DecorationSet.create(e.state.doc,[e.cursorWrapper.deco])),DecorationGroup.from(rr)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie$3&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(rr){this.anchorNode=rr.anchorNode,this.anchorOffset=rr.anchorOffset,this.focusNode=rr.focusNode,this.focusOffset=rr.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(rr){return rr.anchorNode==this.anchorNode&&rr.anchorOffset==this.anchorOffset&&rr.focusNode==this.focusNode&&rr.focusOffset==this.focusOffset}}class DOMObserver{constructor(rr,ir){this.view=rr,this.handleDOMChange=ir,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(lr=>{for(let dr=0;dr<lr.length;dr++)this.queue.push(lr[dr]);ie$3&&ie_version<=11&&lr.some(dr=>dr.type=="childList"&&dr.removedNodes.length||dr.type=="characterData"&&dr.oldValue.length>dr.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=lr=>{this.queue.push({target:lr.target,type:"characterData",oldValue:lr.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let rr=this.observer.takeRecords();if(rr.length){for(let ir=0;ir<rr.length;ir++)this.queue.push(rr[ir]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie$3&&ie_version<=11&&!this.view.state.selection.empty){let rr=this.view.domSelectionRange();if(rr.focusNode&&isEquivalentPosition(rr.focusNode,rr.focusOffset,rr.anchorNode,rr.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(rr){if(!rr.focusNode)return!0;let ir=new Set,lr;for(let fr=rr.focusNode;fr;fr=parentNode(fr))ir.add(fr);for(let fr=rr.anchorNode;fr;fr=parentNode(fr))if(ir.has(fr)){lr=fr;break}let dr=lr&&this.view.docView.nearestDesc(lr);if(dr&&dr.ignoreMutation({type:"selection",target:lr.nodeType==3?lr.parentNode:lr}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let rr of this.observer.takeRecords())this.queue.push(rr);return this.queue}flush(){let{view:rr}=this;if(!rr.docView||this.flushingSoon>-1)return;let ir=this.pendingRecords();ir.length&&(this.queue=[]);let lr=rr.domSelectionRange(),dr=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(lr)&&hasFocusAndSelection(rr)&&!this.ignoreSelectionChange(lr),fr=-1,mr=-1,hr=!1,gr=[];if(rr.editable)for(let _r=0;_r<ir.length;_r++){let yr=this.registerMutation(ir[_r],gr);yr&&(fr=fr<0?yr.from:Math.min(yr.from,fr),mr=mr<0?yr.to:Math.max(yr.to,mr),yr.typeOver&&(hr=!0))}if(gecko&&gr.length){let _r=gr.filter(yr=>yr.nodeName=="BR");if(_r.length==2){let[yr,vr]=_r;yr.parentNode&&yr.parentNode.parentNode==vr.parentNode?vr.remove():yr.remove()}else{let{focusNode:yr}=this.currentSelection;for(let vr of _r){let br=vr.parentNode;br&&br.nodeName=="LI"&&(!yr||blockParent(rr,yr)!=br)&&vr.remove()}}}let xr=null;fr<0&&dr&&rr.input.lastFocus>Date.now()-200&&Math.max(rr.input.lastTouch,rr.input.lastClick.time)<Date.now()-300&&selectionCollapsed(lr)&&(xr=selectionFromDOM(rr))&&xr.eq(Selection$1.near(rr.state.doc.resolve(0),1))?(rr.input.lastFocus=0,selectionToDOM(rr),this.currentSelection.set(lr),rr.scrollToSelection()):(fr>-1||dr)&&(fr>-1&&(rr.docView.markDirty(fr,mr),checkCSS(rr)),this.handleDOMChange(fr,mr,hr,gr),rr.docView&&rr.docView.dirty?rr.updateState(rr.state):this.currentSelection.eq(lr)||selectionToDOM(rr),this.currentSelection.set(lr))}registerMutation(rr,ir){if(ir.indexOf(rr.target)>-1)return null;let lr=this.view.docView.nearestDesc(rr.target);if(rr.type=="attributes"&&(lr==this.view.docView||rr.attributeName=="contenteditable"||rr.attributeName=="style"&&!rr.oldValue&&!rr.target.getAttribute("style"))||!lr||lr.ignoreMutation(rr))return null;if(rr.type=="childList"){for(let _r=0;_r<rr.addedNodes.length;_r++){let yr=rr.addedNodes[_r];ir.push(yr),yr.nodeType==3&&(this.lastChangedTextNode=yr)}if(lr.contentDOM&&lr.contentDOM!=lr.dom&&!lr.contentDOM.contains(rr.target))return{from:lr.posBefore,to:lr.posAfter};let dr=rr.previousSibling,fr=rr.nextSibling;if(ie$3&&ie_version<=11&&rr.addedNodes.length)for(let _r=0;_r<rr.addedNodes.length;_r++){let{previousSibling:yr,nextSibling:vr}=rr.addedNodes[_r];(!yr||Array.prototype.indexOf.call(rr.addedNodes,yr)<0)&&(dr=yr),(!vr||Array.prototype.indexOf.call(rr.addedNodes,vr)<0)&&(fr=vr)}let mr=dr&&dr.parentNode==rr.target?domIndex(dr)+1:0,hr=lr.localPosFromDOM(rr.target,mr,-1),gr=fr&&fr.parentNode==rr.target?domIndex(fr):rr.target.childNodes.length,xr=lr.localPosFromDOM(rr.target,gr,1);return{from:hr,to:xr}}else return rr.type=="attributes"?{from:lr.posAtStart-lr.border,to:lr.posAtEnd+lr.border}:(this.lastChangedTextNode=rr.target,{from:lr.posAtStart,to:lr.posAtEnd,typeOver:rr.target.nodeValue==rr.oldValue})}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(e){if(!cssChecked.has(e)&&(cssChecked.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function rangeToSelectionRange(e,rr){let ir=rr.startContainer,lr=rr.startOffset,dr=rr.endContainer,fr=rr.endOffset,mr=e.domAtPos(e.state.selection.anchor);return isEquivalentPosition(mr.node,mr.offset,dr,fr)&&([ir,lr,dr,fr]=[dr,fr,ir,lr]),{anchorNode:ir,anchorOffset:lr,focusNode:dr,focusOffset:fr}}function safariShadowSelectionRange(e,rr){if(rr.getComposedRanges){let dr=rr.getComposedRanges(e.root)[0];if(dr)return rangeToSelectionRange(e,dr)}let ir;function lr(dr){dr.preventDefault(),dr.stopImmediatePropagation(),ir=dr.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",lr,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",lr,!0),ir?rangeToSelectionRange(e,ir):null}function blockParent(e,rr){for(let ir=rr.parentNode;ir&&ir!=e.dom;ir=ir.parentNode){let lr=e.docView.nearestDesc(ir,!0);if(lr&&lr.node.isBlock)return ir}return null}function parseBetween(e,rr,ir){let{node:lr,fromOffset:dr,toOffset:fr,from:mr,to:hr}=e.docView.parseRange(rr,ir),gr=e.domSelectionRange(),xr,_r=gr.anchorNode;if(_r&&e.dom.contains(_r.nodeType==1?_r:_r.parentNode)&&(xr=[{node:_r,offset:gr.anchorOffset}],selectionCollapsed(gr)||xr.push({node:gr.focusNode,offset:gr.focusOffset})),chrome&&e.input.lastKeyCode===8)for(let Mr=fr;Mr>dr;Mr--){let kr=lr.childNodes[Mr-1],Ar=kr.pmViewDesc;if(kr.nodeName=="BR"&&!Ar){fr=Mr;break}if(!Ar||Ar.size)break}let yr=e.state.doc,vr=e.someProp("domParser")||DOMParser.fromSchema(e.state.schema),br=yr.resolve(mr),Sr=null,wr=vr.parse(lr,{topNode:br.parent,topMatch:br.parent.contentMatchAt(br.index()),topOpen:!0,from:dr,to:fr,preserveWhitespace:br.parent.type.whitespace=="pre"?"full":!0,findPositions:xr,ruleFromNode,context:br});if(xr&&xr[0].pos!=null){let Mr=xr[0].pos,kr=xr[1]&&xr[1].pos;kr==null&&(kr=Mr),Sr={anchor:Mr+mr,head:kr+mr}}return{doc:wr,sel:Sr,from:mr,to:hr}}function ruleFromNode(e){let rr=e.pmViewDesc;if(rr)return rr.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let ir=document.createElement("div");return ir.appendChild(document.createElement("li")),{skip:ir}}else if(e.parentNode.lastChild==e||safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const isInline=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function readDOMChange(e,rr,ir,lr,dr){let fr=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,rr<0){let Lr=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,zr=selectionFromDOM(e,Lr);if(zr&&!e.state.selection.eq(zr)){if(chrome&&android&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",Jr=>Jr(e,keyEvent(13,"Enter"))))return;let Gr=e.state.tr.setSelection(zr);Lr=="pointer"?Gr.setMeta("pointer",!0):Lr=="key"&&Gr.scrollIntoView(),fr&&Gr.setMeta("composition",fr),e.dispatch(Gr)}return}let mr=e.state.doc.resolve(rr),hr=mr.sharedDepth(ir);rr=mr.before(hr+1),ir=e.state.doc.resolve(ir).after(hr+1);let gr=e.state.selection,xr=parseBetween(e,rr,ir),_r=e.state.doc,yr=_r.slice(xr.from,xr.to),vr,br;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(vr=e.state.selection.to,br="end"):(vr=e.state.selection.from,br="start"),e.input.lastKeyCode=null;let Sr=findDiff(yr.content,xr.doc.content,xr.from,vr,br);if(Sr&&e.input.domChangeCount++,(ios&&e.input.lastIOSEnter>Date.now()-225||android)&&dr.some(Lr=>Lr.nodeType==1&&!isInline.test(Lr.nodeName))&&(!Sr||Sr.endA>=Sr.endB)&&e.someProp("handleKeyDown",Lr=>Lr(e,keyEvent(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!Sr)if(lr&&gr instanceof TextSelection&&!gr.empty&&gr.$head.sameParent(gr.$anchor)&&!e.composing&&!(xr.sel&&xr.sel.anchor!=xr.sel.head))Sr={start:gr.from,endA:gr.to,endB:gr.to};else{if(xr.sel){let Lr=resolveSelection(e,e.state.doc,xr.sel);if(Lr&&!Lr.eq(e.state.selection)){let zr=e.state.tr.setSelection(Lr);fr&&zr.setMeta("composition",fr),e.dispatch(zr)}}return}e.state.selection.from<e.state.selection.to&&Sr.start==Sr.endB&&e.state.selection instanceof TextSelection&&(Sr.start>e.state.selection.from&&Sr.start<=e.state.selection.from+2&&e.state.selection.from>=xr.from?Sr.start=e.state.selection.from:Sr.endA<e.state.selection.to&&Sr.endA>=e.state.selection.to-2&&e.state.selection.to<=xr.to&&(Sr.endB+=e.state.selection.to-Sr.endA,Sr.endA=e.state.selection.to)),ie$3&&ie_version<=11&&Sr.endB==Sr.start+1&&Sr.endA==Sr.start&&Sr.start>xr.from&&xr.doc.textBetween(Sr.start-xr.from-1,Sr.start-xr.from+1)==" "&&(Sr.start--,Sr.endA--,Sr.endB--);let wr=xr.doc.resolveNoCache(Sr.start-xr.from),Mr=xr.doc.resolveNoCache(Sr.endB-xr.from),kr=_r.resolve(Sr.start),Ar=wr.sameParent(Mr)&&wr.parent.inlineContent&&kr.end()>=Sr.endA,Ir;if((ios&&e.input.lastIOSEnter>Date.now()-225&&(!Ar||dr.some(Lr=>Lr.nodeName=="DIV"||Lr.nodeName=="P"))||!Ar&&wr.pos<xr.doc.content.size&&(!wr.sameParent(Mr)||!wr.parent.inlineContent)&&!/\S/.test(xr.doc.textBetween(wr.pos,Mr.pos,"",""))&&(Ir=Selection$1.findFrom(xr.doc.resolve(wr.pos+1),1,!0))&&Ir.head>wr.pos)&&e.someProp("handleKeyDown",Lr=>Lr(e,keyEvent(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>Sr.start&&looksLikeBackspace(_r,Sr.start,Sr.endA,wr,Mr)&&e.someProp("handleKeyDown",Lr=>Lr(e,keyEvent(8,"Backspace")))){android&&chrome&&e.domObserver.suppressSelectionUpdates();return}chrome&&Sr.endB==Sr.start&&(e.input.lastChromeDelete=Date.now()),android&&!Ar&&wr.start()!=Mr.start()&&Mr.parentOffset==0&&wr.depth==Mr.depth&&xr.sel&&xr.sel.anchor==xr.sel.head&&xr.sel.head==Sr.endA&&(Sr.endB-=2,Mr=xr.doc.resolveNoCache(Sr.endB-xr.from),setTimeout(()=>{e.someProp("handleKeyDown",function(Lr){return Lr(e,keyEvent(13,"Enter"))})},20));let $r=Sr.start,Dr=Sr.endA,Or=Lr=>{let zr=Lr||e.state.tr.replace($r,Dr,xr.doc.slice(Sr.start-xr.from,Sr.endB-xr.from));if(xr.sel){let Gr=resolveSelection(e,zr.doc,xr.sel);Gr&&!(chrome&&e.composing&&Gr.empty&&(Sr.start!=Sr.endB||e.input.lastChromeDelete<Date.now()-100)&&(Gr.head==$r||Gr.head==zr.mapping.map(Dr)-1)||ie$3&&Gr.empty&&Gr.head==$r)&&zr.setSelection(Gr)}return fr&&zr.setMeta("composition",fr),zr.scrollIntoView()},Fr;if(Ar){if(wr.pos==Mr.pos){ie$3&&ie_version<=11&&wr.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(e),20));let Lr=Or(e.state.tr.delete($r,Dr)),zr=_r.resolve(Sr.start).marksAcross(_r.resolve(Sr.endA));zr&&Lr.ensureMarks(zr),e.dispatch(Lr)}else if(Sr.endA==Sr.endB&&(Fr=isMarkChange(wr.parent.content.cut(wr.parentOffset,Mr.parentOffset),kr.parent.content.cut(kr.parentOffset,Sr.endA-kr.start())))){let Lr=Or(e.state.tr);Fr.type=="add"?Lr.addMark($r,Dr,Fr.mark):Lr.removeMark($r,Dr,Fr.mark),e.dispatch(Lr)}else if(wr.parent.child(wr.index()).isText&&wr.index()==Mr.index()-(Mr.textOffset?0:1)){let Lr=wr.parent.textBetween(wr.parentOffset,Mr.parentOffset),zr=()=>Or(e.state.tr.insertText(Lr,$r,Dr));e.someProp("handleTextInput",Gr=>Gr(e,$r,Dr,Lr,zr))||e.dispatch(zr())}}else e.dispatch(Or())}function resolveSelection(e,rr,ir){return Math.max(ir.anchor,ir.head)>rr.content.size?null:selectionBetween(e,rr.resolve(ir.anchor),rr.resolve(ir.head))}function isMarkChange(e,rr){let ir=e.firstChild.marks,lr=rr.firstChild.marks,dr=ir,fr=lr,mr,hr,gr;for(let _r=0;_r<lr.length;_r++)dr=lr[_r].removeFromSet(dr);for(let _r=0;_r<ir.length;_r++)fr=ir[_r].removeFromSet(fr);if(dr.length==1&&fr.length==0)hr=dr[0],mr="add",gr=_r=>_r.mark(hr.addToSet(_r.marks));else if(dr.length==0&&fr.length==1)hr=fr[0],mr="remove",gr=_r=>_r.mark(hr.removeFromSet(_r.marks));else return null;let xr=[];for(let _r=0;_r<rr.childCount;_r++)xr.push(gr(rr.child(_r)));if(Fragment.from(xr).eq(e))return{mark:hr,type:mr}}function looksLikeBackspace(e,rr,ir,lr,dr){if(ir-rr<=dr.pos-lr.pos||skipClosingAndOpening(lr,!0,!1)<dr.pos)return!1;let fr=e.resolve(rr);if(!lr.parent.isTextblock){let hr=fr.nodeAfter;return hr!=null&&ir==rr+hr.nodeSize}if(fr.parentOffset<fr.parent.content.size||!fr.parent.isTextblock)return!1;let mr=e.resolve(skipClosingAndOpening(fr,!0,!0));return!mr.parent.isTextblock||mr.pos>ir||skipClosingAndOpening(mr,!0,!1)<ir?!1:lr.parent.content.cut(lr.parentOffset).eq(mr.parent.content)}function skipClosingAndOpening(e,rr,ir){let lr=e.depth,dr=rr?e.end():e.pos;for(;lr>0&&(rr||e.indexAfter(lr)==e.node(lr).childCount);)lr--,dr++,rr=!1;if(ir){let fr=e.node(lr).maybeChild(e.indexAfter(lr));for(;fr&&!fr.isLeaf;)fr=fr.firstChild,dr++}return dr}function findDiff(e,rr,ir,lr,dr){let fr=e.findDiffStart(rr,ir);if(fr==null)return null;let{a:mr,b:hr}=e.findDiffEnd(rr,ir+e.size,ir+rr.size);if(dr=="end"){let gr=Math.max(0,fr-Math.min(mr,hr));lr-=mr+gr-fr}if(mr<fr&&e.size<rr.size){let gr=lr<=fr&&lr>=mr?fr-lr:0;fr-=gr,fr&&fr<rr.size&&isSurrogatePair(rr.textBetween(fr-1,fr+1))&&(fr+=gr?1:-1),hr=fr+(hr-mr),mr=fr}else if(hr<fr){let gr=lr<=fr&&lr>=hr?fr-lr:0;fr-=gr,fr&&fr<e.size&&isSurrogatePair(e.textBetween(fr-1,fr+1))&&(fr+=gr?1:-1),mr=fr+(mr-hr),hr=fr}return{start:fr,endA:mr,endB:hr}}function isSurrogatePair(e){if(e.length!=2)return!1;let rr=e.charCodeAt(0),ir=e.charCodeAt(1);return rr>=56320&&rr<=57343&&ir>=55296&&ir<=56319}class EditorView{constructor(rr,ir){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=ir,this.state=ir.state,this.directPlugins=ir.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=rr&&rr.mount||document.createElement("div"),rr&&(rr.appendChild?rr.appendChild(this.dom):typeof rr=="function"?rr(this.dom):rr.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(lr,dr,fr,mr)=>readDOMChange(this,lr,dr,fr,mr)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let rr=this._props;this._props={};for(let ir in rr)this._props[ir]=rr[ir];this._props.state=this.state}return this._props}update(rr){rr.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let ir=this._props;this._props=rr,rr.plugins&&(rr.plugins.forEach(checkStateComponent),this.directPlugins=rr.plugins),this.updateStateInner(rr.state,ir)}setProps(rr){let ir={};for(let lr in this._props)ir[lr]=this._props[lr];ir.state=this.state;for(let lr in rr)ir[lr]=rr[lr];this.update(ir)}updateState(rr){this.updateStateInner(rr,this._props)}updateStateInner(rr,ir){var lr;let dr=this.state,fr=!1,mr=!1;rr.storedMarks&&this.composing&&(clearComposition(this),mr=!0),this.state=rr;let hr=dr.plugins!=rr.plugins||this._props.plugins!=ir.plugins;if(hr||this._props.plugins!=ir.plugins||this._props.nodeViews!=ir.nodeViews){let br=buildNodeViews(this);changedNodeViews(br,this.nodeViews)&&(this.nodeViews=br,fr=!0)}(hr||ir.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let gr=viewDecorations(this),xr=computeDocDeco(this),_r=dr.plugins!=rr.plugins&&!dr.doc.eq(rr.doc)?"reset":rr.scrollToSelection>dr.scrollToSelection?"to selection":"preserve",yr=fr||!this.docView.matchesNode(rr.doc,xr,gr);(yr||!rr.selection.eq(dr.selection))&&(mr=!0);let vr=_r=="preserve"&&mr&&this.dom.style.overflowAnchor==null&&storeScrollPos(this);if(mr){this.domObserver.stop();let br=yr&&(ie$3||chrome)&&!this.composing&&!dr.selection.empty&&!rr.selection.empty&&selectionContextChanged(dr.selection,rr.selection);if(yr){let Sr=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=findCompositionNode(this)),(fr||!this.docView.update(rr.doc,xr,gr,this))&&(this.docView.updateOuterDeco(xr),this.docView.destroy(),this.docView=docViewDesc(rr.doc,xr,gr,this.dom,this)),Sr&&!this.trackWrites&&(br=!0)}br||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,br):(syncNodeSelection(this,rr.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(dr),!((lr=this.dragging)===null||lr===void 0)&&lr.node&&!dr.doc.eq(rr.doc)&&this.updateDraggedNode(this.dragging,dr),_r=="reset"?this.dom.scrollTop=0:_r=="to selection"?this.scrollToSelection():vr&&resetScrollPos(vr)}scrollToSelection(){let rr=this.domSelectionRange().focusNode;if(!(!rr||!this.dom.contains(rr.nodeType==1?rr:rr.parentNode))){if(!this.someProp("handleScrollToSelection",ir=>ir(this)))if(this.state.selection instanceof NodeSelection){let ir=this.docView.domAfterPos(this.state.selection.from);ir.nodeType==1&&scrollRectIntoView(this,ir.getBoundingClientRect(),rr)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),rr)}}destroyPluginViews(){let rr;for(;rr=this.pluginViews.pop();)rr.destroy&&rr.destroy()}updatePluginViews(rr){if(!rr||rr.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let ir=0;ir<this.directPlugins.length;ir++){let lr=this.directPlugins[ir];lr.spec.view&&this.pluginViews.push(lr.spec.view(this))}for(let ir=0;ir<this.state.plugins.length;ir++){let lr=this.state.plugins[ir];lr.spec.view&&this.pluginViews.push(lr.spec.view(this))}}else for(let ir=0;ir<this.pluginViews.length;ir++){let lr=this.pluginViews[ir];lr.update&&lr.update(this,rr)}}updateDraggedNode(rr,ir){let lr=rr.node,dr=-1;if(this.state.doc.nodeAt(lr.from)==lr.node)dr=lr.from;else{let fr=lr.from+(this.state.doc.content.size-ir.doc.content.size);(fr>0&&this.state.doc.nodeAt(fr))==lr.node&&(dr=fr)}this.dragging=new Dragging(rr.slice,rr.move,dr<0?void 0:NodeSelection.create(this.state.doc,dr))}someProp(rr,ir){let lr=this._props&&this._props[rr],dr;if(lr!=null&&(dr=ir?ir(lr):lr))return dr;for(let mr=0;mr<this.directPlugins.length;mr++){let hr=this.directPlugins[mr].props[rr];if(hr!=null&&(dr=ir?ir(hr):hr))return dr}let fr=this.state.plugins;if(fr)for(let mr=0;mr<fr.length;mr++){let hr=fr[mr].props[rr];if(hr!=null&&(dr=ir?ir(hr):hr))return dr}}hasFocus(){if(ie$3){let rr=this.root.activeElement;if(rr==this.dom)return!0;if(!rr||!this.dom.contains(rr))return!1;for(;rr&&this.dom!=rr&&this.dom.contains(rr);){if(rr.contentEditable=="false")return!1;rr=rr.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let rr=this._root;if(rr==null){for(let ir=this.dom.parentNode;ir;ir=ir.parentNode)if(ir.nodeType==9||ir.nodeType==11&&ir.host)return ir.getSelection||(Object.getPrototypeOf(ir).getSelection=()=>ir.ownerDocument.getSelection()),this._root=ir}return rr||document}updateRoot(){this._root=null}posAtCoords(rr){return posAtCoords(this,rr)}coordsAtPos(rr,ir=1){return coordsAtPos(this,rr,ir)}domAtPos(rr,ir=0){return this.docView.domFromPos(rr,ir)}nodeDOM(rr){let ir=this.docView.descAt(rr);return ir?ir.nodeDOM:null}posAtDOM(rr,ir,lr=-1){let dr=this.docView.posFromDOM(rr,ir,lr);if(dr==null)throw new RangeError("DOM position not inside the editor");return dr}endOfTextblock(rr,ir){return endOfTextblock(this,ir||this.state,rr)}pasteHTML(rr,ir){return doPaste(this,"",rr,!1,ir||new ClipboardEvent("paste"))}pasteText(rr,ir){return doPaste(this,rr,null,!0,ir||new ClipboardEvent("paste"))}serializeForClipboard(rr){return serializeForClipboard(this,rr)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,clearReusedRange())}get isDestroyed(){return this.docView==null}dispatchEvent(rr){return dispatchEvent(this,rr)}domSelectionRange(){let rr=this.domSelection();return rr?safari&&this.root.nodeType===11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariShadowSelectionRange(this,rr)||rr:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}EditorView.prototype.dispatch=function(e){let rr=this._props.dispatchTransaction;rr?rr.call(this,e):this.updateState(this.state.apply(e))};function computeDocDeco(e){let rr=Object.create(null);return rr.class="ProseMirror",rr.contenteditable=String(e.editable),e.someProp("attributes",ir=>{if(typeof ir=="function"&&(ir=ir(e.state)),ir)for(let lr in ir)lr=="class"?rr.class+=" "+ir[lr]:lr=="style"?rr.style=(rr.style?rr.style+";":"")+ir[lr]:!rr[lr]&&lr!="contenteditable"&&lr!="nodeName"&&(rr[lr]=String(ir[lr]))}),rr.translate||(rr.translate="no"),[Decoration.node(0,e.state.doc.content.size,rr)]}function updateCursorWrapper(e){if(e.markCursor){let rr=document.createElement("img");rr.className="ProseMirror-separator",rr.setAttribute("mark-placeholder","true"),rr.setAttribute("alt",""),e.cursorWrapper={dom:rr,deco:Decoration.widget(e.state.selection.from,rr,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function getEditable(e){return!e.someProp("editable",rr=>rr(e.state)===!1)}function selectionContextChanged(e,rr){let ir=Math.min(e.$anchor.sharedDepth(e.head),rr.$anchor.sharedDepth(rr.head));return e.$anchor.start(ir)!=rr.$anchor.start(ir)}function buildNodeViews(e){let rr=Object.create(null);function ir(lr){for(let dr in lr)Object.prototype.hasOwnProperty.call(rr,dr)||(rr[dr]=lr[dr])}return e.someProp("nodeViews",ir),e.someProp("markViews",ir),rr}function changedNodeViews(e,rr){let ir=0,lr=0;for(let dr in e){if(e[dr]!=rr[dr])return!0;ir++}for(let dr in rr)lr++;return ir!=lr}function checkStateComponent(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac$1=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i$1=0;i$1<10;i$1++)base[48+i$1]=base[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(e){var rr=mac$1&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||ie$2&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",ir=!rr&&e.key||(e.shiftKey?shift:base)[e.keyCode]||e.key||"Unidentified";return ir=="Esc"&&(ir="Escape"),ir=="Del"&&(ir="Delete"),ir=="Left"&&(ir="ArrowLeft"),ir=="Up"&&(ir="ArrowUp"),ir=="Right"&&(ir="ArrowRight"),ir=="Down"&&(ir="ArrowDown"),ir}const mac=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),windows=typeof navigator<"u"&&/Win/.test(navigator.platform);function normalizeKeyName$1(e){let rr=e.split(/-(?!$)/),ir=rr[rr.length-1];ir=="Space"&&(ir=" ");let lr,dr,fr,mr;for(let hr=0;hr<rr.length-1;hr++){let gr=rr[hr];if(/^(cmd|meta|m)$/i.test(gr))mr=!0;else if(/^a(lt)?$/i.test(gr))lr=!0;else if(/^(c|ctrl|control)$/i.test(gr))dr=!0;else if(/^s(hift)?$/i.test(gr))fr=!0;else if(/^mod$/i.test(gr))mac?mr=!0:dr=!0;else throw new Error("Unrecognized modifier name: "+gr)}return lr&&(ir="Alt-"+ir),dr&&(ir="Ctrl-"+ir),mr&&(ir="Meta-"+ir),fr&&(ir="Shift-"+ir),ir}function normalize(e){let rr=Object.create(null);for(let ir in e)rr[normalizeKeyName$1(ir)]=e[ir];return rr}function modifiers(e,rr,ir=!0){return rr.altKey&&(e="Alt-"+e),rr.ctrlKey&&(e="Ctrl-"+e),rr.metaKey&&(e="Meta-"+e),ir&&rr.shiftKey&&(e="Shift-"+e),e}function keymap(e){return new Plugin({props:{handleKeyDown:keydownHandler(e)}})}function keydownHandler(e){let rr=normalize(e);return function(ir,lr){let dr=keyName(lr),fr,mr=rr[modifiers(dr,lr)];if(mr&&mr(ir.state,ir.dispatch,ir))return!0;if(dr.length==1&&dr!=" "){if(lr.shiftKey){let hr=rr[modifiers(dr,lr,!1)];if(hr&&hr(ir.state,ir.dispatch,ir))return!0}if((lr.altKey||lr.metaKey||lr.ctrlKey)&&!(windows&&lr.ctrlKey&&lr.altKey)&&(fr=base[lr.keyCode])&&fr!=dr){let hr=rr[modifiers(fr,lr)];if(hr&&hr(ir.state,ir.dispatch,ir))return!0}}return!1}}const deleteSelection$1=(e,rr)=>e.selection.empty?!1:(rr&&rr(e.tr.deleteSelection().scrollIntoView()),!0);function atBlockStart(e,rr){let{$cursor:ir}=e.selection;return!ir||(rr?!rr.endOfTextblock("backward",e):ir.parentOffset>0)?null:ir}const joinBackward$1=(e,rr,ir)=>{let lr=atBlockStart(e,ir);if(!lr)return!1;let dr=findCutBefore(lr);if(!dr){let mr=lr.blockRange(),hr=mr&&liftTarget(mr);return hr==null?!1:(rr&&rr(e.tr.lift(mr,hr).scrollIntoView()),!0)}let fr=dr.nodeBefore;if(deleteBarrier(e,dr,rr,-1))return!0;if(lr.parent.content.size==0&&(textblockAt(fr,"end")||NodeSelection.isSelectable(fr)))for(let mr=lr.depth;;mr--){let hr=replaceStep(e.doc,lr.before(mr),lr.after(mr),Slice.empty);if(hr&&hr.slice.size<hr.to-hr.from){if(rr){let gr=e.tr.step(hr);gr.setSelection(textblockAt(fr,"end")?Selection$1.findFrom(gr.doc.resolve(gr.mapping.map(dr.pos,-1)),-1):NodeSelection.create(gr.doc,dr.pos-fr.nodeSize)),rr(gr.scrollIntoView())}return!0}if(mr==1||lr.node(mr-1).childCount>1)break}return fr.isAtom&&dr.depth==lr.depth-1?(rr&&rr(e.tr.delete(dr.pos-fr.nodeSize,dr.pos).scrollIntoView()),!0):!1},joinTextblockBackward$1=(e,rr,ir)=>{let lr=atBlockStart(e,ir);if(!lr)return!1;let dr=findCutBefore(lr);return dr?joinTextblocksAround(e,dr,rr):!1},joinTextblockForward$1=(e,rr,ir)=>{let lr=atBlockEnd(e,ir);if(!lr)return!1;let dr=findCutAfter(lr);return dr?joinTextblocksAround(e,dr,rr):!1};function joinTextblocksAround(e,rr,ir){let lr=rr.nodeBefore,dr=lr,fr=rr.pos-1;for(;!dr.isTextblock;fr--){if(dr.type.spec.isolating)return!1;let _r=dr.lastChild;if(!_r)return!1;dr=_r}let mr=rr.nodeAfter,hr=mr,gr=rr.pos+1;for(;!hr.isTextblock;gr++){if(hr.type.spec.isolating)return!1;let _r=hr.firstChild;if(!_r)return!1;hr=_r}let xr=replaceStep(e.doc,fr,gr,Slice.empty);if(!xr||xr.from!=fr||xr instanceof ReplaceStep&&xr.slice.size>=gr-fr)return!1;if(ir){let _r=e.tr.step(xr);_r.setSelection(TextSelection.create(_r.doc,fr)),ir(_r.scrollIntoView())}return!0}function textblockAt(e,rr,ir=!1){for(let lr=e;lr;lr=rr=="start"?lr.firstChild:lr.lastChild){if(lr.isTextblock)return!0;if(ir&&lr.childCount!=1)return!1}return!1}const selectNodeBackward$1=(e,rr,ir)=>{let{$head:lr,empty:dr}=e.selection,fr=lr;if(!dr)return!1;if(lr.parent.isTextblock){if(ir?!ir.endOfTextblock("backward",e):lr.parentOffset>0)return!1;fr=findCutBefore(lr)}let mr=fr&&fr.nodeBefore;return!mr||!NodeSelection.isSelectable(mr)?!1:(rr&&rr(e.tr.setSelection(NodeSelection.create(e.doc,fr.pos-mr.nodeSize)).scrollIntoView()),!0)};function findCutBefore(e){if(!e.parent.type.spec.isolating)for(let rr=e.depth-1;rr>=0;rr--){if(e.index(rr)>0)return e.doc.resolve(e.before(rr+1));if(e.node(rr).type.spec.isolating)break}return null}function atBlockEnd(e,rr){let{$cursor:ir}=e.selection;return!ir||(rr?!rr.endOfTextblock("forward",e):ir.parentOffset<ir.parent.content.size)?null:ir}const joinForward$1=(e,rr,ir)=>{let lr=atBlockEnd(e,ir);if(!lr)return!1;let dr=findCutAfter(lr);if(!dr)return!1;let fr=dr.nodeAfter;if(deleteBarrier(e,dr,rr,1))return!0;if(lr.parent.content.size==0&&(textblockAt(fr,"start")||NodeSelection.isSelectable(fr))){let mr=replaceStep(e.doc,lr.before(),lr.after(),Slice.empty);if(mr&&mr.slice.size<mr.to-mr.from){if(rr){let hr=e.tr.step(mr);hr.setSelection(textblockAt(fr,"start")?Selection$1.findFrom(hr.doc.resolve(hr.mapping.map(dr.pos)),1):NodeSelection.create(hr.doc,hr.mapping.map(dr.pos))),rr(hr.scrollIntoView())}return!0}}return fr.isAtom&&dr.depth==lr.depth-1?(rr&&rr(e.tr.delete(dr.pos,dr.pos+fr.nodeSize).scrollIntoView()),!0):!1},selectNodeForward$1=(e,rr,ir)=>{let{$head:lr,empty:dr}=e.selection,fr=lr;if(!dr)return!1;if(lr.parent.isTextblock){if(ir?!ir.endOfTextblock("forward",e):lr.parentOffset<lr.parent.content.size)return!1;fr=findCutAfter(lr)}let mr=fr&&fr.nodeAfter;return!mr||!NodeSelection.isSelectable(mr)?!1:(rr&&rr(e.tr.setSelection(NodeSelection.create(e.doc,fr.pos)).scrollIntoView()),!0)};function findCutAfter(e){if(!e.parent.type.spec.isolating)for(let rr=e.depth-1;rr>=0;rr--){let ir=e.node(rr);if(e.index(rr)+1<ir.childCount)return e.doc.resolve(e.after(rr+1));if(ir.type.spec.isolating)break}return null}const joinUp$1=(e,rr)=>{let ir=e.selection,lr=ir instanceof NodeSelection,dr;if(lr){if(ir.node.isTextblock||!canJoin(e.doc,ir.from))return!1;dr=ir.from}else if(dr=joinPoint(e.doc,ir.from,-1),dr==null)return!1;if(rr){let fr=e.tr.join(dr);lr&&fr.setSelection(NodeSelection.create(fr.doc,dr-e.doc.resolve(dr).nodeBefore.nodeSize)),rr(fr.scrollIntoView())}return!0},joinDown$1=(e,rr)=>{let ir=e.selection,lr;if(ir instanceof NodeSelection){if(ir.node.isTextblock||!canJoin(e.doc,ir.to))return!1;lr=ir.to}else if(lr=joinPoint(e.doc,ir.to,1),lr==null)return!1;return rr&&rr(e.tr.join(lr).scrollIntoView()),!0},lift$1=(e,rr)=>{let{$from:ir,$to:lr}=e.selection,dr=ir.blockRange(lr),fr=dr&&liftTarget(dr);return fr==null?!1:(rr&&rr(e.tr.lift(dr,fr).scrollIntoView()),!0)},newlineInCode$1=(e,rr)=>{let{$head:ir,$anchor:lr}=e.selection;return!ir.parent.type.spec.code||!ir.sameParent(lr)?!1:(rr&&rr(e.tr.insertText(`
`).scrollIntoView()),!0)};function defaultBlockAt$1(e){for(let rr=0;rr<e.edgeCount;rr++){let{type:ir}=e.edge(rr);if(ir.isTextblock&&!ir.hasRequiredAttrs())return ir}return null}const exitCode$1=(e,rr)=>{let{$head:ir,$anchor:lr}=e.selection;if(!ir.parent.type.spec.code||!ir.sameParent(lr))return!1;let dr=ir.node(-1),fr=ir.indexAfter(-1),mr=defaultBlockAt$1(dr.contentMatchAt(fr));if(!mr||!dr.canReplaceWith(fr,fr,mr))return!1;if(rr){let hr=ir.after(),gr=e.tr.replaceWith(hr,hr,mr.createAndFill());gr.setSelection(Selection$1.near(gr.doc.resolve(hr),1)),rr(gr.scrollIntoView())}return!0},createParagraphNear$1=(e,rr)=>{let ir=e.selection,{$from:lr,$to:dr}=ir;if(ir instanceof AllSelection||lr.parent.inlineContent||dr.parent.inlineContent)return!1;let fr=defaultBlockAt$1(dr.parent.contentMatchAt(dr.indexAfter()));if(!fr||!fr.isTextblock)return!1;if(rr){let mr=(!lr.parentOffset&&dr.index()<dr.parent.childCount?lr:dr).pos,hr=e.tr.insert(mr,fr.createAndFill());hr.setSelection(TextSelection.create(hr.doc,mr+1)),rr(hr.scrollIntoView())}return!0},liftEmptyBlock$1=(e,rr)=>{let{$cursor:ir}=e.selection;if(!ir||ir.parent.content.size)return!1;if(ir.depth>1&&ir.after()!=ir.end(-1)){let fr=ir.before();if(canSplit(e.doc,fr))return rr&&rr(e.tr.split(fr).scrollIntoView()),!0}let lr=ir.blockRange(),dr=lr&&liftTarget(lr);return dr==null?!1:(rr&&rr(e.tr.lift(lr,dr).scrollIntoView()),!0)};function splitBlockAs(e){return(rr,ir)=>{let{$from:lr,$to:dr}=rr.selection;if(rr.selection instanceof NodeSelection&&rr.selection.node.isBlock)return!lr.parentOffset||!canSplit(rr.doc,lr.pos)?!1:(ir&&ir(rr.tr.split(lr.pos).scrollIntoView()),!0);if(!lr.depth)return!1;let fr=[],mr,hr,gr=!1,xr=!1;for(let br=lr.depth;;br--)if(lr.node(br).isBlock){gr=lr.end(br)==lr.pos+(lr.depth-br),xr=lr.start(br)==lr.pos-(lr.depth-br),hr=defaultBlockAt$1(lr.node(br-1).contentMatchAt(lr.indexAfter(br-1))),fr.unshift(gr&&hr?{type:hr}:null),mr=br;break}else{if(br==1)return!1;fr.unshift(null)}let _r=rr.tr;(rr.selection instanceof TextSelection||rr.selection instanceof AllSelection)&&_r.deleteSelection();let yr=_r.mapping.map(lr.pos),vr=canSplit(_r.doc,yr,fr.length,fr);if(vr||(fr[0]=hr?{type:hr}:null,vr=canSplit(_r.doc,yr,fr.length,fr)),!vr)return!1;if(_r.split(yr,fr.length,fr),!gr&&xr&&lr.node(mr).type!=hr){let br=_r.mapping.map(lr.before(mr)),Sr=_r.doc.resolve(br);hr&&lr.node(mr-1).canReplaceWith(Sr.index(),Sr.index()+1,hr)&&_r.setNodeMarkup(_r.mapping.map(lr.before(mr)),hr)}return ir&&ir(_r.scrollIntoView()),!0}}const splitBlock$1=splitBlockAs(),selectParentNode$1=(e,rr)=>{let{$from:ir,to:lr}=e.selection,dr,fr=ir.sharedDepth(lr);return fr==0?!1:(dr=ir.before(fr),rr&&rr(e.tr.setSelection(NodeSelection.create(e.doc,dr))),!0)};function joinMaybeClear(e,rr,ir){let lr=rr.nodeBefore,dr=rr.nodeAfter,fr=rr.index();return!lr||!dr||!lr.type.compatibleContent(dr.type)?!1:!lr.content.size&&rr.parent.canReplace(fr-1,fr)?(ir&&ir(e.tr.delete(rr.pos-lr.nodeSize,rr.pos).scrollIntoView()),!0):!rr.parent.canReplace(fr,fr+1)||!(dr.isTextblock||canJoin(e.doc,rr.pos))?!1:(ir&&ir(e.tr.join(rr.pos).scrollIntoView()),!0)}function deleteBarrier(e,rr,ir,lr){let dr=rr.nodeBefore,fr=rr.nodeAfter,mr,hr,gr=dr.type.spec.isolating||fr.type.spec.isolating;if(!gr&&joinMaybeClear(e,rr,ir))return!0;let xr=!gr&&rr.parent.canReplace(rr.index(),rr.index()+1);if(xr&&(mr=(hr=dr.contentMatchAt(dr.childCount)).findWrapping(fr.type))&&hr.matchType(mr[0]||fr.type).validEnd){if(ir){let br=rr.pos+fr.nodeSize,Sr=Fragment.empty;for(let kr=mr.length-1;kr>=0;kr--)Sr=Fragment.from(mr[kr].create(null,Sr));Sr=Fragment.from(dr.copy(Sr));let wr=e.tr.step(new ReplaceAroundStep(rr.pos-1,br,rr.pos,br,new Slice(Sr,1,0),mr.length,!0)),Mr=wr.doc.resolve(br+2*mr.length);Mr.nodeAfter&&Mr.nodeAfter.type==dr.type&&canJoin(wr.doc,Mr.pos)&&wr.join(Mr.pos),ir(wr.scrollIntoView())}return!0}let _r=fr.type.spec.isolating||lr>0&&gr?null:Selection$1.findFrom(rr,1),yr=_r&&_r.$from.blockRange(_r.$to),vr=yr&&liftTarget(yr);if(vr!=null&&vr>=rr.depth)return ir&&ir(e.tr.lift(yr,vr).scrollIntoView()),!0;if(xr&&textblockAt(fr,"start",!0)&&textblockAt(dr,"end")){let br=dr,Sr=[];for(;Sr.push(br),!br.isTextblock;)br=br.lastChild;let wr=fr,Mr=1;for(;!wr.isTextblock;wr=wr.firstChild)Mr++;if(br.canReplace(br.childCount,br.childCount,wr.content)){if(ir){let kr=Fragment.empty;for(let Ir=Sr.length-1;Ir>=0;Ir--)kr=Fragment.from(Sr[Ir].copy(kr));let Ar=e.tr.step(new ReplaceAroundStep(rr.pos-Sr.length,rr.pos+fr.nodeSize,rr.pos+Mr,rr.pos+fr.nodeSize-Mr,new Slice(kr,Sr.length,0),0,!0));ir(Ar.scrollIntoView())}return!0}}return!1}function selectTextblockSide(e){return function(rr,ir){let lr=rr.selection,dr=e<0?lr.$from:lr.$to,fr=dr.depth;for(;dr.node(fr).isInline;){if(!fr)return!1;fr--}return dr.node(fr).isTextblock?(ir&&ir(rr.tr.setSelection(TextSelection.create(rr.doc,e<0?dr.start(fr):dr.end(fr)))),!0):!1}}const selectTextblockStart$1=selectTextblockSide(-1),selectTextblockEnd$1=selectTextblockSide(1);function wrapIn$1(e,rr=null){return function(ir,lr){let{$from:dr,$to:fr}=ir.selection,mr=dr.blockRange(fr),hr=mr&&findWrapping(mr,e,rr);return hr?(lr&&lr(ir.tr.wrap(mr,hr).scrollIntoView()),!0):!1}}function setBlockType(e,rr=null){return function(ir,lr){let dr=!1;for(let fr=0;fr<ir.selection.ranges.length&&!dr;fr++){let{$from:{pos:mr},$to:{pos:hr}}=ir.selection.ranges[fr];ir.doc.nodesBetween(mr,hr,(gr,xr)=>{if(dr)return!1;if(!(!gr.isTextblock||gr.hasMarkup(e,rr)))if(gr.type==e)dr=!0;else{let _r=ir.doc.resolve(xr),yr=_r.index();dr=_r.parent.canReplaceWith(yr,yr+1,e)}})}if(!dr)return!1;if(lr){let fr=ir.tr;for(let mr=0;mr<ir.selection.ranges.length;mr++){let{$from:{pos:hr},$to:{pos:gr}}=ir.selection.ranges[mr];fr.setBlockType(hr,gr,e,rr)}lr(fr.scrollIntoView())}return!0}}function chainCommands(...e){return function(rr,ir,lr){for(let dr=0;dr<e.length;dr++)if(e[dr](rr,ir,lr))return!0;return!1}}chainCommands(deleteSelection$1,joinBackward$1,selectNodeBackward$1);chainCommands(deleteSelection$1,joinForward$1,selectNodeForward$1);chainCommands(newlineInCode$1,createParagraphNear$1,liftEmptyBlock$1,splitBlock$1);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function wrapInList$1(e,rr=null){return function(ir,lr){let{$from:dr,$to:fr}=ir.selection,mr=dr.blockRange(fr);if(!mr)return!1;let hr=lr?ir.tr:null;return wrapRangeInList(hr,mr,e,rr)?(lr&&lr(hr.scrollIntoView()),!0):!1}}function wrapRangeInList(e,rr,ir,lr=null){let dr=!1,fr=rr,mr=rr.$from.doc;if(rr.depth>=2&&rr.$from.node(rr.depth-1).type.compatibleContent(ir)&&rr.startIndex==0){if(rr.$from.index(rr.depth-1)==0)return!1;let gr=mr.resolve(rr.start-2);fr=new NodeRange(gr,gr,rr.depth),rr.endIndex<rr.parent.childCount&&(rr=new NodeRange(rr.$from,mr.resolve(rr.$to.end(rr.depth)),rr.depth)),dr=!0}let hr=findWrapping(fr,ir,lr,rr);return hr?(e&&doWrapInList(e,rr,hr,dr,ir),!0):!1}function doWrapInList(e,rr,ir,lr,dr){let fr=Fragment.empty;for(let _r=ir.length-1;_r>=0;_r--)fr=Fragment.from(ir[_r].type.create(ir[_r].attrs,fr));e.step(new ReplaceAroundStep(rr.start-(lr?2:0),rr.end,rr.start,rr.end,new Slice(fr,0,0),ir.length,!0));let mr=0;for(let _r=0;_r<ir.length;_r++)ir[_r].type==dr&&(mr=_r+1);let hr=ir.length-mr,gr=rr.start+ir.length-(lr?2:0),xr=rr.parent;for(let _r=rr.startIndex,yr=rr.endIndex,vr=!0;_r<yr;_r++,vr=!1)!vr&&canSplit(e.doc,gr,hr)&&(e.split(gr,hr),gr+=2*hr),gr+=xr.child(_r).nodeSize;return e}function liftListItem$1(e){return function(rr,ir){let{$from:lr,$to:dr}=rr.selection,fr=lr.blockRange(dr,mr=>mr.childCount>0&&mr.firstChild.type==e);return fr?ir?lr.node(fr.depth-1).type==e?liftToOuterList(rr,ir,e,fr):liftOutOfList(rr,ir,fr):!0:!1}}function liftToOuterList(e,rr,ir,lr){let dr=e.tr,fr=lr.end,mr=lr.$to.end(lr.depth);fr<mr&&(dr.step(new ReplaceAroundStep(fr-1,mr,fr,mr,new Slice(Fragment.from(ir.create(null,lr.parent.copy())),1,0),1,!0)),lr=new NodeRange(dr.doc.resolve(lr.$from.pos),dr.doc.resolve(mr),lr.depth));const hr=liftTarget(lr);if(hr==null)return!1;dr.lift(lr,hr);let gr=dr.doc.resolve(dr.mapping.map(fr,-1)-1);return canJoin(dr.doc,gr.pos)&&gr.nodeBefore.type==gr.nodeAfter.type&&dr.join(gr.pos),rr(dr.scrollIntoView()),!0}function liftOutOfList(e,rr,ir){let lr=e.tr,dr=ir.parent;for(let br=ir.end,Sr=ir.endIndex-1,wr=ir.startIndex;Sr>wr;Sr--)br-=dr.child(Sr).nodeSize,lr.delete(br-1,br+1);let fr=lr.doc.resolve(ir.start),mr=fr.nodeAfter;if(lr.mapping.map(ir.end)!=ir.start+fr.nodeAfter.nodeSize)return!1;let hr=ir.startIndex==0,gr=ir.endIndex==dr.childCount,xr=fr.node(-1),_r=fr.index(-1);if(!xr.canReplace(_r+(hr?0:1),_r+1,mr.content.append(gr?Fragment.empty:Fragment.from(dr))))return!1;let yr=fr.pos,vr=yr+mr.nodeSize;return lr.step(new ReplaceAroundStep(yr-(hr?1:0),vr+(gr?1:0),yr+1,vr-1,new Slice((hr?Fragment.empty:Fragment.from(dr.copy(Fragment.empty))).append(gr?Fragment.empty:Fragment.from(dr.copy(Fragment.empty))),hr?0:1,gr?0:1),hr?0:1)),rr(lr.scrollIntoView()),!0}function sinkListItem$1(e){return function(rr,ir){let{$from:lr,$to:dr}=rr.selection,fr=lr.blockRange(dr,xr=>xr.childCount>0&&xr.firstChild.type==e);if(!fr)return!1;let mr=fr.startIndex;if(mr==0)return!1;let hr=fr.parent,gr=hr.child(mr-1);if(gr.type!=e)return!1;if(ir){let xr=gr.lastChild&&gr.lastChild.type==hr.type,_r=Fragment.from(xr?e.create():null),yr=new Slice(Fragment.from(e.create(null,Fragment.from(hr.type.create(null,_r)))),xr?3:1,0),vr=fr.start,br=fr.end;ir(rr.tr.step(new ReplaceAroundStep(vr-(xr?3:1),br,vr,br,yr,1,!0)).scrollIntoView())}return!0}}function createChainableState(e){const{state:rr,transaction:ir}=e;let{selection:lr}=ir,{doc:dr}=ir,{storedMarks:fr}=ir;return{...rr,apply:rr.apply.bind(rr),applyTransaction:rr.applyTransaction.bind(rr),plugins:rr.plugins,schema:rr.schema,reconfigure:rr.reconfigure.bind(rr),toJSON:rr.toJSON.bind(rr),get storedMarks(){return fr},get selection(){return lr},get doc(){return dr},get tr(){return lr=ir.selection,dr=ir.doc,fr=ir.storedMarks,ir}}}class CommandManager{constructor(rr){this.editor=rr.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=rr.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:rr,editor:ir,state:lr}=this,{view:dr}=ir,{tr:fr}=lr,mr=this.buildProps(fr);return Object.fromEntries(Object.entries(rr).map(([hr,gr])=>[hr,(..._r)=>{const yr=gr(..._r)(mr);return!fr.getMeta("preventDispatch")&&!this.hasCustomState&&dr.dispatch(fr),yr}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(rr,ir=!0){const{rawCommands:lr,editor:dr,state:fr}=this,{view:mr}=dr,hr=[],gr=!!rr,xr=rr||fr.tr,_r=()=>(!gr&&ir&&!xr.getMeta("preventDispatch")&&!this.hasCustomState&&mr.dispatch(xr),hr.every(vr=>vr===!0)),yr={...Object.fromEntries(Object.entries(lr).map(([vr,br])=>[vr,(...wr)=>{const Mr=this.buildProps(xr,ir),kr=br(...wr)(Mr);return hr.push(kr),yr}])),run:_r};return yr}createCan(rr){const{rawCommands:ir,state:lr}=this,dr=!1,fr=rr||lr.tr,mr=this.buildProps(fr,dr);return{...Object.fromEntries(Object.entries(ir).map(([gr,xr])=>[gr,(..._r)=>xr(..._r)({...mr,dispatch:void 0})])),chain:()=>this.createChain(fr,dr)}}buildProps(rr,ir=!0){const{rawCommands:lr,editor:dr,state:fr}=this,{view:mr}=dr,hr={tr:rr,editor:dr,view:mr,state:createChainableState({state:fr,transaction:rr}),dispatch:ir?()=>{}:void 0,chain:()=>this.createChain(rr,ir),can:()=>this.createCan(rr),get commands(){return Object.fromEntries(Object.entries(lr).map(([gr,xr])=>[gr,(..._r)=>xr(..._r)(hr)]))}};return hr}}class EventEmitter{constructor(){this.callbacks={}}on(rr,ir){return this.callbacks[rr]||(this.callbacks[rr]=[]),this.callbacks[rr].push(ir),this}emit(rr,...ir){const lr=this.callbacks[rr];return lr&&lr.forEach(dr=>dr.apply(this,ir)),this}off(rr,ir){const lr=this.callbacks[rr];return lr&&(ir?this.callbacks[rr]=lr.filter(dr=>dr!==ir):delete this.callbacks[rr]),this}once(rr,ir){const lr=(...dr)=>{this.off(rr,lr),ir.apply(this,dr)};return this.on(rr,lr)}removeAllListeners(){this.callbacks={}}}function getExtensionField(e,rr,ir){return e.config[rr]===void 0&&e.parent?getExtensionField(e.parent,rr,ir):typeof e.config[rr]=="function"?e.config[rr].bind({...ir,parent:e.parent?getExtensionField(e.parent,rr,ir):null}):e.config[rr]}function splitExtensions(e){const rr=e.filter(dr=>dr.type==="extension"),ir=e.filter(dr=>dr.type==="node"),lr=e.filter(dr=>dr.type==="mark");return{baseExtensions:rr,nodeExtensions:ir,markExtensions:lr}}function getAttributesFromExtensions(e){const rr=[],{nodeExtensions:ir,markExtensions:lr}=splitExtensions(e),dr=[...ir,...lr],fr={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(mr=>{const hr={name:mr.name,options:mr.options,storage:mr.storage,extensions:dr},gr=getExtensionField(mr,"addGlobalAttributes",hr);if(!gr)return;gr().forEach(_r=>{_r.types.forEach(yr=>{Object.entries(_r.attributes).forEach(([vr,br])=>{rr.push({type:yr,name:vr,attribute:{...fr,...br}})})})})}),dr.forEach(mr=>{const hr={name:mr.name,options:mr.options,storage:mr.storage},gr=getExtensionField(mr,"addAttributes",hr);if(!gr)return;const xr=gr();Object.entries(xr).forEach(([_r,yr])=>{const vr={...fr,...yr};typeof vr?.default=="function"&&(vr.default=vr.default()),vr?.isRequired&&vr?.default===void 0&&delete vr.default,rr.push({type:mr.name,name:_r,attribute:vr})})}),rr}function getNodeType(e,rr){if(typeof e=="string"){if(!rr.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return rr.nodes[e]}return e}function mergeAttributes(...e){return e.filter(rr=>!!rr).reduce((rr,ir)=>{const lr={...rr};return Object.entries(ir).forEach(([dr,fr])=>{if(!lr[dr]){lr[dr]=fr;return}if(dr==="class"){const hr=fr?String(fr).split(" "):[],gr=lr[dr]?lr[dr].split(" "):[],xr=hr.filter(_r=>!gr.includes(_r));lr[dr]=[...gr,...xr].join(" ")}else if(dr==="style"){const hr=fr?fr.split(";").map(_r=>_r.trim()).filter(Boolean):[],gr=lr[dr]?lr[dr].split(";").map(_r=>_r.trim()).filter(Boolean):[],xr=new Map;gr.forEach(_r=>{const[yr,vr]=_r.split(":").map(br=>br.trim());xr.set(yr,vr)}),hr.forEach(_r=>{const[yr,vr]=_r.split(":").map(br=>br.trim());xr.set(yr,vr)}),lr[dr]=Array.from(xr.entries()).map(([_r,yr])=>`${_r}: ${yr}`).join("; ")}else lr[dr]=fr}),lr},{})}function getRenderedAttributes(e,rr){return rr.filter(ir=>ir.type===e.type.name).filter(ir=>ir.attribute.rendered).map(ir=>ir.attribute.renderHTML?ir.attribute.renderHTML(e.attrs)||{}:{[ir.name]:e.attrs[ir.name]}).reduce((ir,lr)=>mergeAttributes(ir,lr),{})}function isFunction$1(e){return typeof e=="function"}function callOrReturn(e,rr=void 0,...ir){return isFunction$1(e)?rr?e.bind(rr)(...ir):e(...ir):e}function isEmptyObject(e={}){return Object.keys(e).length===0&&e.constructor===Object}function fromString(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function injectExtensionAttributesToParseRule(e,rr){return"style"in e?e:{...e,getAttrs:ir=>{const lr=e.getAttrs?e.getAttrs(ir):e.attrs;if(lr===!1)return!1;const dr=rr.reduce((fr,mr)=>{const hr=mr.attribute.parseHTML?mr.attribute.parseHTML(ir):fromString(ir.getAttribute(mr.name));return hr==null?fr:{...fr,[mr.name]:hr}},{});return{...lr,...dr}}}}function cleanUpSchemaItem(e){return Object.fromEntries(Object.entries(e).filter(([rr,ir])=>rr==="attrs"&&isEmptyObject(ir)?!1:ir!=null))}function getSchemaByResolvedExtensions(e,rr){var ir;const lr=getAttributesFromExtensions(e),{nodeExtensions:dr,markExtensions:fr}=splitExtensions(e),mr=(ir=dr.find(xr=>getExtensionField(xr,"topNode")))===null||ir===void 0?void 0:ir.name,hr=Object.fromEntries(dr.map(xr=>{const _r=lr.filter(kr=>kr.type===xr.name),yr={name:xr.name,options:xr.options,storage:xr.storage,editor:rr},vr=e.reduce((kr,Ar)=>{const Ir=getExtensionField(Ar,"extendNodeSchema",yr);return{...kr,...Ir?Ir(xr):{}}},{}),br=cleanUpSchemaItem({...vr,content:callOrReturn(getExtensionField(xr,"content",yr)),marks:callOrReturn(getExtensionField(xr,"marks",yr)),group:callOrReturn(getExtensionField(xr,"group",yr)),inline:callOrReturn(getExtensionField(xr,"inline",yr)),atom:callOrReturn(getExtensionField(xr,"atom",yr)),selectable:callOrReturn(getExtensionField(xr,"selectable",yr)),draggable:callOrReturn(getExtensionField(xr,"draggable",yr)),code:callOrReturn(getExtensionField(xr,"code",yr)),whitespace:callOrReturn(getExtensionField(xr,"whitespace",yr)),linebreakReplacement:callOrReturn(getExtensionField(xr,"linebreakReplacement",yr)),defining:callOrReturn(getExtensionField(xr,"defining",yr)),isolating:callOrReturn(getExtensionField(xr,"isolating",yr)),attrs:Object.fromEntries(_r.map(kr=>{var Ar;return[kr.name,{default:(Ar=kr?.attribute)===null||Ar===void 0?void 0:Ar.default}]}))}),Sr=callOrReturn(getExtensionField(xr,"parseHTML",yr));Sr&&(br.parseDOM=Sr.map(kr=>injectExtensionAttributesToParseRule(kr,_r)));const wr=getExtensionField(xr,"renderHTML",yr);wr&&(br.toDOM=kr=>wr({node:kr,HTMLAttributes:getRenderedAttributes(kr,_r)}));const Mr=getExtensionField(xr,"renderText",yr);return Mr&&(br.toText=Mr),[xr.name,br]})),gr=Object.fromEntries(fr.map(xr=>{const _r=lr.filter(Mr=>Mr.type===xr.name),yr={name:xr.name,options:xr.options,storage:xr.storage,editor:rr},vr=e.reduce((Mr,kr)=>{const Ar=getExtensionField(kr,"extendMarkSchema",yr);return{...Mr,...Ar?Ar(xr):{}}},{}),br=cleanUpSchemaItem({...vr,inclusive:callOrReturn(getExtensionField(xr,"inclusive",yr)),excludes:callOrReturn(getExtensionField(xr,"excludes",yr)),group:callOrReturn(getExtensionField(xr,"group",yr)),spanning:callOrReturn(getExtensionField(xr,"spanning",yr)),code:callOrReturn(getExtensionField(xr,"code",yr)),attrs:Object.fromEntries(_r.map(Mr=>{var kr;return[Mr.name,{default:(kr=Mr?.attribute)===null||kr===void 0?void 0:kr.default}]}))}),Sr=callOrReturn(getExtensionField(xr,"parseHTML",yr));Sr&&(br.parseDOM=Sr.map(Mr=>injectExtensionAttributesToParseRule(Mr,_r)));const wr=getExtensionField(xr,"renderHTML",yr);return wr&&(br.toDOM=Mr=>wr({mark:Mr,HTMLAttributes:getRenderedAttributes(Mr,_r)})),[xr.name,br]}));return new Schema({topNode:mr,nodes:hr,marks:gr})}function getSchemaTypeByName(e,rr){return rr.nodes[e]||rr.marks[e]||null}function isExtensionRulesEnabled(e,rr){return Array.isArray(rr)?rr.some(ir=>(typeof ir=="string"?ir:ir.name)===e.name):rr}function getHTMLFromFragment(e,rr){const ir=DOMSerializer.fromSchema(rr).serializeFragment(e),dr=document.implementation.createHTMLDocument().createElement("div");return dr.appendChild(ir),dr.innerHTML}const getTextContentFromNodes=(e,rr=500)=>{let ir="";const lr=e.parentOffset;return e.parent.nodesBetween(Math.max(0,lr-rr),lr,(dr,fr,mr,hr)=>{var gr,xr;const _r=((xr=(gr=dr.type.spec).toText)===null||xr===void 0?void 0:xr.call(gr,{node:dr,pos:fr,parent:mr,index:hr}))||dr.textContent||"%leaf%";ir+=dr.isAtom&&!dr.isText?_r:_r.slice(0,Math.max(0,lr-fr))}),ir};function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class InputRule{constructor(rr){this.find=rr.find,this.handler=rr.handler}}const inputRuleMatcherHandler=(e,rr)=>{if(isRegExp(rr))return rr.exec(e);const ir=rr(e);if(!ir)return null;const lr=[ir.text];return lr.index=ir.index,lr.input=e,lr.data=ir.data,ir.replaceWith&&(ir.text.includes(ir.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),lr.push(ir.replaceWith)),lr};function run$1$1(e){var rr;const{editor:ir,from:lr,to:dr,text:fr,rules:mr,plugin:hr}=e,{view:gr}=ir;if(gr.composing)return!1;const xr=gr.state.doc.resolve(lr);if(xr.parent.type.spec.code||!((rr=xr.nodeBefore||xr.nodeAfter)===null||rr===void 0)&&rr.marks.find(vr=>vr.type.spec.code))return!1;let _r=!1;const yr=getTextContentFromNodes(xr)+fr;return mr.forEach(vr=>{if(_r)return;const br=inputRuleMatcherHandler(yr,vr.find);if(!br)return;const Sr=gr.state.tr,wr=createChainableState({state:gr.state,transaction:Sr}),Mr={from:lr-(br[0].length-fr.length),to:dr},{commands:kr,chain:Ar,can:Ir}=new CommandManager({editor:ir,state:wr});vr.handler({state:wr,range:Mr,match:br,commands:kr,chain:Ar,can:Ir})===null||!Sr.steps.length||(Sr.setMeta(hr,{transform:Sr,from:lr,to:dr,text:fr}),gr.dispatch(Sr),_r=!0)}),_r}function inputRulesPlugin(e){const{editor:rr,rules:ir}=e,lr=new Plugin({state:{init(){return null},apply(dr,fr,mr){const hr=dr.getMeta(lr);if(hr)return hr;const gr=dr.getMeta("applyInputRules");return!!gr&&setTimeout(()=>{let{text:_r}=gr;typeof _r=="string"?_r=_r:_r=getHTMLFromFragment(Fragment.from(_r),mr.schema);const{from:yr}=gr,vr=yr+_r.length;run$1$1({editor:rr,from:yr,to:vr,text:_r,rules:ir,plugin:lr})}),dr.selectionSet||dr.docChanged?null:fr}},props:{handleTextInput(dr,fr,mr,hr){return run$1$1({editor:rr,from:fr,to:mr,text:hr,rules:ir,plugin:lr})},handleDOMEvents:{compositionend:dr=>(setTimeout(()=>{const{$cursor:fr}=dr.state.selection;fr&&run$1$1({editor:rr,from:fr.pos,to:fr.pos,text:"",rules:ir,plugin:lr})}),!1)},handleKeyDown(dr,fr){if(fr.key!=="Enter")return!1;const{$cursor:mr}=dr.state.selection;return mr?run$1$1({editor:rr,from:mr.pos,to:mr.pos,text:`
`,rules:ir,plugin:lr}):!1}},isInputRules:!0});return lr}function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function isPlainObject(e){return getType(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function mergeDeep(e,rr){const ir={...e};return isPlainObject(e)&&isPlainObject(rr)&&Object.keys(rr).forEach(lr=>{isPlainObject(rr[lr])&&isPlainObject(e[lr])?ir[lr]=mergeDeep(e[lr],rr[lr]):ir[lr]=rr[lr]}),ir}class Mark{constructor(rr={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...rr},this.name=this.config.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(rr={}){return new Mark(rr)}configure(rr={}){const ir=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,rr)});return ir.name=this.name,ir.parent=this.parent,ir}extend(rr={}){const ir=new Mark(rr);return ir.parent=this,this.child=ir,ir.name=rr.name?rr.name:ir.parent.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ir.name}".`),ir.options=callOrReturn(getExtensionField(ir,"addOptions",{name:ir.name})),ir.storage=callOrReturn(getExtensionField(ir,"addStorage",{name:ir.name,options:ir.options})),ir}static handleExit({editor:rr,mark:ir}){const{tr:lr}=rr.state,dr=rr.state.selection.$from;if(dr.pos===dr.end()){const mr=dr.marks();if(!!!mr.find(xr=>xr?.type.name===ir.name))return!1;const gr=mr.find(xr=>xr?.type.name===ir.name);return gr&&lr.removeStoredMark(gr),lr.insertText(" ",dr.pos),rr.view.dispatch(lr),!0}return!1}}function isNumber(e){return typeof e=="number"}class PasteRule{constructor(rr){this.find=rr.find,this.handler=rr.handler}}const pasteRuleMatcherHandler=(e,rr,ir)=>{if(isRegExp(rr))return[...e.matchAll(rr)];const lr=rr(e,ir);return lr?lr.map(dr=>{const fr=[dr.text];return fr.index=dr.index,fr.input=e,fr.data=dr.data,dr.replaceWith&&(dr.text.includes(dr.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),fr.push(dr.replaceWith)),fr}):[]};function run$2(e){const{editor:rr,state:ir,from:lr,to:dr,rule:fr,pasteEvent:mr,dropEvent:hr}=e,{commands:gr,chain:xr,can:_r}=new CommandManager({editor:rr,state:ir}),yr=[];return ir.doc.nodesBetween(lr,dr,(br,Sr)=>{if(!br.isTextblock||br.type.spec.code)return;const wr=Math.max(lr,Sr),Mr=Math.min(dr,Sr+br.content.size),kr=br.textBetween(wr-Sr,Mr-Sr,void 0,"");pasteRuleMatcherHandler(kr,fr.find,mr).forEach(Ir=>{if(Ir.index===void 0)return;const $r=wr+Ir.index+1,Dr=$r+Ir[0].length,Or={from:ir.tr.mapping.map($r),to:ir.tr.mapping.map(Dr)},Fr=fr.handler({state:ir,range:Or,match:Ir,commands:gr,chain:xr,can:_r,pasteEvent:mr,dropEvent:hr});yr.push(Fr)})}),yr.every(br=>br!==null)}let tiptapDragFromOtherEditor=null;const createClipboardPasteEvent=e=>{var rr;const ir=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(rr=ir.clipboardData)===null||rr===void 0||rr.setData("text/html",e),ir};function pasteRulesPlugin(e){const{editor:rr,rules:ir}=e;let lr=null,dr=!1,fr=!1,mr=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,hr;try{hr=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{hr=null}const gr=({state:_r,from:yr,to:vr,rule:br,pasteEvt:Sr})=>{const wr=_r.tr,Mr=createChainableState({state:_r,transaction:wr});if(!(!run$2({editor:rr,state:Mr,from:Math.max(yr-1,0),to:vr.b-1,rule:br,pasteEvent:Sr,dropEvent:hr})||!wr.steps.length)){try{hr=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{hr=null}return mr=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,wr}};return ir.map(_r=>new Plugin({view(yr){const vr=Sr=>{var wr;lr=!((wr=yr.dom.parentElement)===null||wr===void 0)&&wr.contains(Sr.target)?yr.dom.parentElement:null,lr&&(tiptapDragFromOtherEditor=rr)},br=()=>{tiptapDragFromOtherEditor&&(tiptapDragFromOtherEditor=null)};return window.addEventListener("dragstart",vr),window.addEventListener("dragend",br),{destroy(){window.removeEventListener("dragstart",vr),window.removeEventListener("dragend",br)}}},props:{handleDOMEvents:{drop:(yr,vr)=>{if(fr=lr===yr.dom.parentElement,hr=vr,!fr){const br=tiptapDragFromOtherEditor;br?.isEditable&&setTimeout(()=>{const Sr=br.state.selection;Sr&&br.commands.deleteRange({from:Sr.from,to:Sr.to})},10)}return!1},paste:(yr,vr)=>{var br;const Sr=(br=vr.clipboardData)===null||br===void 0?void 0:br.getData("text/html");return mr=vr,dr=!!Sr?.includes("data-pm-slice"),!1}}},appendTransaction:(yr,vr,br)=>{const Sr=yr[0],wr=Sr.getMeta("uiEvent")==="paste"&&!dr,Mr=Sr.getMeta("uiEvent")==="drop"&&!fr,kr=Sr.getMeta("applyPasteRules"),Ar=!!kr;if(!wr&&!Mr&&!Ar)return;if(Ar){let{text:Dr}=kr;typeof Dr=="string"?Dr=Dr:Dr=getHTMLFromFragment(Fragment.from(Dr),br.schema);const{from:Or}=kr,Fr=Or+Dr.length,Lr=createClipboardPasteEvent(Dr);return gr({rule:_r,state:br,from:Or,to:{b:Fr},pasteEvt:Lr})}const Ir=vr.doc.content.findDiffStart(br.doc.content),$r=vr.doc.content.findDiffEnd(br.doc.content);if(!(!isNumber(Ir)||!$r||Ir===$r.b))return gr({rule:_r,state:br,from:Ir,to:$r,pasteEvt:mr})}}))}function findDuplicates(e){const rr=e.filter((ir,lr)=>e.indexOf(ir)!==lr);return Array.from(new Set(rr))}class ExtensionManager{constructor(rr,ir){this.splittableMarks=[],this.editor=ir,this.extensions=ExtensionManager.resolve(rr),this.schema=getSchemaByResolvedExtensions(this.extensions,ir),this.setupExtensions()}static resolve(rr){const ir=ExtensionManager.sort(ExtensionManager.flatten(rr)),lr=findDuplicates(ir.map(dr=>dr.name));return lr.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${lr.map(dr=>`'${dr}'`).join(", ")}]. This can lead to issues.`),ir}static flatten(rr){return rr.map(ir=>{const lr={name:ir.name,options:ir.options,storage:ir.storage},dr=getExtensionField(ir,"addExtensions",lr);return dr?[ir,...this.flatten(dr())]:ir}).flat(10)}static sort(rr){return rr.sort((lr,dr)=>{const fr=getExtensionField(lr,"priority")||100,mr=getExtensionField(dr,"priority")||100;return fr>mr?-1:fr<mr?1:0})}get commands(){return this.extensions.reduce((rr,ir)=>{const lr={name:ir.name,options:ir.options,storage:ir.storage,editor:this.editor,type:getSchemaTypeByName(ir.name,this.schema)},dr=getExtensionField(ir,"addCommands",lr);return dr?{...rr,...dr()}:rr},{})}get plugins(){const{editor:rr}=this,ir=ExtensionManager.sort([...this.extensions].reverse()),lr=[],dr=[],fr=ir.map(mr=>{const hr={name:mr.name,options:mr.options,storage:mr.storage,editor:rr,type:getSchemaTypeByName(mr.name,this.schema)},gr=[],xr=getExtensionField(mr,"addKeyboardShortcuts",hr);let _r={};if(mr.type==="mark"&&getExtensionField(mr,"exitable",hr)&&(_r.ArrowRight=()=>Mark.handleExit({editor:rr,mark:mr})),xr){const wr=Object.fromEntries(Object.entries(xr()).map(([Mr,kr])=>[Mr,()=>kr({editor:rr})]));_r={..._r,...wr}}const yr=keymap(_r);gr.push(yr);const vr=getExtensionField(mr,"addInputRules",hr);isExtensionRulesEnabled(mr,rr.options.enableInputRules)&&vr&&lr.push(...vr());const br=getExtensionField(mr,"addPasteRules",hr);isExtensionRulesEnabled(mr,rr.options.enablePasteRules)&&br&&dr.push(...br());const Sr=getExtensionField(mr,"addProseMirrorPlugins",hr);if(Sr){const wr=Sr();gr.push(...wr)}return gr}).flat();return[inputRulesPlugin({editor:rr,rules:lr}),...pasteRulesPlugin({editor:rr,rules:dr}),...fr]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:rr}=this,{nodeExtensions:ir}=splitExtensions(this.extensions);return Object.fromEntries(ir.filter(lr=>!!getExtensionField(lr,"addNodeView")).map(lr=>{const dr=this.attributes.filter(gr=>gr.type===lr.name),fr={name:lr.name,options:lr.options,storage:lr.storage,editor:rr,type:getNodeType(lr.name,this.schema)},mr=getExtensionField(lr,"addNodeView",fr);if(!mr)return[];const hr=(gr,xr,_r,yr,vr)=>{const br=getRenderedAttributes(gr,dr);return mr()({node:gr,view:xr,getPos:_r,decorations:yr,innerDecorations:vr,editor:rr,extension:lr,HTMLAttributes:br})};return[lr.name,hr]}))}setupExtensions(){this.extensions.forEach(rr=>{var ir;this.editor.extensionStorage[rr.name]=rr.storage;const lr={name:rr.name,options:rr.options,storage:rr.storage,editor:this.editor,type:getSchemaTypeByName(rr.name,this.schema)};rr.type==="mark"&&(!((ir=callOrReturn(getExtensionField(rr,"keepOnSplit",lr)))!==null&&ir!==void 0)||ir)&&this.splittableMarks.push(rr.name);const dr=getExtensionField(rr,"onBeforeCreate",lr),fr=getExtensionField(rr,"onCreate",lr),mr=getExtensionField(rr,"onUpdate",lr),hr=getExtensionField(rr,"onSelectionUpdate",lr),gr=getExtensionField(rr,"onTransaction",lr),xr=getExtensionField(rr,"onFocus",lr),_r=getExtensionField(rr,"onBlur",lr),yr=getExtensionField(rr,"onDestroy",lr);dr&&this.editor.on("beforeCreate",dr),fr&&this.editor.on("create",fr),mr&&this.editor.on("update",mr),hr&&this.editor.on("selectionUpdate",hr),gr&&this.editor.on("transaction",gr),xr&&this.editor.on("focus",xr),_r&&this.editor.on("blur",_r),yr&&this.editor.on("destroy",yr)})}}class Extension{constructor(rr={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...rr},this.name=this.config.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(rr={}){return new Extension(rr)}configure(rr={}){const ir=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,rr)});return ir.name=this.name,ir.parent=this.parent,ir}extend(rr={}){const ir=new Extension({...this.config,...rr});return ir.parent=this,this.child=ir,ir.name=rr.name?rr.name:ir.parent.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ir.name}".`),ir.options=callOrReturn(getExtensionField(ir,"addOptions",{name:ir.name})),ir.storage=callOrReturn(getExtensionField(ir,"addStorage",{name:ir.name,options:ir.options})),ir}}function getTextBetween(e,rr,ir){const{from:lr,to:dr}=rr,{blockSeparator:fr=`

`,textSerializers:mr={}}=ir||{};let hr="";return e.nodesBetween(lr,dr,(gr,xr,_r,yr)=>{var vr;gr.isBlock&&xr>lr&&(hr+=fr);const br=mr?.[gr.type.name];if(br)return _r&&(hr+=br({node:gr,pos:xr,parent:_r,index:yr,range:rr})),!1;gr.isText&&(hr+=(vr=gr?.text)===null||vr===void 0?void 0:vr.slice(Math.max(lr,xr)-xr,dr-xr))}),hr}function getTextSerializersFromSchema(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,rr])=>rr.spec.toText).map(([rr,ir])=>[rr,ir.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:rr,schema:ir}=e,{doc:lr,selection:dr}=rr,{ranges:fr}=dr,mr=Math.min(...fr.map(_r=>_r.$from.pos)),hr=Math.max(...fr.map(_r=>_r.$to.pos)),gr=getTextSerializersFromSchema(ir);return getTextBetween(lr,{from:mr,to:hr},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:gr})}}})]}}),blur=()=>({editor:e,view:rr})=>(requestAnimationFrame(()=>{var ir;e.isDestroyed||(rr.dom.blur(),(ir=window?.getSelection())===null||ir===void 0||ir.removeAllRanges())}),!0),clearContent=(e=!1)=>({commands:rr})=>rr.setContent("",e),clearNodes=()=>({state:e,tr:rr,dispatch:ir})=>{const{selection:lr}=rr,{ranges:dr}=lr;return ir&&dr.forEach(({$from:fr,$to:mr})=>{e.doc.nodesBetween(fr.pos,mr.pos,(hr,gr)=>{if(hr.type.isText)return;const{doc:xr,mapping:_r}=rr,yr=xr.resolve(_r.map(gr)),vr=xr.resolve(_r.map(gr+hr.nodeSize)),br=yr.blockRange(vr);if(!br)return;const Sr=liftTarget(br);if(hr.type.isTextblock){const{defaultType:wr}=yr.parent.contentMatchAt(yr.index());rr.setNodeMarkup(br.start,wr)}(Sr||Sr===0)&&rr.lift(br,Sr)})}),!0},command=e=>rr=>e(rr),createParagraphNear=()=>({state:e,dispatch:rr})=>createParagraphNear$1(e,rr),cut=(e,rr)=>({editor:ir,tr:lr})=>{const{state:dr}=ir,fr=dr.doc.slice(e.from,e.to);lr.deleteRange(e.from,e.to);const mr=lr.mapping.map(rr);return lr.insert(mr,fr.content),lr.setSelection(new TextSelection(lr.doc.resolve(mr-1))),!0},deleteCurrentNode=()=>({tr:e,dispatch:rr})=>{const{selection:ir}=e,lr=ir.$anchor.node();if(lr.content.size>0)return!1;const dr=e.selection.$anchor;for(let fr=dr.depth;fr>0;fr-=1)if(dr.node(fr).type===lr.type){if(rr){const hr=dr.before(fr),gr=dr.after(fr);e.delete(hr,gr).scrollIntoView()}return!0}return!1},deleteNode=e=>({tr:rr,state:ir,dispatch:lr})=>{const dr=getNodeType(e,ir.schema),fr=rr.selection.$anchor;for(let mr=fr.depth;mr>0;mr-=1)if(fr.node(mr).type===dr){if(lr){const gr=fr.before(mr),xr=fr.after(mr);rr.delete(gr,xr).scrollIntoView()}return!0}return!1},deleteRange=e=>({tr:rr,dispatch:ir})=>{const{from:lr,to:dr}=e;return ir&&rr.delete(lr,dr),!0},deleteSelection=()=>({state:e,dispatch:rr})=>deleteSelection$1(e,rr),enter=()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode=()=>({state:e,dispatch:rr})=>exitCode$1(e,rr);function objectIncludes(e,rr,ir={strict:!0}){const lr=Object.keys(rr);return lr.length?lr.every(dr=>ir.strict?rr[dr]===e[dr]:isRegExp(rr[dr])?rr[dr].test(e[dr]):rr[dr]===e[dr]):!0}function findMarkInSet(e,rr,ir={}){return e.find(lr=>lr.type===rr&&objectIncludes(Object.fromEntries(Object.keys(ir).map(dr=>[dr,lr.attrs[dr]])),ir))}function isMarkInSet(e,rr,ir={}){return!!findMarkInSet(e,rr,ir)}function getMarkRange(e,rr,ir){var lr;if(!e||!rr)return;let dr=e.parent.childAfter(e.parentOffset);if((!dr.node||!dr.node.marks.some(_r=>_r.type===rr))&&(dr=e.parent.childBefore(e.parentOffset)),!dr.node||!dr.node.marks.some(_r=>_r.type===rr)||(ir=ir||((lr=dr.node.marks[0])===null||lr===void 0?void 0:lr.attrs),!findMarkInSet([...dr.node.marks],rr,ir)))return;let mr=dr.index,hr=e.start()+dr.offset,gr=mr+1,xr=hr+dr.node.nodeSize;for(;mr>0&&isMarkInSet([...e.parent.child(mr-1).marks],rr,ir);)mr-=1,hr-=e.parent.child(mr).nodeSize;for(;gr<e.parent.childCount&&isMarkInSet([...e.parent.child(gr).marks],rr,ir);)xr+=e.parent.child(gr).nodeSize,gr+=1;return{from:hr,to:xr}}function getMarkType(e,rr){if(typeof e=="string"){if(!rr.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return rr.marks[e]}return e}const extendMarkRange=(e,rr={})=>({tr:ir,state:lr,dispatch:dr})=>{const fr=getMarkType(e,lr.schema),{doc:mr,selection:hr}=ir,{$from:gr,from:xr,to:_r}=hr;if(dr){const yr=getMarkRange(gr,fr,rr);if(yr&&yr.from<=xr&&yr.to>=_r){const vr=TextSelection.create(mr,yr.from,yr.to);ir.setSelection(vr)}}return!0},first=e=>rr=>{const ir=typeof e=="function"?e(rr):e;for(let lr=0;lr<ir.length;lr+=1)if(ir[lr](rr))return!0;return!1};function isTextSelection(e){return e instanceof TextSelection}function minMax(e=0,rr=0,ir=0){return Math.min(Math.max(e,rr),ir)}function resolveFocusPosition(e,rr=null){if(!rr)return null;const ir=Selection$1.atStart(e),lr=Selection$1.atEnd(e);if(rr==="start"||rr===!0)return ir;if(rr==="end")return lr;const dr=ir.from,fr=lr.to;return rr==="all"?TextSelection.create(e,minMax(0,dr,fr),minMax(e.content.size,dr,fr)):TextSelection.create(e,minMax(rr,dr,fr),minMax(rr,dr,fr))}function isAndroid$1(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus=(e=null,rr={})=>({editor:ir,view:lr,tr:dr,dispatch:fr})=>{rr={scrollIntoView:!0,...rr};const mr=()=>{(isiOS()||isAndroid$1())&&lr.dom.focus(),requestAnimationFrame(()=>{ir.isDestroyed||(lr.focus(),rr?.scrollIntoView&&ir.commands.scrollIntoView())})};if(lr.hasFocus()&&e===null||e===!1)return!0;if(fr&&e===null&&!isTextSelection(ir.state.selection))return mr(),!0;const hr=resolveFocusPosition(dr.doc,e)||ir.state.selection,gr=ir.state.selection.eq(hr);return fr&&(gr||dr.setSelection(hr),gr&&dr.storedMarks&&dr.setStoredMarks(dr.storedMarks),mr()),!0},forEach=(e,rr)=>ir=>e.every((lr,dr)=>rr(lr,{...ir,index:dr})),insertContent=(e,rr)=>({tr:ir,commands:lr})=>lr.insertContentAt({from:ir.selection.from,to:ir.selection.to},e,rr),removeWhitespaces=e=>{const rr=e.childNodes;for(let ir=rr.length-1;ir>=0;ir-=1){const lr=rr[ir];lr.nodeType===3&&lr.nodeValue&&/^(\n\s\s|\n)$/.test(lr.nodeValue)?e.removeChild(lr):lr.nodeType===1&&removeWhitespaces(lr)}return e};function elementFromString(e){const rr=`<body>${e}</body>`,ir=new window.DOMParser().parseFromString(rr,"text/html").body;return removeWhitespaces(ir)}function createNodeFromContent(e,rr,ir){if(e instanceof Node$2||e instanceof Fragment)return e;ir={slice:!0,parseOptions:{},...ir};const lr=typeof e=="object"&&e!==null,dr=typeof e=="string";if(lr)try{if(Array.isArray(e)&&e.length>0)return Fragment.fromArray(e.map(hr=>rr.nodeFromJSON(hr)));const mr=rr.nodeFromJSON(e);return ir.errorOnInvalidContent&&mr.check(),mr}catch(fr){if(ir.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:fr});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",fr),createNodeFromContent("",rr,ir)}if(dr){if(ir.errorOnInvalidContent){let mr=!1,hr="";const gr=new Schema({topNode:rr.spec.topNode,marks:rr.spec.marks,nodes:rr.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:xr=>(mr=!0,hr=typeof xr=="string"?xr:xr.outerHTML,null)}]}})});if(ir.slice?DOMParser.fromSchema(gr).parseSlice(elementFromString(e),ir.parseOptions):DOMParser.fromSchema(gr).parse(elementFromString(e),ir.parseOptions),ir.errorOnInvalidContent&&mr)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${hr}`)})}const fr=DOMParser.fromSchema(rr);return ir.slice?fr.parseSlice(elementFromString(e),ir.parseOptions).content:fr.parse(elementFromString(e),ir.parseOptions)}return createNodeFromContent("",rr,ir)}function selectionToInsertionEnd(e,rr,ir){const lr=e.steps.length-1;if(lr<rr)return;const dr=e.steps[lr];if(!(dr instanceof ReplaceStep||dr instanceof ReplaceAroundStep))return;const fr=e.mapping.maps[lr];let mr=0;fr.forEach((hr,gr,xr,_r)=>{mr===0&&(mr=_r)}),e.setSelection(Selection$1.near(e.doc.resolve(mr),ir))}const isFragment=e=>!("type"in e),insertContentAt=(e,rr,ir)=>({tr:lr,dispatch:dr,editor:fr})=>{var mr;if(dr){ir={parseOptions:fr.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...ir};let hr;const gr=Mr=>{fr.emit("contentError",{editor:fr,error:Mr,disableCollaboration:()=>{fr.storage.collaboration&&(fr.storage.collaboration.isDisabled=!0)}})},xr={preserveWhitespace:"full",...ir.parseOptions};if(!ir.errorOnInvalidContent&&!fr.options.enableContentCheck&&fr.options.emitContentError)try{createNodeFromContent(rr,fr.schema,{parseOptions:xr,errorOnInvalidContent:!0})}catch(Mr){gr(Mr)}try{hr=createNodeFromContent(rr,fr.schema,{parseOptions:xr,errorOnInvalidContent:(mr=ir.errorOnInvalidContent)!==null&&mr!==void 0?mr:fr.options.enableContentCheck})}catch(Mr){return gr(Mr),!1}let{from:_r,to:yr}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},vr=!0,br=!0;if((isFragment(hr)?hr:[hr]).forEach(Mr=>{Mr.check(),vr=vr?Mr.isText&&Mr.marks.length===0:!1,br=br?Mr.isBlock:!1}),_r===yr&&br){const{parent:Mr}=lr.doc.resolve(_r);Mr.isTextblock&&!Mr.type.spec.code&&!Mr.childCount&&(_r-=1,yr+=1)}let wr;if(vr){if(Array.isArray(rr))wr=rr.map(Mr=>Mr.text||"").join("");else if(rr instanceof Fragment){let Mr="";rr.forEach(kr=>{kr.text&&(Mr+=kr.text)}),wr=Mr}else typeof rr=="object"&&rr&&rr.text?wr=rr.text:wr=rr;lr.insertText(wr,_r,yr)}else wr=hr,lr.replaceWith(_r,yr,wr);ir.updateSelection&&selectionToInsertionEnd(lr,lr.steps.length-1,-1),ir.applyInputRules&&lr.setMeta("applyInputRules",{from:_r,text:wr}),ir.applyPasteRules&&lr.setMeta("applyPasteRules",{from:_r,text:wr})}return!0},joinUp=()=>({state:e,dispatch:rr})=>joinUp$1(e,rr),joinDown=()=>({state:e,dispatch:rr})=>joinDown$1(e,rr),joinBackward=()=>({state:e,dispatch:rr})=>joinBackward$1(e,rr),joinForward=()=>({state:e,dispatch:rr})=>joinForward$1(e,rr),joinItemBackward=()=>({state:e,dispatch:rr,tr:ir})=>{try{const lr=joinPoint(e.doc,e.selection.$from.pos,-1);return lr==null?!1:(ir.join(lr,2),rr&&rr(ir),!0)}catch{return!1}},joinItemForward=()=>({state:e,dispatch:rr,tr:ir})=>{try{const lr=joinPoint(e.doc,e.selection.$from.pos,1);return lr==null?!1:(ir.join(lr,2),rr&&rr(ir),!0)}catch{return!1}},joinTextblockBackward=()=>({state:e,dispatch:rr})=>joinTextblockBackward$1(e,rr),joinTextblockForward=()=>({state:e,dispatch:rr})=>joinTextblockForward$1(e,rr);function isMacOS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function normalizeKeyName(e){const rr=e.split(/-(?!$)/);let ir=rr[rr.length-1];ir==="Space"&&(ir=" ");let lr,dr,fr,mr;for(let hr=0;hr<rr.length-1;hr+=1){const gr=rr[hr];if(/^(cmd|meta|m)$/i.test(gr))mr=!0;else if(/^a(lt)?$/i.test(gr))lr=!0;else if(/^(c|ctrl|control)$/i.test(gr))dr=!0;else if(/^s(hift)?$/i.test(gr))fr=!0;else if(/^mod$/i.test(gr))isiOS()||isMacOS()?mr=!0:dr=!0;else throw new Error(`Unrecognized modifier name: ${gr}`)}return lr&&(ir=`Alt-${ir}`),dr&&(ir=`Ctrl-${ir}`),mr&&(ir=`Meta-${ir}`),fr&&(ir=`Shift-${ir}`),ir}const keyboardShortcut=e=>({editor:rr,view:ir,tr:lr,dispatch:dr})=>{const fr=normalizeKeyName(e).split(/-(?!$)/),mr=fr.find(xr=>!["Alt","Ctrl","Meta","Shift"].includes(xr)),hr=new KeyboardEvent("keydown",{key:mr==="Space"?" ":mr,altKey:fr.includes("Alt"),ctrlKey:fr.includes("Ctrl"),metaKey:fr.includes("Meta"),shiftKey:fr.includes("Shift"),bubbles:!0,cancelable:!0}),gr=rr.captureTransaction(()=>{ir.someProp("handleKeyDown",xr=>xr(ir,hr))});return gr?.steps.forEach(xr=>{const _r=xr.map(lr.mapping);_r&&dr&&lr.maybeStep(_r)}),!0};function isNodeActive(e,rr,ir={}){const{from:lr,to:dr,empty:fr}=e.selection,mr=rr?getNodeType(rr,e.schema):null,hr=[];e.doc.nodesBetween(lr,dr,(yr,vr)=>{if(yr.isText)return;const br=Math.max(lr,vr),Sr=Math.min(dr,vr+yr.nodeSize);hr.push({node:yr,from:br,to:Sr})});const gr=dr-lr,xr=hr.filter(yr=>mr?mr.name===yr.node.type.name:!0).filter(yr=>objectIncludes(yr.node.attrs,ir,{strict:!1}));return fr?!!xr.length:xr.reduce((yr,vr)=>yr+vr.to-vr.from,0)>=gr}const lift=(e,rr={})=>({state:ir,dispatch:lr})=>{const dr=getNodeType(e,ir.schema);return isNodeActive(ir,dr,rr)?lift$1(ir,lr):!1},liftEmptyBlock=()=>({state:e,dispatch:rr})=>liftEmptyBlock$1(e,rr),liftListItem=e=>({state:rr,dispatch:ir})=>{const lr=getNodeType(e,rr.schema);return liftListItem$1(lr)(rr,ir)},newlineInCode=()=>({state:e,dispatch:rr})=>newlineInCode$1(e,rr);function getSchemaTypeNameByName(e,rr){return rr.nodes[e]?"node":rr.marks[e]?"mark":null}function deleteProps(e,rr){const ir=typeof rr=="string"?[rr]:rr;return Object.keys(e).reduce((lr,dr)=>(ir.includes(dr)||(lr[dr]=e[dr]),lr),{})}const resetAttributes=(e,rr)=>({tr:ir,state:lr,dispatch:dr})=>{let fr=null,mr=null;const hr=getSchemaTypeNameByName(typeof e=="string"?e:e.name,lr.schema);return hr?(hr==="node"&&(fr=getNodeType(e,lr.schema)),hr==="mark"&&(mr=getMarkType(e,lr.schema)),dr&&ir.selection.ranges.forEach(gr=>{lr.doc.nodesBetween(gr.$from.pos,gr.$to.pos,(xr,_r)=>{fr&&fr===xr.type&&ir.setNodeMarkup(_r,void 0,deleteProps(xr.attrs,rr)),mr&&xr.marks.length&&xr.marks.forEach(yr=>{mr===yr.type&&ir.addMark(_r,_r+xr.nodeSize,mr.create(deleteProps(yr.attrs,rr)))})})}),!0):!1},scrollIntoView=()=>({tr:e,dispatch:rr})=>(rr&&e.scrollIntoView(),!0),selectAll=()=>({tr:e,dispatch:rr})=>{if(rr){const ir=new AllSelection(e.doc);e.setSelection(ir)}return!0},selectNodeBackward=()=>({state:e,dispatch:rr})=>selectNodeBackward$1(e,rr),selectNodeForward=()=>({state:e,dispatch:rr})=>selectNodeForward$1(e,rr),selectParentNode=()=>({state:e,dispatch:rr})=>selectParentNode$1(e,rr),selectTextblockEnd=()=>({state:e,dispatch:rr})=>selectTextblockEnd$1(e,rr),selectTextblockStart=()=>({state:e,dispatch:rr})=>selectTextblockStart$1(e,rr);function createDocument(e,rr,ir={},lr={}){return createNodeFromContent(e,rr,{slice:!1,parseOptions:ir,errorOnInvalidContent:lr.errorOnInvalidContent})}const setContent=(e,rr=!1,ir={},lr={})=>({editor:dr,tr:fr,dispatch:mr,commands:hr})=>{var gr,xr;const{doc:_r}=fr;if(ir.preserveWhitespace!=="full"){const yr=createDocument(e,dr.schema,ir,{errorOnInvalidContent:(gr=lr.errorOnInvalidContent)!==null&&gr!==void 0?gr:dr.options.enableContentCheck});return mr&&fr.replaceWith(0,_r.content.size,yr).setMeta("preventUpdate",!rr),!0}return mr&&fr.setMeta("preventUpdate",!rr),hr.insertContentAt({from:0,to:_r.content.size},e,{parseOptions:ir,errorOnInvalidContent:(xr=lr.errorOnInvalidContent)!==null&&xr!==void 0?xr:dr.options.enableContentCheck})};function getMarkAttributes(e,rr){const ir=getMarkType(rr,e.schema),{from:lr,to:dr,empty:fr}=e.selection,mr=[];fr?(e.storedMarks&&mr.push(...e.storedMarks),mr.push(...e.selection.$head.marks())):e.doc.nodesBetween(lr,dr,gr=>{mr.push(...gr.marks)});const hr=mr.find(gr=>gr.type.name===ir.name);return hr?{...hr.attrs}:{}}function combineTransactionSteps(e,rr){const ir=new Transform(e);return rr.forEach(lr=>{lr.steps.forEach(dr=>{ir.step(dr)})}),ir}function defaultBlockAt(e){for(let rr=0;rr<e.edgeCount;rr+=1){const{type:ir}=e.edge(rr);if(ir.isTextblock&&!ir.hasRequiredAttrs())return ir}return null}function findChildrenInRange(e,rr,ir){const lr=[];return e.nodesBetween(rr.from,rr.to,(dr,fr)=>{ir(dr)&&lr.push({node:dr,pos:fr})}),lr}function findParentNodeClosestToPos(e,rr){for(let ir=e.depth;ir>0;ir-=1){const lr=e.node(ir);if(rr(lr))return{pos:ir>0?e.before(ir):0,start:e.start(ir),depth:ir,node:lr}}}function findParentNode(e){return rr=>findParentNodeClosestToPos(rr.$from,e)}function getText(e,rr){const ir={from:0,to:e.content.size};return getTextBetween(e,ir,rr)}function getNodeAttributes(e,rr){const ir=getNodeType(rr,e.schema),{from:lr,to:dr}=e.selection,fr=[];e.doc.nodesBetween(lr,dr,hr=>{fr.push(hr)});const mr=fr.reverse().find(hr=>hr.type.name===ir.name);return mr?{...mr.attrs}:{}}function getAttributes(e,rr){const ir=getSchemaTypeNameByName(typeof rr=="string"?rr:rr.name,e.schema);return ir==="node"?getNodeAttributes(e,rr):ir==="mark"?getMarkAttributes(e,rr):{}}function removeDuplicates(e,rr=JSON.stringify){const ir={};return e.filter(lr=>{const dr=rr(lr);return Object.prototype.hasOwnProperty.call(ir,dr)?!1:ir[dr]=!0})}function simplifyChangedRanges(e){const rr=removeDuplicates(e);return rr.length===1?rr:rr.filter((ir,lr)=>!rr.filter((fr,mr)=>mr!==lr).some(fr=>ir.oldRange.from>=fr.oldRange.from&&ir.oldRange.to<=fr.oldRange.to&&ir.newRange.from>=fr.newRange.from&&ir.newRange.to<=fr.newRange.to))}function getChangedRanges(e){const{mapping:rr,steps:ir}=e,lr=[];return rr.maps.forEach((dr,fr)=>{const mr=[];if(dr.ranges.length)dr.forEach((hr,gr)=>{mr.push({from:hr,to:gr})});else{const{from:hr,to:gr}=ir[fr];if(hr===void 0||gr===void 0)return;mr.push({from:hr,to:gr})}mr.forEach(({from:hr,to:gr})=>{const xr=rr.slice(fr).map(hr,-1),_r=rr.slice(fr).map(gr),yr=rr.invert().map(xr,-1),vr=rr.invert().map(_r);lr.push({oldRange:{from:yr,to:vr},newRange:{from:xr,to:_r}})})}),simplifyChangedRanges(lr)}function getMarksBetween(e,rr,ir){const lr=[];return e===rr?ir.resolve(e).marks().forEach(dr=>{const fr=ir.resolve(e),mr=getMarkRange(fr,dr.type);mr&&lr.push({mark:dr,...mr})}):ir.nodesBetween(e,rr,(dr,fr)=>{!dr||dr?.nodeSize===void 0||lr.push(...dr.marks.map(mr=>({from:fr,to:fr+dr.nodeSize,mark:mr})))}),lr}function getSplittedAttributes(e,rr,ir){return Object.fromEntries(Object.entries(ir).filter(([lr])=>{const dr=e.find(fr=>fr.type===rr&&fr.name===lr);return dr?dr.attribute.keepOnSplit:!1}))}function isMarkActive$1(e,rr,ir={}){const{empty:lr,ranges:dr}=e.selection,fr=rr?getMarkType(rr,e.schema):null;if(lr)return!!(e.storedMarks||e.selection.$from.marks()).filter(yr=>fr?fr.name===yr.type.name:!0).find(yr=>objectIncludes(yr.attrs,ir,{strict:!1}));let mr=0;const hr=[];if(dr.forEach(({$from:yr,$to:vr})=>{const br=yr.pos,Sr=vr.pos;e.doc.nodesBetween(br,Sr,(wr,Mr)=>{if(!wr.isText&&!wr.marks.length)return;const kr=Math.max(br,Mr),Ar=Math.min(Sr,Mr+wr.nodeSize),Ir=Ar-kr;mr+=Ir,hr.push(...wr.marks.map($r=>({mark:$r,from:kr,to:Ar})))})}),mr===0)return!1;const gr=hr.filter(yr=>fr?fr.name===yr.mark.type.name:!0).filter(yr=>objectIncludes(yr.mark.attrs,ir,{strict:!1})).reduce((yr,vr)=>yr+vr.to-vr.from,0),xr=hr.filter(yr=>fr?yr.mark.type!==fr&&yr.mark.type.excludes(fr):!0).reduce((yr,vr)=>yr+vr.to-vr.from,0);return(gr>0?gr+xr:gr)>=mr}function isActive(e,rr,ir={}){if(!rr)return isNodeActive(e,null,ir)||isMarkActive$1(e,null,ir);const lr=getSchemaTypeNameByName(rr,e.schema);return lr==="node"?isNodeActive(e,rr,ir):lr==="mark"?isMarkActive$1(e,rr,ir):!1}function isList(e,rr){const{nodeExtensions:ir}=splitExtensions(rr),lr=ir.find(mr=>mr.name===e);if(!lr)return!1;const dr={name:lr.name,options:lr.options,storage:lr.storage},fr=callOrReturn(getExtensionField(lr,"group",dr));return typeof fr!="string"?!1:fr.split(" ").includes("list")}function isNodeEmpty(e,{checkChildren:rr=!0,ignoreWhitespace:ir=!1}={}){var lr;if(ir){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((lr=e.text)!==null&&lr!==void 0?lr:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(rr){let dr=!0;return e.content.forEach(fr=>{dr!==!1&&(isNodeEmpty(fr,{ignoreWhitespace:ir,checkChildren:rr})||(dr=!1))}),dr}return!1}function isNodeSelection(e){return e instanceof NodeSelection}function canSetMark(e,rr,ir){var lr;const{selection:dr}=rr;let fr=null;if(isTextSelection(dr)&&(fr=dr.$cursor),fr){const hr=(lr=e.storedMarks)!==null&&lr!==void 0?lr:fr.marks();return!!ir.isInSet(hr)||!hr.some(gr=>gr.type.excludes(ir))}const{ranges:mr}=dr;return mr.some(({$from:hr,$to:gr})=>{let xr=hr.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(ir):!1;return e.doc.nodesBetween(hr.pos,gr.pos,(_r,yr,vr)=>{if(xr)return!1;if(_r.isInline){const br=!vr||vr.type.allowsMarkType(ir),Sr=!!ir.isInSet(_r.marks)||!_r.marks.some(wr=>wr.type.excludes(ir));xr=br&&Sr}return!xr}),xr})}const setMark=(e,rr={})=>({tr:ir,state:lr,dispatch:dr})=>{const{selection:fr}=ir,{empty:mr,ranges:hr}=fr,gr=getMarkType(e,lr.schema);if(dr)if(mr){const xr=getMarkAttributes(lr,gr);ir.addStoredMark(gr.create({...xr,...rr}))}else hr.forEach(xr=>{const _r=xr.$from.pos,yr=xr.$to.pos;lr.doc.nodesBetween(_r,yr,(vr,br)=>{const Sr=Math.max(br,_r),wr=Math.min(br+vr.nodeSize,yr);vr.marks.find(kr=>kr.type===gr)?vr.marks.forEach(kr=>{gr===kr.type&&ir.addMark(Sr,wr,gr.create({...kr.attrs,...rr}))}):ir.addMark(Sr,wr,gr.create(rr))})});return canSetMark(lr,ir,gr)},setMeta=(e,rr)=>({tr:ir})=>(ir.setMeta(e,rr),!0),setNode=(e,rr={})=>({state:ir,dispatch:lr,chain:dr})=>{const fr=getNodeType(e,ir.schema);let mr;return ir.selection.$anchor.sameParent(ir.selection.$head)&&(mr=ir.selection.$anchor.parent.attrs),fr.isTextblock?dr().command(({commands:hr})=>setBlockType(fr,{...mr,...rr})(ir)?!0:hr.clearNodes()).command(({state:hr})=>setBlockType(fr,{...mr,...rr})(hr,lr)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=e=>({tr:rr,dispatch:ir})=>{if(ir){const{doc:lr}=rr,dr=minMax(e,0,lr.content.size),fr=NodeSelection.create(lr,dr);rr.setSelection(fr)}return!0},setTextSelection=e=>({tr:rr,dispatch:ir})=>{if(ir){const{doc:lr}=rr,{from:dr,to:fr}=typeof e=="number"?{from:e,to:e}:e,mr=TextSelection.atStart(lr).from,hr=TextSelection.atEnd(lr).to,gr=minMax(dr,mr,hr),xr=minMax(fr,mr,hr),_r=TextSelection.create(lr,gr,xr);rr.setSelection(_r)}return!0},sinkListItem=e=>({state:rr,dispatch:ir})=>{const lr=getNodeType(e,rr.schema);return sinkListItem$1(lr)(rr,ir)};function ensureMarks(e,rr){const ir=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(ir){const lr=ir.filter(dr=>rr?.includes(dr.type.name));e.tr.ensureMarks(lr)}}const splitBlock=({keepMarks:e=!0}={})=>({tr:rr,state:ir,dispatch:lr,editor:dr})=>{const{selection:fr,doc:mr}=rr,{$from:hr,$to:gr}=fr,xr=dr.extensionManager.attributes,_r=getSplittedAttributes(xr,hr.node().type.name,hr.node().attrs);if(fr instanceof NodeSelection&&fr.node.isBlock)return!hr.parentOffset||!canSplit(mr,hr.pos)?!1:(lr&&(e&&ensureMarks(ir,dr.extensionManager.splittableMarks),rr.split(hr.pos).scrollIntoView()),!0);if(!hr.parent.isBlock)return!1;const yr=gr.parentOffset===gr.parent.content.size,vr=hr.depth===0?void 0:defaultBlockAt(hr.node(-1).contentMatchAt(hr.indexAfter(-1)));let br=yr&&vr?[{type:vr,attrs:_r}]:void 0,Sr=canSplit(rr.doc,rr.mapping.map(hr.pos),1,br);if(!br&&!Sr&&canSplit(rr.doc,rr.mapping.map(hr.pos),1,vr?[{type:vr}]:void 0)&&(Sr=!0,br=vr?[{type:vr,attrs:_r}]:void 0),lr){if(Sr&&(fr instanceof TextSelection&&rr.deleteSelection(),rr.split(rr.mapping.map(hr.pos),1,br),vr&&!yr&&!hr.parentOffset&&hr.parent.type!==vr)){const wr=rr.mapping.map(hr.before()),Mr=rr.doc.resolve(wr);hr.node(-1).canReplaceWith(Mr.index(),Mr.index()+1,vr)&&rr.setNodeMarkup(rr.mapping.map(hr.before()),vr)}e&&ensureMarks(ir,dr.extensionManager.splittableMarks),rr.scrollIntoView()}return Sr},splitListItem=(e,rr={})=>({tr:ir,state:lr,dispatch:dr,editor:fr})=>{var mr;const hr=getNodeType(e,lr.schema),{$from:gr,$to:xr}=lr.selection,_r=lr.selection.node;if(_r&&_r.isBlock||gr.depth<2||!gr.sameParent(xr))return!1;const yr=gr.node(-1);if(yr.type!==hr)return!1;const vr=fr.extensionManager.attributes;if(gr.parent.content.size===0&&gr.node(-1).childCount===gr.indexAfter(-1)){if(gr.depth===2||gr.node(-3).type!==hr||gr.index(-2)!==gr.node(-2).childCount-1)return!1;if(dr){let kr=Fragment.empty;const Ar=gr.index(-1)?1:gr.index(-2)?2:3;for(let Lr=gr.depth-Ar;Lr>=gr.depth-3;Lr-=1)kr=Fragment.from(gr.node(Lr).copy(kr));const Ir=gr.indexAfter(-1)<gr.node(-2).childCount?1:gr.indexAfter(-2)<gr.node(-3).childCount?2:3,$r={...getSplittedAttributes(vr,gr.node().type.name,gr.node().attrs),...rr},Dr=((mr=hr.contentMatch.defaultType)===null||mr===void 0?void 0:mr.createAndFill($r))||void 0;kr=kr.append(Fragment.from(hr.createAndFill(null,Dr)||void 0));const Or=gr.before(gr.depth-(Ar-1));ir.replace(Or,gr.after(-Ir),new Slice(kr,4-Ar,0));let Fr=-1;ir.doc.nodesBetween(Or,ir.doc.content.size,(Lr,zr)=>{if(Fr>-1)return!1;Lr.isTextblock&&Lr.content.size===0&&(Fr=zr+1)}),Fr>-1&&ir.setSelection(TextSelection.near(ir.doc.resolve(Fr))),ir.scrollIntoView()}return!0}const br=xr.pos===gr.end()?yr.contentMatchAt(0).defaultType:null,Sr={...getSplittedAttributes(vr,yr.type.name,yr.attrs),...rr},wr={...getSplittedAttributes(vr,gr.node().type.name,gr.node().attrs),...rr};ir.delete(gr.pos,xr.pos);const Mr=br?[{type:hr,attrs:Sr},{type:br,attrs:wr}]:[{type:hr,attrs:Sr}];if(!canSplit(ir.doc,gr.pos,2))return!1;if(dr){const{selection:kr,storedMarks:Ar}=lr,{splittableMarks:Ir}=fr.extensionManager,$r=Ar||kr.$to.parentOffset&&kr.$from.marks();if(ir.split(gr.pos,2,Mr).scrollIntoView(),!$r||!dr)return!0;const Dr=$r.filter(Or=>Ir.includes(Or.type.name));ir.ensureMarks(Dr)}return!0},joinListBackwards=(e,rr)=>{const ir=findParentNode(mr=>mr.type===rr)(e.selection);if(!ir)return!0;const lr=e.doc.resolve(Math.max(0,ir.pos-1)).before(ir.depth);if(lr===void 0)return!0;const dr=e.doc.nodeAt(lr);return ir.node.type===dr?.type&&canJoin(e.doc,ir.pos)&&e.join(ir.pos),!0},joinListForwards=(e,rr)=>{const ir=findParentNode(mr=>mr.type===rr)(e.selection);if(!ir)return!0;const lr=e.doc.resolve(ir.start).after(ir.depth);if(lr===void 0)return!0;const dr=e.doc.nodeAt(lr);return ir.node.type===dr?.type&&canJoin(e.doc,lr)&&e.join(lr),!0},toggleList$1=(e,rr,ir,lr={})=>({editor:dr,tr:fr,state:mr,dispatch:hr,chain:gr,commands:xr,can:_r})=>{const{extensions:yr,splittableMarks:vr}=dr.extensionManager,br=getNodeType(e,mr.schema),Sr=getNodeType(rr,mr.schema),{selection:wr,storedMarks:Mr}=mr,{$from:kr,$to:Ar}=wr,Ir=kr.blockRange(Ar),$r=Mr||wr.$to.parentOffset&&wr.$from.marks();if(!Ir)return!1;const Dr=findParentNode(Or=>isList(Or.type.name,yr))(wr);if(Ir.depth>=1&&Dr&&Ir.depth-Dr.depth<=1){if(Dr.node.type===br)return xr.liftListItem(Sr);if(isList(Dr.node.type.name,yr)&&br.validContent(Dr.node.content)&&hr)return gr().command(()=>(fr.setNodeMarkup(Dr.pos,br),!0)).command(()=>joinListBackwards(fr,br)).command(()=>joinListForwards(fr,br)).run()}return!ir||!$r||!hr?gr().command(()=>_r().wrapInList(br,lr)?!0:xr.clearNodes()).wrapInList(br,lr).command(()=>joinListBackwards(fr,br)).command(()=>joinListForwards(fr,br)).run():gr().command(()=>{const Or=_r().wrapInList(br,lr),Fr=$r.filter(Lr=>vr.includes(Lr.type.name));return fr.ensureMarks(Fr),Or?!0:xr.clearNodes()}).wrapInList(br,lr).command(()=>joinListBackwards(fr,br)).command(()=>joinListForwards(fr,br)).run()},toggleMark$1=(e,rr={},ir={})=>({state:lr,commands:dr})=>{const{extendEmptyMarkRange:fr=!1}=ir,mr=getMarkType(e,lr.schema);return isMarkActive$1(lr,mr,rr)?dr.unsetMark(mr,{extendEmptyMarkRange:fr}):dr.setMark(mr,rr)},toggleNode=(e,rr,ir={})=>({state:lr,commands:dr})=>{const fr=getNodeType(e,lr.schema),mr=getNodeType(rr,lr.schema),hr=isNodeActive(lr,fr,ir);let gr;return lr.selection.$anchor.sameParent(lr.selection.$head)&&(gr=lr.selection.$anchor.parent.attrs),hr?dr.setNode(mr,gr):dr.setNode(fr,{...gr,...ir})},toggleWrap=(e,rr={})=>({state:ir,commands:lr})=>{const dr=getNodeType(e,ir.schema);return isNodeActive(ir,dr,rr)?lr.lift(dr):lr.wrapIn(dr,rr)},undoInputRule=()=>({state:e,dispatch:rr})=>{const ir=e.plugins;for(let lr=0;lr<ir.length;lr+=1){const dr=ir[lr];let fr;if(dr.spec.isInputRules&&(fr=dr.getState(e))){if(rr){const mr=e.tr,hr=fr.transform;for(let gr=hr.steps.length-1;gr>=0;gr-=1)mr.step(hr.steps[gr].invert(hr.docs[gr]));if(fr.text){const gr=mr.doc.resolve(fr.from).marks();mr.replaceWith(fr.from,fr.to,e.schema.text(fr.text,gr))}else mr.delete(fr.from,fr.to)}return!0}}return!1},unsetAllMarks=()=>({tr:e,dispatch:rr})=>{const{selection:ir}=e,{empty:lr,ranges:dr}=ir;return lr||rr&&dr.forEach(fr=>{e.removeMark(fr.$from.pos,fr.$to.pos)}),!0},unsetMark=(e,rr={})=>({tr:ir,state:lr,dispatch:dr})=>{var fr;const{extendEmptyMarkRange:mr=!1}=rr,{selection:hr}=ir,gr=getMarkType(e,lr.schema),{$from:xr,empty:_r,ranges:yr}=hr;if(!dr)return!0;if(_r&&mr){let{from:vr,to:br}=hr;const Sr=(fr=xr.marks().find(Mr=>Mr.type===gr))===null||fr===void 0?void 0:fr.attrs,wr=getMarkRange(xr,gr,Sr);wr&&(vr=wr.from,br=wr.to),ir.removeMark(vr,br,gr)}else yr.forEach(vr=>{ir.removeMark(vr.$from.pos,vr.$to.pos,gr)});return ir.removeStoredMark(gr),!0},updateAttributes=(e,rr={})=>({tr:ir,state:lr,dispatch:dr})=>{let fr=null,mr=null;const hr=getSchemaTypeNameByName(typeof e=="string"?e:e.name,lr.schema);return hr?(hr==="node"&&(fr=getNodeType(e,lr.schema)),hr==="mark"&&(mr=getMarkType(e,lr.schema)),dr&&ir.selection.ranges.forEach(gr=>{const xr=gr.$from.pos,_r=gr.$to.pos;let yr,vr,br,Sr;ir.selection.empty?lr.doc.nodesBetween(xr,_r,(wr,Mr)=>{fr&&fr===wr.type&&(br=Math.max(Mr,xr),Sr=Math.min(Mr+wr.nodeSize,_r),yr=Mr,vr=wr)}):lr.doc.nodesBetween(xr,_r,(wr,Mr)=>{Mr<xr&&fr&&fr===wr.type&&(br=Math.max(Mr,xr),Sr=Math.min(Mr+wr.nodeSize,_r),yr=Mr,vr=wr),Mr>=xr&&Mr<=_r&&(fr&&fr===wr.type&&ir.setNodeMarkup(Mr,void 0,{...wr.attrs,...rr}),mr&&wr.marks.length&&wr.marks.forEach(kr=>{if(mr===kr.type){const Ar=Math.max(Mr,xr),Ir=Math.min(Mr+wr.nodeSize,_r);ir.addMark(Ar,Ir,mr.create({...kr.attrs,...rr}))}}))}),vr&&(yr!==void 0&&ir.setNodeMarkup(yr,void 0,{...vr.attrs,...rr}),mr&&vr.marks.length&&vr.marks.forEach(wr=>{mr===wr.type&&ir.addMark(br,Sr,mr.create({...wr.attrs,...rr}))}))}),!0):!1},wrapIn=(e,rr={})=>({state:ir,dispatch:lr})=>{const dr=getNodeType(e,ir.schema);return wrapIn$1(dr,rr)(ir,lr)},wrapInList=(e,rr={})=>({state:ir,dispatch:lr})=>{const dr=getNodeType(e,ir.schema);return wrapInList$1(dr,rr)(ir,lr)};var commands=Object.freeze({__proto__:null,blur,clearContent,clearNodes,command,createParagraphNear,cut,deleteCurrentNode,deleteNode,deleteRange,deleteSelection,enter,exitCode,extendMarkRange,first,focus,forEach,insertContent,insertContentAt,joinBackward,joinDown,joinForward,joinItemBackward,joinItemForward,joinTextblockBackward,joinTextblockForward,joinUp,keyboardShortcut,lift,liftEmptyBlock,liftListItem,newlineInCode,resetAttributes,scrollIntoView,selectAll,selectNodeBackward,selectNodeForward,selectParentNode,selectTextblockEnd,selectTextblockStart,setContent,setMark,setMeta,setNode,setNodeSelection,setTextSelection,sinkListItem,splitBlock,splitListItem,toggleList:toggleList$1,toggleMark:toggleMark$1,toggleNode,toggleWrap,undoInputRule,unsetAllMarks,unsetMark,updateAttributes,wrapIn,wrapInList});const Commands=Extension.create({name:"commands",addCommands(){return{...commands}}}),Drop=Extension.create({name:"drop",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapDrop"),props:{handleDrop:(e,rr,ir,lr)=>{this.editor.emit("drop",{editor:this.editor,event:rr,slice:ir,moved:lr})}}})]}}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),focusEventsPluginKey=new PluginKey("focusEvents"),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Plugin({key:focusEventsPluginKey,props:{handleDOMEvents:{focus:(rr,ir)=>{e.isFocused=!0;const lr=e.state.tr.setMeta("focus",{event:ir}).setMeta("addToHistory",!1);return rr.dispatch(lr),!1},blur:(rr,ir)=>{e.isFocused=!1;const lr=e.state.tr.setMeta("blur",{event:ir}).setMeta("addToHistory",!1);return rr.dispatch(lr),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:mr})=>[()=>mr.undoInputRule(),()=>mr.command(({tr:hr})=>{const{selection:gr,doc:xr}=hr,{empty:_r,$anchor:yr}=gr,{pos:vr,parent:br}=yr,Sr=yr.parent.isTextblock&&vr>0?hr.doc.resolve(vr-1):yr,wr=Sr.parent.type.spec.isolating,Mr=yr.pos-yr.parentOffset,kr=wr&&Sr.parent.childCount===1?Mr===yr.pos:Selection$1.atStart(xr).from===vr;return!_r||!br.type.isTextblock||br.textContent.length||!kr||kr&&yr.parent.type.name==="paragraph"?!1:mr.clearNodes()}),()=>mr.deleteSelection(),()=>mr.joinBackward(),()=>mr.selectNodeBackward()]),rr=()=>this.editor.commands.first(({commands:mr})=>[()=>mr.deleteSelection(),()=>mr.deleteCurrentNode(),()=>mr.joinForward(),()=>mr.selectNodeForward()]),lr={Enter:()=>this.editor.commands.first(({commands:mr})=>[()=>mr.newlineInCode(),()=>mr.createParagraphNear(),()=>mr.liftEmptyBlock(),()=>mr.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:rr,"Mod-Delete":rr,"Mod-a":()=>this.editor.commands.selectAll()},dr={...lr},fr={...lr,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":rr,"Ctrl-Alt-Backspace":rr,"Alt-Delete":rr,"Alt-d":rr,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?fr:dr},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(e,rr,ir)=>{if(e.some(wr=>wr.getMeta("composition")))return;const lr=e.some(wr=>wr.docChanged)&&!rr.doc.eq(ir.doc),dr=e.some(wr=>wr.getMeta("preventClearDocument"));if(!lr||dr)return;const{empty:fr,from:mr,to:hr}=rr.selection,gr=Selection$1.atStart(rr.doc).from,xr=Selection$1.atEnd(rr.doc).to;if(fr||!(mr===gr&&hr===xr)||!isNodeEmpty(ir.doc))return;const vr=ir.tr,br=createChainableState({state:ir,transaction:vr}),{commands:Sr}=new CommandManager({editor:this.editor,state:br});if(Sr.clearNodes(),!!vr.steps.length)return vr}})]}}),Paste=Extension.create({name:"paste",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tiptapPaste"),props:{handlePaste:(e,rr,ir)=>{this.editor.emit("paste",{editor:this.editor,event:rr,slice:ir})}}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class NodePos{get name(){return this.node.type.name}constructor(rr,ir,lr=!1,dr=null){this.currentNode=null,this.actualDepth=null,this.isBlock=lr,this.resolvedPos=rr,this.editor=ir,this.currentNode=dr}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var rr;return(rr=this.actualDepth)!==null&&rr!==void 0?rr:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(rr){let ir=this.from,lr=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}ir=this.from+1,lr=this.to-1}this.editor.commands.insertContentAt({from:ir,to:lr},rr)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const rr=this.resolvedPos.start(this.resolvedPos.depth-1),ir=this.resolvedPos.doc.resolve(rr);return new NodePos(ir,this.editor)}get before(){let rr=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return rr.depth!==this.depth&&(rr=this.resolvedPos.doc.resolve(this.from-3)),new NodePos(rr,this.editor)}get after(){let rr=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return rr.depth!==this.depth&&(rr=this.resolvedPos.doc.resolve(this.to+3)),new NodePos(rr,this.editor)}get children(){const rr=[];return this.node.content.forEach((ir,lr)=>{const dr=ir.isBlock&&!ir.isTextblock,fr=ir.isAtom&&!ir.isText,mr=this.pos+lr+(fr?0:1);if(mr<0||mr>this.resolvedPos.doc.nodeSize-2)return;const hr=this.resolvedPos.doc.resolve(mr);if(!dr&&hr.depth<=this.depth)return;const gr=new NodePos(hr,this.editor,dr,dr?ir:null);dr&&(gr.actualDepth=this.depth+1),rr.push(new NodePos(hr,this.editor,dr,dr?ir:null))}),rr}get firstChild(){return this.children[0]||null}get lastChild(){const rr=this.children;return rr[rr.length-1]||null}closest(rr,ir={}){let lr=null,dr=this.parent;for(;dr&&!lr;){if(dr.node.type.name===rr)if(Object.keys(ir).length>0){const fr=dr.node.attrs,mr=Object.keys(ir);for(let hr=0;hr<mr.length;hr+=1){const gr=mr[hr];if(fr[gr]!==ir[gr])break}}else lr=dr;dr=dr.parent}return lr}querySelector(rr,ir={}){return this.querySelectorAll(rr,ir,!0)[0]||null}querySelectorAll(rr,ir={},lr=!1){let dr=[];if(!this.children||this.children.length===0)return dr;const fr=Object.keys(ir);return this.children.forEach(mr=>{lr&&dr.length>0||(mr.node.type.name===rr&&fr.every(gr=>ir[gr]===mr.node.attrs[gr])&&dr.push(mr),!(lr&&dr.length>0)&&(dr=dr.concat(mr.querySelectorAll(rr,ir,lr))))}),dr}setAttribute(rr){const{tr:ir}=this.editor.state;ir.setNodeMarkup(this.from,void 0,{...this.node.attrs,...rr}),this.editor.view.dispatch(ir)}}const style=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function createStyleTag(e,rr,ir){const lr=document.querySelector("style[data-tiptap-style]");if(lr!==null)return lr;const dr=document.createElement("style");return rr&&dr.setAttribute("nonce",rr),dr.setAttribute("data-tiptap-style",""),dr.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(dr),dr}class Editor extends EventEmitter{constructor(rr={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:ir})=>{throw ir},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(rr),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:ir,slice:lr,moved:dr})=>this.options.onDrop(ir,lr,dr)),this.on("paste",({event:ir,slice:lr})=>this.options.onPaste(ir,lr)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(rr={}){this.options={...this.options,...rr},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(rr,ir=!0){this.setOptions({editable:rr}),ir&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(rr,ir){const lr=isFunction$1(ir)?ir(rr,[...this.state.plugins]):[...this.state.plugins,rr],dr=this.state.reconfigure({plugins:lr});return this.view.updateState(dr),dr}unregisterPlugin(rr){if(this.isDestroyed)return;const ir=this.state.plugins;let lr=ir;if([].concat(rr).forEach(fr=>{const mr=typeof fr=="string"?`${fr}$`:fr.key;lr=lr.filter(hr=>!hr.key.startsWith(mr))}),ir.length===lr.length)return;const dr=this.state.reconfigure({plugins:lr});return this.view.updateState(dr),dr}createExtensionManager(){var rr,ir;const dr=[...this.options.enableCoreExtensions?[Editable,ClipboardTextSerializer.configure({blockSeparator:(ir=(rr=this.options.coreExtensionOptions)===null||rr===void 0?void 0:rr.clipboardTextSerializer)===null||ir===void 0?void 0:ir.blockSeparator}),Commands,FocusEvents,Keymap,Tabindex,Drop,Paste].filter(fr=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[fr.name]!==!1:!0):[],...this.options.extensions].filter(fr=>["extension","node","mark"].includes(fr?.type));this.extensionManager=new ExtensionManager(dr,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var rr;let ir;try{ir=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(mr){if(!(mr instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(mr.message))throw mr;this.emit("contentError",{editor:this,error:mr,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(hr=>hr.name!=="collaboration"),this.createExtensionManager()}}),ir=createDocument(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const lr=resolveFocusPosition(ir,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(rr=this.options.editorProps)===null||rr===void 0?void 0:rr.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:ir,selection:lr||void 0})});const dr=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(dr),this.createNodeViews(),this.prependClass();const fr=this.view.dom;fr.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(rr){this.isCapturingTransaction=!0,rr(),this.isCapturingTransaction=!1;const ir=this.capturedTransaction;return this.capturedTransaction=null,ir}dispatchTransaction(rr){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=rr;return}rr.steps.forEach(mr=>{var hr;return(hr=this.capturedTransaction)===null||hr===void 0?void 0:hr.step(mr)});return}const ir=this.state.apply(rr),lr=!this.state.selection.eq(ir.selection);this.emit("beforeTransaction",{editor:this,transaction:rr,nextState:ir}),this.view.updateState(ir),this.emit("transaction",{editor:this,transaction:rr}),lr&&this.emit("selectionUpdate",{editor:this,transaction:rr});const dr=rr.getMeta("focus"),fr=rr.getMeta("blur");dr&&this.emit("focus",{editor:this,event:dr.event,transaction:rr}),fr&&this.emit("blur",{editor:this,event:fr.event,transaction:rr}),!(!rr.docChanged||rr.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:rr})}getAttributes(rr){return getAttributes(this.state,rr)}isActive(rr,ir){const lr=typeof rr=="string"?rr:null,dr=typeof rr=="string"?ir:rr;return isActive(this.state,lr,dr)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(rr){const{blockSeparator:ir=`

`,textSerializers:lr={}}=rr||{};return getText(this.state.doc,{blockSeparator:ir,textSerializers:{...getTextSerializersFromSchema(this.schema),...lr}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const rr=this.view.dom;rr&&rr.editor&&delete rr.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var rr;return!(!((rr=this.view)===null||rr===void 0)&&rr.docView)}$node(rr,ir){var lr;return((lr=this.$doc)===null||lr===void 0?void 0:lr.querySelector(rr,ir))||null}$nodes(rr,ir){var lr;return((lr=this.$doc)===null||lr===void 0?void 0:lr.querySelectorAll(rr,ir))||null}$pos(rr){const ir=this.state.doc.resolve(rr);return new NodePos(ir,this)}get $doc(){return this.$pos(0)}}function markInputRule(e){return new InputRule({find:e.find,handler:({state:rr,range:ir,match:lr})=>{const dr=callOrReturn(e.getAttributes,void 0,lr);if(dr===!1||dr===null)return null;const{tr:fr}=rr,mr=lr[lr.length-1],hr=lr[0];if(mr){const gr=hr.search(/\S/),xr=ir.from+hr.indexOf(mr),_r=xr+mr.length;if(getMarksBetween(ir.from,ir.to,rr.doc).filter(br=>br.mark.type.excluded.find(wr=>wr===e.type&&wr!==br.mark.type)).filter(br=>br.to>xr).length)return null;_r<ir.to&&fr.delete(_r,ir.to),xr>ir.from&&fr.delete(ir.from+gr,xr);const vr=ir.from+gr+mr.length;fr.addMark(ir.from+gr,vr,e.type.create(dr||{})),fr.removeStoredMark(e.type)}}})}function nodeInputRule(e){return new InputRule({find:e.find,handler:({state:rr,range:ir,match:lr})=>{const dr=callOrReturn(e.getAttributes,void 0,lr)||{},{tr:fr}=rr,mr=ir.from;let hr=ir.to;const gr=e.type.create(dr);if(lr[1]){const xr=lr[0].lastIndexOf(lr[1]);let _r=mr+xr;_r>hr?_r=hr:hr=_r+lr[1].length;const yr=lr[0][lr[0].length-1];fr.insertText(yr,mr+lr[0].length-1),fr.replaceWith(_r,hr,gr)}else if(lr[0]){const xr=e.type.isInline?mr:mr-1;fr.insert(xr,e.type.create(dr)).delete(fr.mapping.map(mr),fr.mapping.map(hr))}fr.scrollIntoView()}})}function textblockTypeInputRule(e){return new InputRule({find:e.find,handler:({state:rr,range:ir,match:lr})=>{const dr=rr.doc.resolve(ir.from),fr=callOrReturn(e.getAttributes,void 0,lr)||{};if(!dr.node(-1).canReplaceWith(dr.index(-1),dr.indexAfter(-1),e.type))return null;rr.tr.delete(ir.from,ir.to).setBlockType(ir.from,ir.from,e.type,fr)}})}function textInputRule(e){return new InputRule({find:e.find,handler:({state:rr,range:ir,match:lr})=>{let dr=e.replace,fr=ir.from;const mr=ir.to;if(lr[1]){const hr=lr[0].lastIndexOf(lr[1]);dr+=lr[0].slice(hr+lr[1].length),fr+=hr;const gr=fr-mr;gr>0&&(dr=lr[0].slice(hr-gr,hr)+dr,fr=mr)}rr.tr.insertText(dr,fr,mr)}})}function wrappingInputRule(e){return new InputRule({find:e.find,handler:({state:rr,range:ir,match:lr,chain:dr})=>{const fr=callOrReturn(e.getAttributes,void 0,lr)||{},mr=rr.tr.delete(ir.from,ir.to),gr=mr.doc.resolve(ir.from).blockRange(),xr=gr&&findWrapping(gr,e.type,fr);if(!xr)return null;if(mr.wrap(gr,xr),e.keepMarks&&e.editor){const{selection:yr,storedMarks:vr}=rr,{splittableMarks:br}=e.editor.extensionManager,Sr=vr||yr.$to.parentOffset&&yr.$from.marks();if(Sr){const wr=Sr.filter(Mr=>br.includes(Mr.type.name));mr.ensureMarks(wr)}}if(e.keepAttributes){const yr=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";dr().updateAttributes(yr,fr).run()}const _r=mr.doc.resolve(ir.from-1).nodeBefore;_r&&_r.type===e.type&&canJoin(mr.doc,ir.from-1)&&(!e.joinPredicate||e.joinPredicate(lr,_r))&&mr.join(ir.from-1)}})}let Node$1=class mo{constructor(rr={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...rr},this.name=this.config.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(rr={}){return new mo(rr)}configure(rr={}){const ir=this.extend({...this.config,addOptions:()=>mergeDeep(this.options,rr)});return ir.name=this.name,ir.parent=this.parent,ir}extend(rr={}){const ir=new mo(rr);return ir.parent=this,this.child=ir,ir.name=rr.name?rr.name:ir.parent.name,rr.defaultOptions&&Object.keys(rr.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${ir.name}".`),ir.options=callOrReturn(getExtensionField(ir,"addOptions",{name:ir.name})),ir.storage=callOrReturn(getExtensionField(ir,"addStorage",{name:ir.name,options:ir.options})),ir}};class NodeView{constructor(rr,ir,lr){this.isDragging=!1,this.component=rr,this.editor=ir.editor,this.options={stopEvent:null,ignoreMutation:null,...lr},this.extension=ir.extension,this.node=ir.node,this.decorations=ir.decorations,this.innerDecorations=ir.innerDecorations,this.view=ir.view,this.HTMLAttributes=ir.HTMLAttributes,this.getPos=ir.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(rr){var ir,lr,dr,fr,mr,hr,gr;const{view:xr}=this.editor,_r=rr.target,yr=_r.nodeType===3?(ir=_r.parentElement)===null||ir===void 0?void 0:ir.closest("[data-drag-handle]"):_r.closest("[data-drag-handle]");if(!this.dom||!((lr=this.contentDOM)===null||lr===void 0)&&lr.contains(_r)||!yr)return;let vr=0,br=0;if(this.dom!==yr){const Ar=this.dom.getBoundingClientRect(),Ir=yr.getBoundingClientRect(),$r=(dr=rr.offsetX)!==null&&dr!==void 0?dr:(fr=rr.nativeEvent)===null||fr===void 0?void 0:fr.offsetX,Dr=(mr=rr.offsetY)!==null&&mr!==void 0?mr:(hr=rr.nativeEvent)===null||hr===void 0?void 0:hr.offsetY;vr=Ir.x-Ar.x+$r,br=Ir.y-Ar.y+Dr}const Sr=this.dom.cloneNode(!0);(gr=rr.dataTransfer)===null||gr===void 0||gr.setDragImage(Sr,vr,br);const wr=this.getPos();if(typeof wr!="number")return;const Mr=NodeSelection.create(xr.state.doc,wr),kr=xr.state.tr.setSelection(Mr);xr.dispatch(kr)}stopEvent(rr){var ir;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:rr});const lr=rr.target;if(!(this.dom.contains(lr)&&!(!((ir=this.contentDOM)===null||ir===void 0)&&ir.contains(lr))))return!1;const fr=rr.type.startsWith("drag"),mr=rr.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(lr.tagName)||lr.isContentEditable)&&!mr&&!fr)return!0;const{isEditable:gr}=this.editor,{isDragging:xr}=this,_r=!!this.node.type.spec.draggable,yr=NodeSelection.isSelectable(this.node),vr=rr.type==="copy",br=rr.type==="paste",Sr=rr.type==="cut",wr=rr.type==="mousedown";if(!_r&&yr&&fr&&rr.target===this.dom&&rr.preventDefault(),_r&&fr&&!xr&&rr.target===this.dom)return rr.preventDefault(),!1;if(_r&&gr&&!xr&&wr){const Mr=lr.closest("[data-drag-handle]");Mr&&(this.dom===Mr||this.dom.contains(Mr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(xr||mr||vr||br||Sr||wr&&yr)}ignoreMutation(rr){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:rr}):this.node.isLeaf||this.node.isAtom?!0:rr.type==="selection"||this.dom.contains(rr.target)&&rr.type==="childList"&&(isiOS()||isAndroid$1())&&this.editor.isFocused&&[...Array.from(rr.addedNodes),...Array.from(rr.removedNodes)].every(lr=>lr.isContentEditable)?!1:this.contentDOM===rr.target&&rr.type==="attributes"?!0:!this.contentDOM.contains(rr.target)}updateAttributes(rr){this.editor.commands.command(({tr:ir})=>{const lr=this.getPos();return typeof lr!="number"?!1:(ir.setNodeMarkup(lr,void 0,{...this.node.attrs,...rr}),!0)})}deleteNode(){const rr=this.getPos();if(typeof rr!="number")return;const ir=rr+this.node.nodeSize;this.editor.commands.deleteRange({from:rr,to:ir})}}function markPasteRule(e){return new PasteRule({find:e.find,handler:({state:rr,range:ir,match:lr,pasteEvent:dr})=>{const fr=callOrReturn(e.getAttributes,void 0,lr,dr);if(fr===!1||fr===null)return null;const{tr:mr}=rr,hr=lr[lr.length-1],gr=lr[0];let xr=ir.to;if(hr){const _r=gr.search(/\S/),yr=ir.from+gr.indexOf(hr),vr=yr+hr.length;if(getMarksBetween(ir.from,ir.to,rr.doc).filter(Sr=>Sr.mark.type.excluded.find(Mr=>Mr===e.type&&Mr!==Sr.mark.type)).filter(Sr=>Sr.to>yr).length)return null;vr<ir.to&&mr.delete(vr,ir.to),yr>ir.from&&mr.delete(ir.from+_r,yr),xr=ir.from+_r+hr.length,mr.addMark(ir.from+_r,xr,e.type.create(fr||{})),mr.removeStoredMark(e.type)}}})}function canInsertNode(e,rr){const{selection:ir}=e,{$from:lr}=ir;if(ir instanceof NodeSelection){const fr=lr.index();return lr.parent.canReplaceWith(fr,fr+1,rr)}let dr=lr.depth;for(;dr>=0;){const fr=lr.index(dr);if(lr.node(dr).contentMatchAt(fr).matchType(rr))return!0;dr-=1}return!1}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production_min;function requireUseSyncExternalStoreShim_production_min(){if(hasRequiredUseSyncExternalStoreShim_production_min)return useSyncExternalStoreShim_production_min;hasRequiredUseSyncExternalStoreShim_production_min=1;var e=React$2;function rr(yr,vr){return yr===vr&&(yr!==0||1/yr===1/vr)||yr!==yr&&vr!==vr}var ir=typeof Object.is=="function"?Object.is:rr,lr=e.useState,dr=e.useEffect,fr=e.useLayoutEffect,mr=e.useDebugValue;function hr(yr,vr){var br=vr(),Sr=lr({inst:{value:br,getSnapshot:vr}}),wr=Sr[0].inst,Mr=Sr[1];return fr(function(){wr.value=br,wr.getSnapshot=vr,gr(wr)&&Mr({inst:wr})},[yr,br,vr]),dr(function(){return gr(wr)&&Mr({inst:wr}),yr(function(){gr(wr)&&Mr({inst:wr})})},[yr]),mr(br),br}function gr(yr){var vr=yr.getSnapshot;yr=yr.value;try{var br=vr();return!ir(yr,br)}catch{return!0}}function xr(yr,vr){return vr()}var _r=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xr:hr;return useSyncExternalStoreShim_production_min.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:_r,useSyncExternalStoreShim_production_min}shim.exports=requireUseSyncExternalStoreShim_production_min();var shimExports=shim.exports;const mergeRefs$1=(...e)=>rr=>{e.forEach(ir=>{typeof ir=="function"?ir(rr):ir&&(ir.current=rr)})},Portals=({contentComponent:e})=>{const rr=shimExports.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return React$2.createElement(React$2.Fragment,null,Object.values(rr))};function getInstance(){const e=new Set;let rr={};return{subscribe(ir){return e.add(ir),()=>{e.delete(ir)}},getSnapshot(){return rr},getServerSnapshot(){return rr},setRenderer(ir,lr){rr={...rr,[ir]:ReactDOM.createPortal(lr.reactElement,lr.element,ir)},e.forEach(dr=>dr())},removeRenderer(ir){const lr={...rr};delete lr[ir],rr=lr,e.forEach(dr=>dr())}}}class PureEditorContent extends React$2.Component{constructor(rr){var ir;super(rr),this.editorContentRef=React$2.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((ir=rr.editor)===null||ir===void 0)&&ir.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const rr=this.props.editor;if(rr&&!rr.isDestroyed&&rr.options.element){if(rr.contentComponent)return;const ir=this.editorContentRef.current;ir.append(...rr.options.element.childNodes),rr.setOptions({element:ir}),rr.contentComponent=getInstance(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=rr.contentComponent.subscribe(()=>{this.setState(lr=>lr.hasContentComponentInitialized?lr:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),rr.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const rr=this.props.editor;if(!rr||(this.initialized=!1,rr.isDestroyed||rr.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),rr.contentComponent=null,!rr.options.element.firstChild))return;const ir=document.createElement("div");ir.append(...rr.options.element.childNodes),rr.setOptions({element:ir})}render(){const{editor:rr,innerRef:ir,...lr}=this.props;return React$2.createElement(React$2.Fragment,null,React$2.createElement("div",{ref:mergeRefs$1(ir,this.editorContentRef),...lr}),rr?.contentComponent&&React$2.createElement(Portals,{contentComponent:rr.contentComponent}))}}const EditorContentWithKey=reactExports.forwardRef((e,rr)=>{const ir=React$2.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return React$2.createElement(PureEditorContent,{key:ir,innerRef:rr,...e})}),EditorContent=React$2.memo(EditorContentWithKey);var react=function e(rr,ir){if(rr===ir)return!0;if(rr&&ir&&typeof rr=="object"&&typeof ir=="object"){if(rr.constructor!==ir.constructor)return!1;var lr,dr,fr;if(Array.isArray(rr)){if(lr=rr.length,lr!=ir.length)return!1;for(dr=lr;dr--!==0;)if(!e(rr[dr],ir[dr]))return!1;return!0}if(rr instanceof Map&&ir instanceof Map){if(rr.size!==ir.size)return!1;for(dr of rr.entries())if(!ir.has(dr[0]))return!1;for(dr of rr.entries())if(!e(dr[1],ir.get(dr[0])))return!1;return!0}if(rr instanceof Set&&ir instanceof Set){if(rr.size!==ir.size)return!1;for(dr of rr.entries())if(!ir.has(dr[0]))return!1;return!0}if(ArrayBuffer.isView(rr)&&ArrayBuffer.isView(ir)){if(lr=rr.length,lr!=ir.length)return!1;for(dr=lr;dr--!==0;)if(rr[dr]!==ir[dr])return!1;return!0}if(rr.constructor===RegExp)return rr.source===ir.source&&rr.flags===ir.flags;if(rr.valueOf!==Object.prototype.valueOf)return rr.valueOf()===ir.valueOf();if(rr.toString!==Object.prototype.toString)return rr.toString()===ir.toString();if(fr=Object.keys(rr),lr=fr.length,lr!==Object.keys(ir).length)return!1;for(dr=lr;dr--!==0;)if(!Object.prototype.hasOwnProperty.call(ir,fr[dr]))return!1;for(dr=lr;dr--!==0;){var mr=fr[dr];if(!(mr==="_owner"&&rr.$$typeof)&&!e(rr[mr],ir[mr]))return!1}return!0}return rr!==rr&&ir!==ir},deepEqual=getDefaultExportFromCjs(react),withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production_min;function requireWithSelector_production_min(){if(hasRequiredWithSelector_production_min)return withSelector_production_min;hasRequiredWithSelector_production_min=1;var e=React$2,rr=shimExports;function ir(xr,_r){return xr===_r&&(xr!==0||1/xr===1/_r)||xr!==xr&&_r!==_r}var lr=typeof Object.is=="function"?Object.is:ir,dr=rr.useSyncExternalStore,fr=e.useRef,mr=e.useEffect,hr=e.useMemo,gr=e.useDebugValue;return withSelector_production_min.useSyncExternalStoreWithSelector=function(xr,_r,yr,vr,br){var Sr=fr(null);if(Sr.current===null){var wr={hasValue:!1,value:null};Sr.current=wr}else wr=Sr.current;Sr=hr(function(){function kr(Or){if(!Ar){if(Ar=!0,Ir=Or,Or=vr(Or),br!==void 0&&wr.hasValue){var Fr=wr.value;if(br(Fr,Or))return $r=Fr}return $r=Or}if(Fr=$r,lr(Ir,Or))return Fr;var Lr=vr(Or);return br!==void 0&&br(Fr,Lr)?Fr:(Ir=Or,$r=Lr)}var Ar=!1,Ir,$r,Dr=yr===void 0?null:yr;return[function(){return kr(_r())},Dr===null?void 0:function(){return kr(Dr())}]},[_r,yr,vr,br]);var Mr=dr(xr,Sr[0],Sr[1]);return mr(function(){wr.hasValue=!0,wr.value=Mr},[Mr]),gr(Mr),Mr},withSelector_production_min}withSelector.exports=requireWithSelector_production_min();var withSelectorExports=withSelector.exports;const useIsomorphicLayoutEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;class EditorStateManager{constructor(rr){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=rr,this.lastSnapshot={editor:rr,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(rr){return this.subscribers.add(rr),()=>{this.subscribers.delete(rr)}}watch(rr){if(this.editor=rr,this.editor){const ir=()=>{this.transactionNumber+=1,this.subscribers.forEach(dr=>dr())},lr=this.editor;return lr.on("transaction",ir),()=>{lr.off("transaction",ir)}}}}function useEditorState(e){var rr;const[ir]=reactExports.useState(()=>new EditorStateManager(e.editor)),lr=withSelectorExports.useSyncExternalStoreWithSelector(ir.subscribe,ir.getSnapshot,ir.getServerSnapshot,e.selector,(rr=e.equalityFn)!==null&&rr!==void 0?rr:deepEqual);return useIsomorphicLayoutEffect$2(()=>ir.watch(e.editor),[e.editor,ir]),reactExports.useDebugValue(lr),lr}const isDev=!1,isSSR=typeof window>"u",isNext=isSSR||!!(typeof window<"u"&&window.next);class EditorInstanceManager{constructor(rr){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=rr,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(rr){this.editor=rr,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(ir=>ir())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?isSSR||isNext?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const rr={...this.options.current,onBeforeCreate:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onBeforeCreate)===null||fr===void 0?void 0:fr.call(dr,...lr)},onBlur:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onBlur)===null||fr===void 0?void 0:fr.call(dr,...lr)},onCreate:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onCreate)===null||fr===void 0?void 0:fr.call(dr,...lr)},onDestroy:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onDestroy)===null||fr===void 0?void 0:fr.call(dr,...lr)},onFocus:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onFocus)===null||fr===void 0?void 0:fr.call(dr,...lr)},onSelectionUpdate:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onSelectionUpdate)===null||fr===void 0?void 0:fr.call(dr,...lr)},onTransaction:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onTransaction)===null||fr===void 0?void 0:fr.call(dr,...lr)},onUpdate:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onUpdate)===null||fr===void 0?void 0:fr.call(dr,...lr)},onContentError:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onContentError)===null||fr===void 0?void 0:fr.call(dr,...lr)},onDrop:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onDrop)===null||fr===void 0?void 0:fr.call(dr,...lr)},onPaste:(...lr)=>{var dr,fr;return(fr=(dr=this.options.current).onPaste)===null||fr===void 0?void 0:fr.call(dr,...lr)}};return new Editor(rr)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(rr){return this.subscriptions.add(rr),()=>{this.subscriptions.delete(rr)}}static compareOptions(rr,ir){return Object.keys(rr).every(lr=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(lr)?!0:lr==="extensions"&&rr.extensions&&ir.extensions?rr.extensions.length!==ir.extensions.length?!1:rr.extensions.every((dr,fr)=>{var mr;return dr===((mr=ir.extensions)===null||mr===void 0?void 0:mr[fr])}):rr[lr]===ir[lr])}onRender(rr){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&rr.length===0?EditorInstanceManager.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(rr),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(rr){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=rr;return}if(this.previousDeps.length===rr.length&&this.previousDeps.every((lr,dr)=>lr===rr[dr]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=rr}scheduleDestroy(){const rr=this.instanceId,ir=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===rr){ir&&ir.setOptions(this.options.current);return}ir&&!ir.isDestroyed&&(ir.destroy(),this.instanceId===rr&&this.setEditor(null))},1)}}function useEditor(e={},rr=[]){const ir=reactExports.useRef(e);ir.current=e;const[lr]=reactExports.useState(()=>new EditorInstanceManager(ir)),dr=shimExports.useSyncExternalStore(lr.subscribe,lr.getEditor,lr.getServerSnapshot);return reactExports.useDebugValue(dr),reactExports.useEffect(lr.onRender(rr)),useEditorState({editor:dr,selector:({transactionNumber:fr})=>e.shouldRerenderOnTransaction===!1?null:e.immediatelyRender&&fr===0?0:fr+1}),dr}const EditorContext=reactExports.createContext({editor:null});EditorContext.Consumer;const useCurrentEditor=()=>reactExports.useContext(EditorContext),ReactNodeViewContext=reactExports.createContext({onDragStart:void 0}),useReactNodeView=()=>reactExports.useContext(ReactNodeViewContext),NodeViewWrapper=React$2.forwardRef((e,rr)=>{const{onDragStart:ir}=useReactNodeView(),lr=e.as||"div";return React$2.createElement(lr,{...e,ref:rr,"data-node-view-wrapper":"",onDragStart:ir,style:{whiteSpace:"normal",...e.style}})});function isClassComponent(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function isForwardRefComponent(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function isMemoComponent(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function canReceiveRef(e){if(isClassComponent(e)||isForwardRefComponent(e))return!0;if(isMemoComponent(e)){const rr=e.type;if(rr)return isClassComponent(rr)||isForwardRefComponent(rr)}return!1}function isReact19Plus(){try{if(reactExports.version)return parseInt(reactExports.version.split(".")[0],10)>=19}catch{}return!1}class ReactRenderer{constructor(rr,{editor:ir,props:lr={},as:dr="div",className:fr=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=rr,this.editor=ir,this.props=lr,this.element=document.createElement(dr),this.element.classList.add("react-renderer"),fr&&this.element.classList.add(...fr.split(" ")),this.editor.isInitialized?reactDomExports.flushSync(()=>{this.render()}):this.render()}render(){var rr;const ir=this.component,lr=this.props,dr=this.editor,fr=isReact19Plus(),mr=canReceiveRef(ir),hr={...lr};hr.ref&&!(fr||mr)&&delete hr.ref,!hr.ref&&(fr||mr)&&(hr.ref=gr=>{this.ref=gr}),this.reactElement=React$2.createElement(ir,{...hr}),(rr=dr?.contentComponent)===null||rr===void 0||rr.setRenderer(this.id,this)}updateProps(rr={}){this.props={...this.props,...rr},this.render()}destroy(){var rr;const ir=this.editor;(rr=ir?.contentComponent)===null||rr===void 0||rr.removeRenderer(this.id)}updateAttributes(rr){Object.keys(rr).forEach(ir=>{this.element.setAttribute(ir,rr[ir])})}}class ReactNodeView extends NodeView{mount(){const rr={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(xr={})=>this.updateAttributes(xr),deleteNode:()=>this.deleteNode(),ref:reactExports.createRef()};if(!this.component.displayName){const xr=_r=>_r.charAt(0).toUpperCase()+_r.substring(1);this.component.displayName=xr(this.extension.name)}const dr={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:xr=>{xr&&this.contentDOMElement&&xr.firstChild!==this.contentDOMElement&&xr.appendChild(this.contentDOMElement)}},fr=this.component,mr=reactExports.memo(xr=>React$2.createElement(ReactNodeViewContext.Provider,{value:dr},reactExports.createElement(fr,xr)));mr.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.style.whiteSpace="inherit");let hr=this.node.isInline?"span":"div";this.options.as&&(hr=this.options.as);const{className:gr=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new ReactRenderer(mr,{editor:this.editor,props:rr,as:hr,className:`node-${this.node.type.name} ${gr}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var rr;if(this.renderer.element.firstElementChild&&!(!((rr=this.renderer.element.firstElementChild)===null||rr===void 0)&&rr.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:rr,to:ir}=this.editor.state.selection,lr=this.getPos();if(typeof lr=="number")if(rr<=lr&&ir>=lr+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(rr,ir,lr){const dr=fr=>{this.renderer.updateProps(fr),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(rr.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const fr=this.node,mr=this.decorations,hr=this.innerDecorations;return this.node=rr,this.decorations=ir,this.innerDecorations=lr,this.options.update({oldNode:fr,oldDecorations:mr,newNode:rr,newDecorations:ir,oldInnerDecorations:hr,innerDecorations:lr,updateProps:()=>dr({node:rr,decorations:ir,innerDecorations:lr})})}return rr===this.node&&this.decorations===ir&&this.innerDecorations===lr||(this.node=rr,this.decorations=ir,this.innerDecorations=lr,dr({node:rr,decorations:ir,innerDecorations:lr})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let rr={};if(typeof this.options.attrs=="function"){const ir=this.editor.extensionManager.attributes,lr=getRenderedAttributes(this.node,ir);rr=this.options.attrs({node:this.node,HTMLAttributes:lr})}else rr=this.options.attrs;this.renderer.updateAttributes(rr)}}}function ReactNodeViewRenderer(e,rr){return ir=>ir.editor.contentComponent?new ReactNodeView(e,ir,rr):{}}const inputRegex$7=/^\s*>\s$/,Blockquote=Node$1.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex$7,type:this.type})]}}),starInputRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,starPasteRegex$1=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,underscoreInputRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,underscorePasteRegex$1=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Bold=Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItemName$1="listItem",TextStyleName$1="textStyle",inputRegex$6=/^\s*([-+*])\s$/,BulletList=Node$1.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:rr})=>this.options.keepAttributes?rr().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName$1,this.editor.getAttributes(TextStyleName$1)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=wrappingInputRule({find:inputRegex$6,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=wrappingInputRule({find:inputRegex$6,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(TextStyleName$1),editor:this.editor})),[e]}}),inputRegex$5=/(^|[^`])`([^`]+)`(?!`)/,pasteRegex$2=/(^|[^`])`([^`]+)`(?!`)/g,Code=Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$5,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$2,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node$1.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var rr;const{languageClassPrefix:ir}=this.options,fr=[...((rr=e.firstElementChild)===null||rr===void 0?void 0:rr.classList)||[]].filter(mr=>mr.startsWith(ir)).map(mr=>mr.replace(ir,""))[0];return fr||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:rr}){return["pre",mergeAttributes(this.options.HTMLAttributes,rr),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:rr})=>rr.setNode(this.name,e),toggleCodeBlock:e=>({commands:rr})=>rr.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:rr}=this.editor.state.selection,ir=rr.pos===1;return!e||rr.parent.type.name!==this.name?!1:ir||!rr.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:rr}=e,{selection:ir}=rr,{$from:lr,empty:dr}=ir;if(!dr||lr.parent.type!==this.type)return!1;const fr=lr.parentOffset===lr.parent.nodeSize-2,mr=lr.parent.textContent.endsWith(`

`);return!fr||!mr?!1:e.chain().command(({tr:hr})=>(hr.delete(lr.pos-2,lr.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:rr}=e,{selection:ir,doc:lr}=rr,{$from:dr,empty:fr}=ir;if(!fr||dr.parent.type!==this.type||!(dr.parentOffset===dr.parent.nodeSize-2))return!1;const hr=dr.after();return hr===void 0?!1:lr.nodeAt(hr)?e.commands.command(({tr:xr})=>(xr.setSelection(Selection$1.near(lr.resolve(hr))),!0)):e.commands.exitCode()}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:e=>({language:e[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(e,rr)=>{if(!rr.clipboardData||this.editor.isActive(this.type.name))return!1;const ir=rr.clipboardData.getData("text/plain"),lr=rr.clipboardData.getData("vscode-editor-data"),dr=lr?JSON.parse(lr):void 0,fr=dr?.mode;if(!ir||!fr)return!1;const{tr:mr,schema:hr}=e.state,gr=hr.text(ir.replace(/\r\n?/g,`
`));return mr.replaceSelectionWith(this.type.create({language:fr},gr)),mr.selection.$from.parent.type!==this.type&&mr.setSelection(TextSelection.near(mr.doc.resolve(Math.max(0,mr.selection.from-2)))),mr.setMeta("paste",!0),e.dispatch(mr),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(e={}){return new Plugin({view(rr){return new DropCursorView(rr,e)}})}class DropCursorView{constructor(rr,ir){var lr;this.editorView=rr,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(lr=ir.width)!==null&&lr!==void 0?lr:1,this.color=ir.color===!1?void 0:ir.color||"black",this.class=ir.class,this.handlers=["dragover","dragend","drop","dragleave"].map(dr=>{let fr=mr=>{this[dr](mr)};return rr.dom.addEventListener(dr,fr),{name:dr,handler:fr}})}destroy(){this.handlers.forEach(({name:rr,handler:ir})=>this.editorView.dom.removeEventListener(rr,ir))}update(rr,ir){this.cursorPos!=null&&ir.doc!=rr.state.doc&&(this.cursorPos>rr.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(rr){rr!=this.cursorPos&&(this.cursorPos=rr,rr==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let rr=this.editorView.state.doc.resolve(this.cursorPos),ir=!rr.parent.inlineContent,lr,dr=this.editorView.dom,fr=dr.getBoundingClientRect(),mr=fr.width/dr.offsetWidth,hr=fr.height/dr.offsetHeight;if(ir){let yr=rr.nodeBefore,vr=rr.nodeAfter;if(yr||vr){let br=this.editorView.nodeDOM(this.cursorPos-(yr?yr.nodeSize:0));if(br){let Sr=br.getBoundingClientRect(),wr=yr?Sr.bottom:Sr.top;yr&&vr&&(wr=(wr+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let Mr=this.width/2*hr;lr={left:Sr.left,right:Sr.right,top:wr-Mr,bottom:wr+Mr}}}}if(!lr){let yr=this.editorView.coordsAtPos(this.cursorPos),vr=this.width/2*mr;lr={left:yr.left-vr,right:yr.left+vr,top:yr.top,bottom:yr.bottom}}let gr=this.editorView.dom.offsetParent;this.element||(this.element=gr.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",ir),this.element.classList.toggle("prosemirror-dropcursor-inline",!ir);let xr,_r;if(!gr||gr==document.body&&getComputedStyle(gr).position=="static")xr=-pageXOffset,_r=-pageYOffset;else{let yr=gr.getBoundingClientRect(),vr=yr.width/gr.offsetWidth,br=yr.height/gr.offsetHeight;xr=yr.left-gr.scrollLeft*vr,_r=yr.top-gr.scrollTop*br}this.element.style.left=(lr.left-xr)/mr+"px",this.element.style.top=(lr.top-_r)/hr+"px",this.element.style.width=(lr.right-lr.left)/mr+"px",this.element.style.height=(lr.bottom-lr.top)/hr+"px"}scheduleRemoval(rr){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),rr)}dragover(rr){if(!this.editorView.editable)return;let ir=this.editorView.posAtCoords({left:rr.clientX,top:rr.clientY}),lr=ir&&ir.inside>=0&&this.editorView.state.doc.nodeAt(ir.inside),dr=lr&&lr.type.spec.disableDropCursor,fr=typeof dr=="function"?dr(this.editorView,ir,rr):dr;if(ir&&!fr){let mr=ir.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let hr=dropPoint(this.editorView.state.doc,mr,this.editorView.dragging.slice);hr!=null&&(mr=hr)}this.setCursor(mr),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(rr){this.editorView.dom.contains(rr.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection$1{constructor(rr){super(rr,rr)}map(rr,ir){let lr=rr.resolve(ir.map(this.head));return GapCursor.valid(lr)?new GapCursor(lr):Selection$1.near(lr)}content(){return Slice.empty}eq(rr){return rr instanceof GapCursor&&rr.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(rr,ir){if(typeof ir.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(rr.resolve(ir.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(rr){let ir=rr.parent;if(ir.isTextblock||!closedBefore(rr)||!closedAfter(rr))return!1;let lr=ir.type.spec.allowGapCursor;if(lr!=null)return lr;let dr=ir.contentMatchAt(rr.index()).defaultType;return dr&&dr.isTextblock}static findGapCursorFrom(rr,ir,lr=!1){e:for(;;){if(!lr&&GapCursor.valid(rr))return rr;let dr=rr.pos,fr=null;for(let mr=rr.depth;;mr--){let hr=rr.node(mr);if(ir>0?rr.indexAfter(mr)<hr.childCount:rr.index(mr)>0){fr=hr.child(ir>0?rr.indexAfter(mr):rr.index(mr)-1);break}else if(mr==0)return null;dr+=ir;let gr=rr.doc.resolve(dr);if(GapCursor.valid(gr))return gr}for(;;){let mr=ir>0?fr.firstChild:fr.lastChild;if(!mr){if(fr.isAtom&&!fr.isText&&!NodeSelection.isSelectable(fr)){rr=rr.doc.resolve(dr+fr.nodeSize*ir),lr=!1;continue e}break}fr=mr,dr+=ir;let hr=rr.doc.resolve(dr);if(GapCursor.valid(hr))return hr}return null}}}GapCursor.prototype.visible=!1;GapCursor.findFrom=GapCursor.findGapCursorFrom;Selection$1.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(rr){this.pos=rr}map(rr){return new GapBookmark(rr.map(this.pos))}resolve(rr){let ir=rr.resolve(this.pos);return GapCursor.valid(ir)?new GapCursor(ir):Selection$1.near(ir)}}function closedBefore(e){for(let rr=e.depth;rr>=0;rr--){let ir=e.index(rr),lr=e.node(rr);if(ir==0){if(lr.type.spec.isolating)return!0;continue}for(let dr=lr.child(ir-1);;dr=dr.lastChild){if(dr.childCount==0&&!dr.inlineContent||dr.isAtom||dr.type.spec.isolating)return!0;if(dr.inlineContent)return!1}}return!0}function closedAfter(e){for(let rr=e.depth;rr>=0;rr--){let ir=e.indexAfter(rr),lr=e.node(rr);if(ir==lr.childCount){if(lr.type.spec.isolating)return!0;continue}for(let dr=lr.child(ir);;dr=dr.firstChild){if(dr.childCount==0&&!dr.inlineContent||dr.isAtom||dr.type.spec.isolating)return!0;if(dr.inlineContent)return!1}}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween(e,rr,ir){return rr.pos==ir.pos&&GapCursor.valid(ir)?new GapCursor(ir):null},handleClick,handleKeyDown,handleDOMEvents:{beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(e,rr){const ir=e=="vert"?rr>0?"down":"up":rr>0?"right":"left";return function(lr,dr,fr){let mr=lr.selection,hr=rr>0?mr.$to:mr.$from,gr=mr.empty;if(mr instanceof TextSelection){if(!fr.endOfTextblock(ir)||hr.depth==0)return!1;gr=!1,hr=lr.doc.resolve(rr>0?hr.after():hr.before())}let xr=GapCursor.findGapCursorFrom(hr,rr,gr);return xr?(dr&&dr(lr.tr.setSelection(new GapCursor(xr))),!0):!1}}function handleClick(e,rr,ir){if(!e||!e.editable)return!1;let lr=e.state.doc.resolve(rr);if(!GapCursor.valid(lr))return!1;let dr=e.posAtCoords({left:ir.clientX,top:ir.clientY});return dr&&dr.inside>-1&&NodeSelection.isSelectable(e.state.doc.nodeAt(dr.inside))?!1:(e.dispatch(e.state.tr.setSelection(new GapCursor(lr))),!0)}function beforeinput(e,rr){if(rr.inputType!="insertCompositionText"||!(e.state.selection instanceof GapCursor))return!1;let{$from:ir}=e.state.selection,lr=ir.parent.contentMatchAt(ir.index()).findWrapping(e.state.schema.nodes.text);if(!lr)return!1;let dr=Fragment.empty;for(let mr=lr.length-1;mr>=0;mr--)dr=Fragment.from(lr[mr].createAndFill(null,dr));let fr=e.state.tr.replace(ir.pos,ir.pos,new Slice(dr,0,0));return fr.setSelection(TextSelection.near(fr.doc.resolve(ir.pos+1))),e.dispatch(fr),!1}function drawGapCursor(e){if(!(e.selection instanceof GapCursor))return null;let rr=document.createElement("div");return rr.className="ProseMirror-gapcursor",DecorationSet.create(e.doc,[Decoration.widget(e.selection.head,rr,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins(){return[gapCursor()]},extendNodeSchema(e){var rr;const ir={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(rr=callOrReturn(getExtensionField(e,"allowGapCursor",ir)))!==null&&rr!==void 0?rr:null}}}),HardBreak=Node$1.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",mergeAttributes(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:rr,state:ir,editor:lr})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:dr,storedMarks:fr}=ir;if(dr.$from.parent.type.spec.isolating)return!1;const{keepMarks:mr}=this.options,{splittableMarks:hr}=lr.extensionManager,gr=fr||dr.$to.parentOffset&&dr.$from.marks();return rr().insertContent({type:this.name}).command(({tr:xr,dispatch:_r})=>{if(_r&&gr&&mr){const yr=gr.filter(vr=>hr.includes(vr.type.name));xr.ensureMarks(yr)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node$1.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:rr}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,rr),0]},addCommands(){return{setHeading:e=>({commands:rr})=>this.options.levels.includes(e.level)?rr.setNode(this.name,e):!1,toggleHeading:e=>({commands:rr})=>this.options.levels.includes(e.level)?rr.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,rr)=>({...e,[`Mod-Alt-${rr}`]:()=>this.editor.commands.toggleHeading({level:rr})}),{})},addInputRules(){return this.options.levels.map(e=>textblockTypeInputRule({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(rr){return rr.length?(rr=RopeSequence.from(rr),!this.length&&rr||rr.length<GOOD_LEAF_SIZE&&this.leafAppend(rr)||this.length<GOOD_LEAF_SIZE&&rr.leafPrepend(this)||this.appendInner(rr)):this};RopeSequence.prototype.prepend=function(rr){return rr.length?RopeSequence.from(rr).append(this):this};RopeSequence.prototype.appendInner=function(rr){return new Append(this,rr)};RopeSequence.prototype.slice=function(rr,ir){return rr===void 0&&(rr=0),ir===void 0&&(ir=this.length),rr>=ir?RopeSequence.empty:this.sliceInner(Math.max(0,rr),Math.min(this.length,ir))};RopeSequence.prototype.get=function(rr){if(!(rr<0||rr>=this.length))return this.getInner(rr)};RopeSequence.prototype.forEach=function(rr,ir,lr){ir===void 0&&(ir=0),lr===void 0&&(lr=this.length),ir<=lr?this.forEachInner(rr,ir,lr,0):this.forEachInvertedInner(rr,ir,lr,0)};RopeSequence.prototype.map=function(rr,ir,lr){ir===void 0&&(ir=0),lr===void 0&&(lr=this.length);var dr=[];return this.forEach(function(fr,mr){return dr.push(rr(fr,mr))},ir,lr),dr};RopeSequence.from=function(rr){return rr instanceof RopeSequence?rr:rr&&rr.length?new Leaf(rr):RopeSequence.empty};var Leaf=function(e){function rr(lr){e.call(this),this.values=lr}e&&(rr.__proto__=e),rr.prototype=Object.create(e&&e.prototype),rr.prototype.constructor=rr;var ir={length:{configurable:!0},depth:{configurable:!0}};return rr.prototype.flatten=function(){return this.values},rr.prototype.sliceInner=function(dr,fr){return dr==0&&fr==this.length?this:new rr(this.values.slice(dr,fr))},rr.prototype.getInner=function(dr){return this.values[dr]},rr.prototype.forEachInner=function(dr,fr,mr,hr){for(var gr=fr;gr<mr;gr++)if(dr(this.values[gr],hr+gr)===!1)return!1},rr.prototype.forEachInvertedInner=function(dr,fr,mr,hr){for(var gr=fr-1;gr>=mr;gr--)if(dr(this.values[gr],hr+gr)===!1)return!1},rr.prototype.leafAppend=function(dr){if(this.length+dr.length<=GOOD_LEAF_SIZE)return new rr(this.values.concat(dr.flatten()))},rr.prototype.leafPrepend=function(dr){if(this.length+dr.length<=GOOD_LEAF_SIZE)return new rr(dr.flatten().concat(this.values))},ir.length.get=function(){return this.values.length},ir.depth.get=function(){return 0},Object.defineProperties(rr.prototype,ir),rr}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(e){function rr(ir,lr){e.call(this),this.left=ir,this.right=lr,this.length=ir.length+lr.length,this.depth=Math.max(ir.depth,lr.depth)+1}return e&&(rr.__proto__=e),rr.prototype=Object.create(e&&e.prototype),rr.prototype.constructor=rr,rr.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},rr.prototype.getInner=function(lr){return lr<this.left.length?this.left.get(lr):this.right.get(lr-this.left.length)},rr.prototype.forEachInner=function(lr,dr,fr,mr){var hr=this.left.length;if(dr<hr&&this.left.forEachInner(lr,dr,Math.min(fr,hr),mr)===!1||fr>hr&&this.right.forEachInner(lr,Math.max(dr-hr,0),Math.min(this.length,fr)-hr,mr+hr)===!1)return!1},rr.prototype.forEachInvertedInner=function(lr,dr,fr,mr){var hr=this.left.length;if(dr>hr&&this.right.forEachInvertedInner(lr,dr-hr,Math.max(fr,hr)-hr,mr+hr)===!1||fr<hr&&this.left.forEachInvertedInner(lr,Math.min(dr,hr),fr,mr)===!1)return!1},rr.prototype.sliceInner=function(lr,dr){if(lr==0&&dr==this.length)return this;var fr=this.left.length;return dr<=fr?this.left.slice(lr,dr):lr>=fr?this.right.slice(lr-fr,dr-fr):this.left.slice(lr,fr).append(this.right.slice(0,dr-fr))},rr.prototype.leafAppend=function(lr){var dr=this.right.leafAppend(lr);if(dr)return new rr(this.left,dr)},rr.prototype.leafPrepend=function(lr){var dr=this.left.leafPrepend(lr);if(dr)return new rr(dr,this.right)},rr.prototype.appendInner=function(lr){return this.left.depth>=Math.max(this.right.depth,lr.depth)+1?new rr(this.left,new rr(this.right,lr)):new rr(this,lr)},rr}(RopeSequence);const max_empty_items=500;class Branch{constructor(rr,ir){this.items=rr,this.eventCount=ir}popEvent(rr,ir){if(this.eventCount==0)return null;let lr=this.items.length;for(;;lr--)if(this.items.get(lr-1).selection){--lr;break}let dr,fr;ir&&(dr=this.remapping(lr,this.items.length),fr=dr.maps.length);let mr=rr.tr,hr,gr,xr=[],_r=[];return this.items.forEach((yr,vr)=>{if(!yr.step){dr||(dr=this.remapping(lr,vr+1),fr=dr.maps.length),fr--,_r.push(yr);return}if(dr){_r.push(new Item(yr.map));let br=yr.step.map(dr.slice(fr)),Sr;br&&mr.maybeStep(br).doc&&(Sr=mr.mapping.maps[mr.mapping.maps.length-1],xr.push(new Item(Sr,void 0,void 0,xr.length+_r.length))),fr--,Sr&&dr.appendMap(Sr,fr)}else mr.maybeStep(yr.step);if(yr.selection)return hr=dr?yr.selection.map(dr.slice(fr)):yr.selection,gr=new Branch(this.items.slice(0,lr).append(_r.reverse().concat(xr)),this.eventCount-1),!1},this.items.length,0),{remaining:gr,transform:mr,selection:hr}}addTransform(rr,ir,lr,dr){let fr=[],mr=this.eventCount,hr=this.items,gr=!dr&&hr.length?hr.get(hr.length-1):null;for(let _r=0;_r<rr.steps.length;_r++){let yr=rr.steps[_r].invert(rr.docs[_r]),vr=new Item(rr.mapping.maps[_r],yr,ir),br;(br=gr&&gr.merge(vr))&&(vr=br,_r?fr.pop():hr=hr.slice(0,hr.length-1)),fr.push(vr),ir&&(mr++,ir=void 0),dr||(gr=vr)}let xr=mr-lr.depth;return xr>DEPTH_OVERFLOW&&(hr=cutOffEvents(hr,xr),mr-=xr),new Branch(hr.append(fr),mr)}remapping(rr,ir){let lr=new Mapping;return this.items.forEach((dr,fr)=>{let mr=dr.mirrorOffset!=null&&fr-dr.mirrorOffset>=rr?lr.maps.length-dr.mirrorOffset:void 0;lr.appendMap(dr.map,mr)},rr,ir),lr}addMaps(rr){return this.eventCount==0?this:new Branch(this.items.append(rr.map(ir=>new Item(ir))),this.eventCount)}rebased(rr,ir){if(!this.eventCount)return this;let lr=[],dr=Math.max(0,this.items.length-ir),fr=rr.mapping,mr=rr.steps.length,hr=this.eventCount;this.items.forEach(vr=>{vr.selection&&hr--},dr);let gr=ir;this.items.forEach(vr=>{let br=fr.getMirror(--gr);if(br==null)return;mr=Math.min(mr,br);let Sr=fr.maps[br];if(vr.step){let wr=rr.steps[br].invert(rr.docs[br]),Mr=vr.selection&&vr.selection.map(fr.slice(gr+1,br));Mr&&hr++,lr.push(new Item(Sr,wr,Mr))}else lr.push(new Item(Sr))},dr);let xr=[];for(let vr=ir;vr<mr;vr++)xr.push(new Item(fr.maps[vr]));let _r=this.items.slice(0,dr).append(xr).append(lr),yr=new Branch(_r,hr);return yr.emptyItemCount()>max_empty_items&&(yr=yr.compress(this.items.length-lr.length)),yr}emptyItemCount(){let rr=0;return this.items.forEach(ir=>{ir.step||rr++}),rr}compress(rr=this.items.length){let ir=this.remapping(0,rr),lr=ir.maps.length,dr=[],fr=0;return this.items.forEach((mr,hr)=>{if(hr>=rr)dr.push(mr),mr.selection&&fr++;else if(mr.step){let gr=mr.step.map(ir.slice(lr)),xr=gr&&gr.getMap();if(lr--,xr&&ir.appendMap(xr,lr),gr){let _r=mr.selection&&mr.selection.map(ir.slice(lr));_r&&fr++;let yr=new Item(xr.invert(),gr,_r),vr,br=dr.length-1;(vr=dr.length&&dr[br].merge(yr))?dr[br]=vr:dr.push(yr)}}else mr.map&&lr--},this.items.length,0),new Branch(RopeSequence.from(dr.reverse()),fr)}}Branch.empty=new Branch(RopeSequence.empty,0);function cutOffEvents(e,rr){let ir;return e.forEach((lr,dr)=>{if(lr.selection&&rr--==0)return ir=dr,!1}),e.slice(ir)}class Item{constructor(rr,ir,lr,dr){this.map=rr,this.step=ir,this.selection=lr,this.mirrorOffset=dr}merge(rr){if(this.step&&rr.step&&!rr.selection){let ir=rr.step.merge(this.step);if(ir)return new Item(ir.getMap().invert(),ir,this.selection)}}}class HistoryState{constructor(rr,ir,lr,dr,fr){this.done=rr,this.undone=ir,this.prevRanges=lr,this.prevTime=dr,this.prevComposition=fr}}const DEPTH_OVERFLOW=20;function applyTransaction(e,rr,ir,lr){let dr=ir.getMeta(historyKey),fr;if(dr)return dr.historyState;ir.getMeta(closeHistoryKey)&&(e=new HistoryState(e.done,e.undone,null,0,-1));let mr=ir.getMeta("appendedTransaction");if(ir.steps.length==0)return e;if(mr&&mr.getMeta(historyKey))return mr.getMeta(historyKey).redo?new HistoryState(e.done.addTransform(ir,void 0,lr,mustPreserveItems(rr)),e.undone,rangesFor(ir.mapping.maps),e.prevTime,e.prevComposition):new HistoryState(e.done,e.undone.addTransform(ir,void 0,lr,mustPreserveItems(rr)),null,e.prevTime,e.prevComposition);if(ir.getMeta("addToHistory")!==!1&&!(mr&&mr.getMeta("addToHistory")===!1)){let hr=ir.getMeta("composition"),gr=e.prevTime==0||!mr&&e.prevComposition!=hr&&(e.prevTime<(ir.time||0)-lr.newGroupDelay||!isAdjacentTo(ir,e.prevRanges)),xr=mr?mapRanges(e.prevRanges,ir.mapping):rangesFor(ir.mapping.maps);return new HistoryState(e.done.addTransform(ir,gr?rr.selection.getBookmark():void 0,lr,mustPreserveItems(rr)),Branch.empty,xr,ir.time,hr??e.prevComposition)}else return(fr=ir.getMeta("rebased"))?new HistoryState(e.done.rebased(ir,fr),e.undone.rebased(ir,fr),mapRanges(e.prevRanges,ir.mapping),e.prevTime,e.prevComposition):new HistoryState(e.done.addMaps(ir.mapping.maps),e.undone.addMaps(ir.mapping.maps),mapRanges(e.prevRanges,ir.mapping),e.prevTime,e.prevComposition)}function isAdjacentTo(e,rr){if(!rr)return!1;if(!e.docChanged)return!0;let ir=!1;return e.mapping.maps[0].forEach((lr,dr)=>{for(let fr=0;fr<rr.length;fr+=2)lr<=rr[fr+1]&&dr>=rr[fr]&&(ir=!0)}),ir}function rangesFor(e){let rr=[];for(let ir=e.length-1;ir>=0&&rr.length==0;ir--)e[ir].forEach((lr,dr,fr,mr)=>rr.push(fr,mr));return rr}function mapRanges(e,rr){if(!e)return null;let ir=[];for(let lr=0;lr<e.length;lr+=2){let dr=rr.map(e[lr],1),fr=rr.map(e[lr+1],-1);dr<=fr&&ir.push(dr,fr)}return ir}function histTransaction(e,rr,ir){let lr=mustPreserveItems(rr),dr=historyKey.get(rr).spec.config,fr=(ir?e.undone:e.done).popEvent(rr,lr);if(!fr)return null;let mr=fr.selection.resolve(fr.transform.doc),hr=(ir?e.done:e.undone).addTransform(fr.transform,rr.selection.getBookmark(),dr,lr),gr=new HistoryState(ir?hr:fr.remaining,ir?fr.remaining:hr,null,0,-1);return fr.transform.setSelection(mr).setMeta(historyKey,{redo:ir,historyState:gr})}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(e){let rr=e.plugins;if(cachedPreserveItemsPlugins!=rr){cachedPreserveItems=!1,cachedPreserveItemsPlugins=rr;for(let ir=0;ir<rr.length;ir++)if(rr[ir].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Plugin({key:historyKey,state:{init(){return new HistoryState(Branch.empty,Branch.empty,null,0,-1)},apply(rr,ir,lr){return applyTransaction(ir,lr,rr,e)}},config:e,props:{handleDOMEvents:{beforeinput(rr,ir){let lr=ir.inputType,dr=lr=="historyUndo"?undo:lr=="historyRedo"?redo:null;return dr?(ir.preventDefault(),dr(rr.state,rr.dispatch)):!1}}}})}function buildCommand(e,rr){return(ir,lr)=>{let dr=historyKey.getState(ir);if(!dr||(e?dr.undone:dr.done).eventCount==0)return!1;if(lr){let fr=histTransaction(dr,ir,e);fr&&lr(rr?fr.scrollIntoView():fr)}return!0}}const undo=buildCommand(!1,!0),redo=buildCommand(!0,!0),History=Extension.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:rr})=>undo(e,rr),redo:()=>({state:e,dispatch:rr})=>redo(e,rr)}},addProseMirrorPlugins(){return[history(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),HorizontalRule=Node$1.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:rr})=>{if(!canInsertNode(rr,rr.schema.nodes[this.name]))return!1;const{selection:ir}=rr,{$from:lr,$to:dr}=ir,fr=e();return lr.parentOffset===0?fr.insertContentAt({from:Math.max(lr.pos-1,0),to:dr.pos},{type:this.name}):isNodeSelection(ir)?fr.insertContentAt(dr.pos,{type:this.name}):fr.insertContent({type:this.name}),fr.command(({tr:mr,dispatch:hr})=>{var gr;if(hr){const{$to:xr}=mr.selection,_r=xr.end();if(xr.nodeAfter)xr.nodeAfter.isTextblock?mr.setSelection(TextSelection.create(mr.doc,xr.pos+1)):xr.nodeAfter.isBlock?mr.setSelection(NodeSelection.create(mr.doc,xr.pos)):mr.setSelection(TextSelection.create(mr.doc,xr.pos));else{const yr=(gr=xr.parent.type.contentMatch.defaultType)===null||gr===void 0?void 0:gr.create();yr&&(mr.insert(_r,yr),mr.setSelection(TextSelection.create(mr.doc,_r+1)))}mr.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nodeInputRule({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,starPasteRegex=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,underscoreInputRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,underscorePasteRegex=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Italic=Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),ListItem=Node$1.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ListItemName="listItem",TextStyleName="textStyle",inputRegex$4=/^(\d+)\.\s$/,OrderedList=Node$1.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:rr,...ir}=e;return rr===1?["ol",mergeAttributes(this.options.HTMLAttributes,ir),0]:["ol",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:rr})=>this.options.keepAttributes?rr().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ListItemName,this.editor.getAttributes(TextStyleName)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=wrappingInputRule({find:inputRegex$4,type:this.type,getAttributes:rr=>({start:+rr[1]}),joinPredicate:(rr,ir)=>ir.childCount+ir.attrs.start===+rr[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=wrappingInputRule({find:inputRegex$4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:rr=>({start:+rr[1],...this.editor.getAttributes(TextStyleName)}),joinPredicate:(rr,ir)=>ir.childCount+ir.attrs.start===+rr[1],editor:this.editor})),[e]}}),Paragraph=Node$1.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$3=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pasteRegex$1=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Strike=Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$3,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),Text$1=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){const e=[];return this.options.bold!==!1&&e.push(Bold.configure(this.options.bold)),this.options.blockquote!==!1&&e.push(Blockquote.configure(this.options.blockquote)),this.options.bulletList!==!1&&e.push(BulletList.configure(this.options.bulletList)),this.options.code!==!1&&e.push(Code.configure(this.options.code)),this.options.codeBlock!==!1&&e.push(CodeBlock.configure(this.options.codeBlock)),this.options.document!==!1&&e.push(Document.configure(this.options.document)),this.options.dropcursor!==!1&&e.push(Dropcursor.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&e.push(Gapcursor.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&e.push(HardBreak.configure(this.options.hardBreak)),this.options.heading!==!1&&e.push(Heading.configure(this.options.heading)),this.options.history!==!1&&e.push(History.configure(this.options.history)),this.options.horizontalRule!==!1&&e.push(HorizontalRule.configure(this.options.horizontalRule)),this.options.italic!==!1&&e.push(Italic.configure(this.options.italic)),this.options.listItem!==!1&&e.push(ListItem.configure(this.options.listItem)),this.options.orderedList!==!1&&e.push(OrderedList.configure(this.options.orderedList)),this.options.paragraph!==!1&&e.push(Paragraph.configure(this.options.paragraph)),this.options.strike!==!1&&e.push(Strike.configure(this.options.strike)),this.options.text!==!1&&e.push(Text$1.configure(this.options.text)),e}}),inputRegex$2=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Image=Node$1.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:rr})=>rr.insertContent({type:this.name,attrs:e})}},addInputRules(){return[nodeInputRule({find:inputRegex$2,type:this.type,getAttributes:e=>{const[,,rr,ir,lr]=e;return{src:ir,alt:rr,title:lr}}})]}}),inputRegex$1=/^\s*(\[([( |x])?\])\s$/,TaskItem=Node$1.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const rr=e.getAttribute("data-checked");return rr===""||rr==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:rr}){return["li",mergeAttributes(this.options.HTMLAttributes,rr,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:rr,getPos:ir,editor:lr})=>{const dr=document.createElement("li"),fr=document.createElement("label"),mr=document.createElement("span"),hr=document.createElement("input"),gr=document.createElement("div");return fr.contentEditable="false",hr.type="checkbox",hr.addEventListener("mousedown",xr=>xr.preventDefault()),hr.addEventListener("change",xr=>{if(!lr.isEditable&&!this.options.onReadOnlyChecked){hr.checked=!hr.checked;return}const{checked:_r}=xr.target;lr.isEditable&&typeof ir=="function"&&lr.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:yr})=>{const vr=ir();if(typeof vr!="number")return!1;const br=yr.doc.nodeAt(vr);return yr.setNodeMarkup(vr,void 0,{...br?.attrs,checked:_r}),!0}).run(),!lr.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,_r)||(hr.checked=!hr.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([xr,_r])=>{dr.setAttribute(xr,_r)}),dr.dataset.checked=e.attrs.checked,hr.checked=e.attrs.checked,fr.append(hr,mr),dr.append(fr,gr),Object.entries(rr).forEach(([xr,_r])=>{dr.setAttribute(xr,_r)}),{dom:dr,contentDOM:gr,update:xr=>xr.type!==this.type?!1:(dr.dataset.checked=xr.attrs.checked,hr.checked=xr.attrs.checked,!0)}}},addInputRules(){return[wrappingInputRule({find:inputRegex$1,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),TaskList=Node$1.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",mergeAttributes(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),TextAlign=Extension.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const rr=e.style.textAlign;return this.options.alignments.includes(rr)?rr:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:rr})=>this.options.alignments.includes(e)?this.options.types.map(ir=>rr.updateAttributes(ir,{textAlign:e})).every(ir=>ir):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(rr=>e.resetAttributes(rr,"textAlign")).every(rr=>rr),toggleTextAlign:e=>({editor:rr,commands:ir})=>this.options.alignments.includes(e)?rr.isActive({textAlign:e})?ir.unsetTextAlign():ir.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),emDash=e=>textInputRule({find:/--$/,replace:e??""}),ellipsis=e=>textInputRule({find:/\.\.\.$/,replace:e??""}),openDoubleQuote=e=>textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(")$/,replace:e??""}),closeDoubleQuote=e=>textInputRule({find:/"$/,replace:e??""}),openSingleQuote=e=>textInputRule({find:/(?:^|[\s{[(<'"\u2018\u201C])(')$/,replace:e??""}),closeSingleQuote=e=>textInputRule({find:/'$/,replace:e??""}),leftArrow=e=>textInputRule({find:/<-$/,replace:e??""}),rightArrow=e=>textInputRule({find:/->$/,replace:e??""}),copyright=e=>textInputRule({find:/\(c\)$/,replace:e??""}),trademark=e=>textInputRule({find:/\(tm\)$/,replace:e??""}),servicemark=e=>textInputRule({find:/\(sm\)$/,replace:e??""}),registeredTrademark=e=>textInputRule({find:/\(r\)$/,replace:e??""}),oneHalf=e=>textInputRule({find:/(?:^|\s)(1\/2)\s$/,replace:e??""}),plusMinus=e=>textInputRule({find:/\+\/-$/,replace:e??""}),notEqual=e=>textInputRule({find:/!=$/,replace:e??""}),laquo=e=>textInputRule({find:/<<$/,replace:e??""}),raquo=e=>textInputRule({find:/>>$/,replace:e??""}),multiplication=e=>textInputRule({find:/\d+\s?([*x])\s?\d+$/,replace:e??""}),superscriptTwo=e=>textInputRule({find:/\^2$/,replace:e??""}),superscriptThree=e=>textInputRule({find:/\^3$/,replace:e??""}),oneQuarter=e=>textInputRule({find:/(?:^|\s)(1\/4)\s$/,replace:e??""}),threeQuarters=e=>textInputRule({find:/(?:^|\s)(3\/4)\s$/,replace:e??""}),Typography=Extension.create({name:"typography",addOptions(){return{closeDoubleQuote:"",closeSingleQuote:"",copyright:"",ellipsis:"",emDash:"",laquo:"",leftArrow:"",multiplication:"",notEqual:"",oneHalf:"",oneQuarter:"",openDoubleQuote:"",openSingleQuote:"",plusMinus:"",raquo:"",registeredTrademark:"",rightArrow:"",servicemark:"",superscriptThree:"",superscriptTwo:"",threeQuarters:"",trademark:""}},addInputRules(){const e=[];return this.options.emDash!==!1&&e.push(emDash(this.options.emDash)),this.options.ellipsis!==!1&&e.push(ellipsis(this.options.ellipsis)),this.options.openDoubleQuote!==!1&&e.push(openDoubleQuote(this.options.openDoubleQuote)),this.options.closeDoubleQuote!==!1&&e.push(closeDoubleQuote(this.options.closeDoubleQuote)),this.options.openSingleQuote!==!1&&e.push(openSingleQuote(this.options.openSingleQuote)),this.options.closeSingleQuote!==!1&&e.push(closeSingleQuote(this.options.closeSingleQuote)),this.options.leftArrow!==!1&&e.push(leftArrow(this.options.leftArrow)),this.options.rightArrow!==!1&&e.push(rightArrow(this.options.rightArrow)),this.options.copyright!==!1&&e.push(copyright(this.options.copyright)),this.options.trademark!==!1&&e.push(trademark(this.options.trademark)),this.options.servicemark!==!1&&e.push(servicemark(this.options.servicemark)),this.options.registeredTrademark!==!1&&e.push(registeredTrademark(this.options.registeredTrademark)),this.options.oneHalf!==!1&&e.push(oneHalf(this.options.oneHalf)),this.options.plusMinus!==!1&&e.push(plusMinus(this.options.plusMinus)),this.options.notEqual!==!1&&e.push(notEqual(this.options.notEqual)),this.options.laquo!==!1&&e.push(laquo(this.options.laquo)),this.options.raquo!==!1&&e.push(raquo(this.options.raquo)),this.options.multiplication!==!1&&e.push(multiplication(this.options.multiplication)),this.options.superscriptTwo!==!1&&e.push(superscriptTwo(this.options.superscriptTwo)),this.options.superscriptThree!==!1&&e.push(superscriptThree(this.options.superscriptThree)),this.options.oneQuarter!==!1&&e.push(oneQuarter(this.options.oneQuarter)),this.options.threeQuarters!==!1&&e.push(threeQuarters(this.options.threeQuarters)),e}}),inputRegex=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,pasteRegex=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Highlight=Mark.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:rr})=>rr.setMark(this.name,e),toggleHighlight:e=>({commands:rr})=>rr.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[markInputRule({find:inputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),Subscript=Mark.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Superscript=Mark.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),Underline=Mark.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),encodedTlds="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",encodedUtlds="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",assign$1=(e,rr)=>{for(const ir in rr)e[ir]=rr[ir];return e},numeric="numeric",ascii="ascii",alpha="alpha",asciinumeric="asciinumeric",alphanumeric="alphanumeric",domain="domain",emoji="emoji",scheme="scheme",slashscheme="slashscheme",whitespace="whitespace";function registerGroup(e,rr){return e in rr||(rr[e]=[]),rr[e]}function addToGroups(e,rr,ir){rr[numeric]&&(rr[asciinumeric]=!0,rr[alphanumeric]=!0),rr[ascii]&&(rr[asciinumeric]=!0,rr[alpha]=!0),rr[asciinumeric]&&(rr[alphanumeric]=!0),rr[alpha]&&(rr[alphanumeric]=!0),rr[alphanumeric]&&(rr[domain]=!0),rr[emoji]&&(rr[domain]=!0);for(const lr in rr){const dr=registerGroup(lr,ir);dr.indexOf(e)<0&&dr.push(e)}}function flagsForToken(e,rr){const ir={};for(const lr in rr)rr[lr].indexOf(e)>=0&&(ir[lr]=!0);return ir}function State(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}State.groups={};State.prototype={accepts(){return!!this.t},go(e){const rr=this,ir=rr.j[e];if(ir)return ir;for(let lr=0;lr<rr.jr.length;lr++){const dr=rr.jr[lr][0],fr=rr.jr[lr][1];if(fr&&dr.test(e))return fr}return rr.jd},has(e,rr=!1){return rr?e in this.j:!!this.go(e)},ta(e,rr,ir,lr){for(let dr=0;dr<e.length;dr++)this.tt(e[dr],rr,ir,lr)},tr(e,rr,ir,lr){lr=lr||State.groups;let dr;return rr&&rr.j?dr=rr:(dr=new State(rr),ir&&lr&&addToGroups(rr,ir,lr)),this.jr.push([e,dr]),dr},ts(e,rr,ir,lr){let dr=this;const fr=e.length;if(!fr)return dr;for(let mr=0;mr<fr-1;mr++)dr=dr.tt(e[mr]);return dr.tt(e[fr-1],rr,ir,lr)},tt(e,rr,ir,lr){lr=lr||State.groups;const dr=this;if(rr&&rr.j)return dr.j[e]=rr,rr;const fr=rr;let mr,hr=dr.go(e);if(hr?(mr=new State,assign$1(mr.j,hr.j),mr.jr.push.apply(mr.jr,hr.jr),mr.jd=hr.jd,mr.t=hr.t):mr=new State,fr){if(lr)if(mr.t&&typeof mr.t=="string"){const gr=assign$1(flagsForToken(mr.t,lr),ir);addToGroups(fr,gr,lr)}else ir&&addToGroups(fr,ir,lr);mr.t=fr}return dr.j[e]=mr,mr}};const ta=(e,rr,ir,lr,dr)=>e.ta(rr,ir,lr,dr),tr=(e,rr,ir,lr,dr)=>e.tr(rr,ir,lr,dr),ts=(e,rr,ir,lr,dr)=>e.ts(rr,ir,lr,dr),tt$1=(e,rr,ir,lr,dr)=>e.tt(rr,ir,lr,dr),WORD="WORD",UWORD="UWORD",ASCIINUMERICAL="ASCIINUMERICAL",ALPHANUMERICAL="ALPHANUMERICAL",LOCALHOST="LOCALHOST",TLD="TLD",UTLD="UTLD",SCHEME="SCHEME",SLASH_SCHEME="SLASH_SCHEME",NUM="NUM",WS="WS",NL="NL",OPENBRACE="OPENBRACE",CLOSEBRACE="CLOSEBRACE",OPENBRACKET="OPENBRACKET",CLOSEBRACKET="CLOSEBRACKET",OPENPAREN="OPENPAREN",CLOSEPAREN="CLOSEPAREN",OPENANGLEBRACKET="OPENANGLEBRACKET",CLOSEANGLEBRACKET="CLOSEANGLEBRACKET",FULLWIDTHLEFTPAREN="FULLWIDTHLEFTPAREN",FULLWIDTHRIGHTPAREN="FULLWIDTHRIGHTPAREN",LEFTCORNERBRACKET="LEFTCORNERBRACKET",RIGHTCORNERBRACKET="RIGHTCORNERBRACKET",LEFTWHITECORNERBRACKET="LEFTWHITECORNERBRACKET",RIGHTWHITECORNERBRACKET="RIGHTWHITECORNERBRACKET",FULLWIDTHLESSTHAN="FULLWIDTHLESSTHAN",FULLWIDTHGREATERTHAN="FULLWIDTHGREATERTHAN",AMPERSAND="AMPERSAND",APOSTROPHE="APOSTROPHE",ASTERISK="ASTERISK",AT="AT",BACKSLASH="BACKSLASH",BACKTICK="BACKTICK",CARET="CARET",COLON="COLON",COMMA="COMMA",DOLLAR="DOLLAR",DOT="DOT",EQUALS="EQUALS",EXCLAMATION="EXCLAMATION",HYPHEN="HYPHEN",PERCENT="PERCENT",PIPE="PIPE",PLUS="PLUS",POUND="POUND",QUERY="QUERY",QUOTE="QUOTE",FULLWIDTHMIDDLEDOT="FULLWIDTHMIDDLEDOT",SEMI="SEMI",SLASH="SLASH",TILDE="TILDE",UNDERSCORE="UNDERSCORE",EMOJI$1="EMOJI",SYM="SYM";var tk=Object.freeze({__proto__:null,ALPHANUMERICAL,AMPERSAND,APOSTROPHE,ASCIINUMERICAL,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,CLOSEANGLEBRACKET,CLOSEBRACE,CLOSEBRACKET,CLOSEPAREN,COLON,COMMA,DOLLAR,DOT,EMOJI:EMOJI$1,EQUALS,EXCLAMATION,FULLWIDTHGREATERTHAN,FULLWIDTHLEFTPAREN,FULLWIDTHLESSTHAN,FULLWIDTHMIDDLEDOT,FULLWIDTHRIGHTPAREN,HYPHEN,LEFTCORNERBRACKET,LEFTWHITECORNERBRACKET,LOCALHOST,NL,NUM,OPENANGLEBRACKET,OPENBRACE,OPENBRACKET,OPENPAREN,PERCENT,PIPE,PLUS,POUND,QUERY,QUOTE,RIGHTCORNERBRACKET,RIGHTWHITECORNERBRACKET,SCHEME,SEMI,SLASH,SLASH_SCHEME,SYM,TILDE,TLD,UNDERSCORE,UTLD,UWORD,WORD,WS});const ASCII_LETTER=/[a-z]/,LETTER=/\p{L}/u,EMOJI=/\p{Emoji}/u,DIGIT=/\d/,SPACE=/\s/,CR="\r",LF=`
`,EMOJI_VARIATION="",EMOJI_JOINER="",OBJECT_REPLACEMENT="";let tlds=null,utlds=null;function init$2(e=[]){const rr={};State.groups=rr;const ir=new State;tlds==null&&(tlds=decodeTlds(encodedTlds)),utlds==null&&(utlds=decodeTlds(encodedUtlds)),tt$1(ir,"'",APOSTROPHE),tt$1(ir,"{",OPENBRACE),tt$1(ir,"}",CLOSEBRACE),tt$1(ir,"[",OPENBRACKET),tt$1(ir,"]",CLOSEBRACKET),tt$1(ir,"(",OPENPAREN),tt$1(ir,")",CLOSEPAREN),tt$1(ir,"<",OPENANGLEBRACKET),tt$1(ir,">",CLOSEANGLEBRACKET),tt$1(ir,"",FULLWIDTHLEFTPAREN),tt$1(ir,"",FULLWIDTHRIGHTPAREN),tt$1(ir,"",LEFTCORNERBRACKET),tt$1(ir,"",RIGHTCORNERBRACKET),tt$1(ir,"",LEFTWHITECORNERBRACKET),tt$1(ir,"",RIGHTWHITECORNERBRACKET),tt$1(ir,"",FULLWIDTHLESSTHAN),tt$1(ir,"",FULLWIDTHGREATERTHAN),tt$1(ir,"&",AMPERSAND),tt$1(ir,"*",ASTERISK),tt$1(ir,"@",AT),tt$1(ir,"`",BACKTICK),tt$1(ir,"^",CARET),tt$1(ir,":",COLON),tt$1(ir,",",COMMA),tt$1(ir,"$",DOLLAR),tt$1(ir,".",DOT),tt$1(ir,"=",EQUALS),tt$1(ir,"!",EXCLAMATION),tt$1(ir,"-",HYPHEN),tt$1(ir,"%",PERCENT),tt$1(ir,"|",PIPE),tt$1(ir,"+",PLUS),tt$1(ir,"#",POUND),tt$1(ir,"?",QUERY),tt$1(ir,'"',QUOTE),tt$1(ir,"/",SLASH),tt$1(ir,";",SEMI),tt$1(ir,"~",TILDE),tt$1(ir,"_",UNDERSCORE),tt$1(ir,"\\",BACKSLASH),tt$1(ir,"",FULLWIDTHMIDDLEDOT);const lr=tr(ir,DIGIT,NUM,{[numeric]:!0});tr(lr,DIGIT,lr);const dr=tr(lr,ASCII_LETTER,ASCIINUMERICAL,{[asciinumeric]:!0}),fr=tr(lr,LETTER,ALPHANUMERICAL,{[alphanumeric]:!0}),mr=tr(ir,ASCII_LETTER,WORD,{[ascii]:!0});tr(mr,DIGIT,dr),tr(mr,ASCII_LETTER,mr),tr(dr,DIGIT,dr),tr(dr,ASCII_LETTER,dr);const hr=tr(ir,LETTER,UWORD,{[alpha]:!0});tr(hr,ASCII_LETTER),tr(hr,DIGIT,fr),tr(hr,LETTER,hr),tr(fr,DIGIT,fr),tr(fr,ASCII_LETTER),tr(fr,LETTER,fr);const gr=tt$1(ir,LF,NL,{[whitespace]:!0}),xr=tt$1(ir,CR,WS,{[whitespace]:!0}),_r=tr(ir,SPACE,WS,{[whitespace]:!0});tt$1(ir,OBJECT_REPLACEMENT,_r),tt$1(xr,LF,gr),tt$1(xr,OBJECT_REPLACEMENT,_r),tr(xr,SPACE,_r),tt$1(_r,CR),tt$1(_r,LF),tr(_r,SPACE,_r),tt$1(_r,OBJECT_REPLACEMENT,_r);const yr=tr(ir,EMOJI,EMOJI$1,{[emoji]:!0});tt$1(yr,"#"),tr(yr,EMOJI,yr),tt$1(yr,EMOJI_VARIATION,yr);const vr=tt$1(yr,EMOJI_JOINER);tt$1(vr,"#"),tr(vr,EMOJI,yr);const br=[[ASCII_LETTER,mr],[DIGIT,dr]],Sr=[[ASCII_LETTER,null],[LETTER,hr],[DIGIT,fr]];for(let wr=0;wr<tlds.length;wr++)fastts(ir,tlds[wr],TLD,WORD,br);for(let wr=0;wr<utlds.length;wr++)fastts(ir,utlds[wr],UTLD,UWORD,Sr);addToGroups(TLD,{tld:!0,ascii:!0},rr),addToGroups(UTLD,{utld:!0,alpha:!0},rr),fastts(ir,"file",SCHEME,WORD,br),fastts(ir,"mailto",SCHEME,WORD,br),fastts(ir,"http",SLASH_SCHEME,WORD,br),fastts(ir,"https",SLASH_SCHEME,WORD,br),fastts(ir,"ftp",SLASH_SCHEME,WORD,br),fastts(ir,"ftps",SLASH_SCHEME,WORD,br),addToGroups(SCHEME,{scheme:!0,ascii:!0},rr),addToGroups(SLASH_SCHEME,{slashscheme:!0,ascii:!0},rr),e=e.sort((wr,Mr)=>wr[0]>Mr[0]?1:-1);for(let wr=0;wr<e.length;wr++){const Mr=e[wr][0],Ar=e[wr][1]?{[scheme]:!0}:{[slashscheme]:!0};Mr.indexOf("-")>=0?Ar[domain]=!0:ASCII_LETTER.test(Mr)?DIGIT.test(Mr)?Ar[asciinumeric]=!0:Ar[ascii]=!0:Ar[numeric]=!0,ts(ir,Mr,Mr,Ar)}return ts(ir,"localhost",LOCALHOST,{ascii:!0}),ir.jd=new State(SYM),{start:ir,tokens:assign$1({groups:rr},tk)}}function run$1(e,rr){const ir=stringToArray(rr.replace(/[A-Z]/g,hr=>hr.toLowerCase())),lr=ir.length,dr=[];let fr=0,mr=0;for(;mr<lr;){let hr=e,gr=null,xr=0,_r=null,yr=-1,vr=-1;for(;mr<lr&&(gr=hr.go(ir[mr]));)hr=gr,hr.accepts()?(yr=0,vr=0,_r=hr):yr>=0&&(yr+=ir[mr].length,vr++),xr+=ir[mr].length,fr+=ir[mr].length,mr++;fr-=yr,mr-=vr,xr-=yr,dr.push({t:_r.t,v:rr.slice(fr-xr,fr),s:fr-xr,e:fr})}return dr}function stringToArray(e){const rr=[],ir=e.length;let lr=0;for(;lr<ir;){let dr=e.charCodeAt(lr),fr,mr=dr<55296||dr>56319||lr+1===ir||(fr=e.charCodeAt(lr+1))<56320||fr>57343?e[lr]:e.slice(lr,lr+2);rr.push(mr),lr+=mr.length}return rr}function fastts(e,rr,ir,lr,dr){let fr;const mr=rr.length;for(let hr=0;hr<mr-1;hr++){const gr=rr[hr];e.j[gr]?fr=e.j[gr]:(fr=new State(lr),fr.jr=dr.slice(),e.j[gr]=fr),e=fr}return fr=new State(ir),fr.jr=dr.slice(),e.j[rr[mr-1]]=fr,fr}function decodeTlds(e){const rr=[],ir=[];let lr=0,dr="0123456789";for(;lr<e.length;){let fr=0;for(;dr.indexOf(e[lr+fr])>=0;)fr++;if(fr>0){rr.push(ir.join(""));for(let mr=parseInt(e.substring(lr,lr+fr),10);mr>0;mr--)ir.pop();lr+=fr}else ir.push(e[lr]),lr++}return rr}const defaults={defaultProtocol:"http",events:null,format:noop$3,formatHref:noop$3,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Options(e,rr=null){let ir=assign$1({},defaults);e&&(ir=assign$1(ir,e instanceof Options?e.o:e));const lr=ir.ignoreTags,dr=[];for(let fr=0;fr<lr.length;fr++)dr.push(lr[fr].toUpperCase());this.o=ir,rr&&(this.defaultRender=rr),this.ignoreTags=dr}Options.prototype={o:defaults,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,rr,ir){const lr=rr!=null;let dr=this.o[e];return dr&&(typeof dr=="object"?(dr=ir.t in dr?dr[ir.t]:defaults[e],typeof dr=="function"&&lr&&(dr=dr(rr,ir))):typeof dr=="function"&&lr&&(dr=dr(rr,ir.t,ir)),dr)},getObj(e,rr,ir){let lr=this.o[e];return typeof lr=="function"&&rr!=null&&(lr=lr(rr,ir.t,ir)),lr},render(e){const rr=e.render(this);return(this.get("render",null,e)||this.defaultRender)(rr,e.t,e)}};function noop$3(e){return e}function MultiToken(e,rr){this.t="token",this.v=e,this.tk=rr}MultiToken.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const rr=this.toString(),ir=e.get("truncate",rr,this),lr=e.get("format",rr,this);return ir&&lr.length>ir?lr.substring(0,ir)+"":lr},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=defaults.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const rr=this,ir=this.toHref(e.get("defaultProtocol")),lr=e.get("formatHref",ir,this),dr=e.get("tagName",ir,rr),fr=this.toFormattedString(e),mr={},hr=e.get("className",ir,rr),gr=e.get("target",ir,rr),xr=e.get("rel",ir,rr),_r=e.getObj("attributes",ir,rr),yr=e.getObj("events",ir,rr);return mr.href=lr,hr&&(mr.class=hr),gr&&(mr.target=gr),xr&&(mr.rel=xr),_r&&assign$1(mr,_r),{tagName:dr,attributes:mr,content:fr,eventListeners:yr}}};function createTokenClass(e,rr){class ir extends MultiToken{constructor(dr,fr){super(dr,fr),this.t=e}}for(const lr in rr)ir.prototype[lr]=rr[lr];return ir.t=e,ir}const Email=createTokenClass("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Text=createTokenClass("text"),Nl=createTokenClass("nl"),Url=createTokenClass("url",{isLink:!0,toHref(e=defaults.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==LOCALHOST&&e[1].t===COLON}}),makeState=e=>new State(e);function init$1({groups:e}){const rr=e.domain.concat([AMPERSAND,ASTERISK,AT,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,NUM,PERCENT,PIPE,PLUS,POUND,SLASH,SYM,TILDE,UNDERSCORE]),ir=[APOSTROPHE,COLON,COMMA,DOT,EXCLAMATION,PERCENT,QUERY,QUOTE,SEMI,OPENANGLEBRACKET,CLOSEANGLEBRACKET,OPENBRACE,CLOSEBRACE,CLOSEBRACKET,OPENBRACKET,OPENPAREN,CLOSEPAREN,FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN,LEFTCORNERBRACKET,RIGHTCORNERBRACKET,LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET,FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN],lr=[AMPERSAND,APOSTROPHE,ASTERISK,BACKSLASH,BACKTICK,CARET,DOLLAR,EQUALS,HYPHEN,OPENBRACE,CLOSEBRACE,PERCENT,PIPE,PLUS,POUND,QUERY,SLASH,SYM,TILDE,UNDERSCORE],dr=makeState(),fr=tt$1(dr,TILDE);ta(fr,lr,fr),ta(fr,e.domain,fr);const mr=makeState(),hr=makeState(),gr=makeState();ta(dr,e.domain,mr),ta(dr,e.scheme,hr),ta(dr,e.slashscheme,gr),ta(mr,lr,fr),ta(mr,e.domain,mr);const xr=tt$1(mr,AT);tt$1(fr,AT,xr),tt$1(hr,AT,xr),tt$1(gr,AT,xr);const _r=tt$1(fr,DOT);ta(_r,lr,fr),ta(_r,e.domain,fr);const yr=makeState();ta(xr,e.domain,yr),ta(yr,e.domain,yr);const vr=tt$1(yr,DOT);ta(vr,e.domain,yr);const br=makeState(Email);ta(vr,e.tld,br),ta(vr,e.utld,br),tt$1(xr,LOCALHOST,br);const Sr=tt$1(yr,HYPHEN);tt$1(Sr,HYPHEN,Sr),ta(Sr,e.domain,yr),ta(br,e.domain,yr),tt$1(br,DOT,vr),tt$1(br,HYPHEN,Sr);const wr=tt$1(br,COLON);ta(wr,e.numeric,Email);const Mr=tt$1(mr,HYPHEN),kr=tt$1(mr,DOT);tt$1(Mr,HYPHEN,Mr),ta(Mr,e.domain,mr),ta(kr,lr,fr),ta(kr,e.domain,mr);const Ar=makeState(Url);ta(kr,e.tld,Ar),ta(kr,e.utld,Ar),ta(Ar,e.domain,mr),ta(Ar,lr,fr),tt$1(Ar,DOT,kr),tt$1(Ar,HYPHEN,Mr),tt$1(Ar,AT,xr);const Ir=tt$1(Ar,COLON),$r=makeState(Url);ta(Ir,e.numeric,$r);const Dr=makeState(Url),Or=makeState();ta(Dr,rr,Dr),ta(Dr,ir,Or),ta(Or,rr,Dr),ta(Or,ir,Or),tt$1(Ar,SLASH,Dr),tt$1($r,SLASH,Dr);const Fr=tt$1(hr,COLON),Lr=tt$1(gr,COLON),zr=tt$1(Lr,SLASH),Gr=tt$1(zr,SLASH);ta(hr,e.domain,mr),tt$1(hr,DOT,kr),tt$1(hr,HYPHEN,Mr),ta(gr,e.domain,mr),tt$1(gr,DOT,kr),tt$1(gr,HYPHEN,Mr),ta(Fr,e.domain,Dr),tt$1(Fr,SLASH,Dr),tt$1(Fr,QUERY,Dr),ta(Gr,e.domain,Dr),ta(Gr,rr,Dr),tt$1(Gr,SLASH,Dr);const Jr=[[OPENBRACE,CLOSEBRACE],[OPENBRACKET,CLOSEBRACKET],[OPENPAREN,CLOSEPAREN],[OPENANGLEBRACKET,CLOSEANGLEBRACKET],[FULLWIDTHLEFTPAREN,FULLWIDTHRIGHTPAREN],[LEFTCORNERBRACKET,RIGHTCORNERBRACKET],[LEFTWHITECORNERBRACKET,RIGHTWHITECORNERBRACKET],[FULLWIDTHLESSTHAN,FULLWIDTHGREATERTHAN]];for(let Yn=0;Yn<Jr.length;Yn++){const[Jn,Zn]=Jr[Yn],Hn=tt$1(Dr,Jn);tt$1(Or,Jn,Hn),tt$1(Hn,Zn,Dr);const Kn=makeState(Url);ta(Hn,rr,Kn);const qn=makeState();ta(Hn,ir),ta(Kn,rr,Kn),ta(Kn,ir,qn),ta(qn,rr,Kn),ta(qn,ir,qn),tt$1(Kn,Zn,Dr),tt$1(qn,Zn,Dr)}return tt$1(dr,LOCALHOST,Ar),tt$1(dr,NL,Nl),{start:dr,tokens:tk}}function run(e,rr,ir){let lr=ir.length,dr=0,fr=[],mr=[];for(;dr<lr;){let hr=e,gr=null,xr=null,_r=0,yr=null,vr=-1;for(;dr<lr&&!(gr=hr.go(ir[dr].t));)mr.push(ir[dr++]);for(;dr<lr&&(xr=gr||hr.go(ir[dr].t));)gr=null,hr=xr,hr.accepts()?(vr=0,yr=hr):vr>=0&&vr++,dr++,_r++;if(vr<0)dr-=_r,dr<lr&&(mr.push(ir[dr]),dr++);else{mr.length>0&&(fr.push(initMultiToken(Text,rr,mr)),mr=[]),dr-=vr,_r-=vr;const br=yr.t,Sr=ir.slice(dr-_r,dr);fr.push(initMultiToken(br,rr,Sr))}}return mr.length>0&&fr.push(initMultiToken(Text,rr,mr)),fr}function initMultiToken(e,rr,ir){const lr=ir[0].s,dr=ir[ir.length-1].e,fr=rr.slice(lr,dr);return new e(fr,ir)}const warn=typeof console<"u"&&console&&console.warn||(()=>{}),warnAdvice="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",INIT={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function reset(){return State.groups={},INIT.scanner=null,INIT.parser=null,INIT.tokenQueue=[],INIT.pluginQueue=[],INIT.customSchemes=[],INIT.initialized=!1,INIT}function registerCustomProtocol(e,rr=!1){if(INIT.initialized&&warn(`linkifyjs: already initialized - will not register custom scheme "${e}" ${warnAdvice}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);INIT.customSchemes.push([e,rr])}function init$3(){INIT.scanner=init$2(INIT.customSchemes);for(let e=0;e<INIT.tokenQueue.length;e++)INIT.tokenQueue[e][1]({scanner:INIT.scanner});INIT.parser=init$1(INIT.scanner.tokens);for(let e=0;e<INIT.pluginQueue.length;e++)INIT.pluginQueue[e][1]({scanner:INIT.scanner,parser:INIT.parser});return INIT.initialized=!0,INIT}function tokenize(e){return INIT.initialized||init$3(),run(INIT.parser.start,e,run$1(INIT.scanner.start,e))}tokenize.scan=run$1;function find(e,rr=null,ir=null){if(rr&&typeof rr=="object"){if(ir)throw Error(`linkifyjs: Invalid link type ${rr}; must be a string`);ir=rr,rr=null}const lr=new Options(ir),dr=tokenize(e),fr=[];for(let mr=0;mr<dr.length;mr++){const hr=dr[mr];hr.isLink&&(!rr||hr.t===rr)&&lr.check(hr)&&fr.push(hr.toFormattedObject(lr))}return fr}function isValidLinkStructure(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function autolink(e){return new Plugin({key:new PluginKey("autolink"),appendTransaction:(rr,ir,lr)=>{const dr=rr.some(xr=>xr.docChanged)&&!ir.doc.eq(lr.doc),fr=rr.some(xr=>xr.getMeta("preventAutolink"));if(!dr||fr)return;const{tr:mr}=lr,hr=combineTransactionSteps(ir.doc,[...rr]);if(getChangedRanges(hr).forEach(({newRange:xr})=>{const _r=findChildrenInRange(lr.doc,xr,br=>br.isTextblock);let yr,vr;if(_r.length>1?(yr=_r[0],vr=lr.doc.textBetween(yr.pos,yr.pos+yr.node.nodeSize,void 0," ")):_r.length&&lr.doc.textBetween(xr.from,xr.to," "," ").endsWith(" ")&&(yr=_r[0],vr=lr.doc.textBetween(yr.pos,xr.to,void 0," ")),yr&&vr){const br=vr.split(" ").filter(kr=>kr!=="");if(br.length<=0)return!1;const Sr=br[br.length-1],wr=yr.pos+vr.lastIndexOf(Sr);if(!Sr)return!1;const Mr=tokenize(Sr).map(kr=>kr.toObject(e.defaultProtocol));if(!isValidLinkStructure(Mr))return!1;Mr.filter(kr=>kr.isLink).map(kr=>({...kr,from:wr+kr.start+1,to:wr+kr.end+1})).filter(kr=>lr.schema.marks.code?!lr.doc.rangeHasMark(kr.from,kr.to,lr.schema.marks.code):!0).filter(kr=>e.validate(kr.value)).filter(kr=>e.shouldAutoLink(kr.value)).forEach(kr=>{getMarksBetween(kr.from,kr.to,lr.doc).some(Ar=>Ar.mark.type===e.type)||mr.addMark(kr.from,kr.to,e.type.create({href:kr.href}))})}}),!!mr.steps.length)return mr}})}function clickHandler(e){return new Plugin({key:new PluginKey("handleClickLink"),props:{handleClick:(rr,ir,lr)=>{var dr,fr;if(lr.button!==0||!rr.editable)return!1;let mr=lr.target;const hr=[];for(;mr.nodeName!=="DIV";)hr.push(mr),mr=mr.parentNode;if(!hr.find(vr=>vr.nodeName==="A"))return!1;const gr=getAttributes(rr.state,e.type.name),xr=lr.target,_r=(dr=xr?.href)!==null&&dr!==void 0?dr:gr.href,yr=(fr=xr?.target)!==null&&fr!==void 0?fr:gr.target;return xr&&_r?(window.open(_r,yr),!0):!1}}})}function pasteHandler(e){return new Plugin({key:new PluginKey("handlePasteLink"),props:{handlePaste:(rr,ir,lr)=>{const{state:dr}=rr,{selection:fr}=dr,{empty:mr}=fr;if(mr)return!1;let hr="";lr.content.forEach(xr=>{hr+=xr.textContent});const gr=find(hr,{defaultProtocol:e.defaultProtocol}).find(xr=>xr.isLink&&xr.value===hr);return!hr||!gr?!1:e.editor.commands.setMark(e.type,{href:gr.href})}}})}const ATTR_WHITESPACE$1=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function isAllowedUri$1(e,rr){const ir=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return rr&&rr.forEach(lr=>{const dr=typeof lr=="string"?lr:lr.scheme;dr&&ir.push(dr)}),!e||e.replace(ATTR_WHITESPACE$1,"").match(new RegExp(`^(?:(?:${ir.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const Link$1=Mark.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){registerCustomProtocol(e);return}registerCustomProtocol(e.scheme,e.optionalSlashes)})},onDestroy(){reset()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,rr)=>!!isAllowedUri$1(e,rr.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const rr=e.getAttribute("href");return!rr||!this.options.isAllowedUri(rr,{defaultValidate:ir=>!!isAllowedUri$1(ir,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:rr=>!!isAllowedUri$1(rr,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",mergeAttributes(this.options.HTMLAttributes,e),0]:["a",mergeAttributes(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:rr})=>{const{href:ir}=e;return this.options.isAllowedUri(ir,{defaultValidate:lr=>!!isAllowedUri$1(lr,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?rr().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:rr})=>{const{href:ir}=e;return this.options.isAllowedUri(ir,{defaultValidate:lr=>!!isAllowedUri$1(lr,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?rr().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[markPasteRule({find:e=>{const rr=[];if(e){const{protocols:ir,defaultProtocol:lr}=this.options,dr=find(e).filter(fr=>fr.isLink&&this.options.isAllowedUri(fr.value,{defaultValidate:mr=>!!isAllowedUri$1(mr,ir),protocols:ir,defaultProtocol:lr}));dr.length&&dr.forEach(fr=>rr.push({text:fr.value,data:{href:fr.href},index:fr.start}))}return rr},type:this.type,getAttributes:e=>{var rr;return{href:(rr=e.data)===null||rr===void 0?void 0:rr.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:rr,defaultProtocol:ir}=this.options;return this.options.autolink&&e.push(autolink({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:lr=>this.options.isAllowedUri(lr,{defaultValidate:dr=>!!isAllowedUri$1(dr,rr),protocols:rr,defaultProtocol:ir}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&e.push(clickHandler({type:this.type})),this.options.linkOnPaste&&e.push(pasteHandler({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),Link=Link$1.extend({inclusive:!1,parseHTML(){return[{tag:'a[href]:not([data-type="button"]):not([href *= "javascript:" i])'}]},addProseMirrorPlugins(){const{editor:e}=this;return[...this.parent?.()||[],new Plugin({props:{handleKeyDown:(rr,ir)=>{const{selection:lr}=e.state;return ir.key==="Escape"&&!lr.empty&&e.commands.focus(lr.to,{scrollIntoView:!1}),!1},handleClick(rr,ir){const{schema:lr,doc:dr,tr:fr}=rr.state;let mr;if(lr.marks.link&&(mr=getMarkRange(dr.resolve(ir),lr.marks.link)),!mr)return;const{from:hr,to:gr}=mr,xr=Math.min(hr,gr),_r=Math.max(hr,gr);if(ir<xr||ir>_r)return;const yr=dr.resolve(xr),vr=dr.resolve(_r),br=fr.setSelection(new TextSelection(yr,vr));rr.dispatch(br)}}})]}}),Selection=Extension.create({name:"selection",addProseMirrorPlugins(){const{editor:e}=this;return[new Plugin({key:new PluginKey("selection"),props:{decorations(rr){return rr.selection.empty||e.isFocused||!e.isEditable||isNodeSelection(rr.selection)?null:DecorationSet.create(rr.doc,[Decoration.inline(rr.selection.from,rr.selection.to,{class:"selection"})])}}})]}});function nodeEqualsType({types:e,node:rr}){return rr?Array.isArray(e)?e.includes(rr.type):rr.type===e:!1}const TrailingNode=Extension.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins(){const e=new PluginKey(this.name),rr=Object.entries(this.editor.schema.nodes).map(([,ir])=>ir).filter(ir=>this.options.notAfter.includes(ir.name));return[new Plugin({key:e,appendTransaction:(ir,lr,dr)=>{const{doc:fr,tr:mr,schema:hr}=dr,gr=e.getState(dr),xr=fr.content.size,_r=hr.nodes[this.options.node];return gr&&_r?mr.insert(xr,_r.create()):null},state:{init:(ir,lr)=>{const dr=lr.tr.doc.lastChild;return!nodeEqualsType({node:dr,types:rr})},apply:(ir,lr)=>{if(!ir.docChanged)return lr;const dr=ir.doc.lastChild;return!nodeEqualsType({node:dr,types:rr})}}})]}});function getPlatform(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function getUserAgent(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(rr=>{let{brand:ir,version:lr}=rr;return ir+"/"+lr}).join(" "):navigator.userAgent}function isSafari(){return/apple/i.test(navigator.vendor)}function isAndroid(){const e=/android/i;return e.test(getPlatform())||e.test(getUserAgent())}function isMac(){return getPlatform().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function isJSDOM(){return getUserAgent().includes("jsdom/")}const FOCUSABLE_ATTRIBUTE$1="data-floating-ui-focusable",TYPEABLE_SELECTOR="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",ARROW_LEFT$1="ArrowLeft",ARROW_RIGHT$1="ArrowRight",ARROW_UP$1="ArrowUp",ARROW_DOWN$1="ArrowDown";function activeElement(e){let rr=e.activeElement;for(;((ir=rr)==null||(ir=ir.shadowRoot)==null?void 0:ir.activeElement)!=null;){var ir;rr=rr.shadowRoot.activeElement}return rr}function contains(e,rr){if(!e||!rr)return!1;const ir=rr.getRootNode==null?void 0:rr.getRootNode();if(e.contains(rr))return!0;if(ir&&isShadowRoot(ir)){let lr=rr;for(;lr;){if(e===lr)return!0;lr=lr.parentNode||lr.host}}return!1}function getTarget(e){return"composedPath"in e?e.composedPath()[0]:e.target}function isEventTargetWithin(e,rr){if(rr==null)return!1;if("composedPath"in e)return e.composedPath().includes(rr);const ir=e;return ir.target!=null&&rr.contains(ir.target)}function isRootElement(e){return e.matches("html,body")}function getDocument$1(e){return e?.ownerDocument||document}function isTypeableElement(e){return isHTMLElement$1(e)&&e.matches(TYPEABLE_SELECTOR)}function isTypeableCombobox(e){return e?e.getAttribute("role")==="combobox"&&isTypeableElement(e):!1}function matchesFocusVisible(e){if(!e||isJSDOM())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function getFloatingFocusElement(e){return e?e.hasAttribute(FOCUSABLE_ATTRIBUTE$1)?e:e.querySelector("["+FOCUSABLE_ATTRIBUTE$1+"]")||e:null}function getNodeChildren(e,rr,ir){return ir===void 0&&(ir=!0),e.filter(dr=>{var fr;return dr.parentId===rr&&(!ir||((fr=dr.context)==null?void 0:fr.open))}).flatMap(dr=>[dr,...getNodeChildren(e,dr.id,ir)])}function getDeepestNode(e,rr){let ir,lr=-1;function dr(fr,mr){mr>lr&&(ir=fr,lr=mr),getNodeChildren(e,fr).forEach(gr=>{dr(gr.id,mr+1)})}return dr(rr,0),e.find(fr=>fr.id===ir)}function getNodeAncestors(e,rr){var ir;let lr=[],dr=(ir=e.find(fr=>fr.id===rr))==null?void 0:ir.parentId;for(;dr;){const fr=e.find(mr=>mr.id===dr);dr=fr?.parentId,fr&&(lr=lr.concat(fr))}return lr}function stopEvent(e){e.preventDefault(),e.stopPropagation()}function isReactEvent(e){return"nativeEvent"in e}function isVirtualClick(e){return e.mozInputSource===0&&e.isTrusted?!0:isAndroid()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function isVirtualPointerEvent(e){return isJSDOM()?!1:!isAndroid()&&e.width===0&&e.height===0||isAndroid()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function isMouseLikePointerType(e,rr){const ir=["mouse","pen"];return rr||ir.push("",void 0),ir.includes(e)}var isClient=typeof document<"u",noop$2=function(){},index$1=isClient?reactExports.useLayoutEffect:noop$2;const SafeReact$1={...React$3};function useLatestRef(e){const rr=reactExports.useRef(e);return index$1(()=>{rr.current=e}),rr}const useInsertionEffect=SafeReact$1.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(e=>e());function useEffectEvent(e){const rr=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{rr.current=e}),reactExports.useCallback(function(){for(var ir=arguments.length,lr=new Array(ir),dr=0;dr<ir;dr++)lr[dr]=arguments[dr];return rr.current==null?void 0:rr.current(...lr)},[])}function isDifferentGridRow(e,rr,ir){return Math.floor(e/rr)!==ir}function isIndexOutOfListBounds(e,rr){return rr<0||rr>=e.current.length}function getMinListIndex(e,rr){return findNonDisabledListIndex(e,{disabledIndices:rr})}function getMaxListIndex(e,rr){return findNonDisabledListIndex(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:rr})}function findNonDisabledListIndex(e,rr){let{startingIndex:ir=-1,decrement:lr=!1,disabledIndices:dr,amount:fr=1}=rr===void 0?{}:rr,mr=ir;do mr+=lr?-fr:fr;while(mr>=0&&mr<=e.current.length-1&&isListIndexDisabled(e,mr,dr));return mr}function getGridNavigatedIndex(e,rr){let{event:ir,orientation:lr,loop:dr,rtl:fr,cols:mr,disabledIndices:hr,minIndex:gr,maxIndex:xr,prevIndex:_r,stopEvent:yr=!1}=rr,vr=_r;if(ir.key===ARROW_UP$1){if(yr&&stopEvent(ir),_r===-1)vr=xr;else if(vr=findNonDisabledListIndex(e,{startingIndex:vr,amount:mr,decrement:!0,disabledIndices:hr}),dr&&(_r-mr<gr||vr<0)){const br=_r%mr,Sr=xr%mr,wr=xr-(Sr-br);Sr===br?vr=xr:vr=Sr>br?wr:wr-mr}isIndexOutOfListBounds(e,vr)&&(vr=_r)}if(ir.key===ARROW_DOWN$1&&(yr&&stopEvent(ir),_r===-1?vr=gr:(vr=findNonDisabledListIndex(e,{startingIndex:_r,amount:mr,disabledIndices:hr}),dr&&_r+mr>xr&&(vr=findNonDisabledListIndex(e,{startingIndex:_r%mr-mr,amount:mr,disabledIndices:hr}))),isIndexOutOfListBounds(e,vr)&&(vr=_r)),lr==="both"){const br=floor(_r/mr);ir.key===(fr?ARROW_LEFT$1:ARROW_RIGHT$1)&&(yr&&stopEvent(ir),_r%mr!==mr-1?(vr=findNonDisabledListIndex(e,{startingIndex:_r,disabledIndices:hr}),dr&&isDifferentGridRow(vr,mr,br)&&(vr=findNonDisabledListIndex(e,{startingIndex:_r-_r%mr-1,disabledIndices:hr}))):dr&&(vr=findNonDisabledListIndex(e,{startingIndex:_r-_r%mr-1,disabledIndices:hr})),isDifferentGridRow(vr,mr,br)&&(vr=_r)),ir.key===(fr?ARROW_RIGHT$1:ARROW_LEFT$1)&&(yr&&stopEvent(ir),_r%mr!==0?(vr=findNonDisabledListIndex(e,{startingIndex:_r,decrement:!0,disabledIndices:hr}),dr&&isDifferentGridRow(vr,mr,br)&&(vr=findNonDisabledListIndex(e,{startingIndex:_r+(mr-_r%mr),decrement:!0,disabledIndices:hr}))):dr&&(vr=findNonDisabledListIndex(e,{startingIndex:_r+(mr-_r%mr),decrement:!0,disabledIndices:hr})),isDifferentGridRow(vr,mr,br)&&(vr=_r));const Sr=floor(xr/mr)===br;isIndexOutOfListBounds(e,vr)&&(dr&&Sr?vr=ir.key===(fr?ARROW_RIGHT$1:ARROW_LEFT$1)?xr:findNonDisabledListIndex(e,{startingIndex:_r-_r%mr-1,disabledIndices:hr}):vr=_r)}return vr}function createGridCellMap(e,rr,ir){const lr=[];let dr=0;return e.forEach((fr,mr)=>{let{width:hr,height:gr}=fr,xr=!1;for(ir&&(dr=0);!xr;){const _r=[];for(let yr=0;yr<hr;yr++)for(let vr=0;vr<gr;vr++)_r.push(dr+yr+vr*rr);dr%rr+hr<=rr&&_r.every(yr=>lr[yr]==null)?(_r.forEach(yr=>{lr[yr]=mr}),xr=!0):dr++}}),[...lr]}function getGridCellIndexOfCorner(e,rr,ir,lr,dr){if(e===-1)return-1;const fr=ir.indexOf(e),mr=rr[e];switch(dr){case"tl":return fr;case"tr":return mr?fr+mr.width-1:fr;case"bl":return mr?fr+(mr.height-1)*lr:fr;case"br":return ir.lastIndexOf(e)}}function getGridCellIndices(e,rr){return rr.flatMap((ir,lr)=>e.includes(ir)?[lr]:[])}function isListIndexDisabled(e,rr,ir){if(typeof ir=="function")return ir(rr);if(ir)return ir.includes(rr);const lr=e.current[rr];return lr==null||lr.hasAttribute("disabled")||lr.getAttribute("aria-disabled")==="true"}const getTabbableOptions=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function getTabbableIn(e,rr){const ir=tabbable(e,getTabbableOptions()),lr=ir.length;if(lr===0)return;const dr=activeElement(getDocument$1(e)),fr=ir.indexOf(dr),mr=fr===-1?rr===1?0:lr-1:fr+rr;return ir[mr]}function getNextTabbable(e){return getTabbableIn(getDocument$1(e).body,1)||e}function getPreviousTabbable(e){return getTabbableIn(getDocument$1(e).body,-1)||e}function isOutsideEvent(e,rr){const ir=rr||e.currentTarget,lr=e.relatedTarget;return!lr||!contains(ir,lr)}function disableFocusInside(e){tabbable(e,getTabbableOptions()).forEach(ir=>{ir.dataset.tabindex=ir.getAttribute("tabindex")||"",ir.setAttribute("tabindex","-1")})}function enableFocusInside(e){e.querySelectorAll("[data-tabindex]").forEach(ir=>{const lr=ir.dataset.tabindex;delete ir.dataset.tabindex,lr?ir.setAttribute("tabindex",lr):ir.removeAttribute("tabindex")})}function useMergeRefs(e){const rr=reactExports.useRef(void 0),ir=reactExports.useCallback(lr=>{const dr=e.map(fr=>{if(fr!=null){if(typeof fr=="function"){const mr=fr,hr=mr(lr);return typeof hr=="function"?hr:()=>{mr(null)}}return fr.current=lr,()=>{fr.current=null}}});return()=>{dr.forEach(fr=>fr?.())}},e);return reactExports.useMemo(()=>e.every(lr=>lr==null)?null:lr=>{rr.current&&(rr.current(),rr.current=void 0),lr!=null&&(rr.current=ir(lr))},e)}function sortByDocumentPosition(e,rr){const ir=e.compareDocumentPosition(rr);return ir&Node.DOCUMENT_POSITION_FOLLOWING||ir&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:ir&Node.DOCUMENT_POSITION_PRECEDING||ir&Node.DOCUMENT_POSITION_CONTAINS?1:0}const FloatingListContext=reactExports.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function FloatingList(e){const{children:rr,elementsRef:ir,labelsRef:lr}=e,[dr,fr]=reactExports.useState(()=>new Set),mr=reactExports.useCallback(xr=>{fr(_r=>new Set(_r).add(xr))},[]),hr=reactExports.useCallback(xr=>{fr(_r=>{const yr=new Set(_r);return yr.delete(xr),yr})},[]),gr=reactExports.useMemo(()=>{const xr=new Map;return Array.from(dr.keys()).sort(sortByDocumentPosition).forEach((yr,vr)=>{xr.set(yr,vr)}),xr},[dr]);return jsxRuntimeExports.jsx(FloatingListContext.Provider,{value:reactExports.useMemo(()=>({register:mr,unregister:hr,map:gr,elementsRef:ir,labelsRef:lr}),[mr,hr,gr,ir,lr]),children:rr})}function useListItem(e){e===void 0&&(e={});const{label:rr}=e,{register:ir,unregister:lr,map:dr,elementsRef:fr,labelsRef:mr}=reactExports.useContext(FloatingListContext),[hr,gr]=reactExports.useState(null),xr=reactExports.useRef(null),_r=reactExports.useCallback(yr=>{if(xr.current=yr,hr!==null&&(fr.current[hr]=yr,mr)){var vr;const br=rr!==void 0;mr.current[hr]=br?rr:(vr=yr?.textContent)!=null?vr:null}},[hr,fr,mr,rr]);return index$1(()=>{const yr=xr.current;if(yr)return ir(yr),()=>{lr(yr)}},[ir,lr]),index$1(()=>{const yr=xr.current?dr.get(xr.current):null;yr!=null&&gr(yr)},[dr]),reactExports.useMemo(()=>({ref:_r,index:hr??-1}),[hr,_r])}const FOCUSABLE_ATTRIBUTE="data-floating-ui-focusable",ACTIVE_KEY="active",SELECTED_KEY="selected",ARROW_LEFT="ArrowLeft",ARROW_RIGHT="ArrowRight",ARROW_UP="ArrowUp",ARROW_DOWN="ArrowDown",SafeReact={...React$3};let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[e,rr]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index$1(()=>{e==null&&rr(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),e}const useReactId=SafeReact.useId,useId$1=useReactId||useFloatingId;function createEventEmitter(){const e=new Map;return{emit(rr,ir){var lr;(lr=e.get(rr))==null||lr.forEach(dr=>dr(ir))},on(rr,ir){e.has(rr)||e.set(rr,new Set),e.get(rr).add(ir)},off(rr,ir){var lr;(lr=e.get(rr))==null||lr.delete(ir)}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var e;return((e=reactExports.useContext(FloatingNodeContext))==null?void 0:e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function createAttribute(e){return"data-floating-ui-"+e}function clearTimeoutIfSet(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const safePolygonIdentifier=createAttribute("safe-polygon");function getDelay(e,rr,ir){if(ir&&!isMouseLikePointerType(ir))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const lr=e();return typeof lr=="number"?lr:lr?.[rr]}return e?.[rr]}function getRestMs(e){return typeof e=="function"?e():e}function useHover(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,dataRef:dr,events:fr,elements:mr}=e,{enabled:hr=!0,delay:gr=0,handleClose:xr=null,mouseOnly:_r=!1,restMs:yr=0,move:vr=!0}=rr,br=useFloatingTree(),Sr=useFloatingParentNodeId(),wr=useLatestRef(xr),Mr=useLatestRef(gr),kr=useLatestRef(ir),Ar=useLatestRef(yr),Ir=reactExports.useRef(),$r=reactExports.useRef(-1),Dr=reactExports.useRef(),Or=reactExports.useRef(-1),Fr=reactExports.useRef(!0),Lr=reactExports.useRef(!1),zr=reactExports.useRef(()=>{}),Gr=reactExports.useRef(!1),Jr=useEffectEvent(()=>{var qn;const Qr=(qn=dr.current.openEvent)==null?void 0:qn.type;return Qr?.includes("mouse")&&Qr!=="mousedown"});reactExports.useEffect(()=>{if(!hr)return;function qn(Qr){let{open:$n}=Qr;$n||(clearTimeoutIfSet($r),clearTimeoutIfSet(Or),Fr.current=!0,Gr.current=!1)}return fr.on("openchange",qn),()=>{fr.off("openchange",qn)}},[hr,fr]),reactExports.useEffect(()=>{if(!hr||!wr.current||!ir)return;function qn($n){Jr()&&lr(!1,$n,"hover")}const Qr=getDocument$1(mr.floating).documentElement;return Qr.addEventListener("mouseleave",qn),()=>{Qr.removeEventListener("mouseleave",qn)}},[mr.floating,ir,lr,hr,wr,Jr]);const Yn=reactExports.useCallback(function(qn,Qr,$n){Qr===void 0&&(Qr=!0),$n===void 0&&($n="hover");const es=getDelay(Mr.current,"close",Ir.current);es&&!Dr.current?(clearTimeoutIfSet($r),$r.current=window.setTimeout(()=>lr(!1,qn,$n),es)):Qr&&(clearTimeoutIfSet($r),lr(!1,qn,$n))},[Mr,lr]),Jn=useEffectEvent(()=>{zr.current(),Dr.current=void 0}),Zn=useEffectEvent(()=>{if(Lr.current){const qn=getDocument$1(mr.floating).body;qn.style.pointerEvents="",qn.removeAttribute(safePolygonIdentifier),Lr.current=!1}}),Hn=useEffectEvent(()=>dr.current.openEvent?["click","mousedown"].includes(dr.current.openEvent.type):!1);reactExports.useEffect(()=>{if(!hr)return;function qn(rs){if(clearTimeoutIfSet($r),Fr.current=!1,_r&&!isMouseLikePointerType(Ir.current)||getRestMs(Ar.current)>0&&!getDelay(Mr.current,"open"))return;const ns=getDelay(Mr.current,"open",Ir.current);ns?$r.current=window.setTimeout(()=>{kr.current||lr(!0,rs,"hover")},ns):ir||lr(!0,rs,"hover")}function Qr(rs){if(Hn()){Zn();return}zr.current();const ns=getDocument$1(mr.floating);if(clearTimeoutIfSet(Or),Gr.current=!1,wr.current&&dr.current.floatingContext){ir||clearTimeoutIfSet($r),Dr.current=wr.current({...dr.current.floatingContext,tree:br,x:rs.clientX,y:rs.clientY,onClose(){Zn(),Jn(),Hn()||Yn(rs,!0,"safe-polygon")}});const ss=Dr.current;ns.addEventListener("mousemove",ss),zr.current=()=>{ns.removeEventListener("mousemove",ss)};return}(Ir.current==="touch"?!contains(mr.floating,rs.relatedTarget):!0)&&Yn(rs)}function $n(rs){Hn()||dr.current.floatingContext&&(wr.current==null||wr.current({...dr.current.floatingContext,tree:br,x:rs.clientX,y:rs.clientY,onClose(){Zn(),Jn(),Hn()||Yn(rs)}})(rs))}function es(){clearTimeoutIfSet($r)}function Xn(rs){Hn()||Yn(rs,!1)}if(isElement(mr.domReference)){const rs=mr.domReference,ns=mr.floating;return ir&&rs.addEventListener("mouseleave",$n),vr&&rs.addEventListener("mousemove",qn,{once:!0}),rs.addEventListener("mouseenter",qn),rs.addEventListener("mouseleave",Qr),ns&&(ns.addEventListener("mouseleave",$n),ns.addEventListener("mouseenter",es),ns.addEventListener("mouseleave",Xn)),()=>{ir&&rs.removeEventListener("mouseleave",$n),vr&&rs.removeEventListener("mousemove",qn),rs.removeEventListener("mouseenter",qn),rs.removeEventListener("mouseleave",Qr),ns&&(ns.removeEventListener("mouseleave",$n),ns.removeEventListener("mouseenter",es),ns.removeEventListener("mouseleave",Xn))}}},[mr,hr,e,_r,vr,Yn,Jn,Zn,lr,ir,kr,br,Mr,wr,dr,Hn,Ar]),index$1(()=>{var qn;if(hr&&ir&&(qn=wr.current)!=null&&(qn=qn.__options)!=null&&qn.blockPointerEvents&&Jr()){Lr.current=!0;const $n=mr.floating;if(isElement(mr.domReference)&&$n){var Qr;const es=getDocument$1(mr.floating).body;es.setAttribute(safePolygonIdentifier,"");const Xn=mr.domReference,rs=br==null||(Qr=br.nodesRef.current.find(ns=>ns.id===Sr))==null||(Qr=Qr.context)==null?void 0:Qr.elements.floating;return rs&&(rs.style.pointerEvents=""),es.style.pointerEvents="none",Xn.style.pointerEvents="auto",$n.style.pointerEvents="auto",()=>{es.style.pointerEvents="",Xn.style.pointerEvents="",$n.style.pointerEvents=""}}}},[hr,ir,Sr,mr,br,wr,Jr]),index$1(()=>{ir||(Ir.current=void 0,Gr.current=!1,Jn(),Zn())},[ir,Jn,Zn]),reactExports.useEffect(()=>()=>{Jn(),clearTimeoutIfSet($r),clearTimeoutIfSet(Or),Zn()},[hr,mr.domReference,Jn,Zn]);const Kn=reactExports.useMemo(()=>{function qn(Qr){Ir.current=Qr.pointerType}return{onPointerDown:qn,onPointerEnter:qn,onMouseMove(Qr){const{nativeEvent:$n}=Qr;function es(){!Fr.current&&!kr.current&&lr(!0,$n,"hover")}_r&&!isMouseLikePointerType(Ir.current)||ir||getRestMs(Ar.current)===0||Gr.current&&Qr.movementX**2+Qr.movementY**2<2||(clearTimeoutIfSet(Or),Ir.current==="touch"?es():(Gr.current=!0,Or.current=window.setTimeout(es,getRestMs(Ar.current))))}}},[_r,lr,ir,kr,Ar]);return reactExports.useMemo(()=>hr?{reference:Kn}:{},[hr,Kn])}const NOOP=()=>{},FloatingDelayGroupContext=reactExports.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:NOOP,setState:NOOP,isInstantPhase:!1});function FloatingDelayGroup(e){const{children:rr,delay:ir,timeoutMs:lr=0}=e,[dr,fr]=reactExports.useReducer((gr,xr)=>({...gr,...xr}),{delay:ir,timeoutMs:lr,initialDelay:ir,currentId:null,isInstantPhase:!1}),mr=reactExports.useRef(null),hr=reactExports.useCallback(gr=>{fr({currentId:gr})},[]);return index$1(()=>{dr.currentId?mr.current===null?mr.current=dr.currentId:dr.isInstantPhase||fr({isInstantPhase:!0}):(dr.isInstantPhase&&fr({isInstantPhase:!1}),mr.current=null)},[dr.currentId,dr.isInstantPhase]),jsxRuntimeExports.jsx(FloatingDelayGroupContext.Provider,{value:reactExports.useMemo(()=>({...dr,setState:fr,setCurrentId:hr}),[dr,hr]),children:rr})}let rafId=0;function enqueueFocus(e,rr){rr===void 0&&(rr={});const{preventScroll:ir=!1,cancelPrevious:lr=!0,sync:dr=!1}=rr;lr&&cancelAnimationFrame(rafId);const fr=()=>e?.focus({preventScroll:ir});dr?fr():rafId=requestAnimationFrame(fr)}function getDocument(e){return e?.ownerDocument||document}const counters={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function getCounterMap(e){return e==="inert"?counters.inert:e==="aria-hidden"?counters["aria-hidden"]:counters.none}let uncontrolledElementsSet=new WeakSet,markerMap={},lockCount$1=0;const supportsInert=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,unwrapHost=e=>e&&(e.host||unwrapHost(e.parentNode)),correctElements=(e,rr)=>rr.map(ir=>{if(e.contains(ir))return ir;const lr=unwrapHost(ir);return e.contains(lr)?lr:null}).filter(ir=>ir!=null);function applyAttributeToOthers(e,rr,ir,lr){const dr="data-floating-ui-inert",fr=lr?"inert":ir?"aria-hidden":null,mr=correctElements(rr,e),hr=new Set,gr=new Set(mr),xr=[];markerMap[dr]||(markerMap[dr]=new WeakMap);const _r=markerMap[dr];mr.forEach(yr),vr(rr),hr.clear();function yr(br){!br||hr.has(br)||(hr.add(br),br.parentNode&&yr(br.parentNode))}function vr(br){!br||gr.has(br)||[].forEach.call(br.children,Sr=>{if(getNodeName(Sr)!=="script")if(hr.has(Sr))vr(Sr);else{const wr=fr?Sr.getAttribute(fr):null,Mr=wr!==null&&wr!=="false",kr=getCounterMap(fr),Ar=(kr.get(Sr)||0)+1,Ir=(_r.get(Sr)||0)+1;kr.set(Sr,Ar),_r.set(Sr,Ir),xr.push(Sr),Ar===1&&Mr&&uncontrolledElementsSet.add(Sr),Ir===1&&Sr.setAttribute(dr,""),!Mr&&fr&&Sr.setAttribute(fr,fr==="inert"?"":"true")}})}return lockCount$1++,()=>{xr.forEach(br=>{const Sr=getCounterMap(fr),Mr=(Sr.get(br)||0)-1,kr=(_r.get(br)||0)-1;Sr.set(br,Mr),_r.set(br,kr),Mr||(!uncontrolledElementsSet.has(br)&&fr&&br.removeAttribute(fr),uncontrolledElementsSet.delete(br)),kr||br.removeAttribute(dr)}),lockCount$1--,lockCount$1||(counters.inert=new WeakMap,counters["aria-hidden"]=new WeakMap,counters.none=new WeakMap,uncontrolledElementsSet=new WeakSet,markerMap={})}}function markOthers(e,rr,ir){rr===void 0&&(rr=!1),ir===void 0&&(ir=!1);const lr=getDocument(e[0]).body;return applyAttributeToOthers(e.concat(Array.from(lr.querySelectorAll('[aria-live],[role="status"],output'))),lr,rr,ir)}const HIDDEN_STYLES={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},FocusGuard=reactExports.forwardRef(function(rr,ir){const[lr,dr]=reactExports.useState();index$1(()=>{isSafari()&&dr("button")},[]);const fr={ref:ir,tabIndex:0,role:lr,"aria-hidden":lr?void 0:!0,[createAttribute("focus-guard")]:"",style:HIDDEN_STYLES};return jsxRuntimeExports.jsx("span",{...rr,...fr})}),PortalContext=reactExports.createContext(null),attr=createAttribute("portal");function useFloatingPortalNode(e){e===void 0&&(e={});const{id:rr,root:ir}=e,lr=useId$1(),dr=usePortalContext(),[fr,mr]=reactExports.useState(null),hr=reactExports.useRef(null);return index$1(()=>()=>{fr?.remove(),queueMicrotask(()=>{hr.current=null})},[fr]),index$1(()=>{if(!lr||hr.current)return;const gr=rr?document.getElementById(rr):null;if(!gr)return;const xr=document.createElement("div");xr.id=lr,xr.setAttribute(attr,""),gr.appendChild(xr),hr.current=xr,mr(xr)},[rr,lr]),index$1(()=>{if(ir===null||!lr||hr.current)return;let gr=ir||dr?.portalNode;gr&&!isElement(gr)&&(gr=gr.current),gr=gr||document.body;let xr=null;rr&&(xr=document.createElement("div"),xr.id=rr,gr.appendChild(xr));const _r=document.createElement("div");_r.id=lr,_r.setAttribute(attr,""),gr=xr||gr,gr.appendChild(_r),hr.current=_r,mr(_r)},[rr,ir,lr,dr]),fr}function FloatingPortal(e){const{children:rr,id:ir,root:lr,preserveTabOrder:dr=!0}=e,fr=useFloatingPortalNode({id:ir,root:lr}),[mr,hr]=reactExports.useState(null),gr=reactExports.useRef(null),xr=reactExports.useRef(null),_r=reactExports.useRef(null),yr=reactExports.useRef(null),vr=mr?.modal,br=mr?.open,Sr=!!mr&&!mr.modal&&mr.open&&dr&&!!(lr||fr);return reactExports.useEffect(()=>{if(!fr||!dr||vr)return;function wr(Mr){fr&&isOutsideEvent(Mr)&&(Mr.type==="focusin"?enableFocusInside:disableFocusInside)(fr)}return fr.addEventListener("focusin",wr,!0),fr.addEventListener("focusout",wr,!0),()=>{fr.removeEventListener("focusin",wr,!0),fr.removeEventListener("focusout",wr,!0)}},[fr,dr,vr]),reactExports.useEffect(()=>{fr&&(br||enableFocusInside(fr))},[br,fr]),jsxRuntimeExports.jsxs(PortalContext.Provider,{value:reactExports.useMemo(()=>({preserveTabOrder:dr,beforeOutsideRef:gr,afterOutsideRef:xr,beforeInsideRef:_r,afterInsideRef:yr,portalNode:fr,setFocusManagerState:hr}),[dr,fr]),children:[Sr&&fr&&jsxRuntimeExports.jsx(FocusGuard,{"data-type":"outside",ref:gr,onFocus:wr=>{if(isOutsideEvent(wr,fr)){var Mr;(Mr=_r.current)==null||Mr.focus()}else{const kr=mr?mr.domReference:null,Ar=getPreviousTabbable(kr);Ar?.focus()}}}),Sr&&fr&&jsxRuntimeExports.jsx("span",{"aria-owns":fr.id,style:HIDDEN_STYLES}),fr&&reactDomExports.createPortal(rr,fr),Sr&&fr&&jsxRuntimeExports.jsx(FocusGuard,{"data-type":"outside",ref:xr,onFocus:wr=>{if(isOutsideEvent(wr,fr)){var Mr;(Mr=yr.current)==null||Mr.focus()}else{const kr=mr?mr.domReference:null,Ar=getNextTabbable(kr);Ar?.focus(),mr?.closeOnFocusOut&&mr?.onOpenChange(!1,wr.nativeEvent,"focus-out")}}})]})}const usePortalContext=()=>reactExports.useContext(PortalContext);function useLiteMergeRefs(e){return reactExports.useMemo(()=>rr=>{e.forEach(ir=>{ir&&(ir.current=rr)})},e)}const LIST_LIMIT=20;let previouslyFocusedElements=[];function addPreviouslyFocusedElement(e){previouslyFocusedElements=previouslyFocusedElements.filter(rr=>rr.isConnected),e&&getNodeName(e)!=="body"&&(previouslyFocusedElements.push(e),previouslyFocusedElements.length>LIST_LIMIT&&(previouslyFocusedElements=previouslyFocusedElements.slice(-20)))}function getPreviouslyFocusedElement(){return previouslyFocusedElements.slice().reverse().find(e=>e.isConnected)}function getFirstTabbableElement(e){const rr=getTabbableOptions();return isTabbable(e,rr)?e:tabbable(e,rr)[0]||e}function handleTabIndex(e,rr){var ir;if(!rr.current.includes("floating")&&!((ir=e.getAttribute("role"))!=null&&ir.includes("dialog")))return;const lr=getTabbableOptions(),fr=focusable(e,lr).filter(hr=>{const gr=hr.getAttribute("data-tabindex")||"";return isTabbable(hr,lr)||hr.hasAttribute("data-tabindex")&&!gr.startsWith("-")}),mr=e.getAttribute("tabindex");rr.current.includes("floating")||fr.length===0?mr!=="0"&&e.setAttribute("tabindex","0"):(mr!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const VisuallyHiddenDismiss=reactExports.forwardRef(function(rr,ir){return jsxRuntimeExports.jsx("button",{...rr,type:"button",ref:ir,tabIndex:-1,style:HIDDEN_STYLES})});function FloatingFocusManager(e){const{context:rr,children:ir,disabled:lr=!1,order:dr=["content"],guards:fr=!0,initialFocus:mr=0,returnFocus:hr=!0,restoreFocus:gr=!1,modal:xr=!0,visuallyHiddenDismiss:_r=!1,closeOnFocusOut:yr=!0,outsideElementsInert:vr=!1,getInsideElements:br=()=>[]}=e,{open:Sr,onOpenChange:wr,events:Mr,dataRef:kr,elements:{domReference:Ar,floating:Ir}}=rr,$r=useEffectEvent(()=>{var ms;return(ms=kr.current.floatingContext)==null?void 0:ms.nodeId}),Dr=useEffectEvent(br),Or=typeof mr=="number"&&mr<0,Fr=isTypeableCombobox(Ar)&&Or,Lr=supportsInert(),zr=Lr?fr:!0,Gr=!zr||Lr&&vr,Jr=useLatestRef(dr),Yn=useLatestRef(mr),Jn=useLatestRef(hr),Zn=useFloatingTree(),Hn=usePortalContext(),Kn=reactExports.useRef(null),qn=reactExports.useRef(null),Qr=reactExports.useRef(!1),$n=reactExports.useRef(!1),es=reactExports.useRef(-1),Xn=Hn!=null,rs=getFloatingFocusElement(Ir),ns=useEffectEvent(function(ms){return ms===void 0&&(ms=rs),ms?tabbable(ms,getTabbableOptions()):[]}),ls=useEffectEvent(ms=>{const _s=ns(ms);return Jr.current.map(Es=>Ar&&Es==="reference"?Ar:rs&&Es==="floating"?rs:_s).filter(Boolean).flat()});reactExports.useEffect(()=>{if(lr||!xr)return;function ms(Es){if(Es.key==="Tab"){contains(rs,activeElement(getDocument$1(rs)))&&ns().length===0&&!Fr&&stopEvent(Es);const vs=ls(),ws=getTarget(Es);Jr.current[0]==="reference"&&ws===Ar&&(stopEvent(Es),Es.shiftKey?enqueueFocus(vs[vs.length-1]):enqueueFocus(vs[1])),Jr.current[1]==="floating"&&ws===rs&&Es.shiftKey&&(stopEvent(Es),enqueueFocus(vs[0]))}}const _s=getDocument$1(rs);return _s.addEventListener("keydown",ms),()=>{_s.removeEventListener("keydown",ms)}},[lr,Ar,rs,xr,Jr,Fr,ns,ls]),reactExports.useEffect(()=>{if(lr||!Ir)return;function ms(_s){const Es=getTarget(_s),ws=ns().indexOf(Es);ws!==-1&&(es.current=ws)}return Ir.addEventListener("focusin",ms),()=>{Ir.removeEventListener("focusin",ms)}},[lr,Ir,ns]),reactExports.useEffect(()=>{if(lr||!yr)return;function ms(){$n.current=!0,setTimeout(()=>{$n.current=!1})}function _s(Es){const vs=Es.relatedTarget,ws=Es.currentTarget,Rs=getTarget(Es);queueMicrotask(()=>{const Ss=$r(),ps=!(contains(Ar,vs)||contains(Ir,vs)||contains(vs,Ir)||contains(Hn?.portalNode,vs)||vs!=null&&vs.hasAttribute(createAttribute("focus-guard"))||Zn&&(getNodeChildren(Zn.nodesRef.current,Ss).find(ys=>{var Cs,Ms;return contains((Cs=ys.context)==null?void 0:Cs.elements.floating,vs)||contains((Ms=ys.context)==null?void 0:Ms.elements.domReference,vs)})||getNodeAncestors(Zn.nodesRef.current,Ss).find(ys=>{var Cs,Ms,ds;return[(Cs=ys.context)==null?void 0:Cs.elements.floating,getFloatingFocusElement((Ms=ys.context)==null?void 0:Ms.elements.floating)].includes(vs)||((ds=ys.context)==null?void 0:ds.elements.domReference)===vs})));if(ws===Ar&&rs&&handleTabIndex(rs,Jr),gr&&ws!==Ar&&!(Rs!=null&&Rs.isConnected)&&activeElement(getDocument$1(rs))===getDocument$1(rs).body){isHTMLElement$1(rs)&&rs.focus();const ys=es.current,Cs=ns(),Ms=Cs[ys]||Cs[Cs.length-1]||rs;isHTMLElement$1(Ms)&&Ms.focus()}if(kr.current.insideReactTree){kr.current.insideReactTree=!1;return}(Fr||!xr)&&vs&&ps&&!$n.current&&vs!==getPreviouslyFocusedElement()&&(Qr.current=!0,wr(!1,Es,"focus-out"))})}if(Ir&&isHTMLElement$1(Ar))return Ar.addEventListener("focusout",_s),Ar.addEventListener("pointerdown",ms),Ir.addEventListener("focusout",_s),()=>{Ar.removeEventListener("focusout",_s),Ar.removeEventListener("pointerdown",ms),Ir.removeEventListener("focusout",_s)}},[lr,Ar,Ir,rs,xr,Zn,Hn,wr,yr,gr,ns,Fr,$r,Jr,kr]);const ss=reactExports.useRef(null),as=reactExports.useRef(null),us=useLiteMergeRefs([ss,Hn?.beforeInsideRef]),hs=useLiteMergeRefs([as,Hn?.afterInsideRef]);reactExports.useEffect(()=>{var ms,_s;if(lr||!Ir)return;const Es=Array.from((Hn==null||(ms=Hn.portalNode)==null?void 0:ms.querySelectorAll("["+createAttribute("portal")+"]"))||[]),vs=Zn?getNodeAncestors(Zn.nodesRef.current,$r()):[],ws=Zn&&!xr?vs.map(ys=>{var Cs;return(Cs=ys.context)==null?void 0:Cs.elements.floating}):[],Rs=(_s=vs.find(ys=>{var Cs;return isTypeableCombobox(((Cs=ys.context)==null?void 0:Cs.elements.domReference)||null)}))==null||(_s=_s.context)==null?void 0:_s.elements.domReference,Ss=[Ir,Rs,...Es,...ws,...Dr(),Kn.current,qn.current,ss.current,as.current,Hn?.beforeOutsideRef.current,Hn?.afterOutsideRef.current,Jr.current.includes("reference")||Fr?Ar:null].filter(ys=>ys!=null),ps=xr||Fr?markOthers(Ss,!Gr,Gr):markOthers(Ss);return()=>{ps()}},[lr,Ar,Ir,xr,Jr,Hn,Fr,zr,Gr,Zn,$r,Dr]),index$1(()=>{if(lr||!isHTMLElement$1(rs))return;const ms=getDocument$1(rs),_s=activeElement(ms);queueMicrotask(()=>{const Es=ls(rs),vs=Yn.current,ws=(typeof vs=="number"?Es[vs]:vs.current)||rs,Rs=contains(rs,_s);!Or&&!Rs&&Sr&&enqueueFocus(ws,{preventScroll:ws===rs})})},[lr,Sr,rs,Or,ls,Yn]),index$1(()=>{if(lr||!rs)return;const ms=getDocument$1(rs),_s=activeElement(ms);addPreviouslyFocusedElement(_s);function Es(Rs){let{reason:Ss,event:ps,nested:ys}=Rs;if(["hover","safe-polygon"].includes(Ss)&&ps.type==="mouseleave"&&(Qr.current=!0),Ss==="outside-press")if(ys)Qr.current=!1;else if(isVirtualClick(ps)||isVirtualPointerEvent(ps))Qr.current=!1;else{let Cs=!1;document.createElement("div").focus({get preventScroll(){return Cs=!0,!1}}),Cs?Qr.current=!1:Qr.current=!0}}Mr.on("openchange",Es);const vs=ms.createElement("span");vs.setAttribute("tabindex","-1"),vs.setAttribute("aria-hidden","true"),Object.assign(vs.style,HIDDEN_STYLES),Xn&&Ar&&Ar.insertAdjacentElement("afterend",vs);function ws(){if(typeof Jn.current=="boolean"){const Rs=Ar||getPreviouslyFocusedElement();return Rs&&Rs.isConnected?Rs:vs}return Jn.current.current||vs}return()=>{Mr.off("openchange",Es);const Rs=activeElement(ms),Ss=contains(Ir,Rs)||Zn&&getNodeChildren(Zn.nodesRef.current,$r(),!1).some(ys=>{var Cs;return contains((Cs=ys.context)==null?void 0:Cs.elements.floating,Rs)}),ps=ws();queueMicrotask(()=>{const ys=getFirstTabbableElement(ps);Jn.current&&!Qr.current&&isHTMLElement$1(ys)&&(!(ys!==Rs&&Rs!==ms.body)||Ss)&&ys.focus({preventScroll:!0}),vs.remove()})}},[lr,Ir,rs,Jn,kr,Mr,Zn,Xn,Ar,$r]),reactExports.useEffect(()=>{queueMicrotask(()=>{Qr.current=!1})},[lr]),index$1(()=>{if(!lr&&Hn)return Hn.setFocusManagerState({modal:xr,closeOnFocusOut:yr,open:Sr,onOpenChange:wr,domReference:Ar}),()=>{Hn.setFocusManagerState(null)}},[lr,Hn,xr,Sr,wr,yr,Ar]),index$1(()=>{lr||rs&&handleTabIndex(rs,Jr)},[lr,rs,Jr]);function gs(ms){return lr||!_r||!xr?null:jsxRuntimeExports.jsx(VisuallyHiddenDismiss,{ref:ms==="start"?Kn:qn,onClick:_s=>wr(!1,_s.nativeEvent),children:typeof _r=="string"?_r:"Dismiss"})}const xs=!lr&&zr&&(xr?!Fr:!0)&&(Xn||xr);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[xs&&jsxRuntimeExports.jsx(FocusGuard,{"data-type":"inside",ref:us,onFocus:ms=>{if(xr){const Es=ls();enqueueFocus(dr[0]==="reference"?Es[0]:Es[Es.length-1])}else if(Hn!=null&&Hn.preserveTabOrder&&Hn.portalNode)if(Qr.current=!1,isOutsideEvent(ms,Hn.portalNode)){const Es=getNextTabbable(Ar);Es?.focus()}else{var _s;(_s=Hn.beforeOutsideRef.current)==null||_s.focus()}}}),!Fr&&gs("start"),ir,gs("end"),xs&&jsxRuntimeExports.jsx(FocusGuard,{"data-type":"inside",ref:hs,onFocus:ms=>{if(xr)enqueueFocus(ls()[0]);else if(Hn!=null&&Hn.preserveTabOrder&&Hn.portalNode)if(yr&&(Qr.current=!0),isOutsideEvent(ms,Hn.portalNode)){const Es=getPreviousTabbable(Ar);Es?.focus()}else{var _s;(_s=Hn.afterOutsideRef.current)==null||_s.focus()}}})]})}function isButtonTarget(e){return isHTMLElement$1(e.target)&&e.target.tagName==="BUTTON"}function isAnchorTarget(e){return isHTMLElement$1(e.target)&&e.target.tagName==="A"}function isSpaceIgnored(e){return isTypeableElement(e)}function useClick(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,dataRef:dr,elements:{domReference:fr}}=e,{enabled:mr=!0,event:hr="click",toggle:gr=!0,ignoreMouse:xr=!1,keyboardHandlers:_r=!0,stickIfOpen:yr=!0}=rr,vr=reactExports.useRef(),br=reactExports.useRef(!1),Sr=reactExports.useMemo(()=>({onPointerDown(wr){vr.current=wr.pointerType},onMouseDown(wr){const Mr=vr.current;wr.button===0&&hr!=="click"&&(isMouseLikePointerType(Mr,!0)&&xr||(ir&&gr&&(!(dr.current.openEvent&&yr)||dr.current.openEvent.type==="mousedown")?lr(!1,wr.nativeEvent,"click"):(wr.preventDefault(),lr(!0,wr.nativeEvent,"click"))))},onClick(wr){const Mr=vr.current;if(hr==="mousedown"&&vr.current){vr.current=void 0;return}isMouseLikePointerType(Mr,!0)&&xr||(ir&&gr&&(!(dr.current.openEvent&&yr)||dr.current.openEvent.type==="click")?lr(!1,wr.nativeEvent,"click"):lr(!0,wr.nativeEvent,"click"))},onKeyDown(wr){vr.current=void 0,!(wr.defaultPrevented||!_r||isButtonTarget(wr))&&(wr.key===" "&&!isSpaceIgnored(fr)&&(wr.preventDefault(),br.current=!0),!isAnchorTarget(wr)&&wr.key==="Enter"&&lr(!(ir&&gr),wr.nativeEvent,"click"))},onKeyUp(wr){wr.defaultPrevented||!_r||isButtonTarget(wr)||isSpaceIgnored(fr)||wr.key===" "&&br.current&&(br.current=!1,lr(!(ir&&gr),wr.nativeEvent,"click"))}}),[dr,fr,hr,xr,_r,lr,ir,yr,gr]);return reactExports.useMemo(()=>mr?{reference:Sr}:{},[mr,Sr])}const bubbleHandlerKeys={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},captureHandlerKeys={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},normalizeProp=e=>{var rr,ir;return{escapeKey:typeof e=="boolean"?e:(rr=e?.escapeKey)!=null?rr:!1,outsidePress:typeof e=="boolean"?e:(ir=e?.outsidePress)!=null?ir:!0}};function useDismiss(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,elements:dr,dataRef:fr}=e,{enabled:mr=!0,escapeKey:hr=!0,outsidePress:gr=!0,outsidePressEvent:xr="pointerdown",referencePress:_r=!1,referencePressEvent:yr="pointerdown",ancestorScroll:vr=!1,bubbles:br,capture:Sr}=rr,wr=useFloatingTree(),Mr=useEffectEvent(typeof gr=="function"?gr:()=>!1),kr=typeof gr=="function"?Mr:gr,Ar=reactExports.useRef(!1),{escapeKey:Ir,outsidePress:$r}=normalizeProp(br),{escapeKey:Dr,outsidePress:Or}=normalizeProp(Sr),Fr=reactExports.useRef(!1),Lr=reactExports.useRef(-1),zr=useEffectEvent(Hn=>{var Kn;if(!ir||!mr||!hr||Hn.key!=="Escape"||Fr.current)return;const qn=(Kn=fr.current.floatingContext)==null?void 0:Kn.nodeId,Qr=wr?getNodeChildren(wr.nodesRef.current,qn):[];if(!Ir&&(Hn.stopPropagation(),Qr.length>0)){let $n=!0;if(Qr.forEach(es=>{var Xn;if((Xn=es.context)!=null&&Xn.open&&!es.context.dataRef.current.__escapeKeyBubbles){$n=!1;return}}),!$n)return}lr(!1,isReactEvent(Hn)?Hn.nativeEvent:Hn,"escape-key")}),Gr=useEffectEvent(Hn=>{var Kn;const qn=()=>{var Qr;zr(Hn),(Qr=getTarget(Hn))==null||Qr.removeEventListener("keydown",qn)};(Kn=getTarget(Hn))==null||Kn.addEventListener("keydown",qn)}),Jr=useEffectEvent(Hn=>{var Kn;const qn=fr.current.insideReactTree;fr.current.insideReactTree=!1;const Qr=Ar.current;if(Ar.current=!1,xr==="click"&&Qr||qn||typeof kr=="function"&&!kr(Hn))return;const $n=getTarget(Hn),es="["+createAttribute("inert")+"]",Xn=getDocument$1(dr.floating).querySelectorAll(es);let rs=isElement($n)?$n:null;for(;rs&&!isLastTraversableNode(rs);){const as=getParentNode(rs);if(isLastTraversableNode(as)||!isElement(as))break;rs=as}if(Xn.length&&isElement($n)&&!isRootElement($n)&&!contains($n,dr.floating)&&Array.from(Xn).every(as=>!contains(rs,as)))return;if(isHTMLElement$1($n)&&Zn){const as=isLastTraversableNode($n),us=getComputedStyle$1($n),hs=/auto|scroll/,gs=as||hs.test(us.overflowX),xs=as||hs.test(us.overflowY),ms=gs&&$n.clientWidth>0&&$n.scrollWidth>$n.clientWidth,_s=xs&&$n.clientHeight>0&&$n.scrollHeight>$n.clientHeight,Es=us.direction==="rtl",vs=_s&&(Es?Hn.offsetX<=$n.offsetWidth-$n.clientWidth:Hn.offsetX>$n.clientWidth),ws=ms&&Hn.offsetY>$n.clientHeight;if(vs||ws)return}const ns=(Kn=fr.current.floatingContext)==null?void 0:Kn.nodeId,ls=wr&&getNodeChildren(wr.nodesRef.current,ns).some(as=>{var us;return isEventTargetWithin(Hn,(us=as.context)==null?void 0:us.elements.floating)});if(isEventTargetWithin(Hn,dr.floating)||isEventTargetWithin(Hn,dr.domReference)||ls)return;const ss=wr?getNodeChildren(wr.nodesRef.current,ns):[];if(ss.length>0){let as=!0;if(ss.forEach(us=>{var hs;if((hs=us.context)!=null&&hs.open&&!us.context.dataRef.current.__outsidePressBubbles){as=!1;return}}),!as)return}lr(!1,Hn,"outside-press")}),Yn=useEffectEvent(Hn=>{var Kn;const qn=()=>{var Qr;Jr(Hn),(Qr=getTarget(Hn))==null||Qr.removeEventListener(xr,qn)};(Kn=getTarget(Hn))==null||Kn.addEventListener(xr,qn)});reactExports.useEffect(()=>{if(!ir||!mr)return;fr.current.__escapeKeyBubbles=Ir,fr.current.__outsidePressBubbles=$r;let Hn=-1;function Kn(Xn){lr(!1,Xn,"ancestor-scroll")}function qn(){window.clearTimeout(Hn),Fr.current=!0}function Qr(){Hn=window.setTimeout(()=>{Fr.current=!1},isWebKit()?5:0)}const $n=getDocument$1(dr.floating);hr&&($n.addEventListener("keydown",Dr?Gr:zr,Dr),$n.addEventListener("compositionstart",qn),$n.addEventListener("compositionend",Qr)),kr&&$n.addEventListener(xr,Or?Yn:Jr,Or);let es=[];return vr&&(isElement(dr.domReference)&&(es=getOverflowAncestors(dr.domReference)),isElement(dr.floating)&&(es=es.concat(getOverflowAncestors(dr.floating))),!isElement(dr.reference)&&dr.reference&&dr.reference.contextElement&&(es=es.concat(getOverflowAncestors(dr.reference.contextElement)))),es=es.filter(Xn=>{var rs;return Xn!==((rs=$n.defaultView)==null?void 0:rs.visualViewport)}),es.forEach(Xn=>{Xn.addEventListener("scroll",Kn,{passive:!0})}),()=>{hr&&($n.removeEventListener("keydown",Dr?Gr:zr,Dr),$n.removeEventListener("compositionstart",qn),$n.removeEventListener("compositionend",Qr)),kr&&$n.removeEventListener(xr,Or?Yn:Jr,Or),es.forEach(Xn=>{Xn.removeEventListener("scroll",Kn)}),window.clearTimeout(Hn)}},[fr,dr,hr,kr,xr,ir,lr,vr,mr,Ir,$r,zr,Dr,Gr,Jr,Or,Yn]),reactExports.useEffect(()=>{fr.current.insideReactTree=!1},[fr,kr,xr]);const Jn=reactExports.useMemo(()=>({onKeyDown:zr,..._r&&{[bubbleHandlerKeys[yr]]:Hn=>{lr(!1,Hn.nativeEvent,"reference-press")},...yr!=="click"&&{onClick(Hn){lr(!1,Hn.nativeEvent,"reference-press")}}}}),[zr,lr,_r,yr]),Zn=reactExports.useMemo(()=>({onKeyDown:zr,onMouseDown(){Ar.current=!0},onMouseUp(){Ar.current=!0},[captureHandlerKeys[xr]]:()=>{fr.current.insideReactTree=!0},onBlurCapture(){wr||(clearTimeoutIfSet(Lr),fr.current.insideReactTree=!0,Lr.current=window.setTimeout(()=>{fr.current.insideReactTree=!1}))}}),[zr,xr,fr,wr]);return reactExports.useMemo(()=>mr?{reference:Jn,floating:Zn}:{},[mr,Jn,Zn])}function useFloatingRootContext(e){const{open:rr=!1,onOpenChange:ir,elements:lr}=e,dr=useId$1(),fr=reactExports.useRef({}),[mr]=reactExports.useState(()=>createEventEmitter()),hr=useFloatingParentNodeId()!=null,[gr,xr]=reactExports.useState(lr.reference),_r=useEffectEvent((br,Sr,wr)=>{fr.current.openEvent=br?Sr:void 0,mr.emit("openchange",{open:br,event:Sr,reason:wr,nested:hr}),ir?.(br,Sr,wr)}),yr=reactExports.useMemo(()=>({setPositionReference:xr}),[]),vr=reactExports.useMemo(()=>({reference:gr||lr.reference||null,floating:lr.floating||null,domReference:lr.reference}),[gr,lr.reference,lr.floating]);return reactExports.useMemo(()=>({dataRef:fr,open:rr,onOpenChange:_r,elements:vr,events:mr,floatingId:dr,refs:yr}),[rr,_r,vr,mr,dr,yr])}function useFloating(e){e===void 0&&(e={});const{nodeId:rr}=e,ir=useFloatingRootContext({...e,elements:{reference:null,floating:null,...e.elements}}),lr=e.rootContext||ir,dr=lr.elements,[fr,mr]=reactExports.useState(null),[hr,gr]=reactExports.useState(null),_r=dr?.domReference||fr,yr=reactExports.useRef(null),vr=useFloatingTree();index$1(()=>{_r&&(yr.current=_r)},[_r]);const br=useFloating$2({...e,elements:{...dr,...hr&&{reference:hr}}}),Sr=reactExports.useCallback(Ir=>{const $r=isElement(Ir)?{getBoundingClientRect:()=>Ir.getBoundingClientRect(),getClientRects:()=>Ir.getClientRects(),contextElement:Ir}:Ir;gr($r),br.refs.setReference($r)},[br.refs]),wr=reactExports.useCallback(Ir=>{(isElement(Ir)||Ir===null)&&(yr.current=Ir,mr(Ir)),(isElement(br.refs.reference.current)||br.refs.reference.current===null||Ir!==null&&!isElement(Ir))&&br.refs.setReference(Ir)},[br.refs]),Mr=reactExports.useMemo(()=>({...br.refs,setReference:wr,setPositionReference:Sr,domReference:yr}),[br.refs,wr,Sr]),kr=reactExports.useMemo(()=>({...br.elements,domReference:_r}),[br.elements,_r]),Ar=reactExports.useMemo(()=>({...br,...lr,refs:Mr,elements:kr,nodeId:rr}),[br,Mr,kr,rr,lr]);return index$1(()=>{lr.dataRef.current.floatingContext=Ar;const Ir=vr?.nodesRef.current.find($r=>$r.id===rr);Ir&&(Ir.context=Ar)}),reactExports.useMemo(()=>({...br,context:Ar,refs:Mr,elements:kr}),[br,Mr,kr,Ar])}function isMacSafari(){return isMac()&&isSafari()}function useFocus(e,rr){rr===void 0&&(rr={});const{open:ir,onOpenChange:lr,events:dr,dataRef:fr,elements:mr}=e,{enabled:hr=!0,visibleOnly:gr=!0}=rr,xr=reactExports.useRef(!1),_r=reactExports.useRef(-1),yr=reactExports.useRef(!0);reactExports.useEffect(()=>{if(!hr)return;const br=getWindow$1(mr.domReference);function Sr(){!ir&&isHTMLElement$1(mr.domReference)&&mr.domReference===activeElement(getDocument$1(mr.domReference))&&(xr.current=!0)}function wr(){yr.current=!0}function Mr(){yr.current=!1}return br.addEventListener("blur",Sr),isMacSafari()&&(br.addEventListener("keydown",wr,!0),br.addEventListener("pointerdown",Mr,!0)),()=>{br.removeEventListener("blur",Sr),isMacSafari()&&(br.removeEventListener("keydown",wr,!0),br.removeEventListener("pointerdown",Mr,!0))}},[mr.domReference,ir,hr]),reactExports.useEffect(()=>{if(!hr)return;function br(Sr){let{reason:wr}=Sr;(wr==="reference-press"||wr==="escape-key")&&(xr.current=!0)}return dr.on("openchange",br),()=>{dr.off("openchange",br)}},[dr,hr]),reactExports.useEffect(()=>()=>{clearTimeoutIfSet(_r)},[]);const vr=reactExports.useMemo(()=>({onMouseLeave(){xr.current=!1},onFocus(br){if(xr.current)return;const Sr=getTarget(br.nativeEvent);if(gr&&isElement(Sr)){if(isMacSafari()&&!br.relatedTarget){if(!yr.current&&!isTypeableElement(Sr))return}else if(!matchesFocusVisible(Sr))return}lr(!0,br.nativeEvent,"focus")},onBlur(br){xr.current=!1;const Sr=br.relatedTarget,wr=br.nativeEvent,Mr=isElement(Sr)&&Sr.hasAttribute(createAttribute("focus-guard"))&&Sr.getAttribute("data-type")==="outside";_r.current=window.setTimeout(()=>{var kr;const Ar=activeElement(mr.domReference?mr.domReference.ownerDocument:document);!Sr&&Ar===mr.domReference||contains((kr=fr.current.floatingContext)==null?void 0:kr.refs.floating.current,Ar)||contains(mr.domReference,Ar)||Mr||lr(!1,wr,"focus")})}}),[fr,mr.domReference,lr,gr]);return reactExports.useMemo(()=>hr?{reference:vr}:{},[hr,vr])}function mergeProps(e,rr,ir){const lr=new Map,dr=ir==="item";let fr=e;if(dr&&e){const{[ACTIVE_KEY]:mr,[SELECTED_KEY]:hr,...gr}=e;fr=gr}return{...ir==="floating"&&{tabIndex:-1,[FOCUSABLE_ATTRIBUTE]:""},...fr,...rr.map(mr=>{const hr=mr?mr[ir]:null;return typeof hr=="function"?e?hr(e):null:hr}).concat(e).reduce((mr,hr)=>(hr&&Object.entries(hr).forEach(gr=>{let[xr,_r]=gr;if(!(dr&&[ACTIVE_KEY,SELECTED_KEY].includes(xr)))if(xr.indexOf("on")===0){if(lr.has(xr)||lr.set(xr,[]),typeof _r=="function"){var yr;(yr=lr.get(xr))==null||yr.push(_r),mr[xr]=function(){for(var vr,br=arguments.length,Sr=new Array(br),wr=0;wr<br;wr++)Sr[wr]=arguments[wr];return(vr=lr.get(xr))==null?void 0:vr.map(Mr=>Mr(...Sr)).find(Mr=>Mr!==void 0)}}}else mr[xr]=_r}),mr),{})}}function useInteractions(e){e===void 0&&(e=[]);const rr=e.map(hr=>hr?.reference),ir=e.map(hr=>hr?.floating),lr=e.map(hr=>hr?.item),dr=reactExports.useCallback(hr=>mergeProps(hr,e,"reference"),rr),fr=reactExports.useCallback(hr=>mergeProps(hr,e,"floating"),ir),mr=reactExports.useCallback(hr=>mergeProps(hr,e,"item"),lr);return reactExports.useMemo(()=>({getReferenceProps:dr,getFloatingProps:fr,getItemProps:mr}),[dr,fr,mr])}const ESCAPE="Escape";function doSwitch(e,rr,ir){switch(e){case"vertical":return rr;case"horizontal":return ir;default:return rr||ir}}function isMainOrientationKey(e,rr){return doSwitch(rr,e===ARROW_UP||e===ARROW_DOWN,e===ARROW_LEFT||e===ARROW_RIGHT)}function isMainOrientationToEndKey(e,rr,ir){return doSwitch(rr,e===ARROW_DOWN,ir?e===ARROW_LEFT:e===ARROW_RIGHT)||e==="Enter"||e===" "||e===""}function isCrossOrientationOpenKey(e,rr,ir){return doSwitch(rr,ir?e===ARROW_LEFT:e===ARROW_RIGHT,e===ARROW_DOWN)}function isCrossOrientationCloseKey(e,rr,ir,lr){const dr=ir?e===ARROW_RIGHT:e===ARROW_LEFT,fr=e===ARROW_UP;return rr==="both"||rr==="horizontal"&&lr&&lr>1?e===ESCAPE:doSwitch(rr,dr,fr)}function useListNavigation(e,rr){const{open:ir,onOpenChange:lr,elements:dr,floatingId:fr}=e,{listRef:mr,activeIndex:hr,onNavigate:gr=()=>{},enabled:xr=!0,selectedIndex:_r=null,allowEscape:yr=!1,loop:vr=!1,nested:br=!1,rtl:Sr=!1,virtual:wr=!1,focusItemOnOpen:Mr="auto",focusItemOnHover:kr=!0,openOnArrowKeyDown:Ar=!0,disabledIndices:Ir=void 0,orientation:$r="vertical",parentOrientation:Dr,cols:Or=1,scrollItemIntoView:Fr=!0,virtualItemRef:Lr,itemSizes:zr,dense:Gr=!1}=rr,Jr=getFloatingFocusElement(dr.floating),Yn=useLatestRef(Jr),Jn=useFloatingParentNodeId(),Zn=useFloatingTree();index$1(()=>{e.dataRef.current.orientation=$r},[e,$r]);const Hn=useEffectEvent(()=>{gr(Qr.current===-1?null:Qr.current)}),Kn=isTypeableCombobox(dr.domReference),qn=reactExports.useRef(Mr),Qr=reactExports.useRef(_r??-1),$n=reactExports.useRef(null),es=reactExports.useRef(!0),Xn=reactExports.useRef(Hn),rs=reactExports.useRef(!!dr.floating),ns=reactExports.useRef(ir),ls=reactExports.useRef(!1),ss=reactExports.useRef(!1),as=useLatestRef(Ir),us=useLatestRef(ir),hs=useLatestRef(Fr),gs=useLatestRef(_r),[xs,ms]=reactExports.useState(),[_s,Es]=reactExports.useState(),vs=useEffectEvent(()=>{function ds(Ts){if(wr){var Ps;(Ps=Ts.id)!=null&&Ps.endsWith("-fui-option")&&(Ts.id=fr+"-"+Math.random().toString(16).slice(2,10)),ms(Ts.id),Zn?.events.emit("virtualfocus",Ts),Lr&&(Lr.current=Ts)}else enqueueFocus(Ts,{sync:ls.current,preventScroll:!0})}const ks=mr.current[Qr.current],cs=ss.current;ks&&ds(ks),(ls.current?Ts=>Ts():requestAnimationFrame)(()=>{const Ts=mr.current[Qr.current]||ks;if(!Ts)return;ks||ds(Ts);const Ps=hs.current;Ps&&Rs&&(cs||!es.current)&&(Ts.scrollIntoView==null||Ts.scrollIntoView(typeof Ps=="boolean"?{block:"nearest",inline:"nearest"}:Ps))})});index$1(()=>{xr&&(ir&&dr.floating?qn.current&&_r!=null&&(ss.current=!0,Qr.current=_r,Hn()):rs.current&&(Qr.current=-1,Xn.current()))},[xr,ir,dr.floating,_r,Hn]),index$1(()=>{if(xr&&ir&&dr.floating)if(hr==null){if(ls.current=!1,gs.current!=null)return;if(rs.current&&(Qr.current=-1,vs()),(!ns.current||!rs.current)&&qn.current&&($n.current!=null||qn.current===!0&&$n.current==null)){let ds=0;const ks=()=>{mr.current[0]==null?(ds<2&&(ds?requestAnimationFrame:queueMicrotask)(ks),ds++):(Qr.current=$n.current==null||isMainOrientationToEndKey($n.current,$r,Sr)||br?getMinListIndex(mr,as.current):getMaxListIndex(mr,as.current),$n.current=null,Hn())};ks()}}else isIndexOutOfListBounds(mr,hr)||(Qr.current=hr,vs(),ss.current=!1)},[xr,ir,dr.floating,hr,gs,br,mr,$r,Sr,Hn,vs,as]),index$1(()=>{var ds;if(!xr||dr.floating||!Zn||wr||!rs.current)return;const ks=Zn.nodesRef.current,cs=(ds=ks.find(Ps=>Ps.id===Jn))==null||(ds=ds.context)==null?void 0:ds.elements.floating,bs=activeElement(getDocument$1(dr.floating)),Ts=ks.some(Ps=>Ps.context&&contains(Ps.context.elements.floating,bs));cs&&!Ts&&es.current&&cs.focus({preventScroll:!0})},[xr,dr.floating,Zn,Jn,wr]),index$1(()=>{if(!xr||!Zn||!wr||Jn)return;function ds(ks){Es(ks.id),Lr&&(Lr.current=ks)}return Zn.events.on("virtualfocus",ds),()=>{Zn.events.off("virtualfocus",ds)}},[xr,Zn,wr,Jn,Lr]),index$1(()=>{Xn.current=Hn,ns.current=ir,rs.current=!!dr.floating}),index$1(()=>{ir||($n.current=null,qn.current=Mr)},[ir,Mr]);const ws=hr!=null,Rs=reactExports.useMemo(()=>{function ds(cs){if(!us.current)return;const bs=mr.current.indexOf(cs);bs!==-1&&Qr.current!==bs&&(Qr.current=bs,Hn())}return{onFocus(cs){let{currentTarget:bs}=cs;ls.current=!0,ds(bs)},onClick:cs=>{let{currentTarget:bs}=cs;return bs.focus({preventScroll:!0})},...kr&&{onMouseMove(cs){let{currentTarget:bs}=cs;ls.current=!0,ss.current=!1,ds(bs)},onPointerLeave(cs){let{pointerType:bs}=cs;if(!(!es.current||bs==="touch")&&(ls.current=!0,Qr.current=-1,Hn(),!wr)){var Ts;(Ts=Yn.current)==null||Ts.focus({preventScroll:!0})}}}}},[us,Yn,kr,mr,Hn,wr]),Ss=reactExports.useCallback(()=>{var ds;return Dr??(Zn==null||(ds=Zn.nodesRef.current.find(ks=>ks.id===Jn))==null||(ds=ds.context)==null||(ds=ds.dataRef)==null?void 0:ds.current.orientation)},[Jn,Zn,Dr]),ps=useEffectEvent(ds=>{if(es.current=!1,ls.current=!0,ds.which===229||!us.current&&ds.currentTarget===Yn.current)return;if(br&&isCrossOrientationCloseKey(ds.key,$r,Sr,Or)){isMainOrientationKey(ds.key,Ss())||stopEvent(ds),lr(!1,ds.nativeEvent,"list-navigation"),isHTMLElement$1(dr.domReference)&&(wr?Zn?.events.emit("virtualfocus",dr.domReference):dr.domReference.focus());return}const ks=Qr.current,cs=getMinListIndex(mr,Ir),bs=getMaxListIndex(mr,Ir);if(Kn||(ds.key==="Home"&&(stopEvent(ds),Qr.current=cs,Hn()),ds.key==="End"&&(stopEvent(ds),Qr.current=bs,Hn())),Or>1){const Ts=zr||Array.from({length:mr.current.length},()=>({width:1,height:1})),Ps=createGridCellMap(Ts,Or,Gr),Is=Ps.findIndex($s=>$s!=null&&!isListIndexDisabled(mr,$s,Ir)),js=Ps.reduce(($s,Fs,As)=>Fs!=null&&!isListIndexDisabled(mr,Fs,Ir)?As:$s,-1),Ds=Ps[getGridNavigatedIndex({current:Ps.map($s=>$s!=null?mr.current[$s]:null)},{event:ds,orientation:$r,loop:vr,rtl:Sr,cols:Or,disabledIndices:getGridCellIndices([...(typeof Ir!="function"?Ir:null)||mr.current.map(($s,Fs)=>isListIndexDisabled(mr,Fs,Ir)?Fs:void 0),void 0],Ps),minIndex:Is,maxIndex:js,prevIndex:getGridCellIndexOfCorner(Qr.current>bs?cs:Qr.current,Ts,Ps,Or,ds.key===ARROW_DOWN?"bl":ds.key===(Sr?ARROW_LEFT:ARROW_RIGHT)?"tr":"tl"),stopEvent:!0})];if(Ds!=null&&(Qr.current=Ds,Hn()),$r==="both")return}if(isMainOrientationKey(ds.key,$r)){if(stopEvent(ds),ir&&!wr&&activeElement(ds.currentTarget.ownerDocument)===ds.currentTarget){Qr.current=isMainOrientationToEndKey(ds.key,$r,Sr)?cs:bs,Hn();return}isMainOrientationToEndKey(ds.key,$r,Sr)?vr?Qr.current=ks>=bs?yr&&ks!==mr.current.length?-1:cs:findNonDisabledListIndex(mr,{startingIndex:ks,disabledIndices:Ir}):Qr.current=Math.min(bs,findNonDisabledListIndex(mr,{startingIndex:ks,disabledIndices:Ir})):vr?Qr.current=ks<=cs?yr&&ks!==-1?mr.current.length:bs:findNonDisabledListIndex(mr,{startingIndex:ks,decrement:!0,disabledIndices:Ir}):Qr.current=Math.max(cs,findNonDisabledListIndex(mr,{startingIndex:ks,decrement:!0,disabledIndices:Ir})),isIndexOutOfListBounds(mr,Qr.current)&&(Qr.current=-1),Hn()}}),ys=reactExports.useMemo(()=>wr&&ir&&ws&&{"aria-activedescendant":_s||xs},[wr,ir,ws,_s,xs]),Cs=reactExports.useMemo(()=>({"aria-orientation":$r==="both"?void 0:$r,...Kn?{}:ys,onKeyDown:ps,onPointerMove(){es.current=!0}}),[ys,ps,$r,Kn]),Ms=reactExports.useMemo(()=>{function ds(cs){Mr==="auto"&&isVirtualClick(cs.nativeEvent)&&(qn.current=!0)}function ks(cs){qn.current=Mr,Mr==="auto"&&isVirtualPointerEvent(cs.nativeEvent)&&(qn.current=!0)}return{...ys,onKeyDown(cs){es.current=!1;const bs=cs.key.startsWith("Arrow"),Ts=["Home","End"].includes(cs.key),Ps=bs||Ts,Is=isCrossOrientationOpenKey(cs.key,$r,Sr),js=isCrossOrientationCloseKey(cs.key,$r,Sr,Or),Ds=isCrossOrientationOpenKey(cs.key,Ss(),Sr),$s=isMainOrientationKey(cs.key,$r),Fs=(br?Ds:$s)||cs.key==="Enter"||cs.key.trim()==="";if(wr&&ir){const Bs=Zn?.nodesRef.current.find(Ws=>Ws.parentId==null),Us=Zn&&Bs?getDeepestNode(Zn.nodesRef.current,Bs.id):null;if(Ps&&Us&&Lr){const Ws=new KeyboardEvent("keydown",{key:cs.key,bubbles:!0});if(Is||js){var As,qs;const eo=((As=Us.context)==null?void 0:As.elements.domReference)===cs.currentTarget,oo=js&&!eo?(qs=Us.context)==null?void 0:qs.elements.domReference:Is?mr.current.find(Ys=>Ys?.id===xs):null;oo&&(stopEvent(cs),oo.dispatchEvent(Ws),Es(void 0))}if(($s||Ts)&&Us.context&&Us.context.open&&Us.parentId&&cs.currentTarget!==Us.context.elements.domReference){var zs;stopEvent(cs),(zs=Us.context.elements.domReference)==null||zs.dispatchEvent(Ws);return}}return ps(cs)}if(!(!ir&&!Ar&&bs)){if(Fs){const Bs=isMainOrientationKey(cs.key,Ss());$n.current=br&&Bs?null:cs.key}if(br){Ds&&(stopEvent(cs),ir?(Qr.current=getMinListIndex(mr,as.current),Hn()):lr(!0,cs.nativeEvent,"list-navigation"));return}$s&&(_r!=null&&(Qr.current=_r),stopEvent(cs),!ir&&Ar?lr(!0,cs.nativeEvent,"list-navigation"):ps(cs),ir&&Hn())}},onFocus(){ir&&!wr&&(Qr.current=-1,Hn())},onPointerDown:ks,onPointerEnter:ks,onMouseDown:ds,onClick:ds}},[xs,ys,Or,ps,as,Mr,mr,br,Hn,lr,ir,Ar,$r,Ss,Sr,_r,Zn,wr,Lr]);return reactExports.useMemo(()=>xr?{reference:Ms,floating:Cs,item:Rs}:{},[xr,Ms,Cs,Rs])}const componentRoleToAriaRoleMap=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function useRole(e,rr){var ir,lr;rr===void 0&&(rr={});const{open:dr,elements:fr,floatingId:mr}=e,{enabled:hr=!0,role:gr="dialog"}=rr,xr=useId$1(),_r=((ir=fr.domReference)==null?void 0:ir.id)||xr,yr=reactExports.useMemo(()=>{var Ar;return((Ar=getFloatingFocusElement(fr.floating))==null?void 0:Ar.id)||mr},[fr.floating,mr]),vr=(lr=componentRoleToAriaRoleMap.get(gr))!=null?lr:gr,Sr=useFloatingParentNodeId()!=null,wr=reactExports.useMemo(()=>vr==="tooltip"||gr==="label"?{["aria-"+(gr==="label"?"labelledby":"describedby")]:dr?yr:void 0}:{"aria-expanded":dr?"true":"false","aria-haspopup":vr==="alertdialog"?"dialog":vr,"aria-controls":dr?yr:void 0,...vr==="listbox"&&{role:"combobox"},...vr==="menu"&&{id:_r},...vr==="menu"&&Sr&&{role:"menuitem"},...gr==="select"&&{"aria-autocomplete":"none"},...gr==="combobox"&&{"aria-autocomplete":"list"}},[vr,yr,Sr,dr,_r,gr]),Mr=reactExports.useMemo(()=>{const Ar={id:yr,...vr&&{role:vr}};return vr==="tooltip"||gr==="label"?Ar:{...Ar,...vr==="menu"&&{"aria-labelledby":_r}}},[vr,yr,_r,gr]),kr=reactExports.useCallback(Ar=>{let{active:Ir,selected:$r}=Ar;const Dr={role:"option",...Ir&&{id:yr+"-fui-option"}};switch(gr){case"select":return{...Dr,"aria-selected":Ir&&$r};case"combobox":return{...Dr,"aria-selected":$r}}return{}},[yr,gr]);return reactExports.useMemo(()=>hr?{reference:wr,floating:Mr,item:kr}:{},[hr,wr,Mr,kr])}function useTypeahead(e,rr){var ir;const{open:lr,dataRef:dr}=e,{listRef:fr,activeIndex:mr,onMatch:hr,onTypingChange:gr,enabled:xr=!0,findMatch:_r=null,resetMs:yr=750,ignoreKeys:vr=[],selectedIndex:br=null}=rr,Sr=reactExports.useRef(-1),wr=reactExports.useRef(""),Mr=reactExports.useRef((ir=br??mr)!=null?ir:-1),kr=reactExports.useRef(null),Ar=useEffectEvent(hr),Ir=useEffectEvent(gr),$r=useLatestRef(_r),Dr=useLatestRef(vr);index$1(()=>{lr&&(clearTimeoutIfSet(Sr),kr.current=null,wr.current="")},[lr]),index$1(()=>{if(lr&&wr.current===""){var Gr;Mr.current=(Gr=br??mr)!=null?Gr:-1}},[lr,br,mr]);const Or=useEffectEvent(Gr=>{Gr?dr.current.typing||(dr.current.typing=Gr,Ir(Gr)):dr.current.typing&&(dr.current.typing=Gr,Ir(Gr))}),Fr=useEffectEvent(Gr=>{function Jr(Kn,qn,Qr){const $n=$r.current?$r.current(qn,Qr):qn.find(es=>es?.toLocaleLowerCase().indexOf(Qr.toLocaleLowerCase())===0);return $n?Kn.indexOf($n):-1}const Yn=fr.current;if(wr.current.length>0&&wr.current[0]!==" "&&(Jr(Yn,Yn,wr.current)===-1?Or(!1):Gr.key===" "&&stopEvent(Gr)),Yn==null||Dr.current.includes(Gr.key)||Gr.key.length!==1||Gr.ctrlKey||Gr.metaKey||Gr.altKey)return;lr&&Gr.key!==" "&&(stopEvent(Gr),Or(!0)),Yn.every(Kn=>{var qn,Qr;return Kn?((qn=Kn[0])==null?void 0:qn.toLocaleLowerCase())!==((Qr=Kn[1])==null?void 0:Qr.toLocaleLowerCase()):!0})&&wr.current===Gr.key&&(wr.current="",Mr.current=kr.current),wr.current+=Gr.key,clearTimeoutIfSet(Sr),Sr.current=window.setTimeout(()=>{wr.current="",Mr.current=kr.current,Or(!1)},yr);const Zn=Mr.current,Hn=Jr(Yn,[...Yn.slice((Zn||0)+1),...Yn.slice(0,(Zn||0)+1)],wr.current);Hn!==-1?(Ar(Hn),kr.current=Hn):Gr.key!==" "&&(wr.current="",Or(!1))}),Lr=reactExports.useMemo(()=>({onKeyDown:Fr}),[Fr]),zr=reactExports.useMemo(()=>({onKeyDown:Fr,onKeyUp(Gr){Gr.key===" "&&Or(!1)}}),[Fr,Or]);return reactExports.useMemo(()=>xr?{reference:Lr,floating:zr}:{},[xr,Lr,zr])}function useTooltip({initialOpen:e=!1,placement:rr="top",open:ir,onOpenChange:lr,delay:dr=600,closeDelay:fr=0}={}){const[mr,hr]=reactExports.useState(e),gr=ir??mr,xr=lr??hr,_r=useFloating({placement:rr,open:gr,onOpenChange:xr,whileElementsMounted:autoUpdate,middleware:[offset(4),flip({crossAxis:rr.includes("-"),fallbackAxisSideDirection:"start",padding:4}),shift$1({padding:4})]}),yr=_r.context,vr=useHover(yr,{mouseOnly:!0,move:!1,restMs:dr,enabled:ir==null,delay:{close:fr}}),br=useFocus(yr,{enabled:ir==null}),Sr=useDismiss(yr),wr=useRole(yr,{role:"tooltip"}),Mr=useInteractions([vr,br,Sr,wr]);return reactExports.useMemo(()=>({open:gr,setOpen:xr,...Mr,..._r}),[gr,xr,Mr,_r])}const TooltipContext=reactExports.createContext(null);function useTooltipContext(){const e=reactExports.useContext(TooltipContext);if(e==null)throw new Error("Tooltip components must be wrapped in <TooltipProvider />");return e}function Tooltip({children:e,...rr}){const ir=useTooltip(rr);return rr.useDelayGroup?jsxRuntimeExports.jsx(FloatingDelayGroup,{delay:{open:rr.delay??0,close:rr.closeDelay??0},timeoutMs:rr.timeout,children:jsxRuntimeExports.jsx(TooltipContext.Provider,{value:ir,children:e})}):jsxRuntimeExports.jsx(TooltipContext.Provider,{value:ir,children:e})}const TooltipTrigger=reactExports.forwardRef(function({children:rr,asChild:ir=!1,...lr},dr){const fr=useTooltipContext(),mr=reactExports.isValidElement(rr)?parseInt(reactExports.version,10)>=19?rr.props.ref:rr.ref:void 0,hr=useMergeRefs([fr.refs.setReference,dr,mr]);if(ir&&reactExports.isValidElement(rr)){const gr={"data-tooltip-state":fr.open?"open":"closed"};return reactExports.cloneElement(rr,fr.getReferenceProps({ref:hr,...lr,...typeof rr.props=="object"?rr.props:{},...gr}))}return jsxRuntimeExports.jsx("button",{ref:hr,"data-tooltip-state":fr.open?"open":"closed",...fr.getReferenceProps(lr),children:rr})}),TooltipContent=reactExports.forwardRef(function({style:rr,children:ir,portal:lr=!0,portalProps:dr={},...fr},mr){const hr=useTooltipContext(),gr=useMergeRefs([hr.refs.setFloating,mr]);if(!hr.open)return null;const xr=jsxRuntimeExports.jsx("div",{ref:gr,style:{...hr.floatingStyles,...rr},...hr.getFloatingProps(fr),className:"tiptap-tooltip",children:ir});return lr?jsxRuntimeExports.jsx(FloatingPortal,{...dr,children:xr}):xr});Tooltip.displayName="Tooltip";TooltipTrigger.displayName="TooltipTrigger";TooltipContent.displayName="TooltipContent";const MAC_SYMBOLS={ctrl:"",alt:"",shift:""},formatShortcutKey=(e,rr)=>{if(rr){const ir=e.toLowerCase();return MAC_SYMBOLS[ir]||e.toUpperCase()}return e.charAt(0).toUpperCase()+e.slice(1)},parseShortcutKeys=(e,rr)=>e?e.split("-").map(ir=>ir.trim()).map(ir=>formatShortcutKey(ir,rr)):[],ShortcutDisplay=({shortcuts:e})=>e.length===0?null:jsxRuntimeExports.jsx("div",{children:e.map((rr,ir)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ir>0&&jsxRuntimeExports.jsx("kbd",{children:"+"}),jsxRuntimeExports.jsx("kbd",{children:rr})]},ir))}),Button=reactExports.forwardRef(({className:e="",children:rr,tooltip:ir,showTooltip:lr=!0,shortcutKeys:dr,"aria-label":fr,...mr},hr)=>{const gr=reactExports.useMemo(()=>typeof navigator<"u"&&navigator.platform.toLowerCase().includes("mac"),[]),xr=reactExports.useMemo(()=>parseShortcutKeys(dr,gr),[dr,gr]);return!ir||!lr?jsxRuntimeExports.jsx("button",{className:`tiptap-button ${e}`.trim(),ref:hr,"aria-label":fr,...mr,children:rr}):jsxRuntimeExports.jsxs(Tooltip,{delay:200,children:[jsxRuntimeExports.jsx(TooltipTrigger,{className:`tiptap-button ${e}`.trim(),ref:hr,"aria-label":fr,...mr,children:rr}),jsxRuntimeExports.jsxs(TooltipContent,{children:[ir,jsxRuntimeExports.jsx(ShortcutDisplay,{shortcuts:xr})]})]})});Button.displayName="Button";const Spacer=reactExports.forwardRef(({orientation:e="horizontal",size:rr,className:ir="",style:lr={},...dr},fr)=>{const mr={...lr,...e==="horizontal"&&!rr&&{flex:1},...rr&&{width:e==="vertical"?"1px":rr,height:e==="horizontal"?"1px":rr}};return jsxRuntimeExports.jsx("div",{ref:fr,...dr,className:ir,style:mr})});Spacer.displayName="Spacer";const Separator=reactExports.forwardRef(({decorative:e,orientation:rr="vertical",className:ir="",...lr},dr)=>{const mr=e?{role:"none"}:{"aria-orientation":rr==="vertical"?rr:void 0,role:"separator"};return jsxRuntimeExports.jsx("div",{className:`tiptap-separator ${ir}`.trim(),"data-orientation":rr,...mr,...lr,ref:dr})});Separator.displayName="Separator";const mergeRefs=e=>rr=>{e.forEach(ir=>{typeof ir=="function"?ir(rr):ir!=null&&(ir.current=rr)})},useObserveVisibility=(e,rr)=>{reactExports.useEffect(()=>{const ir=e.current;if(!ir)return;let lr=!0;lr&&requestAnimationFrame(rr);const dr=new MutationObserver(()=>{lr&&requestAnimationFrame(rr)});return dr.observe(ir,{childList:!0,subtree:!0,attributes:!0}),()=>{lr=!1,dr.disconnect()}},[e,rr])},useToolbarKeyboardNav=e=>{reactExports.useEffect(()=>{const rr=e.current;if(!rr)return;const ir=()=>Array.from(rr.querySelectorAll('button:not([disabled]), [role="button"]:not([disabled]), [tabindex="0"]:not([disabled])')),lr=(gr,xr,_r)=>{gr.preventDefault();let yr=xr;yr>=_r.length?yr=0:yr<0&&(yr=_r.length-1),_r[yr]?.focus()},dr=gr=>{const xr=ir();if(!xr.length)return;const _r=document.activeElement,yr=xr.indexOf(_r);if(!rr.contains(_r))return;const br={ArrowRight:()=>lr(gr,yr+1,xr),ArrowDown:()=>lr(gr,yr+1,xr),ArrowLeft:()=>lr(gr,yr-1,xr),ArrowUp:()=>lr(gr,yr-1,xr),Home:()=>lr(gr,0,xr),End:()=>lr(gr,xr.length-1,xr)}[gr.key];br&&br()},fr=gr=>{const xr=gr.target;rr.contains(xr)&&xr.setAttribute("data-focus-visible","true")},mr=gr=>{const xr=gr.target;rr.contains(xr)&&xr.removeAttribute("data-focus-visible")};return rr.addEventListener("keydown",dr),rr.addEventListener("focus",fr,!0),rr.addEventListener("blur",mr,!0),ir().forEach(gr=>{gr.addEventListener("focus",fr),gr.addEventListener("blur",mr)}),()=>{rr.removeEventListener("keydown",dr),rr.removeEventListener("focus",fr,!0),rr.removeEventListener("blur",mr,!0),ir().forEach(xr=>{xr.removeEventListener("focus",fr),xr.removeEventListener("blur",mr)})}},[e])},useToolbarVisibility=e=>{const[rr,ir]=reactExports.useState(!0),lr=reactExports.useRef(!1);reactExports.useEffect(()=>(lr.current=!0,()=>{lr.current=!1}),[]);const dr=reactExports.useCallback(()=>{if(!lr.current)return;const fr=e.current;if(!fr)return;const mr=Array.from(fr.children).some(hr=>hr instanceof HTMLElement&&hr.getAttribute("role")==="group"?hr.children.length>0:!1);ir(mr)},[e]);return useObserveVisibility(e,dr),rr},useGroupVisibility=e=>{const[rr,ir]=reactExports.useState(!0),lr=reactExports.useRef(!1);reactExports.useEffect(()=>(lr.current=!0,()=>{lr.current=!1}),[]);const dr=reactExports.useCallback(()=>{if(!lr.current)return;const fr=e.current;if(!fr)return;const mr=Array.from(fr.children).some(hr=>hr instanceof HTMLElement);ir(mr)},[e]);return useObserveVisibility(e,dr),rr},useSeparatorVisibility=e=>{const[rr,ir]=reactExports.useState(!0),lr=reactExports.useRef(!1);reactExports.useEffect(()=>(lr.current=!0,()=>{lr.current=!1}),[]);const dr=reactExports.useCallback(()=>{if(!lr.current)return;const fr=e.current;if(!fr)return;const mr=fr.previousElementSibling,hr=fr.nextElementSibling;if(!mr||!hr){ir(!1);return}const gr=mr.getAttribute("role")==="group"&&hr.getAttribute("role")==="group",xr=mr.children.length>0&&hr.children.length>0;ir(gr&&xr)},[e]);return useObserveVisibility(e,dr),rr},Toolbar=reactExports.forwardRef(({children:e,className:rr,variant:ir="fixed",...lr},dr)=>{const fr=reactExports.useRef(null),mr=useToolbarVisibility(fr);return useToolbarKeyboardNav(fr),mr?jsxRuntimeExports.jsx("div",{ref:mergeRefs([fr,dr]),role:"toolbar","aria-label":"toolbar","data-variant":ir,className:`tiptap-toolbar ${rr||""}`,...lr,children:e}):null});Toolbar.displayName="Toolbar";const ToolbarGroup=reactExports.forwardRef(({children:e,className:rr,...ir},lr)=>{const dr=reactExports.useRef(null);return useGroupVisibility(dr)?jsxRuntimeExports.jsx("div",{ref:mergeRefs([dr,lr]),role:"group",className:`tiptap-toolbar-group ${rr||""}`,...ir,children:e}):null});ToolbarGroup.displayName="ToolbarGroup";const ToolbarSeparator=reactExports.forwardRef(({...e},rr)=>{const ir=reactExports.useRef(null);return useSeparatorVisibility(ir)?jsxRuntimeExports.jsx(Separator,{ref:mergeRefs([ir,rr]),orientation:"vertical",decorative:!0,...e}):null});ToolbarSeparator.displayName="ToolbarSeparator";const CloseIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z",fill:"currentColor"})}));CloseIcon.displayName="CloseIcon";function useFileUpload(e){const[rr,ir]=reactExports.useState(null),lr=async mr=>{if(mr.size>e.maxSize){const xr=new Error(`File size exceeds maximum allowed (${e.maxSize/1024/1024}MB)`);return e.onError?.(xr),null}const hr=new AbortController,gr={id:crypto.randomUUID(),file:mr,progress:0,status:"uploading",abortController:hr};ir(gr);try{if(!e.upload)throw new Error("Upload function is not defined");const xr=await e.upload(mr,_r=>{ir(yr=>yr?{...yr,progress:_r.progress}:null)},hr.signal);if(!xr)throw new Error("Upload failed: No URL returned");return hr.signal.aborted?null:(ir(_r=>_r?{..._r,status:"success",url:xr,progress:100}:null),e.onSuccess?.(xr),xr)}catch(xr){return hr.signal.aborted||(ir(_r=>_r?{..._r,status:"error",progress:0}:null),e.onError?.(xr instanceof Error?xr:new Error("Upload failed"))),null}};return{fileItem:rr,uploadFiles:async mr=>{if(!mr||mr.length===0)return e.onError?.(new Error("No files to upload")),null;if(e.limit&&mr.length>e.limit)return e.onError?.(new Error(`Maximum ${e.limit} file${e.limit===1?"":"s"} allowed`)),null;const hr=mr[0];return hr?lr(hr):(e.onError?.(new Error("File is undefined")),null)},clearFileItem:()=>{rr&&(rr.abortController&&rr.abortController.abort(),rr.url&&URL.revokeObjectURL(rr.url),ir(null))}}}const CloudUploadIcon=()=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"tiptap-image-upload-icon",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M11.1953 4.41771C10.3478 4.08499 9.43578 3.94949 8.5282 4.02147C7.62062 4.09345 6.74133 4.37102 5.95691 4.83316C5.1725 5.2953 4.50354 5.92989 4.00071 6.68886C3.49788 7.44783 3.17436 8.31128 3.05465 9.2138C2.93495 10.1163 3.0222 11.0343 3.3098 11.8981C3.5974 12.7619 4.07781 13.5489 4.71463 14.1995C5.10094 14.5942 5.09414 15.2274 4.69945 15.6137C4.30476 16 3.67163 15.9932 3.28532 15.5985C2.43622 14.731 1.79568 13.6816 1.41221 12.5299C1.02875 11.3781 0.91241 10.1542 1.07201 8.95084C1.23162 7.74748 1.66298 6.59621 2.33343 5.58425C3.00387 4.57229 3.89581 3.72617 4.9417 3.10998C5.98758 2.4938 7.15998 2.1237 8.37008 2.02773C9.58018 1.93176 10.7963 2.11243 11.9262 2.55605C13.0561 2.99968 14.0703 3.69462 14.8919 4.58825C15.5423 5.29573 16.0585 6.11304 16.4177 7.00002H17.4999C18.6799 6.99991 19.8288 7.37933 20.7766 8.08222C21.7245 8.78515 22.4212 9.7743 22.7637 10.9036C23.1062 12.0328 23.0765 13.2423 22.6788 14.3534C22.2812 15.4644 21.5367 16.4181 20.5554 17.0736C20.0962 17.3803 19.4752 17.2567 19.1684 16.7975C18.8617 16.3382 18.9853 15.7172 19.4445 15.4105C20.069 14.9934 20.5427 14.3865 20.7958 13.6794C21.0488 12.9724 21.0678 12.2027 20.8498 11.4841C20.6318 10.7655 20.1885 10.136 19.5853 9.6887C18.9821 9.24138 18.251 8.99993 17.5001 9.00002H15.71C15.2679 9.00002 14.8783 8.70973 14.7518 8.28611C14.4913 7.41374 14.0357 6.61208 13.4195 5.94186C12.8034 5.27164 12.0427 4.75043 11.1953 4.41771Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M11 14.4142V21C11 21.5523 11.4477 22 12 22C12.5523 22 13 21.5523 13 21V14.4142L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L12.7078 11.2936C12.7054 11.2912 12.703 11.2888 12.7005 11.2864C12.5208 11.1099 12.2746 11.0008 12.003 11L12 11L11.997 11C11.8625 11.0004 11.7343 11.0273 11.6172 11.0759C11.502 11.1236 11.3938 11.1937 11.2995 11.2864C11.297 11.2888 11.2946 11.2912 11.2922 11.2936L7.29289 15.2929C6.90237 15.6834 6.90237 16.3166 7.29289 16.7071C7.68342 17.0976 8.31658 17.0976 8.70711 16.7071L11 14.4142Z",fill:"currentColor"})]}),FileIcon=()=>jsxRuntimeExports.jsx("svg",{width:"43",height:"57",viewBox:"0 0 43 57",fill:"currentColor",className:"tiptap-image-upload-dropzone-rect-primary",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M0.75 10.75C0.75 5.64137 4.89137 1.5 10 1.5H32.3431C33.2051 1.5 34.0317 1.84241 34.6412 2.4519L40.2981 8.10876C40.9076 8.71825 41.25 9.5449 41.25 10.4069V46.75C41.25 51.8586 37.1086 56 32 56H10C4.89137 56 0.75 51.8586 0.75 46.75V10.75Z",fill:"currentColor",fillOpacity:"0.11",stroke:"currentColor",strokeWidth:"1.5"})}),FileCornerIcon=()=>jsxRuntimeExports.jsx("svg",{width:"10",height:"10",className:"tiptap-image-upload-dropzone-rect-secondary",viewBox:"0 0 10 10",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M0 0.75H0.343146C1.40401 0.75 2.42143 1.17143 3.17157 1.92157L8.82843 7.57843C9.57857 8.32857 10 9.34599 10 10.4069V10.75H4C1.79086 10.75 0 8.95914 0 6.75V0.75Z",fill:"currentColor"})}),ImageUploadDragArea=({onFile:e,children:rr})=>{const[ir,lr]=reactExports.useState(!1),dr=hr=>{lr(!1),hr.preventDefault(),hr.stopPropagation();const gr=Array.from(hr.dataTransfer.files);e(gr)},fr=hr=>{hr.preventDefault(),lr(!0)},mr=hr=>{hr.preventDefault(),lr(!1)};return jsxRuntimeExports.jsx("div",{className:`tiptap-image-upload-dragger ${ir?"tiptap-image-upload-dragger-active":""}`,onDrop:dr,onDragOver:fr,onDragLeave:mr,children:rr})},ImageUploadPreview=({file:e,progress:rr,status:ir,onRemove:lr})=>{const dr=fr=>{if(fr===0)return"0 Bytes";const mr=1024,hr=["Bytes","KB","MB","GB"],gr=Math.floor(Math.log(fr)/Math.log(mr));return`${parseFloat((fr/Math.pow(mr,gr)).toFixed(2))} ${hr[gr]}`};return jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-preview",children:[ir==="uploading"&&jsxRuntimeExports.jsx("div",{className:"tiptap-image-upload-progress",style:{width:`${rr}%`}}),jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-preview-content",children:[jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-file-info",children:[jsxRuntimeExports.jsx("div",{className:"tiptap-image-upload-file-icon",children:jsxRuntimeExports.jsx(CloudUploadIcon,{})}),jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-details",children:[jsxRuntimeExports.jsx("span",{className:"tiptap-image-upload-text",children:e.name}),jsxRuntimeExports.jsx("span",{className:"tiptap-image-upload-subtext",children:dr(e.size)})]})]}),jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-actions",children:[ir==="uploading"&&jsxRuntimeExports.jsxs("span",{className:"tiptap-image-upload-progress-text",children:[rr,"%"]}),jsxRuntimeExports.jsx("button",{className:"tiptap-image-upload-close-btn",onClick:fr=>{fr.stopPropagation(),lr()},children:jsxRuntimeExports.jsx(CloseIcon,{})})]})]})]})},DropZoneContent=({maxSize:e})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-dropzone",children:[jsxRuntimeExports.jsx(FileIcon,{}),jsxRuntimeExports.jsx(FileCornerIcon,{}),jsxRuntimeExports.jsx("div",{className:"tiptap-image-upload-icon-container",children:jsxRuntimeExports.jsx(CloudUploadIcon,{})})]}),jsxRuntimeExports.jsxs("div",{className:"tiptap-image-upload-content",children:[jsxRuntimeExports.jsxs("span",{className:"tiptap-image-upload-text",children:[jsxRuntimeExports.jsx("em",{children:"Click to upload"})," or drag and drop"]}),jsxRuntimeExports.jsxs("span",{className:"tiptap-image-upload-subtext",children:["Maximum file size ",e/1024/1024,"MB."]})]})]}),ImageUploadNode$1=e=>{const{accept:rr,limit:ir,maxSize:lr}=e.node.attrs,dr=reactExports.useRef(null),fr=e.extension,mr={maxSize:lr,limit:ir,accept:rr,upload:fr.options.upload,onSuccess:fr.options.onSuccess,onError:fr.options.onError},{fileItem:hr,uploadFiles:gr,clearFileItem:xr}=useFileUpload(mr),_r=br=>{const Sr=br.target.files;if(!Sr||Sr.length===0){fr.options.onError?.(new Error("No file selected"));return}yr(Array.from(Sr))},yr=async br=>{const Sr=await gr(br);if(Sr){const wr=e.getPos(),Mr=br[0]?.name.replace(/\.[^/.]+$/,"")||"unknown";e.editor.chain().focus().deleteRange({from:wr,to:wr+1}).insertContentAt(wr,[{type:"image",attrs:{src:Sr,alt:Mr,title:Mr}}]).run()}},vr=()=>{dr.current&&!hr&&(dr.current.value="",dr.current.click())};return jsxRuntimeExports.jsxs(NodeViewWrapper,{className:"tiptap-image-upload",tabIndex:0,onClick:vr,children:[!hr&&jsxRuntimeExports.jsx(ImageUploadDragArea,{onFile:yr,children:jsxRuntimeExports.jsx(DropZoneContent,{maxSize:lr})}),hr&&jsxRuntimeExports.jsx(ImageUploadPreview,{file:hr.file,progress:hr.progress,status:hr.status,onRemove:xr}),jsxRuntimeExports.jsx("input",{ref:dr,name:"file",accept:rr,type:"file",onChange:_r,onClick:br=>br.stopPropagation()})]})},ImageUploadNode=Node$1.create({name:"imageUpload",group:"block",draggable:!0,selectable:!0,atom:!0,addOptions(){return{accept:"image/*",limit:1,maxSize:0,upload:void 0,onError:void 0,onSuccess:void 0}},addAttributes(){return{accept:{default:this.options.accept},limit:{default:this.options.limit},maxSize:{default:this.options.maxSize}}},parseHTML(){return[{tag:'div[data-type="image-upload"]'}]},renderHTML({HTMLAttributes:e}){return["div",mergeAttributes({"data-type":"image-upload"},e)]},addNodeView(){return ReactNodeViewRenderer(ImageUploadNode$1)},addCommands(){return{setImageUploadNode:(e={})=>({commands:rr})=>rr.insertContent({type:this.name,attrs:e})}},addKeyboardShortcuts(){return{Enter:({editor:e})=>{const{selection:rr}=e.state,{nodeAfter:ir}=rr.$from;if(ir&&ir.type.name==="imageUpload"&&e.isActive("imageUpload")){const lr=e.view.nodeDOM(rr.$from.pos);if(lr&&lr instanceof HTMLElement){const dr=lr.firstChild;if(dr&&dr instanceof HTMLElement)return dr.click(),!0}}return!1}}}});function useTiptapEditor(e){const{editor:rr}=useCurrentEditor();return reactExports.useMemo(()=>e??rr,[e,rr])}const ChevronDownIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"currentColor"})}));ChevronDownIcon.displayName="ChevronDownIcon";const HeadingIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{d:"M6 3C6.55228 3 7 3.44772 7 4V11H17V4C17 3.44772 17.4477 3 18 3C18.5523 3 19 3.44772 19 4V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V13H7V20C7 20.5523 6.55228 21 6 21C5.44772 21 5 20.5523 5 20V4C5 3.44772 5.44772 3 6 3Z",fill:"currentColor"})}));HeadingIcon.displayName="HeadingIcon";const MAX_FILE_SIZE=5*1024*1024,isMarkInSchema=(e,rr)=>rr?.schema?rr.schema.spec.marks.get(e)!==void 0:!1,isNodeInSchema=(e,rr)=>rr?.schema?rr.schema.spec.nodes.get(e)!==void 0:!1;function isEmptyNode(e){return!!e&&e.content.size===0}function findNodePosition(e){const{editor:rr,node:ir,nodePos:lr}=e;if(!rr?.state?.doc)return null;const dr=ir!=null,fr=lr!=null;if(!dr&&!fr)return null;if(fr)try{const gr=rr.state.doc.nodeAt(lr);if(gr)return{pos:lr,node:gr}}catch(gr){return console.error("Error checking node at position:",gr),null}let mr=-1,hr=null;return rr.state.doc.descendants((gr,xr)=>gr===ir?(mr=xr,hr=gr,!1):!0),mr!==-1?{pos:mr,node:hr}:null}const handleImageUpload=async(e,rr,ir)=>{if(e.size>MAX_FILE_SIZE)throw new Error(`File size exceeds maximum allowed (${MAX_FILE_SIZE/(1024*1024)}MB)`);for(let lr=0;lr<=100;lr+=10){if(ir?.aborted)throw new Error("Upload cancelled");await new Promise(dr=>setTimeout(dr,500)),rr?.({progress:lr})}return"/images/placeholder-image.png"},ATTR_WHITESPACE=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function isAllowedUri(e,rr){const ir=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return!e||new RegExp(`^(?:(?:${ir.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i").exec(e.replace(ATTR_WHITESPACE,""))}function sanitizeUrl(e,rr,ir){try{const lr=new URL(e,rr);if(isAllowedUri(lr.href,ir))return lr.href}catch{}return"#"}const HeadingOneIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M21.0001 10C21.0001 9.63121 20.7971 9.29235 20.472 9.11833C20.1468 8.94431 19.7523 8.96338 19.4454 9.16795L16.4454 11.168C15.9859 11.4743 15.8617 12.0952 16.1681 12.5547C16.4744 13.0142 17.0953 13.1384 17.5548 12.8321L19.0001 11.8685V18C19.0001 18.5523 19.4478 19 20.0001 19C20.5524 19 21.0001 18.5523 21.0001 18V10Z",fill:"currentColor"})]}));HeadingOneIcon.displayName="HeadingOneIcon";const HeadingTwoIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M22.0001 12C22.0001 10.7611 21.1663 9.79297 20.0663 9.42632C18.9547 9.05578 17.6171 9.28724 16.4001 10.2C15.9582 10.5314 15.8687 11.1582 16.2001 11.6C16.5314 12.0418 17.1582 12.1314 17.6001 11.8C18.383 11.2128 19.0455 11.1942 19.4338 11.3237C19.8339 11.457 20.0001 11.7389 20.0001 12C20.0001 12.4839 19.8554 12.7379 19.6537 12.9481C19.4275 13.1837 19.1378 13.363 18.7055 13.6307C18.6313 13.6767 18.553 13.7252 18.4701 13.777C17.9572 14.0975 17.3128 14.5261 16.8163 15.2087C16.3007 15.9177 16.0001 16.8183 16.0001 18C16.0001 18.5523 16.4478 19 17.0001 19H21.0001C21.5523 19 22.0001 18.5523 22.0001 18C22.0001 17.4477 21.5523 17 21.0001 17H18.131C18.21 16.742 18.3176 16.5448 18.4338 16.385C18.6873 16.0364 19.0429 15.7775 19.5301 15.473C19.5898 15.4357 19.6536 15.3966 19.7205 15.3556C20.139 15.0992 20.6783 14.7687 21.0964 14.3332C21.6447 13.7621 22.0001 13.0161 22.0001 12Z",fill:"currentColor"})]}));HeadingTwoIcon.displayName="HeadingTwoIcon";const HeadingThreeIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4608 11.2169C19.1135 11.0531 18.5876 11.0204 18.0069 11.3619C17.5309 11.642 16.918 11.4831 16.638 11.007C16.358 10.531 16.5169 9.91809 16.9929 9.63807C18.1123 8.97962 19.3364 8.94691 20.314 9.40808C21.2839 9.86558 21.9999 10.818 21.9999 12C21.9999 12.7957 21.6838 13.5587 21.1212 14.1213C20.5586 14.6839 19.7956 15 18.9999 15C18.4476 15 17.9999 14.5523 17.9999 14C17.9999 13.4477 18.4476 13 18.9999 13C19.2651 13 19.5195 12.8947 19.707 12.7071C19.8946 12.5196 19.9999 12.2652 19.9999 12C19.9999 11.6821 19.8159 11.3844 19.4608 11.2169Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0001 14C18.0001 13.4477 18.4478 13 19.0001 13C19.7957 13 20.5588 13.3161 21.1214 13.8787C21.684 14.4413 22.0001 15.2043 22.0001 16C22.0001 17.2853 21.2767 18.3971 20.1604 18.8994C19.0257 19.41 17.642 19.2315 16.4001 18.3C15.9582 17.9686 15.8687 17.3418 16.2001 16.9C16.5314 16.4582 17.1582 16.3686 17.6001 16.7C18.3581 17.2685 18.9744 17.24 19.3397 17.0756C19.7234 16.9029 20.0001 16.5147 20.0001 16C20.0001 15.7348 19.8947 15.4804 19.7072 15.2929C19.5196 15.1054 19.2653 15 19.0001 15C18.4478 15 18.0001 14.5523 18.0001 14Z",fill:"currentColor"})]}));HeadingThreeIcon.displayName="HeadingThreeIcon";const HeadingFourIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M4 5C4.55228 5 5 5.44772 5 6V11H11V6C11 5.44772 11.4477 5 12 5C12.5523 5 13 5.44772 13 6V18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18V13H5V18C5 18.5523 4.55228 19 4 19C3.44772 19 3 18.5523 3 18V6C3 5.44772 3.44772 5 4 5Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M17 9C17.5523 9 18 9.44772 18 10V13H20V10C20 9.44772 20.4477 9 21 9C21.5523 9 22 9.44772 22 10V18C22 18.5523 21.5523 19 21 19C20.4477 19 20 18.5523 20 18V15H17C16.4477 15 16 14.5523 16 14V10C16 9.44772 16.4477 9 17 9Z",fill:"currentColor"})]}));HeadingFourIcon.displayName="HeadingFourIcon";const HeadingFiveIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M16 10C16 9.44772 16.4477 9 17 9H21C21.5523 9 22 9.44772 22 10C22 10.5523 21.5523 11 21 11H18V12H18.3C20.2754 12 22 13.4739 22 15.5C22 17.5261 20.2754 19 18.3 19C17.6457 19 17.0925 18.8643 16.5528 18.5944C16.0588 18.3474 15.8586 17.7468 16.1055 17.2528C16.3525 16.7588 16.9532 16.5586 17.4472 16.8056C17.7074 16.9357 17.9542 17 18.3 17C19.3246 17 20 16.2739 20 15.5C20 14.7261 19.3246 14 18.3 14H17C16.4477 14 16 13.5523 16 13L16 12.9928V10Z",fill:"currentColor"})]}));HeadingFiveIcon.displayName="HeadingFiveIcon";const HeadingSixIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M5 6C5 5.44772 4.55228 5 4 5C3.44772 5 3 5.44772 3 6V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V13H11V18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18V6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V11H5V6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7071 9.29289C21.0976 9.68342 21.0976 10.3166 20.7071 10.7071C19.8392 11.575 19.2179 12.2949 18.7889 13.0073C18.8587 13.0025 18.929 13 19 13C20.6569 13 22 14.3431 22 16C22 17.6569 20.6569 19 19 19C17.3431 19 16 17.6569 16 16C16 14.6007 16.2837 13.4368 16.8676 12.3419C17.4384 11.2717 18.2728 10.3129 19.2929 9.29289C19.6834 8.90237 20.3166 8.90237 20.7071 9.29289ZM19 17C18.4477 17 18 16.5523 18 16C18 15.4477 18.4477 15 19 15C19.5523 15 20 15.4477 20 16C20 16.5523 19.5523 17 19 17Z",fill:"currentColor"})]}));HeadingSixIcon.displayName="HeadingSixIcon";const headingIcons={1:HeadingOneIcon,2:HeadingTwoIcon,3:HeadingThreeIcon,4:HeadingFourIcon,5:HeadingFiveIcon,6:HeadingSixIcon},headingShortcutKeys={1:"Ctrl-Alt-1",2:"Ctrl-Alt-2",3:"Ctrl-Alt-3",4:"Ctrl-Alt-4",5:"Ctrl-Alt-5",6:"Ctrl-Alt-6"};function canToggleHeading(e,rr){if(!e)return!1;try{return e.can().toggleNode("heading","paragraph",{level:rr})}catch{return!1}}function isHeadingActive(e,rr){return e?e.isActive("heading",{level:rr}):!1}function toggleHeading(e,rr){e&&(e.isActive("heading",{level:rr})?e.chain().focus().setNode("paragraph").run():e.chain().focus().toggleNode("heading","paragraph",{level:rr}).run())}function isHeadingButtonDisabled(e,rr,ir=!1){return!!(!e||ir||!canToggleHeading(e,rr))}function shouldShowHeadingButton(e){const{editor:rr,hideWhenUnavailable:ir,headingInSchema:lr}=e;return!(!lr||!rr||ir&&isNodeSelection(rr.state.selection))}function getFormattedHeadingName(e){return`Heading ${e}`}function useHeadingState(e,rr,ir=!1){const lr=isNodeInSchema("heading",e),dr=isHeadingButtonDisabled(e,rr,ir),fr=isHeadingActive(e,rr),mr=headingIcons[rr],hr=headingShortcutKeys[rr],gr=getFormattedHeadingName(rr);return{headingInSchema:lr,isDisabled:dr,isActive:fr,Icon:mr,shortcutKey:hr,formattedName:gr}}const HeadingButton=reactExports.forwardRef(({editor:e,level:rr,text:ir,hideWhenUnavailable:lr=!1,className:dr="",disabled:fr,onClick:mr,children:hr,...gr},xr)=>{const _r=useTiptapEditor(e),{headingInSchema:yr,isDisabled:vr,isActive:br,Icon:Sr,shortcutKey:wr,formattedName:Mr}=useHeadingState(_r,rr,fr),kr=reactExports.useCallback(Ir=>{mr?.(Ir),!Ir.defaultPrevented&&!vr&&_r&&toggleHeading(_r,rr)},[mr,vr,_r,rr]);return!reactExports.useMemo(()=>shouldShowHeadingButton({editor:_r,hideWhenUnavailable:lr,headingInSchema:yr}),[_r,rr,lr,yr])||!_r?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:dr.trim(),disabled:vr,"data-style":"ghost","data-active-state":br?"on":"off","data-disabled":vr,role:"button",tabIndex:-1,"aria-label":Mr,"aria-pressed":br,tooltip:Mr,shortcutKeys:wr,onClick:kr,...gr,ref:xr,children:hr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sr,{className:"tiptap-button-icon"}),ir&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:ir})]})})});HeadingButton.displayName="HeadingButton";const DropdownMenuContext=reactExports.createContext(null);function useDropdownMenuContext(){const e=reactExports.useContext(DropdownMenuContext);if(!e)throw new Error("DropdownMenu components must be wrapped in <DropdownMenu />");return e}function useDropdownMenu({initialOpen:e=!1,open:rr,onOpenChange:ir,side:lr="bottom",align:dr="start"}){const[fr,mr]=reactExports.useState(e),[hr,gr]=reactExports.useState(`${lr}-${dr}`),[xr,_r]=reactExports.useState(null),yr=rr??fr,vr=ir??mr,br=reactExports.useRef([]),Sr=reactExports.useRef([]),wr=useFloating({open:yr,onOpenChange:vr,placement:hr,middleware:[offset({mainAxis:4}),flip(),shift$1({padding:4})],whileElementsMounted:autoUpdate}),{context:Mr}=wr,kr=useInteractions([useClick(Mr,{event:"mousedown",toggle:!0,ignoreMouse:!1}),useRole(Mr,{role:"menu"}),useDismiss(Mr,{outsidePress:!0,outsidePressEvent:"mousedown"}),useListNavigation(Mr,{listRef:br,activeIndex:xr,onNavigate:_r,loop:!0}),useTypeahead(Mr,{listRef:Sr,onMatch:yr?_r:void 0,activeIndex:xr})]),Ar=reactExports.useCallback((Ir,$r)=>{gr(`${Ir}-${$r}`)},[]);return reactExports.useMemo(()=>({open:yr,setOpen:vr,activeIndex:xr,setActiveIndex:_r,elementsRef:br,labelsRef:Sr,updatePosition:Ar,...kr,...wr}),[yr,vr,xr,kr,wr,Ar])}function DropdownMenu({children:e,...rr}){const ir=useDropdownMenu(rr);return jsxRuntimeExports.jsx(DropdownMenuContext.Provider,{value:ir,children:jsxRuntimeExports.jsx(FloatingList,{elementsRef:ir.elementsRef,labelsRef:ir.labelsRef,children:e})})}const DropdownMenuTrigger=reactExports.forwardRef(({children:e,asChild:rr=!1,...ir},lr)=>{const dr=useDropdownMenuContext(),fr=reactExports.isValidElement(e)?parseInt(reactExports.version,10)>=19?e.props.ref:e.ref:void 0,mr=useMergeRefs([dr.refs.setReference,lr,fr]);if(rr&&reactExports.isValidElement(e)){const hr={"data-state":dr.open?"open":"closed"};return reactExports.cloneElement(e,dr.getReferenceProps({ref:mr,...ir,...typeof e.props=="object"?e.props:{},"aria-expanded":dr.open,"aria-haspopup":"menu",...hr}))}return jsxRuntimeExports.jsx("button",{ref:mr,"aria-expanded":dr.open,"aria-haspopup":"menu","data-state":dr.open?"open":"closed",...dr.getReferenceProps(ir),children:e})});DropdownMenuTrigger.displayName="DropdownMenuTrigger";const DropdownMenuContent=reactExports.forwardRef(({style:e,className:rr,orientation:ir="vertical",side:lr="bottom",align:dr="start",portal:fr=!0,portalProps:mr={},...hr},gr)=>{const xr=useDropdownMenuContext(),_r=useMergeRefs([xr.refs.setFloating,gr]);if(reactExports.useEffect(()=>{xr.updatePosition(lr,dr)},[xr,lr,dr]),!xr.open)return null;const yr=jsxRuntimeExports.jsx(FloatingFocusManager,{context:xr.context,modal:!1,initialFocus:0,returnFocus:!0,children:jsxRuntimeExports.jsx("div",{ref:_r,className:`tiptap-dropdown-menu ${rr||""}`,style:{position:xr.strategy,top:xr.y??0,left:xr.x??0,outline:"none",...e},"aria-orientation":ir,"data-orientation":ir,"data-state":xr.open?"open":"closed","data-side":lr,"data-align":dr,...xr.getFloatingProps(hr),children:hr.children})});return fr?jsxRuntimeExports.jsx(FloatingPortal,{...mr,children:yr}):yr});DropdownMenuContent.displayName="DropdownMenuContent";const DropdownMenuItem=reactExports.forwardRef(({children:e,disabled:rr,asChild:ir=!1,onSelect:lr,className:dr,...fr},mr)=>{const hr=useDropdownMenuContext(),gr=useListItem({label:rr?null:e?.toString()}),xr=hr.activeIndex===gr.index,_r=reactExports.useCallback(vr=>{rr||(lr?.(),fr.onClick?.(vr),hr.setOpen(!1))},[hr,rr,lr,fr]),yr={ref:useMergeRefs([gr.ref,mr]),role:"menuitem",className:dr,tabIndex:xr?0:-1,"data-highlighted":xr,"aria-disabled":rr,...hr.getItemProps({...fr,onClick:_r})};if(ir&&reactExports.isValidElement(e)){const vr=e.props,br={...yr,...typeof e.props=="object"?e.props:{}},Sr={onClick:wr=>{_r(wr),vr.onClick?.(wr)}};return reactExports.cloneElement(e,{...br,...Sr})}return jsxRuntimeExports.jsx("div",{...yr,children:e})});DropdownMenuItem.displayName="DropdownMenuItem";const DropdownMenuGroup=reactExports.forwardRef(({children:e,label:rr,className:ir,...lr},dr)=>jsxRuntimeExports.jsx("div",{...lr,ref:dr,role:"group","aria-label":rr,className:`tiptap-button-group ${ir||""}`,children:e}));DropdownMenuGroup.displayName="DropdownMenuGroup";const DropdownMenuSeparator=reactExports.forwardRef(({className:e,...rr},ir)=>jsxRuntimeExports.jsx(Separator,{ref:ir,className:`tiptap-dropdown-menu-separator ${e||""}`,...rr}));DropdownMenuSeparator.displayName=Separator.displayName;function HeadingDropdownMenu({editor:e,levels:rr=[1,2,3,4,5,6],hideWhenUnavailable:ir=!1,onOpenChange:lr,...dr}){const[fr,mr]=reactExports.useState(!1),hr=useTiptapEditor(e),gr=isNodeInSchema("heading",hr),xr=reactExports.useCallback(wr=>{mr(wr),lr?.(wr)},[lr]),_r=reactExports.useCallback(()=>{if(!hr)return jsxRuntimeExports.jsx(HeadingIcon,{className:"tiptap-button-icon"});const wr=rr.find(kr=>hr.isActive("heading",{level:kr}));if(!wr)return jsxRuntimeExports.jsx(HeadingIcon,{className:"tiptap-button-icon"});const Mr=headingIcons[wr];return jsxRuntimeExports.jsx(Mr,{className:"tiptap-button-icon"})},[hr,rr]),yr=reactExports.useCallback(()=>hr?rr.some(wr=>hr.can().toggleNode("heading","paragraph",{level:wr})):!1,[hr,rr]),vr=!yr(),br=hr?.isActive("heading")??!1;return!reactExports.useMemo(()=>!(!gr||!hr||ir&&(isNodeSelection(hr.state.selection)||!yr())),[gr,hr,ir,yr])||!hr?.isEditable?null:jsxRuntimeExports.jsxs(DropdownMenu,{open:fr,onOpenChange:xr,children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{type:"button",disabled:vr,"data-style":"ghost","data-active-state":br?"on":"off","data-disabled":vr,role:"button",tabIndex:-1,"aria-label":"Format text as heading","aria-pressed":br,tooltip:"Heading",...dr,children:[_r(),jsxRuntimeExports.jsx(ChevronDownIcon,{className:"tiptap-button-dropdown-small"})]})}),jsxRuntimeExports.jsx(DropdownMenuContent,{children:jsxRuntimeExports.jsx(DropdownMenuGroup,{children:rr.map(wr=>jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx(HeadingButton,{editor:hr,level:wr,text:getFormattedHeadingName(wr),tooltip:""})},`heading-${wr}`))})})]})}const ImagePlusIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 2C20 1.44772 19.5523 1 19 1C18.4477 1 18 1.44772 18 2V4H16C15.4477 4 15 4.44772 15 5C15 5.55228 15.4477 6 16 6H18V8C18 8.55228 18.4477 9 19 9C19.5523 9 20 8.55228 20 8V6H22C22.5523 6 23 5.55228 23 5C23 4.44772 22.5523 4 22 4H20V2ZM5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H5.58579L14.379 11.2068C14.9416 10.6444 15.7045 10.3284 16.5 10.3284C17.2955 10.3284 18.0584 10.6444 18.621 11.2068L20 12.5858V12C20 11.4477 20.4477 11 21 11C21.5523 11 22 11.4477 22 12V14.998C22 14.9994 22 15.0007 22 15.002V19C22 19.7957 21.6839 20.5587 21.1213 21.1213C20.5587 21.6839 19.7957 22 19 22H6.00219C6.00073 22 5.99927 22 5.99781 22H5C4.20435 22 3.44129 21.6839 2.87868 21.1213C2.31607 20.5587 2 19.7957 2 19V5C2 4.20435 2.31607 3.44129 2.87868 2.87868C3.44129 2.31607 4.20435 2 5 2H12C12.5523 2 13 2.44772 13 3C13 3.55228 12.5523 4 12 4H5ZM8.41422 20H19C19.2652 20 19.5196 19.8946 19.7071 19.7071C19.8946 19.5196 20 19.2652 20 19V15.4142L17.207 12.6212C17.0195 12.4338 16.7651 12.3284 16.5 12.3284C16.2349 12.3284 15.9806 12.4337 15.7931 12.6211L8.41422 20ZM6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6C9.79565 6 10.5587 6.31607 11.1213 6.87868C11.6839 7.44129 12 8.20435 12 9C12 9.79565 11.6839 10.5587 11.1213 11.1213C10.5587 11.6839 9.79565 12 9 12C8.20435 12 7.44129 11.6839 6.87868 11.1213C6.31607 10.5587 6 9.79565 6 9C6 8.20435 6.31607 7.44129 6.87868 6.87868ZM9 8C8.73478 8 8.48043 8.10536 8.29289 8.29289C8.10536 8.48043 8 8.73478 8 9C8 9.26522 8.10536 9.51957 8.29289 9.70711C8.48043 9.89464 8.73478 10 9 10C9.26522 10 9.51957 9.89464 9.70711 9.70711C9.89464 9.51957 10 9.26522 10 9C10 8.73478 9.89464 8.48043 9.70711 8.29289C9.51957 8.10536 9.26522 8 9 8Z",fill:"currentColor"})}));ImagePlusIcon.displayName="ImagePlusIcon";function isImageActive(e,rr){return e?e.isActive(rr):!1}function insertImage(e,rr){return e?e.chain().focus().insertContent({type:rr}).run():!1}function useImageUploadButton(e,rr="imageUpload",ir=!1){const lr=isImageActive(e,rr),dr=reactExports.useCallback(()=>ir?!1:insertImage(e,rr),[e,rr,ir]);return{isActive:lr,handleInsertImage:dr}}const ImageUploadButton=reactExports.forwardRef(({editor:e,extensionName:rr="imageUpload",text:ir,className:lr="",disabled:dr,onClick:fr,children:mr,...hr},gr)=>{const xr=useTiptapEditor(e),{isActive:_r,handleInsertImage:yr}=useImageUploadButton(xr,rr,dr),vr=reactExports.useCallback(br=>{fr?.(br),!br.defaultPrevented&&!dr&&yr()},[fr,dr,yr]);return xr?.isEditable?jsxRuntimeExports.jsx(Button,{ref:gr,type:"button",className:lr.trim(),"data-style":"ghost","data-active-state":_r?"on":"off",role:"button",tabIndex:-1,"aria-label":"Add image","aria-pressed":_r,tooltip:"Add image",onClick:vr,...hr,children:mr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ImagePlusIcon,{className:"tiptap-button-icon"}),ir&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:ir})]})}):null});ImageUploadButton.displayName="ImageUploadButton";const ListIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 6C7 5.44772 7.44772 5 8 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H8C7.44772 7 7 6.55228 7 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 12C7 11.4477 7.44772 11 8 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H8C7.44772 13 7 12.5523 7 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 18C7 17.4477 7.44772 17 8 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H8C7.44772 19 7 18.5523 7 18Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H3.01C3.56228 5 4.01 5.44772 4.01 6C4.01 6.55228 3.56228 7 3.01 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H3.01C3.56228 11 4.01 11.4477 4.01 12C4.01 12.5523 3.56228 13 3.01 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H3.01C3.56228 17 4.01 17.4477 4.01 18C4.01 18.5523 3.56228 19 3.01 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));ListIcon.displayName="ListIcon";const ListOrderedIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 6C9 5.44772 9.44772 5 10 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H10C9.44772 7 9 6.55228 9 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 12C9 11.4477 9.44772 11 10 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H10C9.44772 13 9 12.5523 9 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18C9 17.4477 9.44772 17 10 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H10C9.44772 19 9 18.5523 9 18Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6C3 5.44772 3.44772 5 4 5H5C5.55228 5 6 5.44772 6 6V10C6 10.5523 5.55228 11 5 11C4.44772 11 4 10.5523 4 10V7C3.44772 7 3 6.55228 3 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 10C3 9.44772 3.44772 9 4 9H6C6.55228 9 7 9.44772 7 10C7 10.5523 6.55228 11 6 11H4C3.44772 11 3 10.5523 3 10Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.82219 13.0431C6.54543 13.4047 6.99997 14.1319 6.99997 15C6.99997 15.5763 6.71806 16.0426 6.48747 16.35C6.31395 16.5814 6.1052 16.8044 5.91309 17H5.99997C6.55226 17 6.99997 17.4477 6.99997 18C6.99997 18.5523 6.55226 19 5.99997 19H3.99997C3.44769 19 2.99997 18.5523 2.99997 18C2.99997 17.4237 3.28189 16.9575 3.51247 16.65C3.74323 16.3424 4.03626 16.0494 4.26965 15.8161C4.27745 15.8083 4.2852 15.8006 4.29287 15.7929C4.55594 15.5298 4.75095 15.3321 4.88748 15.15C4.96287 15.0495 4.99021 14.9922 4.99911 14.9714C4.99535 14.9112 4.9803 14.882 4.9739 14.8715C4.96613 14.8588 4.95382 14.845 4.92776 14.8319C4.87723 14.8067 4.71156 14.7623 4.44719 14.8944C3.95321 15.1414 3.35254 14.9412 3.10555 14.4472C2.85856 13.9533 3.05878 13.3526 3.55276 13.1056C4.28839 12.7378 5.12272 12.6934 5.82219 13.0431Z",fill:"currentColor"})]}));ListOrderedIcon.displayName="ListOrderedIcon";const ListTodoIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 4.89543 2.89543 4 4 4H8C9.10457 4 10 4.89543 10 6V10C10 11.1046 9.10457 12 8 12H4C2.89543 12 2 11.1046 2 10V6ZM8 6H4V10H8V6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071L2.29289 17.7071C1.90237 17.3166 1.90237 16.6834 2.29289 16.2929C2.68342 15.9024 3.31658 15.9024 3.70711 16.2929L5 17.5858L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6C12 5.44772 12.4477 5 13 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H13C12.4477 7 12 6.55228 12 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 12C12 11.4477 12.4477 11 13 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H13C12.4477 13 12 12.5523 12 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18C12 17.4477 12.4477 17 13 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H13C12.4477 19 12 18.5523 12 18Z",fill:"currentColor"})]}));ListTodoIcon.displayName="ListTodoIcon";const listOptions=[{label:"Bullet List",type:"bulletList",icon:ListIcon},{label:"Ordered List",type:"orderedList",icon:ListOrderedIcon},{label:"Task List",type:"taskList",icon:ListTodoIcon}],listShortcutKeys={bulletList:"Ctrl-Shift-8",orderedList:"Ctrl-Shift-7",taskList:"Ctrl-Shift-9"};function canToggleList(e,rr){if(!e)return!1;switch(rr){case"bulletList":return e.can().toggleBulletList();case"orderedList":return e.can().toggleOrderedList();case"taskList":return e.can().toggleList("taskList","taskItem");default:return!1}}function isListActive(e,rr){if(!e)return!1;switch(rr){case"bulletList":return e.isActive("bulletList");case"orderedList":return e.isActive("orderedList");case"taskList":return e.isActive("taskList");default:return!1}}function toggleList(e,rr){if(e)switch(rr){case"bulletList":e.chain().focus().toggleBulletList().run();break;case"orderedList":e.chain().focus().toggleOrderedList().run();break;case"taskList":e.chain().focus().toggleList("taskList","taskItem").run();break}}function getListOption(e){return listOptions.find(rr=>rr.type===e)}function shouldShowListButton(e){const{editor:rr,type:ir,hideWhenUnavailable:lr,listInSchema:dr}=e;return!(!dr||!rr||lr&&(isNodeSelection(rr.state.selection)||!canToggleList(rr,ir)))}function useListState(e,rr){const ir=isNodeInSchema(rr,e),lr=getListOption(rr),dr=isListActive(e,rr),fr=listShortcutKeys[rr];return{listInSchema:ir,listOption:lr,isActive:dr,shortcutKey:fr}}const ListButton=reactExports.forwardRef(({editor:e,type:rr,hideWhenUnavailable:ir=!1,className:lr="",onClick:dr,text:fr,children:mr,...hr},gr)=>{const xr=useTiptapEditor(e),{listInSchema:_r,listOption:yr,isActive:vr,shortcutKey:br}=useListState(xr,rr),Sr=yr?.icon||ListIcon,wr=reactExports.useCallback(kr=>{dr?.(kr),!kr.defaultPrevented&&xr&&toggleList(xr,rr)},[dr,xr,rr]);return!reactExports.useMemo(()=>shouldShowListButton({editor:xr,type:rr,hideWhenUnavailable:ir,listInSchema:_r}),[xr,rr,ir,_r])||!xr?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:lr.trim(),"data-style":"ghost","data-active-state":vr?"on":"off",role:"button",tabIndex:-1,"aria-label":yr?.label||rr,"aria-pressed":vr,tooltip:yr?.label||rr,shortcutKeys:br,onClick:wr,...hr,ref:gr,children:mr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sr,{className:"tiptap-button-icon"}),fr&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:fr})]})})});ListButton.displayName="ListButton";function canToggleAnyList(e,rr){return e?rr.some(ir=>canToggleList(e,ir)):!1}function isAnyListActive(e,rr){return e?rr.some(ir=>isListActive(e,ir)):!1}function getFilteredListOptions(e){return listOptions.filter(rr=>!rr.type||e.includes(rr.type))}function shouldShowListDropdown(e){const{editor:rr,hideWhenUnavailable:ir,listInSchema:lr,canToggleAny:dr}=e;return!(!lr||!rr||ir&&(isNodeSelection(rr.state.selection)||!dr))}function useListDropdownState(e,rr){const[ir,lr]=reactExports.useState(!1),dr=rr.some(xr=>isNodeInSchema(xr,e)),fr=reactExports.useMemo(()=>getFilteredListOptions(rr),[rr]),mr=canToggleAnyList(e,rr),hr=isAnyListActive(e,rr),gr=reactExports.useCallback((xr,_r)=>{lr(xr),_r?.(xr)},[]);return{isOpen:ir,setIsOpen:lr,listInSchema:dr,filteredLists:fr,canToggleAny:mr,isAnyActive:hr,handleOpenChange:gr}}function useActiveListIcon(e,rr){return reactExports.useCallback(()=>{const ir=rr.find(lr=>isListActive(e,lr.type));return ir?jsxRuntimeExports.jsx(ir.icon,{className:"tiptap-button-icon"}):jsxRuntimeExports.jsx(ListIcon,{className:"tiptap-button-icon"})},[e,rr])}function ListDropdownMenu({editor:e,types:rr=["bulletList","orderedList","taskList"],hideWhenUnavailable:ir=!1,onOpenChange:lr,...dr}){const fr=useTiptapEditor(e),{isOpen:mr,listInSchema:hr,filteredLists:gr,canToggleAny:xr,isAnyActive:_r,handleOpenChange:yr}=useListDropdownState(fr,rr),vr=useActiveListIcon(fr,gr),br=reactExports.useMemo(()=>shouldShowListDropdown({editor:fr,hideWhenUnavailable:ir,listInSchema:hr,canToggleAny:xr}),[fr,rr,ir,hr,xr]),Sr=reactExports.useCallback(wr=>yr(wr,lr),[yr,lr]);return!br||!fr?.isEditable?null:jsxRuntimeExports.jsxs(DropdownMenu,{open:mr,onOpenChange:Sr,children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button,{type:"button","data-style":"ghost","data-active-state":_r?"on":"off",role:"button",tabIndex:-1,"aria-label":"List options",tooltip:"List",...dr,children:[vr(),jsxRuntimeExports.jsx(ChevronDownIcon,{className:"tiptap-button-dropdown-small"})]})}),jsxRuntimeExports.jsx(DropdownMenuContent,{children:jsxRuntimeExports.jsx(DropdownMenuGroup,{children:gr.map(wr=>jsxRuntimeExports.jsx(DropdownMenuItem,{asChild:!0,children:jsxRuntimeExports.jsx(ListButton,{editor:fr,type:wr.type,text:wr.label,hideWhenUnavailable:ir,tooltip:""})},wr.type))})})]})}const BlockQuoteIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6C8 5.44772 8.44772 5 9 5H16C16.5523 5 17 5.44772 17 6C17 6.55228 16.5523 7 16 7H9C8.44772 7 8 6.55228 8 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 3C4.55228 3 5 3.44772 5 4L5 20C5 20.5523 4.55229 21 4 21C3.44772 21 3 20.5523 3 20L3 4C3 3.44772 3.44772 3 4 3Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 18C8 17.4477 8.44772 17 9 17H16C16.5523 17 17 17.4477 17 18C17 18.5523 16.5523 19 16 19H9C8.44772 19 8 18.5523 8 18Z",fill:"currentColor"})]}));BlockQuoteIcon.displayName="BlockQuoteIcon";function canToggleBlockquote(e){if(!e)return!1;try{return e.can().toggleWrap("blockquote")}catch{return!1}}function isBlockquoteActive(e){return e?e.isActive("blockquote"):!1}function toggleBlockquote(e){return e?e.chain().focus().toggleWrap("blockquote").run():!1}function isBlockquoteButtonDisabled(e,rr,ir=!1){return!!(!e||ir||!rr)}function shouldShowBlockquoteButton(e){const{editor:rr,hideWhenUnavailable:ir,nodeInSchema:lr,canToggle:dr}=e;return!lr||!rr||ir&&(isNodeSelection(rr.state.selection)||!dr)?!1:!!rr?.isEditable}function useBlockquoteState(e,rr=!1,ir=!1){const lr=isNodeInSchema("blockquote",e),dr=canToggleBlockquote(e),fr=isBlockquoteButtonDisabled(e,dr,rr),mr=isBlockquoteActive(e),hr=reactExports.useMemo(()=>shouldShowBlockquoteButton({editor:e,hideWhenUnavailable:ir,nodeInSchema:lr,canToggle:dr}),[e,ir,lr,dr]),gr=reactExports.useCallback(()=>!fr&&e?toggleBlockquote(e):!1,[e,fr]);return{nodeInSchema:lr,canToggle:dr,isDisabled:fr,isActive:mr,shouldShow:hr,handleToggle:gr,shortcutKey:"Ctrl-Shift-b",label:"Blockquote"}}const BlockquoteButton=reactExports.forwardRef(({editor:e,text:rr,hideWhenUnavailable:ir=!1,className:lr="",disabled:dr,onClick:fr,children:mr,...hr},gr)=>{const xr=useTiptapEditor(e),{isDisabled:_r,isActive:yr,shouldShow:vr,handleToggle:br,shortcutKey:Sr,label:wr}=useBlockquoteState(xr,dr,ir),Mr=reactExports.useCallback(kr=>{fr?.(kr),!kr.defaultPrevented&&!_r&&br()},[fr,_r,br]);return!vr||!xr?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:lr.trim(),disabled:_r,"data-style":"ghost","data-active-state":yr?"on":"off","data-disabled":_r,role:"button",tabIndex:-1,"aria-label":"blockquote","aria-pressed":yr,tooltip:wr,shortcutKeys:Sr,onClick:Mr,...hr,ref:gr,children:mr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(BlockQuoteIcon,{className:"tiptap-button-icon"}),rr&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:rr})]})})});BlockquoteButton.displayName="BlockquoteButton";const CodeBlockIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70711 2.29289C7.09763 2.68342 7.09763 3.31658 6.70711 3.70711L4.41421 6L6.70711 8.29289C7.09763 8.68342 7.09763 9.31658 6.70711 9.70711C6.31658 10.0976 5.68342 10.0976 5.29289 9.70711L2.29289 6.70711C1.90237 6.31658 1.90237 5.68342 2.29289 5.29289L5.29289 2.29289C5.68342 1.90237 6.31658 1.90237 6.70711 2.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2929 2.29289C10.6834 1.90237 11.3166 1.90237 11.7071 2.29289L14.7071 5.29289C15.0976 5.68342 15.0976 6.31658 14.7071 6.70711L11.7071 9.70711C11.3166 10.0976 10.6834 10.0976 10.2929 9.70711C9.90237 9.31658 9.90237 8.68342 10.2929 8.29289L12.5858 6L10.2929 3.70711C9.90237 3.31658 9.90237 2.68342 10.2929 2.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 4C17 3.44772 17.4477 3 18 3H19C20.6569 3 22 4.34315 22 6V18C22 19.6569 20.6569 21 19 21H5C3.34315 21 2 19.6569 2 18V12C2 11.4477 2.44772 11 3 11C3.55228 11 4 11.4477 4 12V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H18C17.4477 5 17 4.55228 17 4Z",fill:"currentColor"})]}));CodeBlockIcon.displayName="CodeBlockIcon";function canToggleCodeBlock(e){if(!e)return!1;try{return e.can().toggleNode("codeBlock","paragraph")}catch{return!1}}function isCodeBlockActive(e){return e?e.isActive("codeBlock"):!1}function toggleCodeBlock(e){return e?e.chain().focus().toggleNode("codeBlock","paragraph").run():!1}function isCodeBlockButtonDisabled(e,rr,ir=!1){return!!(!e||ir||!rr)}function shouldShowCodeBlockButton(e){const{editor:rr,hideWhenUnavailable:ir,nodeInSchema:lr,canToggle:dr}=e;return!lr||!rr||ir&&(isNodeSelection(rr.state.selection)||!dr)?!1:!!rr?.isEditable}function useCodeBlockState(e,rr=!1,ir=!1){const lr=isNodeInSchema("codeBlock",e),dr=canToggleCodeBlock(e),fr=isCodeBlockButtonDisabled(e,dr,rr),mr=isCodeBlockActive(e),hr=reactExports.useMemo(()=>shouldShowCodeBlockButton({editor:e,hideWhenUnavailable:ir,nodeInSchema:lr,canToggle:dr}),[e,ir,lr,dr]),gr=reactExports.useCallback(()=>!fr&&e?toggleCodeBlock(e):!1,[e,fr]);return{nodeInSchema:lr,canToggle:dr,isDisabled:fr,isActive:mr,shouldShow:hr,handleToggle:gr,shortcutKey:"Ctrl-Alt-c",label:"Code Block"}}const CodeBlockButton=reactExports.forwardRef(({editor:e,text:rr,hideWhenUnavailable:ir=!1,className:lr="",disabled:dr,onClick:fr,children:mr,...hr},gr)=>{const xr=useTiptapEditor(e),{isDisabled:_r,isActive:yr,shouldShow:vr,handleToggle:br,shortcutKey:Sr,label:wr}=useCodeBlockState(xr,dr,ir),Mr=reactExports.useCallback(kr=>{fr?.(kr),!kr.defaultPrevented&&!_r&&br()},[fr,_r,br]);return!vr||!xr?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:lr.trim(),disabled:_r,"data-style":"ghost","data-active-state":yr?"on":"off","data-disabled":_r,role:"button",tabIndex:-1,"aria-label":"codeBlock","aria-pressed":yr,tooltip:wr,shortcutKeys:Sr,onClick:Mr,...hr,ref:gr,children:mr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CodeBlockIcon,{className:"tiptap-button-icon"}),rr&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:rr})]})})});CodeBlockButton.displayName="CodeBlockButton";function useMenuNavigation({editor:e,containerRef:rr,query:ir,items:lr,onSelect:dr,onClose:fr,orientation:mr="vertical",autoSelectFirstItem:hr=!0}){const[gr,xr]=reactExports.useState(hr?0:-1);return reactExports.useEffect(()=>{const _r=vr=>{if(!lr.length)return!1;const br=()=>xr(wr=>wr===-1?0:(wr+1)%lr.length),Sr=()=>xr(wr=>wr===-1?lr.length-1:(wr-1+lr.length)%lr.length);switch(vr.key){case"ArrowUp":return mr==="horizontal"?!1:(vr.preventDefault(),Sr(),!0);case"ArrowDown":return mr==="horizontal"?!1:(vr.preventDefault(),br(),!0);case"ArrowLeft":return mr==="vertical"?!1:(vr.preventDefault(),Sr(),!0);case"ArrowRight":return mr==="vertical"?!1:(vr.preventDefault(),br(),!0);case"Tab":return vr.preventDefault(),vr.shiftKey?Sr():br(),!0;case"Home":return vr.preventDefault(),xr(0),!0;case"End":return vr.preventDefault(),xr(lr.length-1),!0;case"Enter":return vr.isComposing?!1:(vr.preventDefault(),gr!==-1&&lr[gr]&&dr?.(lr[gr]),!0);case"Escape":return vr.preventDefault(),fr?.(),!0;default:return!1}};let yr=null;if(e?yr=e.view.dom:rr?.current&&(yr=rr.current),yr)return yr.addEventListener("keydown",_r,!0),()=>{yr.removeEventListener("keydown",_r,!0)}},[e,rr,lr,gr,dr,fr,mr]),reactExports.useEffect(()=>{ir&&xr(hr?0:-1)},[ir,hr]),{selectedIndex:lr.length?gr:void 0,setSelectedIndex:xr}}const BanIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.43471 4.01458C4.34773 4.06032 4.26607 4.11977 4.19292 4.19292C4.11977 4.26607 4.06032 4.34773 4.01458 4.43471C2.14611 6.40628 1 9.0693 1 12C1 18.0751 5.92487 23 12 23C14.9306 23 17.5936 21.854 19.5651 19.9856C19.6522 19.9398 19.7339 19.8803 19.8071 19.8071C19.8803 19.7339 19.9398 19.6522 19.9856 19.5651C21.854 17.5936 23 14.9306 23 12C23 5.92487 18.0751 1 12 1C9.0693 1 6.40628 2.14611 4.43471 4.01458ZM6.38231 4.9681C7.92199 3.73647 9.87499 3 12 3C16.9706 3 21 7.02944 21 12C21 14.125 20.2635 16.078 19.0319 17.6177L6.38231 4.9681ZM17.6177 19.0319C16.078 20.2635 14.125 21 12 21C7.02944 21 3 16.9706 3 12C3 9.87499 3.73647 7.92199 4.9681 6.38231L17.6177 19.0319Z",fill:"currentColor"})}));BanIcon.displayName="BanIcon";const HighlighterIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7072 4.70711C15.0977 4.31658 15.0977 3.68342 14.7072 3.29289C14.3167 2.90237 13.6835 2.90237 13.293 3.29289L8.69294 7.89286L8.68594 7.9C8.13626 8.46079 7.82837 9.21474 7.82837 10C7.82837 10.2306 7.85491 10.4584 7.90631 10.6795L2.29289 16.2929C2.10536 16.4804 2 16.7348 2 17V20C2 20.5523 2.44772 21 3 21H12C12.2652 21 12.5196 20.8946 12.7071 20.7071L15.3205 18.0937C15.5416 18.1452 15.7695 18.1717 16.0001 18.1717C16.7853 18.1717 17.5393 17.8639 18.1001 17.3142L22.7072 12.7071C23.0977 12.3166 23.0977 11.6834 22.7072 11.2929C22.3167 10.9024 21.6835 10.9024 21.293 11.2929L16.6971 15.8887C16.5105 16.0702 16.2605 16.1717 16.0001 16.1717C15.7397 16.1717 15.4897 16.0702 15.303 15.8887L10.1113 10.697C9.92992 10.5104 9.82837 10.2604 9.82837 10C9.82837 9.73963 9.92992 9.48958 10.1113 9.30297L14.7072 4.70711ZM13.5858 17L9.00004 12.4142L4 17.4142V19H11.5858L13.5858 17Z",fill:"currentColor"})}));HighlighterIcon.displayName="HighlighterIcon";const PopoverContext=reactExports.createContext(null);function usePopoverContext(){const e=reactExports.useContext(PopoverContext);if(!e)throw new Error("Popover components must be wrapped in <Popover />");return e}function usePopover({initialOpen:e=!1,modal:rr,open:ir,onOpenChange:lr,side:dr="bottom",align:fr="center",sideOffset:mr=4,alignOffset:hr=0}={}){const[gr,xr]=reactExports.useState(e),[_r,yr]=reactExports.useState(),[vr,br]=reactExports.useState(),[Sr,wr]=reactExports.useState(`${dr}-${fr}`),[Mr,kr]=reactExports.useState({sideOffset:mr,alignOffset:hr}),Ar=ir??gr,Ir=lr??xr,$r=reactExports.useMemo(()=>[offset({mainAxis:Mr.sideOffset,crossAxis:Mr.alignOffset}),flip({fallbackAxisSideDirection:"end",crossAxis:!1}),shift$1({limiter:limitShift({offset:Mr.sideOffset})})],[Mr.sideOffset,Mr.alignOffset]),Dr=useFloating({placement:Sr,open:Ar,onOpenChange:Ir,whileElementsMounted:autoUpdate,middleware:$r}),Or=useInteractions([useClick(Dr.context),useDismiss(Dr.context),useRole(Dr.context)]),Fr=reactExports.useCallback((Lr,zr,Gr,Jr)=>{wr(`${Lr}-${zr}`),(Gr!==void 0||Jr!==void 0)&&kr({sideOffset:Gr??Mr.sideOffset,alignOffset:Jr??Mr.alignOffset})},[Mr.sideOffset,Mr.alignOffset]);return reactExports.useMemo(()=>({open:Ar,setOpen:Ir,...Or,...Dr,modal:rr,labelId:_r,descriptionId:vr,setLabelId:yr,setDescriptionId:br,updatePosition:Fr}),[Ar,Ir,Or,Dr,rr,_r,vr,Fr])}function Popover({children:e,modal:rr=!1,...ir}){const lr=usePopover({modal:rr,...ir});return jsxRuntimeExports.jsx(PopoverContext.Provider,{value:lr,children:e})}const PopoverTrigger=reactExports.forwardRef(function({children:rr,asChild:ir=!1,...lr},dr){const fr=usePopoverContext(),mr=reactExports.isValidElement(rr)?parseInt(reactExports.version,10)>=19?rr.props.ref:rr.ref:void 0,hr=useMergeRefs([fr.refs.setReference,dr,mr]);return ir&&reactExports.isValidElement(rr)?reactExports.cloneElement(rr,fr.getReferenceProps({ref:hr,...lr,...rr.props,"data-state":fr.open?"open":"closed"})):jsxRuntimeExports.jsx("button",{ref:hr,"data-state":fr.open?"open":"closed",...fr.getReferenceProps(lr),children:rr})}),PopoverContent=reactExports.forwardRef(function({className:rr,side:ir="bottom",align:lr="center",sideOffset:dr,alignOffset:fr,style:mr,portal:hr=!0,portalProps:gr={},asChild:xr=!1,children:_r,...yr},vr){const br=usePopoverContext(),Sr=reactExports.isValidElement(_r)?parseInt(reactExports.version,10)>=19?_r.props.ref:_r.ref:void 0,wr=useMergeRefs([br.refs.setFloating,vr,Sr]);if(reactExports.useEffect(()=>{br.updatePosition(ir,lr,dr,fr)},[br,ir,lr,dr,fr]),!br.context.open)return null;const Mr={ref:wr,style:{position:br.strategy,top:br.y??0,left:br.x??0,...mr},"aria-labelledby":br.labelId,"aria-describedby":br.descriptionId,className:`tiptap-popover ${rr||""}`,"data-side":ir,"data-align":lr,"data-state":br.context.open?"open":"closed",...br.getFloatingProps(yr)},kr=xr&&reactExports.isValidElement(_r)?reactExports.cloneElement(_r,{...Mr,..._r.props}):jsxRuntimeExports.jsx("div",{...Mr,children:_r}),Ar=jsxRuntimeExports.jsx(FloatingFocusManager,{context:br.context,modal:br.modal,children:kr});return hr?jsxRuntimeExports.jsx(FloatingPortal,{...gr,children:Ar}):Ar});PopoverTrigger.displayName="PopoverTrigger";PopoverContent.displayName="PopoverContent";function canToggleHighlight(e){if(!e)return!1;try{return e.can().setMark("highlight")}catch{return!1}}function isHighlightActive(e,rr){return e?e.isActive("highlight",{color:rr}):!1}function toggleHighlight(e,rr,ir,lr){if(e)try{const dr=e.chain().focus();if(isEmptyNode(ir))dr.toggleMark("highlight",{color:rr}).run();else if(lr!=null&&lr!==-1)dr.setNodeSelection(lr).toggleMark("highlight",{color:rr}).run();else if(ir){const fr=findNodePosition({editor:e,node:ir});fr?dr.setNodeSelection(fr.pos).toggleMark("highlight",{color:rr}).run():dr.toggleMark("highlight",{color:rr}).run()}else dr.toggleMark("highlight",{color:rr}).run();e.chain().setMeta("hideDragHandle",!0).run()}catch(dr){console.error("Failed to apply highlight:",dr)}}function isColorHighlightButtonDisabled(e,rr=!1){return!e||rr?!0:e.isActive("code")||e.isActive("codeBlock")||e.isActive("imageUpload")||!canToggleHighlight(e)}function shouldShowColorHighlightButton(e,rr,ir){return!(!ir||!e||rr&&(isNodeSelection(e.state.selection)||!canToggleHighlight(e)))}function useHighlightState(e,rr,ir=!1,lr=!1){const dr=isMarkInSchema("highlight",e),fr=isColorHighlightButtonDisabled(e,ir),mr=isHighlightActive(e,rr),hr=reactExports.useMemo(()=>shouldShowColorHighlightButton(e,lr,dr),[e,lr,dr]);return{highlightInSchema:dr,isDisabled:fr,isActive:mr,shouldShow:hr}}const ColorHighlightButton=reactExports.forwardRef(({editor:e,node:rr,nodePos:ir,color:lr,text:dr,hideWhenUnavailable:fr=!1,className:mr="",disabled:hr,onClick:gr,onApplied:xr,children:_r,style:yr,...vr},br)=>{const Sr=useTiptapEditor(e),{isDisabled:wr,isActive:Mr,shouldShow:kr}=useHighlightState(Sr,lr,hr,fr),Ar=reactExports.useCallback($r=>{gr?.($r),!$r.defaultPrevented&&!wr&&Sr&&(toggleHighlight(Sr,lr,rr,ir),xr?.(lr))},[lr,Sr,wr,rr,ir,gr,xr]),Ir=reactExports.useMemo(()=>({...yr,"--highlight-color":lr}),[lr,yr]);return!kr||!Sr?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:mr.trim(),disabled:wr,"data-style":"ghost","data-active-state":Mr?"on":"off","data-disabled":wr,role:"button",tabIndex:-1,"aria-label":`${lr} highlight color`,"aria-pressed":Mr,onClick:Ar,style:Ir,...vr,ref:br,children:_r||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"tiptap-button-highlight",style:{"--highlight-color":lr}}),dr&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:dr})]})})});ColorHighlightButton.displayName="ColorHighlightButton";const DEFAULT_HIGHLIGHT_COLORS=[{label:"Green",value:"var(--tt-color-highlight-green)",border:"var(--tt-color-highlight-green-contrast)"},{label:"Blue",value:"var(--tt-color-highlight-blue)",border:"var(--tt-color-highlight-blue-contrast)"},{label:"Red",value:"var(--tt-color-highlight-red)",border:"var(--tt-color-highlight-red-contrast)"},{label:"Purple",value:"var(--tt-color-highlight-purple)",border:"var(--tt-color-highlight-purple-contrast)"},{label:"Yellow",value:"var(--tt-color-highlight-yellow)",border:"var(--tt-color-highlight-yellow-contrast)"}],ColorHighlightPopoverButton=reactExports.forwardRef(({className:e,children:rr,...ir},lr)=>jsxRuntimeExports.jsx(Button,{type:"button",className:e,"data-style":"ghost","data-appearance":"default",role:"button",tabIndex:-1,"aria-label":"Highlight text",tooltip:"Highlight",ref:lr,...ir,children:rr||jsxRuntimeExports.jsx(HighlighterIcon,{className:"tiptap-button-icon"})}));ColorHighlightPopoverButton.displayName="ColorHighlightPopoverButton";function ColorHighlightPopoverContent({editor:e,colors:rr=DEFAULT_HIGHLIGHT_COLORS,onClose:ir}){const lr=useTiptapEditor(e),dr=reactExports.useRef(null),fr=reactExports.useCallback(()=>{lr&&(lr.chain().focus().unsetMark("highlight").run(),ir?.())},[lr,ir]),mr=reactExports.useMemo(()=>[...rr,{label:"Remove highlight",value:"none"}],[rr]),{selectedIndex:hr}=useMenuNavigation({containerRef:dr,items:mr,orientation:"both",onSelect:gr=>{gr.value==="none"&&fr(),ir?.()},onClose:ir,autoSelectFirstItem:!1});return jsxRuntimeExports.jsxs("div",{ref:dr,className:"tiptap-color-highlight-content",tabIndex:0,children:[jsxRuntimeExports.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:rr.map((gr,xr)=>jsxRuntimeExports.jsx(ColorHighlightButton,{editor:lr,color:gr.value,"aria-label":`${gr.label} highlight color`,tabIndex:xr===hr?0:-1,"data-highlighted":hr===xr,onClick:ir},gr.value))}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsx("div",{className:"tiptap-button-group",children:jsxRuntimeExports.jsx(Button,{onClick:fr,"aria-label":"Remove highlight",tabIndex:hr===rr.length?0:-1,type:"button",role:"menuitem","data-style":"ghost","data-highlighted":hr===rr.length,children:jsxRuntimeExports.jsx(BanIcon,{className:"tiptap-button-icon"})})})]})}function ColorHighlightPopover({editor:e,colors:rr=DEFAULT_HIGHLIGHT_COLORS,hideWhenUnavailable:ir=!1,...lr}){const dr=useTiptapEditor(e),[fr,mr]=reactExports.useState(!1),[hr,gr]=reactExports.useState(!1),xr=isMarkInSchema("highlight",dr);reactExports.useEffect(()=>{if(!dr)return;const vr=()=>{let br=!1;(!xr||!dr)&&(br=!0),(dr.isActive("code")||dr.isActive("codeBlock")||dr.isActive("imageUpload"))&&(br=!0),gr(br)};return dr.on("selectionUpdate",vr),dr.on("update",vr),()=>{dr.off("selectionUpdate",vr),dr.off("update",vr)}},[dr,xr]);const _r=dr?.isActive("highlight")??!1;return!reactExports.useMemo(()=>!ir||!dr?!0:!(isNodeSelection(dr.state.selection)||!canToggleHighlight(dr)),[ir,dr])||!dr?.isEditable?null:jsxRuntimeExports.jsxs(Popover,{open:fr,onOpenChange:mr,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(ColorHighlightPopoverButton,{disabled:hr,"data-active-state":_r?"on":"off","data-disabled":hr,"aria-pressed":_r,...lr})}),jsxRuntimeExports.jsx(PopoverContent,{"aria-label":"Highlight colors",children:jsxRuntimeExports.jsx(ColorHighlightPopoverContent,{editor:dr,colors:rr,onClose:()=>mr(!1)})})]})}const CornerDownLeftIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4C21 3.44772 20.5523 3 20 3C19.4477 3 19 3.44772 19 4V11C19 11.7956 18.6839 12.5587 18.1213 13.1213C17.5587 13.6839 16.7956 14 16 14H6.41421L9.70711 10.7071C10.0976 10.3166 10.0976 9.68342 9.70711 9.29289C9.31658 8.90237 8.68342 8.90237 8.29289 9.29289L3.29289 14.2929C2.90237 14.6834 2.90237 15.3166 3.29289 15.7071L8.29289 20.7071C8.68342 21.0976 9.31658 21.0976 9.70711 20.7071C10.0976 20.3166 10.0976 19.6834 9.70711 19.2929L6.41421 16H16C17.3261 16 18.5979 15.4732 19.5355 14.5355C20.4732 13.5979 21 12.3261 21 11V4Z",fill:"currentColor"})}));CornerDownLeftIcon.displayName="CornerDownLeftIcon";const ExternalLinkIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M14 3C14 2.44772 14.4477 2 15 2H21C21.5523 2 22 2.44772 22 3V9C22 9.55228 21.5523 10 21 10C20.4477 10 20 9.55228 20 9V5.41421L10.7071 14.7071C10.3166 15.0976 9.68342 15.0976 9.29289 14.7071C8.90237 14.3166 8.90237 13.6834 9.29289 13.2929L18.5858 4H15C14.4477 4 14 3.55228 14 3Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M4.29289 7.29289C4.48043 7.10536 4.73478 7 5 7H11C11.5523 7 12 6.55228 12 6C12 5.44772 11.5523 5 11 5H5C4.20435 5 3.44129 5.31607 2.87868 5.87868C2.31607 6.44129 2 7.20435 2 8V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H16C16.7957 22 17.5587 21.6839 18.1213 21.1213C18.6839 20.5587 19 19.7957 19 19V13C19 12.4477 18.5523 12 18 12C17.4477 12 17 12.4477 17 13V19C17 19.2652 16.8946 19.5196 16.7071 19.7071C16.5196 19.8946 16.2652 20 16 20H5C4.73478 20 4.48043 19.8946 4.29289 19.7071C4.10536 19.5196 4 19.2652 4 19V8C4 7.73478 4.10536 7.48043 4.29289 7.29289Z",fill:"currentColor"})]}));ExternalLinkIcon.displayName="ExternalLinkIcon";const LinkIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M16.9958 1.06669C15.4226 1.05302 13.907 1.65779 12.7753 2.75074L12.765 2.76086L11.045 4.47086C10.6534 4.86024 10.6515 5.49341 11.0409 5.88507C11.4303 6.27673 12.0634 6.27858 12.4551 5.88919L14.1697 4.18456C14.9236 3.45893 15.9319 3.05752 16.9784 3.06662C18.0272 3.07573 19.0304 3.49641 19.772 4.23804C20.5137 4.97967 20.9344 5.98292 20.9435 7.03171C20.9526 8.07776 20.5515 9.08563 19.8265 9.83941L16.833 12.8329C16.4274 13.2386 15.9393 13.5524 15.4019 13.7529C14.8645 13.9533 14.2903 14.0359 13.7181 13.9949C13.146 13.9539 12.5894 13.7904 12.0861 13.5154C11.5827 13.2404 11.1444 12.8604 10.8008 12.401C10.47 11.9588 9.84333 11.8685 9.40108 12.1993C8.95883 12.5301 8.86849 13.1568 9.1993 13.599C9.71464 14.288 10.3721 14.858 11.1272 15.2705C11.8822 15.683 12.7171 15.9283 13.5753 15.9898C14.4334 16.0513 15.2948 15.9274 16.1009 15.6267C16.907 15.326 17.639 14.8555 18.2473 14.247L21.2472 11.2471L21.2593 11.2347C22.3523 10.1031 22.9571 8.58751 22.9434 7.01433C22.9297 5.44115 22.2987 3.93628 21.1863 2.82383C20.0738 1.71138 18.5689 1.08036 16.9958 1.06669Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M10.4247 8.0102C9.56657 7.94874 8.70522 8.07256 7.89911 8.37326C7.09305 8.67395 6.36096 9.14458 5.75272 9.753L2.75285 12.7529L2.74067 12.7653C1.64772 13.8969 1.04295 15.4125 1.05662 16.9857C1.07029 18.5589 1.70131 20.0637 2.81376 21.1762C3.9262 22.2886 5.43108 22.9196 7.00426 22.9333C8.57744 22.947 10.0931 22.3422 11.2247 21.2493L11.2371 21.2371L12.9471 19.5271C13.3376 19.1366 13.3376 18.5034 12.9471 18.1129C12.5565 17.7223 11.9234 17.7223 11.5328 18.1129L9.82932 19.8164C9.07555 20.5414 8.06768 20.9425 7.02164 20.9334C5.97285 20.9243 4.9696 20.5036 4.22797 19.762C3.48634 19.0203 3.06566 18.0171 3.05655 16.9683C3.04746 15.9222 3.44851 14.9144 4.17355 14.1606L7.16719 11.167C7.5727 10.7613 8.06071 10.4476 8.59811 10.2471C9.13552 10.0467 9.70976 9.96412 10.2819 10.0051C10.854 10.0461 11.4106 10.2096 11.9139 10.4846C12.4173 10.7596 12.8556 11.1397 13.1992 11.599C13.53 12.0412 14.1567 12.1316 14.5989 11.8007C15.0412 11.4699 15.1315 10.8433 14.8007 10.401C14.2854 9.71205 13.6279 9.14198 12.8729 8.72948C12.1178 8.31697 11.2829 8.07166 10.4247 8.0102Z",fill:"currentColor"})]}));LinkIcon.displayName="LinkIcon";const TrashIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5V4C7 3.17477 7.40255 2.43324 7.91789 1.91789C8.43324 1.40255 9.17477 1 10 1H14C14.8252 1 15.5668 1.40255 16.0821 1.91789C16.5975 2.43324 17 3.17477 17 4V5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H20V20C20 20.8252 19.5975 21.5668 19.0821 22.0821C18.5668 22.5975 17.8252 23 17 23H7C6.17477 23 5.43324 22.5975 4.91789 22.0821C4.40255 21.5668 4 20.8252 4 20V7H3C2.44772 7 2 6.55228 2 6C2 5.44772 2.44772 5 3 5H7ZM9 4C9 3.82523 9.09745 3.56676 9.33211 3.33211C9.56676 3.09745 9.82523 3 10 3H14C14.1748 3 14.4332 3.09745 14.6679 3.33211C14.9025 3.56676 15 3.82523 15 4V5H9V4ZM6 7V20C6 20.1748 6.09745 20.4332 6.33211 20.6679C6.56676 20.9025 6.82523 21 7 21H17C17.1748 21 17.4332 20.9025 17.6679 20.6679C17.9025 20.4332 18 20.1748 18 20V7H6Z",fill:"currentColor"})}));TrashIcon.displayName="TrashIcon";const useLinkHandler=e=>{const{editor:rr,onSetLink:ir,onLinkActive:lr}=e,[dr,fr]=reactExports.useState(null);reactExports.useEffect(()=>{if(!rr)return;const{href:gr}=rr.getAttributes("link");rr.isActive("link")&&dr===null&&(fr(gr||""),lr?.())},[rr,lr,dr]),reactExports.useEffect(()=>{if(!rr)return;const gr=()=>{const{href:xr}=rr.getAttributes("link");fr(xr||""),rr.isActive("link")&&dr!==null&&lr?.()};return rr.on("selectionUpdate",gr),()=>{rr.off("selectionUpdate",gr)}},[rr,lr,dr]);const mr=reactExports.useCallback(()=>{!dr||!rr||(rr.chain().focus().extendMarkRange("link").setLink({href:dr}).run(),fr(null),ir?.())},[rr,ir,dr]),hr=reactExports.useCallback(()=>{rr&&(rr.chain().focus().extendMarkRange("link").unsetLink().setMeta("preventAutolink",!0).run(),fr(""))},[rr]);return{url:dr||"",setUrl:fr,setLink:mr,removeLink:hr,isActive:rr?.isActive("link")||!1}},LinkButton=reactExports.forwardRef(({className:e,children:rr,...ir},lr)=>jsxRuntimeExports.jsx(Button,{type:"button",className:e,"data-style":"ghost",role:"button",tabIndex:-1,"aria-label":"Link",tooltip:"Link",ref:lr,...ir,children:rr||jsxRuntimeExports.jsx(LinkIcon,{className:"tiptap-button-icon"})})),LinkContent=({editor:e})=>{const rr=useTiptapEditor(e),ir=useLinkHandler({editor:rr});return jsxRuntimeExports.jsx(LinkMain,{...ir})},LinkMain=({url:e,setUrl:rr,setLink:ir,removeLink:lr,isActive:dr})=>{const fr=hr=>{hr.key==="Enter"&&(hr.preventDefault(),ir())},mr=()=>{if(!e)return;const hr=sanitizeUrl(e,window.location.href);hr!=="#"&&window.open(hr,"_blank","noopener,noreferrer")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"url",placeholder:"Paste a link...",value:e,onChange:hr=>rr(hr.target.value),onKeyDown:fr,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",className:"tiptap-input tiptap-input-clamp"}),jsxRuntimeExports.jsx("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:jsxRuntimeExports.jsx(Button,{type:"button",onClick:ir,title:"Apply link",disabled:!e&&!dr,"data-style":"ghost",children:jsxRuntimeExports.jsx(CornerDownLeftIcon,{className:"tiptap-button-icon"})})}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"tiptap-button-group","data-orientation":"horizontal",children:[jsxRuntimeExports.jsx(Button,{type:"button",onClick:mr,title:"Open in new window",disabled:!e&&!dr,"data-style":"ghost",children:jsxRuntimeExports.jsx(ExternalLinkIcon,{className:"tiptap-button-icon"})}),jsxRuntimeExports.jsx(Button,{type:"button",onClick:lr,title:"Remove link",disabled:!e&&!dr,"data-style":"ghost",children:jsxRuntimeExports.jsx(TrashIcon,{className:"tiptap-button-icon"})})]})]})};function LinkPopover({editor:e,hideWhenUnavailable:rr=!1,onOpenChange:ir,autoOpenOnLinkActive:lr=!0,...dr}){const fr=useTiptapEditor(e),mr=isMarkInSchema("link",fr),[hr,gr]=reactExports.useState(!1),yr=useLinkHandler({editor:fr,onSetLink:()=>{gr(!1)},onLinkActive:()=>gr(lr)}),vr=reactExports.useMemo(()=>!fr||fr.isActive("codeBlock")?!0:!fr.can().setLink?.({href:""}),[fr]),br=reactExports.useMemo(()=>{if(!fr)return!1;try{return fr.can().setMark("link")}catch{return!1}},[fr]),Sr=fr?.isActive("link")??!1,wr=reactExports.useCallback(kr=>{gr(kr),ir?.(kr)},[ir]);return!reactExports.useMemo(()=>!(!mr||!fr||rr&&(isNodeSelection(fr.state.selection)||!br)),[mr,rr,fr,br])||!fr?.isEditable?null:jsxRuntimeExports.jsxs(Popover,{open:hr,onOpenChange:wr,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(LinkButton,{disabled:vr,"data-active-state":Sr?"on":"off","data-disabled":vr,...dr})}),jsxRuntimeExports.jsx(PopoverContent,{children:jsxRuntimeExports.jsx(LinkMain,{...yr})})]})}LinkButton.displayName="LinkButton";const BoldIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2.5C5.17157 2.5 4.5 3.17157 4.5 4V20C4.5 20.8284 5.17157 21.5 6 21.5H15C16.4587 21.5 17.8576 20.9205 18.8891 19.8891C19.9205 18.8576 20.5 17.4587 20.5 16C20.5 14.5413 19.9205 13.1424 18.8891 12.1109C18.6781 11.9 18.4518 11.7079 18.2128 11.5359C19.041 10.5492 19.5 9.29829 19.5 8C19.5 6.54131 18.9205 5.14236 17.8891 4.11091C16.8576 3.07946 15.4587 2.5 14 2.5H6ZM14 10.5C14.663 10.5 15.2989 10.2366 15.7678 9.76777C16.2366 9.29893 16.5 8.66304 16.5 8C16.5 7.33696 16.2366 6.70107 15.7678 6.23223C15.2989 5.76339 14.663 5.5 14 5.5H7.5V10.5H14ZM7.5 18.5V13.5H15C15.663 13.5 16.2989 13.7634 16.7678 14.2322C17.2366 14.7011 17.5 15.337 17.5 16C17.5 16.663 17.2366 17.2989 16.7678 17.7678C16.2989 18.2366 15.663 18.5 15 18.5H7.5Z",fill:"currentColor"})}));BoldIcon.displayName="BoldIcon";const Code2Icon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M15.4545 4.2983C15.6192 3.77115 15.3254 3.21028 14.7983 3.04554C14.2712 2.88081 13.7103 3.1746 13.5455 3.70175L8.54554 19.7017C8.38081 20.2289 8.6746 20.7898 9.20175 20.9545C9.72889 21.1192 10.2898 20.8254 10.4545 20.2983L15.4545 4.2983Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M6.70711 7.29289C7.09763 7.68342 7.09763 8.31658 6.70711 8.70711L3.41421 12L6.70711 15.2929C7.09763 15.6834 7.09763 16.3166 6.70711 16.7071C6.31658 17.0976 5.68342 17.0976 5.29289 16.7071L1.29289 12.7071C0.902369 12.3166 0.902369 11.6834 1.29289 11.2929L5.29289 7.29289C5.68342 6.90237 6.31658 6.90237 6.70711 7.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M17.2929 7.29289C17.6834 6.90237 18.3166 6.90237 18.7071 7.29289L22.7071 11.2929C23.0976 11.6834 23.0976 12.3166 22.7071 12.7071L18.7071 16.7071C18.3166 17.0976 17.6834 17.0976 17.2929 16.7071C16.9024 16.3166 16.9024 15.6834 17.2929 15.2929L20.5858 12L17.2929 8.70711C16.9024 8.31658 16.9024 7.68342 17.2929 7.29289Z",fill:"currentColor"})]}));Code2Icon.displayName="Code2Icon";const ItalicIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{d:"M15.0222 3H19C19.5523 3 20 3.44772 20 4C20 4.55228 19.5523 5 19 5H15.693L10.443 19H14C14.5523 19 15 19.4477 15 20C15 20.5523 14.5523 21 14 21H9.02418C9.00802 21.0004 8.99181 21.0004 8.97557 21H5C4.44772 21 4 20.5523 4 20C4 19.4477 4.44772 19 5 19H8.30704L13.557 5H10C9.44772 5 9 4.55228 9 4C9 3.44772 9.44772 3 10 3H14.9782C14.9928 2.99968 15.0075 2.99967 15.0222 3Z",fill:"currentColor"})}));ItalicIcon.displayName="ItalicIcon";const StrikeIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{d:"M9.00039 3H16.0001C16.5524 3 17.0001 3.44772 17.0001 4C17.0001 4.55229 16.5524 5 16.0001 5H9.00011C8.68006 4.99983 8.36412 5.07648 8.07983 5.22349C7.79555 5.37051 7.55069 5.5836 7.36585 5.84487C7.181 6.10614 7.06155 6.40796 7.01754 6.72497C6.97352 7.04198 7.00623 7.36492 7.11292 7.66667C7.29701 8.18737 7.02414 8.75872 6.50344 8.94281C5.98274 9.1269 5.4114 8.85403 5.2273 8.33333C5.01393 7.72984 4.94851 7.08396 5.03654 6.44994C5.12456 5.81592 5.36346 5.21229 5.73316 4.68974C6.10285 4.1672 6.59256 3.74101 7.16113 3.44698C7.72955 3.15303 8.36047 2.99975 9.00039 3Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M18 13H20C20.5523 13 21 12.5523 21 12C21 11.4477 20.5523 11 20 11H4C3.44772 11 3 11.4477 3 12C3 12.5523 3.44772 13 4 13H14C14.7956 13 15.5587 13.3161 16.1213 13.8787C16.6839 14.4413 17 15.2044 17 16C17 16.7956 16.6839 17.5587 16.1213 18.1213C15.5587 18.6839 14.7956 19 14 19H6C5.44772 19 5 19.4477 5 20C5 20.5523 5.44772 21 6 21H14C15.3261 21 16.5979 20.4732 17.5355 19.5355C18.4732 18.5979 19 17.3261 19 16C19 14.9119 18.6453 13.8604 18 13Z",fill:"currentColor"})]}));StrikeIcon.displayName="StrikeIcon";const SubscriptIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4079 14.3995C18.0284 14.0487 18.7506 13.9217 19.4536 14.0397C20.1566 14.1578 20.7977 14.5138 21.2696 15.0481L21.2779 15.0574L21.2778 15.0575C21.7439 15.5988 22 16.2903 22 17C22 18.0823 21.3962 18.8401 20.7744 19.3404C20.194 19.8073 19.4858 20.141 18.9828 20.378C18.9638 20.387 18.9451 20.3958 18.9266 20.4045C18.4473 20.6306 18.2804 20.7817 18.1922 20.918C18.1773 20.9412 18.1619 20.9681 18.1467 21H21C21.5523 21 22 21.4477 22 22C22 22.5523 21.5523 23 21 23H17C16.4477 23 16 22.5523 16 22C16 21.1708 16.1176 20.4431 16.5128 19.832C16.9096 19.2184 17.4928 18.8695 18.0734 18.5956C18.6279 18.334 19.138 18.0901 19.5207 17.7821C19.8838 17.49 20 17.2477 20 17C20 16.7718 19.9176 16.5452 19.7663 16.3672C19.5983 16.1792 19.3712 16.0539 19.1224 16.0121C18.8722 15.9701 18.6152 16.015 18.3942 16.1394C18.1794 16.2628 18.0205 16.4549 17.9422 16.675C17.7572 17.1954 17.1854 17.4673 16.665 17.2822C16.1446 17.0972 15.8728 16.5254 16.0578 16.005C16.2993 15.3259 16.7797 14.7584 17.4039 14.4018L17.4079 14.3995L17.4079 14.3995Z",fill:"currentColor"})]}));SubscriptIcon.displayName="SubscriptIcon";const SuperscriptIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7071 7.29289C13.0976 7.68342 13.0976 8.31658 12.7071 8.70711L4.70711 16.7071C4.31658 17.0976 3.68342 17.0976 3.29289 16.7071C2.90237 16.3166 2.90237 15.6834 3.29289 15.2929L11.2929 7.29289C11.6834 6.90237 12.3166 6.90237 12.7071 7.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29289 7.29289C3.68342 6.90237 4.31658 6.90237 4.70711 7.29289L12.7071 15.2929C13.0976 15.6834 13.0976 16.3166 12.7071 16.7071C12.3166 17.0976 11.6834 17.0976 11.2929 16.7071L3.29289 8.70711C2.90237 8.31658 2.90237 7.68342 3.29289 7.29289Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.405 1.40657C18.0246 1.05456 18.7463 0.92634 19.4492 1.04344C20.1521 1.16054 20.7933 1.51583 21.2652 2.0497L21.2697 2.05469L21.2696 2.05471C21.7431 2.5975 22 3.28922 22 4.00203C22 5.08579 21.3952 5.84326 20.7727 6.34289C20.1966 6.80531 19.4941 7.13675 18.9941 7.37261C18.9714 7.38332 18.9491 7.39383 18.9273 7.40415C18.4487 7.63034 18.2814 7.78152 18.1927 7.91844C18.1778 7.94155 18.1625 7.96834 18.1473 8.00003H21C21.5523 8.00003 22 8.44774 22 9.00003C22 9.55231 21.5523 10 21 10H17C16.4477 10 16 9.55231 16 9.00003C16 8.17007 16.1183 7.44255 16.5138 6.83161C16.9107 6.21854 17.4934 5.86971 18.0728 5.59591C18.6281 5.33347 19.1376 5.09075 19.5208 4.78316C19.8838 4.49179 20 4.25026 20 4.00203C20 3.77192 19.9178 3.54865 19.7646 3.37182C19.5968 3.18324 19.3696 3.05774 19.1205 3.01625C18.8705 2.97459 18.6137 3.02017 18.3933 3.14533C18.1762 3.26898 18.0191 3.45826 17.9406 3.67557C17.7531 4.19504 17.18 4.46414 16.6605 4.27662C16.141 4.0891 15.8719 3.51596 16.0594 2.99649C16.303 2.3219 16.7817 1.76125 17.4045 1.40689L17.405 1.40657Z",fill:"currentColor"})]}));SuperscriptIcon.displayName="SuperscriptIcon";const UnderlineIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4C7 3.44772 6.55228 3 6 3C5.44772 3 5 3.44772 5 4V10C5 11.8565 5.7375 13.637 7.05025 14.9497C8.36301 16.2625 10.1435 17 12 17C13.8565 17 15.637 16.2625 16.9497 14.9497C18.2625 13.637 19 11.8565 19 10V4C19 3.44772 18.5523 3 18 3C17.4477 3 17 3.44772 17 4V10C17 11.3261 16.4732 12.5979 15.5355 13.5355C14.5979 14.4732 13.3261 15 12 15C10.6739 15 9.40215 14.4732 8.46447 13.5355C7.52678 12.5979 7 11.3261 7 10V4ZM4 19C3.44772 19 3 19.4477 3 20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20C21 19.4477 20.5523 19 20 19H4Z",fill:"currentColor"})}));UnderlineIcon.displayName="UnderlineIcon";const markIcons={bold:BoldIcon,italic:ItalicIcon,underline:UnderlineIcon,strike:StrikeIcon,code:Code2Icon,superscript:SuperscriptIcon,subscript:SubscriptIcon},markShortcutKeys={bold:"Ctrl-b",italic:"Ctrl-i",underline:"Ctrl-u",strike:"Ctrl-Shift-s",code:"Ctrl-e",superscript:"Ctrl-.",subscript:"Ctrl-,"};function canToggleMark(e,rr){if(!e)return!1;try{return e.can().toggleMark(rr)}catch{return!1}}function isMarkActive(e,rr){return e?e.isActive(rr):!1}function toggleMark(e,rr){e&&e.chain().focus().toggleMark(rr).run()}function isMarkButtonDisabled(e,rr,ir=!1){return!!(!e||ir||e.isActive("codeBlock")||!canToggleMark(e,rr))}function shouldShowMarkButton(e){const{editor:rr,type:ir,hideWhenUnavailable:lr,markInSchema:dr}=e;return!(!dr||!rr||lr&&(isNodeSelection(rr.state.selection)||!canToggleMark(rr,ir)))}function getFormattedMarkName(e){return e.charAt(0).toUpperCase()+e.slice(1)}function useMarkState(e,rr,ir=!1){const lr=isMarkInSchema(rr,e),dr=isMarkButtonDisabled(e,rr,ir),fr=isMarkActive(e,rr),mr=markIcons[rr],hr=markShortcutKeys[rr],gr=getFormattedMarkName(rr);return{markInSchema:lr,isDisabled:dr,isActive:fr,Icon:mr,shortcutKey:hr,formattedName:gr}}const MarkButton=reactExports.forwardRef(({editor:e,type:rr,text:ir,hideWhenUnavailable:lr=!1,className:dr="",disabled:fr,onClick:mr,children:hr,...gr},xr)=>{const _r=useTiptapEditor(e),{markInSchema:yr,isDisabled:vr,isActive:br,Icon:Sr,shortcutKey:wr,formattedName:Mr}=useMarkState(_r,rr,fr),kr=reactExports.useCallback(Ir=>{mr?.(Ir),!Ir.defaultPrevented&&!vr&&_r&&toggleMark(_r,rr)},[mr,vr,_r,rr]);return!reactExports.useMemo(()=>shouldShowMarkButton({editor:_r,type:rr,hideWhenUnavailable:lr,markInSchema:yr}),[_r,rr,lr,yr])||!_r?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:dr.trim(),disabled:vr,"data-style":"ghost","data-active-state":br?"on":"off","data-disabled":vr,role:"button",tabIndex:-1,"aria-label":rr,"aria-pressed":br,tooltip:Mr,shortcutKeys:wr,onClick:kr,...gr,ref:xr,children:hr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Sr,{className:"tiptap-button-icon"}),ir&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:ir})]})})});MarkButton.displayName="MarkButton";const AlignCenterIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 18C4 17.4477 4.44772 17 5 17H19C19.5523 17 20 17.4477 20 18C20 18.5523 19.5523 19 19 19H5C4.44772 19 4 18.5523 4 18Z",fill:"currentColor"})]}));AlignCenterIcon.displayName="AlignCenterIcon";const AlignJustifyIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));AlignJustifyIcon.displayName="AlignJustifyIcon";const AlignLeftIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 11.4477 2.44772 11 3 11H15C15.5523 11 16 11.4477 16 12C16 12.5523 15.5523 13 15 13H3C2.44772 13 2 12.5523 2 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 18C2 17.4477 2.44772 17 3 17H17C17.5523 17 18 17.4477 18 18C18 18.5523 17.5523 19 17 19H3C2.44772 19 2 18.5523 2 18Z",fill:"currentColor"})]}));AlignLeftIcon.displayName="AlignLeftIcon";const AlignRightIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsxs("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:[jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12C8 11.4477 8.44772 11 9 11H21C21.5523 11 22 11.4477 22 12C22 12.5523 21.5523 13 21 13H9C8.44772 13 8 12.5523 8 12Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 18C6 17.4477 6.44772 17 7 17H21C21.5523 17 22 17.4477 22 18C22 18.5523 21.5523 19 21 19H7C6.44772 19 6 18.5523 6 18Z",fill:"currentColor"})]}));AlignRightIcon.displayName="AlignRightIcon";const textAlignIcons={left:AlignLeftIcon,center:AlignCenterIcon,right:AlignRightIcon,justify:AlignJustifyIcon},textAlignShortcutKeys={left:"Ctrl-Shift-l",center:"Ctrl-Shift-e",right:"Ctrl-Shift-r",justify:"Ctrl-Shift-j"},textAlignLabels={left:"Align left",center:"Align center",right:"Align right",justify:"Align justify"};function hasSetTextAlign(e){return"setTextAlign"in e}function checkTextAlignExtension(e){if(!e)return!1;const rr=e.extensionManager.extensions.some(ir=>ir.name==="textAlign");return rr||console.warn("TextAlign extension is not available. Make sure it is included in your editor configuration."),rr}function canSetTextAlign(e,rr,ir){if(!e||!ir)return!1;try{return e.can().setTextAlign(rr)}catch{return!1}}function isTextAlignActive(e,rr){return e?e.isActive({textAlign:rr}):!1}function setTextAlign(e,rr){if(!e)return!1;const ir=e.chain().focus();return hasSetTextAlign(ir)?ir.setTextAlign(rr).run():!1}function isTextAlignButtonDisabled(e,rr,ir,lr=!1){return!!(!e||!rr||lr||!ir)}function shouldShowTextAlignButton(e,rr,ir){return!(!e?.isEditable||ir&&!rr)}function useTextAlign(e,rr,ir=!1,lr=!1){const dr=reactExports.useMemo(()=>checkTextAlignExtension(e),[e]),fr=reactExports.useMemo(()=>canSetTextAlign(e,rr,dr),[e,rr,dr]),mr=isTextAlignButtonDisabled(e,dr,fr,ir),hr=isTextAlignActive(e,rr),gr=reactExports.useCallback(()=>!dr||!e||mr?!1:setTextAlign(e,rr),[dr,e,mr,rr]),xr=reactExports.useMemo(()=>shouldShowTextAlignButton(e,fr,lr),[e,fr,lr]),_r=textAlignIcons[rr],yr=textAlignShortcutKeys[rr],vr=textAlignLabels[rr];return{alignAvailable:dr,canAlign:fr,isDisabled:mr,isActive:hr,handleAlignment:gr,shouldShow:xr,Icon:_r,shortcutKey:yr,label:vr}}const TextAlignButton=reactExports.forwardRef(({editor:e,align:rr,text:ir,hideWhenUnavailable:lr=!1,className:dr="",disabled:fr,onClick:mr,children:hr,...gr},xr)=>{const _r=useTiptapEditor(e),{isDisabled:yr,isActive:vr,handleAlignment:br,shouldShow:Sr,Icon:wr,shortcutKey:Mr,label:kr}=useTextAlign(_r,rr,fr,lr),Ar=reactExports.useCallback(Ir=>{mr?.(Ir),!Ir.defaultPrevented&&!fr&&br()},[mr,fr,br]);return!Sr||!_r?.isEditable?null:jsxRuntimeExports.jsx(Button,{type:"button",className:dr.trim(),disabled:yr,"data-style":"ghost","data-active-state":vr?"on":"off","data-disabled":yr,role:"button",tabIndex:-1,"aria-label":kr,"aria-pressed":vr,tooltip:kr,shortcutKeys:Mr,onClick:Ar,...gr,ref:xr,children:hr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(wr,{className:"tiptap-button-icon"}),ir&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:ir})]})})});TextAlignButton.displayName="TextAlignButton";const Redo2Icon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7071 2.29289C15.3166 1.90237 14.6834 1.90237 14.2929 2.29289C13.9024 2.68342 13.9024 3.31658 14.2929 3.70711L17.5858 7H9.5C7.77609 7 6.12279 7.68482 4.90381 8.90381C3.68482 10.1228 3 11.7761 3 13.5C3 14.3536 3.16813 15.1988 3.49478 15.9874C3.82144 16.7761 4.30023 17.4926 4.90381 18.0962C6.12279 19.3152 7.77609 20 9.5 20H13C13.5523 20 14 19.5523 14 19C14 18.4477 13.5523 18 13 18H9.5C8.30653 18 7.16193 17.5259 6.31802 16.682C5.90016 16.2641 5.56869 15.768 5.34254 15.2221C5.1164 14.6761 5 14.0909 5 13.5C5 12.3065 5.47411 11.1619 6.31802 10.318C7.16193 9.47411 8.30653 9 9.5 9H17.5858L14.2929 12.2929C13.9024 12.6834 13.9024 13.3166 14.2929 13.7071C14.6834 14.0976 15.3166 14.0976 15.7071 13.7071L20.7071 8.70711C21.0976 8.31658 21.0976 7.68342 20.7071 7.29289L15.7071 2.29289Z",fill:"currentColor"})}));Redo2Icon.displayName="Redo2Icon";const Undo2Icon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 3.70711C10.0976 3.31658 10.0976 2.68342 9.70711 2.29289C9.31658 1.90237 8.68342 1.90237 8.29289 2.29289L3.29289 7.29289C2.90237 7.68342 2.90237 8.31658 3.29289 8.70711L8.29289 13.7071C8.68342 14.0976 9.31658 14.0976 9.70711 13.7071C10.0976 13.3166 10.0976 12.6834 9.70711 12.2929L6.41421 9H14.5C15.0909 9 15.6761 9.1164 16.2221 9.34254C16.768 9.56869 17.2641 9.90016 17.682 10.318C18.0998 10.7359 18.4313 11.232 18.6575 11.7779C18.8836 12.3239 19 12.9091 19 13.5C19 14.0909 18.8836 14.6761 18.6575 15.2221C18.4313 15.768 18.0998 16.2641 17.682 16.682C17.2641 17.0998 16.768 17.4313 16.2221 17.6575C15.6761 17.8836 15.0909 18 14.5 18H11C10.4477 18 10 18.4477 10 19C10 19.5523 10.4477 20 11 20H14.5C15.3536 20 16.1988 19.8319 16.9874 19.5052C17.7761 19.1786 18.4926 18.6998 19.0962 18.0962C19.6998 17.4926 20.1786 16.7761 20.5052 15.9874C20.8319 15.1988 21 14.3536 21 13.5C21 12.6464 20.8319 11.8012 20.5052 11.0126C20.1786 10.2239 19.6998 9.50739 19.0962 8.90381C18.4926 8.30022 17.7761 7.82144 16.9874 7.49478C16.1988 7.16813 15.3536 7 14.5 7H6.41421L9.70711 3.70711Z",fill:"currentColor"})}));Undo2Icon.displayName="Undo2Icon";const historyIcons={undo:Undo2Icon,redo:Redo2Icon},historyShortcutKeys={undo:"Ctrl-z",redo:"Ctrl-Shift-z"},historyActionLabels={undo:"Undo",redo:"Redo"};function canExecuteHistoryAction(e,rr){return e?rr==="undo"?e.can().undo():e.can().redo():!1}function executeHistoryAction(e,rr){if(!e)return!1;const ir=e.chain().focus();return rr==="undo"?ir.undo().run():ir.redo().run()}function isHistoryActionDisabled(e,rr,ir=!1){return ir?!0:!canExecuteHistoryAction(e,rr)}function useHistoryAction(e,rr,ir=!1){const lr=reactExports.useMemo(()=>canExecuteHistoryAction(e,rr),[e,rr]),dr=isHistoryActionDisabled(e,rr,ir),fr=reactExports.useCallback(()=>{!e||dr||executeHistoryAction(e,rr)},[e,rr,dr]),mr=historyIcons[rr],hr=historyActionLabels[rr],gr=historyShortcutKeys[rr];return{canExecute:lr,isDisabled:dr,handleAction:fr,Icon:mr,actionLabel:hr,shortcutKey:gr}}const UndoRedoButton=reactExports.forwardRef(({editor:e,action:rr,text:ir,className:lr="",disabled:dr,onClick:fr,children:mr,...hr},gr)=>{const xr=useTiptapEditor(e),{isDisabled:_r,handleAction:yr,Icon:vr,actionLabel:br,shortcutKey:Sr}=useHistoryAction(xr,rr,dr),wr=reactExports.useCallback(Mr=>{fr?.(Mr),!Mr.defaultPrevented&&!dr&&yr()},[fr,dr,yr]);return xr?.isEditable?jsxRuntimeExports.jsx(Button,{ref:gr,type:"button",className:lr.trim(),disabled:_r,"data-style":"ghost","data-disabled":_r,role:"button",tabIndex:-1,"aria-label":br,tooltip:br,shortcutKeys:Sr,onClick:wr,...hr,children:mr||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(vr,{className:"tiptap-button-icon"}),ir&&jsxRuntimeExports.jsx("span",{className:"tiptap-button-text",children:ir})]})}):null});UndoRedoButton.displayName="UndoRedoButton";const ArrowLeftIcon=reactExports.memo(({className:e,...rr})=>jsxRuntimeExports.jsx("svg",{width:"24",height:"24",className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...rr,children:jsxRuntimeExports.jsx("path",{d:"M12.7071 5.70711C13.0976 5.31658 13.0976 4.68342 12.7071 4.29289C12.3166 3.90237 11.6834 3.90237 11.2929 4.29289L4.29289 11.2929C3.90237 11.6834 3.90237 12.3166 4.29289 12.7071L11.2929 19.7071C11.6834 20.0976 12.3166 20.0976 12.7071 19.7071C13.0976 19.3166 13.0976 18.6834 12.7071 18.2929L7.41421 13L19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11L7.41421 11L12.7071 5.70711Z",fill:"currentColor"})}));ArrowLeftIcon.displayName="ArrowLeftIcon";const MOBILE_BREAKPOINT=768;function useMobile(){const[e,rr]=reactExports.useState(void 0);return reactExports.useEffect(()=>{const ir=window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT-1}px)`),lr=()=>{rr(window.innerWidth<MOBILE_BREAKPOINT)};return ir.addEventListener("change",lr),rr(window.innerWidth<MOBILE_BREAKPOINT),()=>ir.removeEventListener("change",lr)},[]),!!e}function useWindowSize(){const[e,rr]=reactExports.useState({width:0,height:0,offsetTop:0});return reactExports.useEffect(()=>{ir();function ir(){if(typeof window>"u")return;const dr=window.visualViewport;if(!dr)return;const{width:fr=0,height:mr=0,offsetTop:hr=0}=dr;rr(gr=>fr===gr.width&&mr===gr.height&&hr===gr.offsetTop?gr:{width:fr,height:mr,offsetTop:hr})}const lr=window.visualViewport;return lr&&(lr.addEventListener("resize",ir),lr.addEventListener("scroll",ir)),()=>{lr&&(lr.removeEventListener("resize",ir),lr.removeEventListener("scroll",ir))}},[]),e}function useCursorVisibility({editor:e,overlayHeight:rr=0,elementRef:ir=null}){const{height:lr}=useWindowSize(),[dr,fr]=reactExports.useState({x:0,y:0,width:0,height:0}),mr=reactExports.useCallback(()=>{const hr=ir?.current??document.body,{x:gr,y:xr,width:_r,height:yr}=hr.getBoundingClientRect();fr({x:gr,y:xr,width:_r,height:yr})},[ir]);return reactExports.useEffect(()=>{const hr=ir?.current??document.body;mr();const gr=new ResizeObserver(()=>{window.requestAnimationFrame(mr)});return gr.observe(hr),window.addEventListener("scroll",mr,{passive:!0}),()=>{gr.disconnect(),window.removeEventListener("scroll",mr)}},[ir,mr]),reactExports.useEffect(()=>{(()=>{if(!e)return;const{state:gr,view:xr}=e;if(!xr.hasFocus())return;const{from:_r}=gr.selection,yr=xr.coordsAtPos(_r);if(lr<dr.height&&yr&&!(lr-yr.top-rr>0)){const br=yr.top-lr/2;window.scrollTo({top:br,behavior:"smooth"})}})()},[e,rr,lr,dr.height]),dr}const MainToolbarContent=({onHighlighterClick:e,onLinkClick:rr,isMobile:ir,saveStatus:lr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Spacer,{}),jsxRuntimeExports.jsxs(ToolbarGroup,{children:[jsxRuntimeExports.jsx(UndoRedoButton,{action:"undo"}),jsxRuntimeExports.jsx(UndoRedoButton,{action:"redo"})]}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsxs(ToolbarGroup,{children:[jsxRuntimeExports.jsx(HeadingDropdownMenu,{levels:[1,2,3,4]}),jsxRuntimeExports.jsx(ListDropdownMenu,{types:["bulletList","orderedList","taskList"]}),jsxRuntimeExports.jsx(BlockquoteButton,{}),jsxRuntimeExports.jsx(CodeBlockButton,{})]}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsxs(ToolbarGroup,{children:[jsxRuntimeExports.jsx(MarkButton,{type:"bold"}),jsxRuntimeExports.jsx(MarkButton,{type:"italic"}),jsxRuntimeExports.jsx(MarkButton,{type:"strike"}),jsxRuntimeExports.jsx(MarkButton,{type:"code"}),jsxRuntimeExports.jsx(MarkButton,{type:"underline"}),ir?jsxRuntimeExports.jsx(ColorHighlightPopoverButton,{onClick:e}):jsxRuntimeExports.jsx(ColorHighlightPopover,{}),ir?jsxRuntimeExports.jsx(LinkButton,{onClick:rr}):jsxRuntimeExports.jsx(LinkPopover,{})]}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsxs(ToolbarGroup,{children:[jsxRuntimeExports.jsx(MarkButton,{type:"superscript"}),jsxRuntimeExports.jsx(MarkButton,{type:"subscript"})]}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsxs(ToolbarGroup,{children:[jsxRuntimeExports.jsx(TextAlignButton,{align:"left"}),jsxRuntimeExports.jsx(TextAlignButton,{align:"center"}),jsxRuntimeExports.jsx(TextAlignButton,{align:"right"}),jsxRuntimeExports.jsx(TextAlignButton,{align:"justify"})]}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsx(ToolbarGroup,{children:jsxRuntimeExports.jsx(ImageUploadButton,{text:"Add"})}),jsxRuntimeExports.jsx(Spacer,{}),ir&&jsxRuntimeExports.jsx(ToolbarSeparator,{}),jsxRuntimeExports.jsx(ToolbarGroup,{children:jsxRuntimeExports.jsx("div",{style:{minWidth:"120px",display:"flex",justifyContent:"flex-end"},children:lr})})]}),MobileToolbarContent=({type:e,onBack:rr})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ToolbarGroup,{children:jsxRuntimeExports.jsxs(Button,{"data-style":"ghost",onClick:rr,children:[jsxRuntimeExports.jsx(ArrowLeftIcon,{className:"tiptap-button-icon"}),e==="highlighter"?jsxRuntimeExports.jsx(HighlighterIcon,{className:"tiptap-button-icon"}):jsxRuntimeExports.jsx(LinkIcon,{className:"tiptap-button-icon"})]})}),jsxRuntimeExports.jsx(ToolbarSeparator,{}),e==="highlighter"?jsxRuntimeExports.jsx(ColorHighlightPopoverContent,{}):jsxRuntimeExports.jsx(LinkContent,{})]});function SimpleEditor({onUpdate:e,initialContent:rr,saveStatus:ir,readonly:lr,styles:dr,showToolbar:fr=!0}){const mr=useMobile(),hr=useWindowSize(),[gr,xr]=reactExports.useState("main"),_r=reactExports.useRef(null),yr=useEditor({editable:!lr,immediatelyRender:!1,editorProps:{attributes:{autocomplete:"off",autocorrect:"off",autocapitalize:"off","aria-label":"Main content area, start typing to enter text."}},extensions:[StarterKit,TextAlign.configure({types:["heading","paragraph"]}),Underline,TaskList,TaskItem.configure({nested:!0}),Highlight.configure({multicolor:!0}),Image,Typography,Superscript,Subscript,Selection,ImageUploadNode.configure({accept:"image/*",maxSize:MAX_FILE_SIZE,limit:3,upload:handleImageUpload,onError:wr=>console.error("Upload failed:",wr)}),TrailingNode,Link.configure({openOnClick:!1})],content:rr,onUpdate:e}),vr=useCursorVisibility({editor:yr,overlayHeight:_r.current?.getBoundingClientRect().height??0});reactExports.useEffect(()=>{!mr&&gr!=="main"&&xr("main")},[mr,gr]);const br=reactExports.useMemo(()=>{const wr=dr?.editor?{...dr.editor}:void 0;if(!wr)return;const Mr={...wr},kr=wr.maxWidth;if(kr!=null){const $r=typeof kr=="number"?`${kr}px`:String(kr);Mr["--simple-editor-max-width"]=$r}const Ar=wr.padding;if(Ar!=null){const $r=typeof Ar=="number"?`${Ar}px`:String(Ar);Mr["--simple-editor-padding"]=$r}const Ir=wr.paddingMobile??wr.paddingMobile;if(Ir!=null){const $r=typeof Ir=="number"?`${Ir}px`:String(Ir);Mr["--simple-editor-padding-mobile"]=$r}return Mr},[dr?.editor]),Sr=reactExports.useMemo(()=>{const wr={};return fr||(wr["--tt-toolbar-height"]="0px"),wr},[fr]);return jsxRuntimeExports.jsx("div",{className:"simple-editor-root",style:Sr,children:jsxRuntimeExports.jsxs(EditorContext.Provider,{value:{editor:yr},children:[fr&&jsxRuntimeExports.jsx(Toolbar,{ref:_r,style:mr?{bottom:`calc(100% - ${hr.height-vr.y}px)`}:{},children:gr==="main"?jsxRuntimeExports.jsx(MainToolbarContent,{onHighlighterClick:()=>xr("highlighter"),onLinkClick:()=>xr("link"),isMobile:mr,saveStatus:ir}):jsxRuntimeExports.jsx(MobileToolbarContent,{type:gr==="highlighter"?"highlighter":"link",onBack:()=>xr("main")})}),jsxRuntimeExports.jsx("div",{className:"content-wrapper",children:jsxRuntimeExports.jsx(EditorContent,{editor:yr,role:"presentation",className:"simple-editor-content",style:br})})]})})}const templateProblemSearchSchema=z$1.object({id:z$1.string().optional()}),Route$8=createFileRoute("/_admin/admin/template-problems")({component:RouteComponent$8,validateSearch:zodValidator(templateProblemSearchSchema)});function RouteComponent$8(){const{id:e}=Route$8.useSearch(),[rr,ir]=reactExports.useState({search:void 0,id:e}),[lr]=reactExports.useState({sortOptions:[{sortBy:"created_at",order:"desc"}]});return jsxRuntimeExports.jsxs(Stack,{maw:"80rem",mx:"auto",mt:"2rem",children:[jsxRuntimeExports.jsx(Header$1,{filters:rr,setFilters:ir}),jsxRuntimeExports.jsx(List$1,{filters:rr,sorting:lr})]})}function TableSkeleton$2(){return jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",children:jsxRuntimeExports.jsxs(Table,{striped:!0,highlightOnHover:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Problem Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Description"}),jsxRuntimeExports.jsx(Table.Th,{children:"Created At"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:Array.from({length:3}).map((e,rr)=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"80%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"90%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"50%"})})]},rr))})]})})}function Header$1({filters:e,setFilters:rr}){return jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(TextInput,{placeholder:"Search problems...",value:e.search??"",onChange:ir=>rr({...e,search:ir.currentTarget.value}),size:"sm",maw:"20rem"}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",children:jsxRuntimeExports.jsx(IconArrowsUpDown,{})}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",children:jsxRuntimeExports.jsx(IconFilter,{})})]})}function List$1({filters:e,sorting:rr}){return jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TableSkeleton$2,{}),children:jsxRuntimeExports.jsx(ListContent$1,{filters:e,sorting:rr})})}function ListContent$1({filters:e,sorting:rr}){const{id:ir}=Route$8.useSearch(),{mutate:lr,isPending:dr}=useApplyTemplateMutation(),fr=20,[mr]=useDebouncedValue(e.search,300),hr=e.search===mr?e:{...e,search:mr},[gr,xr]=reactExports.useState(1),{data:_r}=useTemplateProblemsQuery(hr,rr,fr,gr-1),{items:yr,totalPages:vr}=_r,br=useNavigate(),Sr=useQueryClient(),wr=Dr=>{if(Dr!==gr){const Or=Dr-1;Sr.prefetchQuery({queryKey:templateProblemKeys.listParams(hr,rr,Or),queryFn:()=>fetchTemplateProblemsPage({filters:hr,sorting:rr,pageIndex:Or,pageSize:fr})})}},Mr=Dr=>{let Or=null;if(Dr==="next"&&gr<vr?Or=gr+1:Dr==="previous"&&gr>1?Or=gr-1:Dr==="first"?Or=1:Dr==="last"&&(Or=vr),Or&&Or!==gr){const Fr=Or-1;Sr.prefetchQuery({queryKey:templateProblemKeys.listParams(hr,rr,Fr),queryFn:()=>fetchTemplateProblemsPage({filters:hr,sorting:rr,pageIndex:Fr,pageSize:fr})})}},[kr,Ar]=reactExports.useState(null),Ir=()=>{Ar(null),br({to:Route$8.to,search:Dr=>{const{id:Or,...Fr}=Dr;return Fr},replace:!0})};reactExports.useEffect(()=>{xr(1)},[hr.search]);const $r=Dr=>{lr({templateProblemId:Dr},{onSuccess:Or=>{br({to:"/admin/problem/$id/details",params:{id:Or.userProblemId}})}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",children:jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,striped:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Problem Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Created At"}),jsxRuntimeExports.jsx(Table.Th,{children:"Action"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:yr.map(Dr=>jsxRuntimeExports.jsxs(Table.Tr,{style:{cursor:"pointer"},onClick:Or=>{Or.defaultPrevented||Ar(Dr.id)},children:[jsxRuntimeExports.jsx(Table.Td,{children:Dr.name}),jsxRuntimeExports.jsx(Table.Td,{children:dayjs(Dr.created_at).format("DD/MM/YYYY")}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Button$1,{onClick:Or=>{Or.preventDefault(),Or.stopPropagation(),$r(Dr.id)},loading:dr,children:"Use Template"})})]},Dr.id))}),jsxRuntimeExports.jsx(Table.Caption,{children:jsxRuntimeExports.jsx(Group,{justify:"flex-end",children:jsxRuntimeExports.jsx(Pagination,{total:vr,onChange:xr,value:gr,p:"xs",withEdges:!0,getItemProps:Dr=>({onMouseEnter:()=>wr(Dr)}),getControlProps:Dr=>({onMouseEnter:()=>Mr(Dr)})})})})]})}),(()=>{const Dr=kr??ir;return Dr?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingOverlay,{}),children:jsxRuntimeExports.jsx(TemplateProblemPreviewModal,{onClose:Ir,problemId:Dr})}):null})()]})}function TemplateProblemPreviewModal({onClose:e,problemId:rr}){const{data:ir}=useFetchTemplateProblemDetails(rr);return ir?jsxRuntimeExports.jsx(Modal,{opened:!0,onClose:e,size:"auto",title:ir.name,children:jsxRuntimeExports.jsx(Modal.Body,{children:jsxRuntimeExports.jsx(SimpleEditor,{initialContent:ir.description,readonly:!0,styles:{editor:{maxWidth:"1400px",padding:0}},showToolbar:!1})})}):(showErrorNotification({title:"Problem Not Found",message:"The requested problem does not exist."}),e(),null)}const fetchUserProblemsPage=async({userId:e,filters:rr,sorting:ir,pageIndex:lr,pageSize:dr})=>{const fr=lr?lr*dr:0,mr=fr+dr-1;let hr=supabase.from("user_problems").select("id",{count:"exact",head:!0}).eq("user_id",e),gr=supabase.from("user_problems").select("*, problems(id,name)").eq("user_id",e);if(rr.search){const kr=`%${rr.search}%`;gr=gr.or(`name.ilike.${kr},description.ilike.${kr}`),hr=hr.or(`name.ilike.${kr},description.ilike.${kr}`)}if(ir.sortOptions.length>0)for(const kr of ir.sortOptions)gr=gr.order(kr.sortBy,{ascending:kr.order==="asc"});gr=gr.range(fr||0,mr);const[xr,_r]=await Promise.all([hr,gr]),{data:yr,error:vr}=_r,{count:br,error:Sr}=xr;if(vr||Sr)throw new Error(vr?.message??Sr?.message??"Unknown error");const wr=br??0,Mr=wr?Math.ceil(wr/dr):0;return{items:yr,totalCount:wr,totalPages:Mr}},userProblemsQueryOptions=({userId:e,filters:rr,sorting:ir,pageSize:lr=20,pageIndex:dr=0})=>({queryKey:myProblemKeys.listParams(rr,ir,dr),queryFn:()=>fetchUserProblemsPage({userId:e,filters:rr,sorting:ir,pageIndex:dr,pageSize:lr})}),useUserProblemsQuery=(e,rr,ir,lr=20,dr=0)=>{const fr={...rr,search:rr.search?.trim()?rr.search.trim():void 0};return useSuspenseQuery(userProblemsQueryOptions({userId:e,filters:fr,sorting:ir,pageSize:lr,pageIndex:dr}))},useUserProblemsInfinite=({userId:e,filters:rr,sorting:ir,pageSize:lr})=>{const dr={...rr,search:rr.search?.trim()?rr.search.trim():void 0};return useInfiniteQuery({queryKey:myProblemKeys.infinite(dr,ir),initialPageParam:0,queryFn:async({pageParam:fr})=>{const mr=fr;let hr=supabase.from("user_problems").select("id",{count:"exact",head:!0}).eq("user_id",e),gr=supabase.from("user_problems").select("*, problems(id,name)").eq("user_id",e);if(dr.search){const Sr=`%${dr.search}%`;gr=gr.or(`name.ilike.${Sr},description.ilike.${Sr}`),hr=hr.or(`name.ilike.${Sr},description.ilike.${Sr}`)}if(ir.sortOptions.length>0)for(const Sr of ir.sortOptions)gr=gr.order(Sr.sortBy,{ascending:Sr.order==="asc"});else gr=gr.order("created_at",{ascending:!1}).order("id",{ascending:!1});const xr=mr*lr,_r=xr+lr-1,yr=gr.range(xr,_r);if(mr===0){const[{count:Sr,error:wr},{data:Mr,error:kr}]=await Promise.all([hr,yr]);if(wr)throw new Error(wr.message);if(kr)throw new Error(kr.message);const Ar=Sr??0,Ir=Math.ceil(Ar/lr);return{items:Mr,totalCount:Ar,totalPages:Ir}}const{data:vr,error:br}=await yr;if(br)throw new Error(br.message);return{items:vr}},getNextPageParam:(fr,mr,hr)=>fr.items.length<lr?void 0:hr+1})},userProblemKeys={all:["user_problems"],detail:e=>["user_problems",e]},userProblemTableKeys={all:["user_problemTables"],lists:()=>[...userProblemTableKeys.all,"list"],list:e=>[...userProblemTableKeys.lists(),e],details:()=>[...userProblemTableKeys.all,"details"],detail:e=>[...userProblemTableKeys.details(),e],byProblemId:e=>[...userProblemTableKeys.all,"byProblemId",e],metadataByProblemId:e=>[...userProblemTableKeys.all,"metadata","byProblemId",e],basicByProblemId:e=>[...userProblemTableKeys.all,"basic","byProblemId",e],byTableName:e=>[...userProblemTableKeys.all,"byTableName",e],byTableId:e=>[...userProblemTableKeys.all,"byTableId",e],columns:()=>[...userProblemTableKeys.all,"columns"],columnTypes:e=>[...userProblemTableKeys.columns(),e],relations:()=>[...userProblemTableKeys.all,"relations"],relationsByProblemId:e=>[...userProblemTableKeys.relations(),e],ddlScript:e=>[...userProblemTableKeys.all,"ddlScript",e],withRelations:()=>[...userProblemTableKeys.all,"withRelations"]},DEFAULT_PROBLEM_TEMPLATE=`
<h1>Problem Statement</h1>
<p>Describe in plain English what the candidate needs to do.</p>
<p>Example: Given a <code>sales</code> table containing daily transactions, write a query to find the top 3 products by total revenue in Q1 2025.</p>

<h1>Expected Results</h1>
<p>The result should have the following columns</p>
<ul>
  <li><p>id - Product id</p></li>
  <li><p>name - Product name</p></li>
  <li><p>revenue - total revenue</p></li>
</ul>

<h1>Schema & Sample Data</h1>
<pre><code class="language-sql" linenumbers="true" tabsize="2">
CREATE TABLE sales (
  id          INT PRIMARY KEY,
  product_id  INT,
  sale_date   DATE,
  quantity    INT,
  unit_price  DECIMAL(10,2)
);

CREATE TABLE products (
  id   INT PRIMARY KEY,
  name TEXT
);
</code></pre>

<h2>OR</h2>

<table style="border: 1px solid #000; border-collapse: collapse; width: 100%;">
  <thead>
    <tr>
      <th colspan="2" style="border: 1px solid #000; padding: 8px;"><strong>sales</strong></th>
    </tr>
    <tr>
      <th style="border: 1px solid #000; padding: 8px;">Column</th>
      <th style="border: 1px solid #000; padding: 8px;">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">id</td>
      <td style="border: 1px solid #000; padding: 8px;">INT</td>
    </tr>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">product_id</td>
      <td style="border: 1px solid #000; padding: 8px;">INT</td>
    </tr>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">sale_date</td>
      <td style="border: 1px solid #000; padding: 8px;">DATE</td>
    </tr>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">quantity</td>
      <td style="border: 1px solid #000; padding: 8px;">INT</td>
    </tr>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">unit_price</td>
      <td style="border: 1px solid #000; padding: 8px;">DECIMAL(10,2)</td>
    </tr>
  </tbody>
</table>

<table style="border: 1px solid #000; border-collapse: collapse; width: 100%; margin-top: 20px;">
  <thead>
    <tr>
      <th colspan="2" style="border: 1px solid #000; padding: 8px;"><strong>products</strong></th>
    </tr>
    <tr>
      <th style="border: 1px solid #000; padding: 8px;">Column</th>
      <th style="border: 1px solid #000; padding: 8px;">Type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">id</td>
      <td style="border: 1px solid #000; padding: 8px;">INT</td>
    </tr>
    <tr>
      <td style="border: 1px solid #000; padding: 8px;">name</td>
      <td style="border: 1px solid #000; padding: 8px;">TEXT</td>
    </tr>
  </tbody>
</table>
`;var papaparse_min={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,rr){((ir,lr)=>{e.exports=lr()})(commonjsGlobal,function ir(){var lr=typeof self<"u"?self:typeof window<"u"?window:lr!==void 0?lr:{},dr,fr=!lr.document&&!!lr.postMessage,mr=lr.IS_PAPA_WORKER||!1,hr={},gr=0,xr={};function _r(Lr){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(zr){var Gr=Dr(zr);Gr.chunkSize=parseInt(Gr.chunkSize),zr.step||zr.chunk||(Gr.chunkSize=null),this._handle=new wr(Gr),(this._handle.streamer=this)._config=Gr}.call(this,Lr),this.parseChunk=function(zr,Gr){var Jr=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<Jr){let Jn=this._config.newline;Jn||(Yn=this._config.quoteChar||'"',Jn=this._handle.guessLineEndings(zr,Yn)),zr=[...zr.split(Jn).slice(Jr)].join(Jn)}this.isFirstChunk&&Fr(this._config.beforeFirstChunk)&&(Yn=this._config.beforeFirstChunk(zr))!==void 0&&(zr=Yn),this.isFirstChunk=!1,this._halted=!1;var Jr=this._partialLine+zr,Yn=(this._partialLine="",this._handle.parse(Jr,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(zr=Yn.meta.cursor,Jr=(this._finished||(this._partialLine=Jr.substring(zr-this._baseIndex),this._baseIndex=zr),Yn&&Yn.data&&(this._rowCount+=Yn.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),mr)lr.postMessage({results:Yn,workerId:xr.WORKER_ID,finished:Jr});else if(Fr(this._config.chunk)&&!Gr){if(this._config.chunk(Yn,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=Yn=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Yn.data),this._completeResults.errors=this._completeResults.errors.concat(Yn.errors),this._completeResults.meta=Yn.meta),this._completed||!Jr||!Fr(this._config.complete)||Yn&&Yn.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Jr||Yn&&Yn.meta.paused||this._nextChunk(),Yn}this._halted=!0},this._sendError=function(zr){Fr(this._config.error)?this._config.error(zr):mr&&this._config.error&&lr.postMessage({workerId:xr.WORKER_ID,error:zr,finished:!1})}}function yr(Lr){var zr;(Lr=Lr||{}).chunkSize||(Lr.chunkSize=xr.RemoteChunkSize),_r.call(this,Lr),this._nextChunk=fr?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Gr){this._input=Gr,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(zr=new XMLHttpRequest,this._config.withCredentials&&(zr.withCredentials=this._config.withCredentials),fr||(zr.onload=Or(this._chunkLoaded,this),zr.onerror=Or(this._chunkError,this)),zr.open(this._config.downloadRequestBody?"POST":"GET",this._input,!fr),this._config.downloadRequestHeaders){var Gr,Jr=this._config.downloadRequestHeaders;for(Gr in Jr)zr.setRequestHeader(Gr,Jr[Gr])}var Yn;this._config.chunkSize&&(Yn=this._start+this._config.chunkSize-1,zr.setRequestHeader("Range","bytes="+this._start+"-"+Yn));try{zr.send(this._config.downloadRequestBody)}catch(Jn){this._chunkError(Jn.message)}fr&&zr.status===0&&this._chunkError()}},this._chunkLoaded=function(){zr.readyState===4&&(zr.status<200||400<=zr.status?this._chunkError():(this._start+=this._config.chunkSize||zr.responseText.length,this._finished=!this._config.chunkSize||this._start>=(Gr=>(Gr=Gr.getResponseHeader("Content-Range"))!==null?parseInt(Gr.substring(Gr.lastIndexOf("/")+1)):-1)(zr),this.parseChunk(zr.responseText)))},this._chunkError=function(Gr){Gr=zr.statusText||Gr,this._sendError(new Error(Gr))}}function vr(Lr){(Lr=Lr||{}).chunkSize||(Lr.chunkSize=xr.LocalChunkSize),_r.call(this,Lr);var zr,Gr,Jr=typeof FileReader<"u";this.stream=function(Yn){this._input=Yn,Gr=Yn.slice||Yn.webkitSlice||Yn.mozSlice,Jr?((zr=new FileReader).onload=Or(this._chunkLoaded,this),zr.onerror=Or(this._chunkError,this)):zr=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Yn=this._input,Jn=(this._config.chunkSize&&(Jn=Math.min(this._start+this._config.chunkSize,this._input.size),Yn=Gr.call(Yn,this._start,Jn)),zr.readAsText(Yn,this._config.encoding));Jr||this._chunkLoaded({target:{result:Jn}})},this._chunkLoaded=function(Yn){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Yn.target.result)},this._chunkError=function(){this._sendError(zr.error)}}function br(Lr){var zr;_r.call(this,Lr=Lr||{}),this.stream=function(Gr){return zr=Gr,this._nextChunk()},this._nextChunk=function(){var Gr,Jr;if(!this._finished)return Gr=this._config.chunkSize,zr=Gr?(Jr=zr.substring(0,Gr),zr.substring(Gr)):(Jr=zr,""),this._finished=!zr,this.parseChunk(Jr)}}function Sr(Lr){_r.call(this,Lr=Lr||{});var zr=[],Gr=!0,Jr=!1;this.pause=function(){_r.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){_r.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Yn){this._input=Yn,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){Jr&&zr.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),zr.length?this.parseChunk(zr.shift()):Gr=!0},this._streamData=Or(function(Yn){try{zr.push(typeof Yn=="string"?Yn:Yn.toString(this._config.encoding)),Gr&&(Gr=!1,this._checkIsFinished(),this.parseChunk(zr.shift()))}catch(Jn){this._streamError(Jn)}},this),this._streamError=Or(function(Yn){this._streamCleanUp(),this._sendError(Yn)},this),this._streamEnd=Or(function(){this._streamCleanUp(),Jr=!0,this._streamData("")},this),this._streamCleanUp=Or(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function wr(Lr){var zr,Gr,Jr,Yn,Jn=Math.pow(2,53),Zn=-Jn,Hn=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Kn=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,qn=this,Qr=0,$n=0,es=!1,Xn=!1,rs=[],ns={data:[],errors:[],meta:{}};function ls(hs){return Lr.skipEmptyLines==="greedy"?hs.join("").trim()==="":hs.length===1&&hs[0].length===0}function ss(){if(ns&&Jr&&(us("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+xr.DefaultDelimiter+"'"),Jr=!1),Lr.skipEmptyLines&&(ns.data=ns.data.filter(function(ms){return!ls(ms)})),as()){let ms=function(_s,Es){Fr(Lr.transformHeader)&&(_s=Lr.transformHeader(_s,Es)),rs.push(_s)};if(ns)if(Array.isArray(ns.data[0])){for(var hs=0;as()&&hs<ns.data.length;hs++)ns.data[hs].forEach(ms);ns.data.splice(0,1)}else ns.data.forEach(ms)}function gs(ms,_s){for(var Es=Lr.header?{}:[],vs=0;vs<ms.length;vs++){var ws=vs,Rs=ms[vs],Rs=((Ss,ps)=>(ys=>(Lr.dynamicTypingFunction&&Lr.dynamicTyping[ys]===void 0&&(Lr.dynamicTyping[ys]=Lr.dynamicTypingFunction(ys)),(Lr.dynamicTyping[ys]||Lr.dynamicTyping)===!0))(Ss)?ps==="true"||ps==="TRUE"||ps!=="false"&&ps!=="FALSE"&&((ys=>{if(Hn.test(ys)&&(ys=parseFloat(ys),Zn<ys&&ys<Jn))return 1})(ps)?parseFloat(ps):Kn.test(ps)?new Date(ps):ps===""?null:ps):ps)(ws=Lr.header?vs>=rs.length?"__parsed_extra":rs[vs]:ws,Rs=Lr.transform?Lr.transform(Rs,ws):Rs);ws==="__parsed_extra"?(Es[ws]=Es[ws]||[],Es[ws].push(Rs)):Es[ws]=Rs}return Lr.header&&(vs>rs.length?us("FieldMismatch","TooManyFields","Too many fields: expected "+rs.length+" fields but parsed "+vs,$n+_s):vs<rs.length&&us("FieldMismatch","TooFewFields","Too few fields: expected "+rs.length+" fields but parsed "+vs,$n+_s)),Es}var xs;ns&&(Lr.header||Lr.dynamicTyping||Lr.transform)&&(xs=1,!ns.data.length||Array.isArray(ns.data[0])?(ns.data=ns.data.map(gs),xs=ns.data.length):ns.data=gs(ns.data,0),Lr.header&&ns.meta&&(ns.meta.fields=rs),$n+=xs)}function as(){return Lr.header&&rs.length===0}function us(hs,gs,xs,ms){hs={type:hs,code:gs,message:xs},ms!==void 0&&(hs.row=ms),ns.errors.push(hs)}Fr(Lr.step)&&(Yn=Lr.step,Lr.step=function(hs){ns=hs,as()?ss():(ss(),ns.data.length!==0&&(Qr+=hs.data.length,Lr.preview&&Qr>Lr.preview?Gr.abort():(ns.data=ns.data[0],Yn(ns,qn))))}),this.parse=function(hs,gs,xs){var ms=Lr.quoteChar||'"',ms=(Lr.newline||(Lr.newline=this.guessLineEndings(hs,ms)),Jr=!1,Lr.delimiter?Fr(Lr.delimiter)&&(Lr.delimiter=Lr.delimiter(hs),ns.meta.delimiter=Lr.delimiter):((ms=((_s,Es,vs,ws,Rs)=>{var Ss,ps,ys,Cs;Rs=Rs||[",","	","|",";",xr.RECORD_SEP,xr.UNIT_SEP];for(var Ms=0;Ms<Rs.length;Ms++){for(var ds,ks=Rs[Ms],cs=0,bs=0,Ts=0,Ps=(ys=void 0,new kr({comments:ws,delimiter:ks,newline:Es,preview:10}).parse(_s)),Is=0;Is<Ps.data.length;Is++)vs&&ls(Ps.data[Is])?Ts++:(ds=Ps.data[Is].length,bs+=ds,ys===void 0?ys=ds:0<ds&&(cs+=Math.abs(ds-ys),ys=ds));0<Ps.data.length&&(bs/=Ps.data.length-Ts),(ps===void 0||cs<=ps)&&(Cs===void 0||Cs<bs)&&1.99<bs&&(ps=cs,Ss=ks,Cs=bs)}return{successful:!!(Lr.delimiter=Ss),bestDelimiter:Ss}})(hs,Lr.newline,Lr.skipEmptyLines,Lr.comments,Lr.delimitersToGuess)).successful?Lr.delimiter=ms.bestDelimiter:(Jr=!0,Lr.delimiter=xr.DefaultDelimiter),ns.meta.delimiter=Lr.delimiter),Dr(Lr));return Lr.preview&&Lr.header&&ms.preview++,zr=hs,Gr=new kr(ms),ns=Gr.parse(zr,gs,xs),ss(),es?{meta:{paused:!0}}:ns||{meta:{paused:!1}}},this.paused=function(){return es},this.pause=function(){es=!0,Gr.abort(),zr=Fr(Lr.chunk)?"":zr.substring(Gr.getCharIndex())},this.resume=function(){qn.streamer._halted?(es=!1,qn.streamer.parseChunk(zr,!0)):setTimeout(qn.resume,3)},this.aborted=function(){return Xn},this.abort=function(){Xn=!0,Gr.abort(),ns.meta.aborted=!0,Fr(Lr.complete)&&Lr.complete(ns),zr=""},this.guessLineEndings=function(_s,ms){_s=_s.substring(0,1048576);var ms=new RegExp(Mr(ms)+"([^]*?)"+Mr(ms),"gm"),xs=(_s=_s.replace(ms,"")).split("\r"),ms=_s.split(`
`),_s=1<ms.length&&ms[0].length<xs[0].length;if(xs.length===1||_s)return`
`;for(var Es=0,vs=0;vs<xs.length;vs++)xs[vs][0]===`
`&&Es++;return Es>=xs.length/2?`\r
`:"\r"}}function Mr(Lr){return Lr.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function kr(Lr){var zr=(Lr=Lr||{}).delimiter,Gr=Lr.newline,Jr=Lr.comments,Yn=Lr.step,Jn=Lr.preview,Zn=Lr.fastMode,Hn=null,Kn=!1,qn=Lr.quoteChar==null?'"':Lr.quoteChar,Qr=qn;if(Lr.escapeChar!==void 0&&(Qr=Lr.escapeChar),(typeof zr!="string"||-1<xr.BAD_DELIMITERS.indexOf(zr))&&(zr=","),Jr===zr)throw new Error("Comment character same as delimiter");Jr===!0?Jr="#":(typeof Jr!="string"||-1<xr.BAD_DELIMITERS.indexOf(Jr))&&(Jr=!1),Gr!==`
`&&Gr!=="\r"&&Gr!==`\r
`&&(Gr=`
`);var $n=0,es=!1;this.parse=function(Xn,rs,ns){if(typeof Xn!="string")throw new Error("Input must be a string");var ls=Xn.length,ss=zr.length,as=Gr.length,us=Jr.length,hs=Fr(Yn),gs=[],xs=[],ms=[],_s=$n=0;if(!Xn)return cs();if(Zn||Zn!==!1&&Xn.indexOf(qn)===-1){for(var Es=Xn.split(Gr),vs=0;vs<Es.length;vs++){if(ms=Es[vs],$n+=ms.length,vs!==Es.length-1)$n+=Gr.length;else if(ns)return cs();if(!Jr||ms.substring(0,us)!==Jr){if(hs){if(gs=[],Cs(ms.split(zr)),bs(),es)return cs()}else Cs(ms.split(zr));if(Jn&&Jn<=vs)return gs=gs.slice(0,Jn),cs(!0)}}return cs()}for(var ws=Xn.indexOf(zr,$n),Rs=Xn.indexOf(Gr,$n),Ss=new RegExp(Mr(Qr)+Mr(qn),"g"),ps=Xn.indexOf(qn,$n);;)if(Xn[$n]===qn)for(ps=$n,$n++;;){if((ps=Xn.indexOf(qn,ps+1))===-1)return ns||xs.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:gs.length,index:$n}),ds();if(ps===ls-1)return ds(Xn.substring($n,ps).replace(Ss,qn));if(qn===Qr&&Xn[ps+1]===Qr)ps++;else if(qn===Qr||ps===0||Xn[ps-1]!==Qr){ws!==-1&&ws<ps+1&&(ws=Xn.indexOf(zr,ps+1));var ys=Ms((Rs=Rs!==-1&&Rs<ps+1?Xn.indexOf(Gr,ps+1):Rs)===-1?ws:Math.min(ws,Rs));if(Xn.substr(ps+1+ys,ss)===zr){ms.push(Xn.substring($n,ps).replace(Ss,qn)),Xn[$n=ps+1+ys+ss]!==qn&&(ps=Xn.indexOf(qn,$n)),ws=Xn.indexOf(zr,$n),Rs=Xn.indexOf(Gr,$n);break}if(ys=Ms(Rs),Xn.substring(ps+1+ys,ps+1+ys+as)===Gr){if(ms.push(Xn.substring($n,ps).replace(Ss,qn)),ks(ps+1+ys+as),ws=Xn.indexOf(zr,$n),ps=Xn.indexOf(qn,$n),hs&&(bs(),es))return cs();if(Jn&&gs.length>=Jn)return cs(!0);break}xs.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:gs.length,index:$n}),ps++}}else if(Jr&&ms.length===0&&Xn.substring($n,$n+us)===Jr){if(Rs===-1)return cs();$n=Rs+as,Rs=Xn.indexOf(Gr,$n),ws=Xn.indexOf(zr,$n)}else if(ws!==-1&&(ws<Rs||Rs===-1))ms.push(Xn.substring($n,ws)),$n=ws+ss,ws=Xn.indexOf(zr,$n);else{if(Rs===-1)break;if(ms.push(Xn.substring($n,Rs)),ks(Rs+as),hs&&(bs(),es))return cs();if(Jn&&gs.length>=Jn)return cs(!0)}return ds();function Cs(Ts){gs.push(Ts),_s=$n}function Ms(Ts){var Ps=0;return Ps=Ts!==-1&&(Ts=Xn.substring(ps+1,Ts))&&Ts.trim()===""?Ts.length:Ps}function ds(Ts){return ns||(Ts===void 0&&(Ts=Xn.substring($n)),ms.push(Ts),$n=ls,Cs(ms),hs&&bs()),cs()}function ks(Ts){$n=Ts,Cs(ms),ms=[],Rs=Xn.indexOf(Gr,$n)}function cs(Ts){if(Lr.header&&!rs&&gs.length&&!Kn){var Ps=gs[0],Is=Object.create(null),js=new Set(Ps);let Ds=!1;for(let $s=0;$s<Ps.length;$s++){let Fs=Ps[$s];if(Is[Fs=Fr(Lr.transformHeader)?Lr.transformHeader(Fs,$s):Fs]){let As,qs=Is[Fs];for(;As=Fs+"_"+qs,qs++,js.has(As););js.add(As),Ps[$s]=As,Is[Fs]++,Ds=!0,(Hn=Hn===null?{}:Hn)[As]=Fs}else Is[Fs]=1,Ps[$s]=Fs;js.add(Fs)}Ds&&console.warn("Duplicate headers found and renamed."),Kn=!0}return{data:gs,errors:xs,meta:{delimiter:zr,linebreak:Gr,aborted:es,truncated:!!Ts,cursor:_s+(rs||0),renamedHeaders:Hn}}}function bs(){Yn(cs()),gs=[],xs=[]}},this.abort=function(){es=!0},this.getCharIndex=function(){return $n}}function Ar(Lr){var zr=Lr.data,Gr=hr[zr.workerId],Jr=!1;if(zr.error)Gr.userError(zr.error,zr.file);else if(zr.results&&zr.results.data){var Yn={abort:function(){Jr=!0,Ir(zr.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:$r,resume:$r};if(Fr(Gr.userStep)){for(var Jn=0;Jn<zr.results.data.length&&(Gr.userStep({data:zr.results.data[Jn],errors:zr.results.errors,meta:zr.results.meta},Yn),!Jr);Jn++);delete zr.results}else Fr(Gr.userChunk)&&(Gr.userChunk(zr.results,Yn,zr.file),delete zr.results)}zr.finished&&!Jr&&Ir(zr.workerId,zr.results)}function Ir(Lr,zr){var Gr=hr[Lr];Fr(Gr.userComplete)&&Gr.userComplete(zr),Gr.terminate(),delete hr[Lr]}function $r(){throw new Error("Not implemented.")}function Dr(Lr){if(typeof Lr!="object"||Lr===null)return Lr;var zr,Gr=Array.isArray(Lr)?[]:{};for(zr in Lr)Gr[zr]=Dr(Lr[zr]);return Gr}function Or(Lr,zr){return function(){Lr.apply(zr,arguments)}}function Fr(Lr){return typeof Lr=="function"}return xr.parse=function(Lr,zr){var Gr=(zr=zr||{}).dynamicTyping||!1;if(Fr(Gr)&&(zr.dynamicTypingFunction=Gr,Gr={}),zr.dynamicTyping=Gr,zr.transform=!!Fr(zr.transform)&&zr.transform,!zr.worker||!xr.WORKERS_SUPPORTED)return Gr=null,xr.NODE_STREAM_INPUT,typeof Lr=="string"?(Lr=(Jr=>Jr.charCodeAt(0)!==65279?Jr:Jr.slice(1))(Lr),Gr=new(zr.download?yr:br)(zr)):Lr.readable===!0&&Fr(Lr.read)&&Fr(Lr.on)?Gr=new Sr(zr):(lr.File&&Lr instanceof File||Lr instanceof Object)&&(Gr=new vr(zr)),Gr.stream(Lr);(Gr=(()=>{var Jr;return!!xr.WORKERS_SUPPORTED&&(Jr=(()=>{var Yn=lr.URL||lr.webkitURL||null,Jn=ir.toString();return xr.BLOB_URL||(xr.BLOB_URL=Yn.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Jn,")();"],{type:"text/javascript"})))})(),(Jr=new lr.Worker(Jr)).onmessage=Ar,Jr.id=gr++,hr[Jr.id]=Jr)})()).userStep=zr.step,Gr.userChunk=zr.chunk,Gr.userComplete=zr.complete,Gr.userError=zr.error,zr.step=Fr(zr.step),zr.chunk=Fr(zr.chunk),zr.complete=Fr(zr.complete),zr.error=Fr(zr.error),delete zr.worker,Gr.postMessage({input:Lr,config:zr,workerId:Gr.id})},xr.unparse=function(Lr,zr){var Gr=!1,Jr=!0,Yn=",",Jn=`\r
`,Zn='"',Hn=Zn+Zn,Kn=!1,qn=null,Qr=!1,$n=((()=>{if(typeof zr=="object"){if(typeof zr.delimiter!="string"||xr.BAD_DELIMITERS.filter(function(rs){return zr.delimiter.indexOf(rs)!==-1}).length||(Yn=zr.delimiter),typeof zr.quotes!="boolean"&&typeof zr.quotes!="function"&&!Array.isArray(zr.quotes)||(Gr=zr.quotes),typeof zr.skipEmptyLines!="boolean"&&typeof zr.skipEmptyLines!="string"||(Kn=zr.skipEmptyLines),typeof zr.newline=="string"&&(Jn=zr.newline),typeof zr.quoteChar=="string"&&(Zn=zr.quoteChar),typeof zr.header=="boolean"&&(Jr=zr.header),Array.isArray(zr.columns)){if(zr.columns.length===0)throw new Error("Option columns is empty");qn=zr.columns}zr.escapeChar!==void 0&&(Hn=zr.escapeChar+Zn),zr.escapeFormulae instanceof RegExp?Qr=zr.escapeFormulae:typeof zr.escapeFormulae=="boolean"&&zr.escapeFormulae&&(Qr=/^[=+\-@\t\r].*$/)}})(),new RegExp(Mr(Zn),"g"));if(typeof Lr=="string"&&(Lr=JSON.parse(Lr)),Array.isArray(Lr)){if(!Lr.length||Array.isArray(Lr[0]))return es(null,Lr,Kn);if(typeof Lr[0]=="object")return es(qn||Object.keys(Lr[0]),Lr,Kn)}else if(typeof Lr=="object")return typeof Lr.data=="string"&&(Lr.data=JSON.parse(Lr.data)),Array.isArray(Lr.data)&&(Lr.fields||(Lr.fields=Lr.meta&&Lr.meta.fields||qn),Lr.fields||(Lr.fields=Array.isArray(Lr.data[0])?Lr.fields:typeof Lr.data[0]=="object"?Object.keys(Lr.data[0]):[]),Array.isArray(Lr.data[0])||typeof Lr.data[0]=="object"||(Lr.data=[Lr.data])),es(Lr.fields||[],Lr.data||[],Kn);throw new Error("Unable to serialize unrecognized input");function es(rs,ns,ls){var ss="",as=(typeof rs=="string"&&(rs=JSON.parse(rs)),typeof ns=="string"&&(ns=JSON.parse(ns)),Array.isArray(rs)&&0<rs.length),us=!Array.isArray(ns[0]);if(as&&Jr){for(var hs=0;hs<rs.length;hs++)0<hs&&(ss+=Yn),ss+=Xn(rs[hs],hs);0<ns.length&&(ss+=Jn)}for(var gs=0;gs<ns.length;gs++){var xs=(as?rs:ns[gs]).length,ms=!1,_s=as?Object.keys(ns[gs]).length===0:ns[gs].length===0;if(ls&&!as&&(ms=ls==="greedy"?ns[gs].join("").trim()==="":ns[gs].length===1&&ns[gs][0].length===0),ls==="greedy"&&as){for(var Es=[],vs=0;vs<xs;vs++){var ws=us?rs[vs]:vs;Es.push(ns[gs][ws])}ms=Es.join("").trim()===""}if(!ms){for(var Rs=0;Rs<xs;Rs++){0<Rs&&!_s&&(ss+=Yn);var Ss=as&&us?rs[Rs]:Rs;ss+=Xn(ns[gs][Ss],Rs)}gs<ns.length-1&&(!ls||0<xs&&!_s)&&(ss+=Jn)}}return ss}function Xn(rs,ns){var ls,ss;return rs==null?"":rs.constructor===Date?JSON.stringify(rs).slice(1,25):(ss=!1,Qr&&typeof rs=="string"&&Qr.test(rs)&&(rs="'"+rs,ss=!0),ls=rs.toString().replace($n,Hn),(ss=ss||Gr===!0||typeof Gr=="function"&&Gr(rs,ns)||Array.isArray(Gr)&&Gr[ns]||((as,us)=>{for(var hs=0;hs<us.length;hs++)if(-1<as.indexOf(us[hs]))return!0;return!1})(ls,xr.BAD_DELIMITERS)||-1<ls.indexOf(Yn)||ls.charAt(0)===" "||ls.charAt(ls.length-1)===" ")?Zn+ls+Zn:ls)}},xr.RECORD_SEP="",xr.UNIT_SEP="",xr.BYTE_ORDER_MARK="\uFEFF",xr.BAD_DELIMITERS=["\r",`
`,'"',xr.BYTE_ORDER_MARK],xr.WORKERS_SUPPORTED=!fr&&!!lr.Worker,xr.NODE_STREAM_INPUT=1,xr.LocalChunkSize=10485760,xr.RemoteChunkSize=5242880,xr.DefaultDelimiter=",",xr.Parser=kr,xr.ParserHandle=wr,xr.NetworkStreamer=yr,xr.FileStreamer=vr,xr.StringStreamer=br,xr.ReadableStreamStreamer=Sr,lr.jQuery&&((dr=lr.jQuery).fn.parse=function(Lr){var zr=Lr.config||{},Gr=[];return this.each(function(Jn){if(!(dr(this).prop("tagName").toUpperCase()==="INPUT"&&dr(this).attr("type").toLowerCase()==="file"&&lr.FileReader)||!this.files||this.files.length===0)return!0;for(var Zn=0;Zn<this.files.length;Zn++)Gr.push({file:this.files[Zn],inputElem:this,instanceConfig:dr.extend({},zr)})}),Jr(),this;function Jr(){if(Gr.length===0)Fr(Lr.complete)&&Lr.complete();else{var Jn,Zn,Hn,Kn,qn=Gr[0];if(Fr(Lr.before)){var Qr=Lr.before(qn.file,qn.inputElem);if(typeof Qr=="object"){if(Qr.action==="abort")return Jn="AbortError",Zn=qn.file,Hn=qn.inputElem,Kn=Qr.reason,void(Fr(Lr.error)&&Lr.error({name:Jn},Zn,Hn,Kn));if(Qr.action==="skip")return void Yn();typeof Qr.config=="object"&&(qn.instanceConfig=dr.extend(qn.instanceConfig,Qr.config))}else if(Qr==="skip")return void Yn()}var $n=qn.instanceConfig.complete;qn.instanceConfig.complete=function(es){Fr($n)&&$n(es,qn.file,qn.inputElem),Yn()},xr.parse(qn.file,qn.instanceConfig)}}function Yn(){Gr.splice(0,1),Jr()}}),mr&&(lr.onmessage=function(Lr){Lr=Lr.data,xr.WORKER_ID===void 0&&Lr&&(xr.WORKER_ID=Lr.workerId),typeof Lr.input=="string"?lr.postMessage({workerId:xr.WORKER_ID,results:xr.parse(Lr.input,Lr.config),finished:!0}):(lr.File&&Lr.input instanceof File||Lr.input instanceof Object)&&(Lr=xr.parse(Lr.input,Lr.config))&&lr.postMessage({workerId:xr.WORKER_ID,results:Lr,finished:!0})}),(yr.prototype=Object.create(_r.prototype)).constructor=yr,(vr.prototype=Object.create(_r.prototype)).constructor=vr,(br.prototype=Object.create(br.prototype)).constructor=br,(Sr.prototype=Object.create(_r.prototype)).constructor=Sr,xr})})(papaparse_min);var papaparse_minExports=papaparse_min.exports;const Papa=getDefaultExportFromCjs$1(papaparse_minExports);async function downloadAndParseCsv(e,rr="tables",ir={}){const lr={header:!0,skipEmptyLines:!0,dynamicTyping:!0,...ir},{data:dr,error:fr}=await supabase.storage.from(rr).download(e);if(fr)throw new Error(`Failed to download CSV file from ${rr}/${e}: ${fr.message||"No data returned"}`);const mr=await dr.text(),hr=Papa.parse(mr,lr);return{data:(hr.data||[]).filter(xr=>!!xr&&typeof xr=="object"&&Object.keys(xr).length>0),errors:hr.errors||[],meta:hr.meta}}async function downloadAndParseCsvSafe(e,rr="tables",ir={},lr){try{const dr=await downloadAndParseCsv(e,rr,ir);if(dr.errors.length>0){const fr=dr.errors.map(hr=>hr.message).join(", "),mr=lr?` for table ${lr}`:"";console.warn(`CSV parse warnings${mr}:`,fr)}return dr}catch(dr){const fr=lr?` for table ${lr}`:"";return console.error(`Error downloading/parsing CSV${fr}:`,dr),null}}const PROBLEM_EXECUTE_SQL_MUTATION_KEY="problem-execute-sql-mutation-key",userProblemDetailQueryOptions=(e,rr,ir)=>({queryKey:ir?.columns?[...userProblemKeys.detail(e),{select:ir.columns}]:userProblemKeys.detail(e),queryFn:async()=>{const lr=ir?.columns&&ir.columns.length>0?ir.columns.join(","):"*",{data:dr,error:fr}=await supabase.from("user_problems").select(lr).eq("id",e).eq("user_id",rr).single();if(fr){if(fr.code==="PGRST116")return null;throw new Error(fr.message)}return dr},retry:(lr,dr)=>dr.message.includes("PGRST116")?!1:lr<3}),createNewUserProblem=async(e,rr)=>{const{data:ir,error:lr}=await supabase.from("user_problems").upsert({id:e,name:"Untitled",description:DEFAULT_PROBLEM_TEMPLATE,user_id:rr}).select().single();if(lr)throw new Error(lr.message);return ir},useAutoSaveUserProblemName=()=>{const e=useQueryClient();return useMutation({mutationFn:async({id:rr,name:ir})=>{const{data:lr,error:dr}=await supabase.from("user_problems").update({name:ir}).eq("id",rr).select("*").single();if(dr)throw new Error(dr.message);return lr},onMutate:async({id:rr,name:ir})=>{await e.cancelQueries({queryKey:userProblemKeys.detail(rr)});const lr=e.getQueryData(userProblemKeys.detail(rr));return e.setQueryData(userProblemKeys.detail(rr),dr=>dr?{...dr,name:ir}:void 0),{previousData:lr}},onError:(rr,ir,lr)=>{e.setQueryData(userProblemKeys.detail(ir.id),lr?.previousData)},onSuccess:(rr,ir)=>{e.setQueryData(userProblemKeys.detail(ir.id),rr),e.invalidateQueries({queryKey:myProblemKeys.all})}})},useAutoSaveUserProblemContent=()=>{const e=useQueryClient();return useMutation({mutationFn:async({id:rr,content:ir})=>{const{data:lr,error:dr}=await supabase.from("user_problems").update({description:ir}).eq("id",rr).select("*").single();if(dr)throw new Error(dr.message);return lr},onMutate:async({id:rr,content:ir})=>{await e.cancelQueries({queryKey:userProblemKeys.detail(rr)});const lr=e.getQueryData(userProblemKeys.detail(rr));return e.setQueryData(userProblemKeys.detail(rr),dr=>dr?{...dr,description:ir}:void 0),{previousData:lr}},onError:(rr,ir,lr)=>{e.setQueryData(userProblemKeys.detail(ir.id),lr?.previousData)},onSuccess:(rr,ir)=>{e.setQueryData(userProblemKeys.detail(ir.id),rr),e.invalidateQueries({queryKey:myProblemKeys.all})}})},userProblemTablesColumnTypesQueryOptions=e=>({queryKey:userProblemTableKeys.metadataByProblemId(e),queryFn:async()=>{const{data:rr,error:ir}=await supabase.from("user_problem_tables").select("id, table_name, column_types, number_of_rows, description, relations, data_path").eq("user_problem_id",e);if(ir)throw showErrorNotification({title:"Failed to fetch problem tables",message:ir.message}),new Error(ir.message);return rr.map(lr=>({tableId:lr.id,tableName:lr.table_name,columnTypes:lr.column_types,numberOfRows:lr.number_of_rows,description:lr.description,relations:lr.relations,dataPath:lr.data_path}))},retry:(rr,ir)=>ir.message.includes("PGRST116")?!1:rr<3}),useExecuteSQLMutation=()=>useMutation({mutationKey:[PROBLEM_EXECUTE_SQL_MUTATION_KEY],mutationFn:async({podName:e,dialect:rr,sql:ir})=>{const lr=await api.problems.execute.$post({json:{podName:e,sql:ir,dialect:rr}}),dr=await lr.json();if(!lr.ok)throw new Error("Failed to execute SQL");return dr},onError:e=>{showErrorNotification({title:"Failed to execute SQL",message:e.message||"An unknown error occurred"})}}),databaseConnectionQueryOptions=(e,rr)=>({queryKey:["database","connect",e,rr],queryFn:async()=>{const lr=await(await api.problems.connect.$post({json:{problemId:e,dialect:rr}})).json(),{podName:dr}=lr,fr=`${dr}-${rr}`;return{podName:dr,dialect:rr,key:fr}},staleTime:5*60*1e3,gcTime:10*60*1e3});function useFetchUserProblemTableDataMutation(){return useMutation({mutationFn:async e=>{const{data:rr,error:ir}=await supabase.from("user_problem_tables").select("*").eq("id",e).single();if(ir)throw new Error(ir.message);if(!rr.data_path)throw new Error("No data path found");const lr=await downloadAndParseCsv(rr.data_path,"tables");return{...rr,rawData:lr.data,relations:rr.relations,column_types:rr.column_types}},onError:e=>{showErrorNotification({title:"Failed to fetch table data",message:e.message})}})}function useDeleteUserProblemTableMutation(){const e=useQueryClient();return useMutation({mutationFn:async({tableId:rr,problemId:ir})=>{const{data:lr,error:dr}=await supabase.from("user_problem_tables").delete().eq("id",rr).eq("user_problem_id",ir).select().single();if(dr)throw new Error(dr.message);if(lr.data_path){const{error:fr}=await supabase.storage.from("tables").remove([lr.data_path]);if(fr)throw new Error(fr.message)}return lr},onSuccess:rr=>{e.invalidateQueries({queryKey:userProblemTableKeys.metadataByProblemId(rr.user_problem_id)})}})}function useDeleteUserProblemMutation(){const e=useQueryClient();return useMutation({mutationFn:async({problemId:rr})=>{const{data:ir,error:lr}=await supabase.from("user_problem_tables").select("id, data_path").eq("user_problem_id",rr);if(lr)throw new Error("Error fetching problem table details"+lr.message);const dr=ir.map(gr=>gr.data_path);if(dr.length>0){const{error:gr}=await supabase.storage.from("tables").remove(dr);if(gr)throw new Error("Error deleting problem table data"+gr.message)}const fr=ir.map(gr=>gr.id),{error:mr}=await supabase.from("user_problem_tables").delete().in("id",fr);if(mr)throw new Error("Error deleting problem tables"+mr.message);const{error:hr}=await supabase.from("user_problems").delete().eq("id",rr);if(hr)throw new Error("Error deleting problem"+hr.message)},onSettled:(rr,ir,lr)=>{e.invalidateQueries({queryKey:userProblemKeys.detail(lr.problemId)}),e.invalidateQueries({queryKey:userProblemTableKeys.metadataByProblemId(lr.problemId)}),e.invalidateQueries({queryKey:userProblemTableKeys.byProblemId(lr.problemId)}),e.invalidateQueries({queryKey:myProblemKeys.all})}})}const usePrefetchUserProblemTablesColumnTypes=e=>{const rr=useQueryClient();return()=>{rr.prefetchQuery({...userProblemTablesColumnTypesQueryOptions(e)})}},useFetchUserProblemTablesColumnTypes=e=>useSuspenseQuery({...userProblemTablesColumnTypesQueryOptions(e)}),generateUUID=()=>typeof crypto<"u"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const rr=Math.random()*16|0;return(e==="x"?rr:rr&3|8).toString(16)}),problemSearchSchema=z$1.object({id:z$1.string().optional()}),Route$7=createFileRoute("/_admin/admin/problems")({component:RouteComponent$7,validateSearch:zodValidator(problemSearchSchema)});function RouteComponent$7(){const{id:e}=Route$7.useSearch(),[rr,ir]=reactExports.useState({search:void 0,id:e}),[lr]=reactExports.useState({sortOptions:[{sortBy:"created_at",order:"desc"}]});return jsxRuntimeExports.jsxs(Stack,{maw:"80rem",mx:"auto",mt:"2rem",children:[jsxRuntimeExports.jsx(Header,{filters:rr,setFilters:ir}),jsxRuntimeExports.jsx(List,{filters:rr,sorting:lr})]})}function TableSkeleton$1(){return jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",children:jsxRuntimeExports.jsxs(Table,{striped:!0,highlightOnHover:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Problem Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Description"}),jsxRuntimeExports.jsx(Table.Th,{children:"Created At"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:Array.from({length:3}).map((e,rr)=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"80%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"90%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"50%"})})]},rr))})]})})}function Header({filters:e,setFilters:rr}){const ir=reactExports.useCallback(()=>generateUUID(),[]);return jsxRuntimeExports.jsxs(Group,{justify:"space-between",children:[jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(TextInput,{placeholder:"Search problems...",value:e.search??"",onChange:lr=>rr({...e,search:lr.currentTarget.value}),size:"sm",maw:"20rem"}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",children:jsxRuntimeExports.jsx(IconArrowsUpDown,{})}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",children:jsxRuntimeExports.jsx(IconFilter,{})})]}),jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/problem/$id/details",params:{id:ir()},children:jsxRuntimeExports.jsx(Button$1,{children:"New Problem"})})]})}function List({filters:e,sorting:rr}){return jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TableSkeleton$1,{}),children:jsxRuntimeExports.jsx(ListContent,{filters:e,sorting:rr})})}function ListContent({filters:e,sorting:rr}){const{user_id:ir}=useUser(),{mutate:lr}=useDeleteUserProblemMutation(),dr=20,[fr]=useDebouncedValue(e.search,300),mr=e.search===fr?e:{...e,search:fr},[hr,gr]=reactExports.useState(1),{data:xr}=useUserProblemsQuery(ir,mr,rr,dr,hr-1),{items:_r,totalPages:yr}=xr,vr=useNavigate(),{id:br}=Route$7.useSearch(),Sr=useQueryClient(),[wr,{open:Mr,close:kr}]=useDisclosure(),[Ar,Ir]=reactExports.useState(null),$r=Jn=>{if(Jn!==hr){const Zn=Jn-1;Sr.prefetchQuery({queryKey:myProblemKeys.listParams(mr,rr,Zn),queryFn:()=>fetchUserProblemsPage({userId:ir,filters:mr,sorting:rr,pageIndex:Zn,pageSize:dr})})}},Dr=Jn=>{let Zn=null;if(Jn==="next"&&hr<yr?Zn=hr+1:Jn==="previous"&&hr>1?Zn=hr-1:Jn==="first"?Zn=1:Jn==="last"&&(Zn=yr),Zn&&Zn!==hr){const Hn=Zn-1;Sr.prefetchQuery({queryKey:myProblemKeys.listParams(mr,rr,Hn),queryFn:()=>fetchUserProblemsPage({userId:ir,filters:mr,sorting:rr,pageIndex:Hn,pageSize:dr})})}},[Or,Fr]=reactExports.useState(null),Lr=()=>{Fr(null),vr({to:Route$7.to,search:Jn=>{const{id:Zn,...Hn}=Jn;return Hn},replace:!0})},zr=()=>{Lr()},Gr=Jn=>{Ir(Jn),Mr()},Jr=()=>{Ar&&lr({problemId:Ar.id},{onError:Jn=>{showErrorNotification({title:"Failed to delete problem",message:Jn.message})},onSuccess:()=>{zr(),kr(),Ir(null)}})},Yn=()=>{kr(),Ir(null)};return reactExports.useEffect(()=>{gr(1)},[mr.search]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",children:jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,striped:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Problem Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Template"}),jsxRuntimeExports.jsx(Table.Th,{children:"Created At"}),jsxRuntimeExports.jsx(Table.Th,{children:"Action"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:_r.map(Jn=>jsxRuntimeExports.jsxs(Table.Tr,{style:{cursor:"pointer"},onClick:Zn=>{Zn.defaultPrevented||Fr(Jn.id)},children:[jsxRuntimeExports.jsx(Table.Td,{children:Jn.name}),jsxRuntimeExports.jsx(Table.Td,{children:Jn.problems?jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/template-problems",search:{id:Jn.problems.id},size:"sm",children:jsxRuntimeExports.jsx(Button$1,{variant:"light",children:Jn.problems.name})}):"-"}),jsxRuntimeExports.jsx(Table.Td,{children:dayjs(Jn.created_at).format("DD/MM/YYYY")}),jsxRuntimeExports.jsxs(Table.Td,{children:[jsxRuntimeExports.jsx(Button$1,{leftSection:jsxRuntimeExports.jsx(IconEdit,{}),onClick:Zn=>{Zn.preventDefault(),vr({to:"/admin/problem/$id/details",params:{id:Jn.id}})},variant:"light",children:"Edit"}),jsxRuntimeExports.jsx(Button$1,{leftSection:jsxRuntimeExports.jsx(IconTrash,{}),color:"red",ml:10,variant:"light",onClick:Zn=>{Zn.stopPropagation(),Zn.preventDefault(),Gr({id:Jn.id,name:Jn.name})},children:"Delete"})]})]},Jn.id))}),jsxRuntimeExports.jsx(Table.Caption,{children:jsxRuntimeExports.jsx(Group,{justify:"flex-end",children:jsxRuntimeExports.jsx(Pagination,{total:yr,onChange:gr,value:hr,p:"xs",withEdges:!0,getItemProps:Jn=>({onMouseEnter:()=>$r(Jn)}),getControlProps:Jn=>({onMouseEnter:()=>Dr(Jn)})})})})]})}),(()=>{const Jn=Or??br;return Jn?jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingOverlay,{}),children:jsxRuntimeExports.jsx(ProblemPreviewModal,{onClose:Lr,problemId:Jn})}):null})(),jsxRuntimeExports.jsx(DeleteConfirmationModal$1,{isOpened:wr,onClose:Yn,onConfirm:Jr,problemName:Ar?.name})]})}function DeleteConfirmationModal$1({isOpened:e,onClose:rr,onConfirm:ir,problemName:lr}){return jsxRuntimeExports.jsx(Modal,{opened:e,onClose:rr,title:"Confirm Deletion",centered:!0,children:jsxRuntimeExports.jsx(Modal.Body,{p:"0",children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs("p",{children:["Are you sure you want to delete the problem ",jsxRuntimeExports.jsxs("strong",{children:['"',lr,'"']}),"? This action cannot be undone."]}),jsxRuntimeExports.jsxs(Group,{justify:"flex-end",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:rr,children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{color:"red",onClick:ir,children:"Delete"})]})]})})})}function ProblemPreviewModal({onClose:e,problemId:rr}){const{user_id:ir}=useUser(),{data:lr}=useSuspenseQuery(userProblemDetailQueryOptions(rr,ir,{columns:["name","description"]}));return lr?jsxRuntimeExports.jsx(Modal,{opened:!0,onClose:e,size:"auto",title:lr.name,children:jsxRuntimeExports.jsx(Modal.Body,{children:jsxRuntimeExports.jsx(SimpleEditor,{initialContent:lr.description,readonly:!0,styles:{editor:{maxWidth:"1400px",padding:0}},showToolbar:!1})})}):(showErrorNotification({title:"Problem Not Found",message:"The requested problem does not exist."}),e(),null)}const Route$6=createFileRoute("/_admin/admin/dashboard")({component:RouteComponent$6});function RouteComponent$6(){return jsxRuntimeExports.jsx("div",{children:'Hello "/_admin/dashboard"!'})}const assessmentKeys={all:[{scope:"assessments"}],lists:()=>[{...assessmentKeys.all[0],entity:"list"}],byAssesmentId:e=>[{...assessmentKeys.all[0],entity:"detail",id:e}],candidatesByAssessmentId:e=>[{...assessmentKeys.all[0],entity:"candidates",id:e}],infinite:(e,rr,ir)=>[{...assessmentKeys.lists()[0],kind:"infinite",filters:normalizeFilters(e),sorting:rr.sortOptions,pageSize:ir}]};function buildQueries(e,rr){let ir=supabase.from("assessments").select("id",{count:"exact",head:!0}),lr=supabase.from("assessments").select("*, assessment_problems(user_problems(id, name, description))");if(e.name){const dr=`%${e.name.trim()}%`;lr=lr.ilike("name",dr),ir=ir.ilike("name",dr)}return e.users&&e.users.length>0&&(lr=lr.in("userId",e.users),ir=ir.in("userId",e.users)),rr.sortOptions.length>0?rr.sortOptions.forEach(({sortBy:dr,order:fr})=>{lr=lr.order(dr,{ascending:fr==="asc"})}):lr=lr.order("created_at",{ascending:!1}).order("id",{ascending:!1}),{countQuery:ir,dataQuery:lr}}const useFetchAssessmentsInfinite=({filters:e,sorting:rr,pageSize:ir})=>useInfiniteQuery({queryKey:assessmentKeys.infinite(e,rr,ir),initialPageParam:0,queryFn:async({pageParam:lr})=>{const dr=lr,{countQuery:fr,dataQuery:mr}=buildQueries(e,rr),hr=dr*ir,gr=hr+ir-1,xr=mr.range(hr,gr);if(dr===0){const[{count:vr,error:br},{data:Sr,error:wr}]=await Promise.all([fr,xr]);if(br)throw new Error(br.message);if(wr)throw new Error(wr.message);const Mr=vr??0,kr=Math.ceil(Mr/ir);return{items:Sr,totalCount:Mr,totalPages:kr}}const{data:_r,error:yr}=await xr;if(yr)throw new Error(yr.message);return{items:_r}},getNextPageParam:(lr,dr,fr)=>lr.items.length<ir?void 0:fr+1}),useFetchUsers=(e,rr,ir)=>useQuery({enabled:!!e,queryKey:["users",rr],queryFn:async()=>{let lr=supabase.from("users").select("id, email");if(rr){const mr=`%${rr.trim()}%`;lr=lr.ilike("email",mr)}else lr=lr.limit(10);const{data:dr,error:fr}=await lr;if(fr)throw new Error(fr.message);return dr},select:ir}),useCreateAssessmentMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async rr=>{const{data:ir,error:lr}=await supabase.from("assessments").insert(rr).select("id").single();if(lr)throw new Error(lr.message);return ir},onSuccess:()=>{e.invalidateQueries({queryKey:assessmentKeys.all})}})},fetchAssessmentQueryOptions=e=>({queryKey:assessmentKeys.byAssesmentId(e),queryFn:async()=>{const{data:rr,error:ir}=await supabase.from("assessments").select("*, assessment_problems(user_problems(id, name, description))").eq("id",e).single();if(ir&&ir.code==="PGRST116")return null;if(ir)throw new Error(ir.message);return rr}}),useFetchAssessmentById=e=>useSuspenseQuery(fetchAssessmentQueryOptions(e)),useAddAssessmentProblemMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async({assessment:rr,problems:ir})=>{const{data:lr,error:dr}=await supabase.from("assessment_problems").upsert(ir.map(fr=>({assessment_id:rr,problem_id:fr}))).select("assessment_id");if(dr)throw new Error(dr.message);return lr},onSuccess:()=>{e.invalidateQueries({queryKey:assessmentKeys.all})}})},useUpsertAssessmentCandidateMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async rr=>{if(rr.length===0)throw new Error("No candidates provided");const ir=rr[0].assessment_id,{data:lr,error:dr}=await supabase.from("assessment_student_invitations").select("id").eq("assessment_id",ir).limit(1);if(dr)throw new Error(dr.message);if(lr.length>0){const{error:mr}=await supabase.from("assessment_student_invitations").delete().eq("assessment_id",ir);if(mr)throw new Error(mr.message)}const{error:fr}=await supabase.from("assessment_student_invitations").insert(rr).select("assessment_id");if(fr)throw new Error(fr.message);return{assessment_id:ir}},onSuccess:rr=>{e.invalidateQueries({queryKey:assessmentKeys.candidatesByAssessmentId(rr.assessment_id)})}})},useFetchAssessmentCandidateInvitations=e=>useSuspenseQuery({queryKey:assessmentKeys.candidatesByAssessmentId(e),queryFn:async()=>{const{data:rr,error:ir}=await supabase.from("assessment_student_invitations").select("full_name, email, matriculation_number, active").eq("assessment_id",e);if(ir)throw new Error(ir.message);return rr}}),useSendInvitationsMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async rr=>{const ir=await api.invitations.send.$post({json:{assessmentId:rr}});if(!ir.ok){const dr=await ir.text();throw new Error(dr)}return await ir.json()},onSuccess:(rr,ir)=>{e.invalidateQueries({queryKey:assessmentKeys.candidatesByAssessmentId(ir)})}})},useUpdateAssessmentSettingsMutation=()=>{const e=useQueryClient();return useMutation({mutationFn:async({id:rr,dateTimeScheduled:ir,duration:lr})=>{const{data:dr,error:fr}=await supabase.from("assessments").update({date_time_scheduled:ir,duration:Number(lr)}).eq("id",rr).select().single();if(fr)throw new Error(fr.message);return dr},onSuccess:(rr,ir)=>{e.invalidateQueries({queryKey:assessmentKeys.byAssesmentId(ir.id)}),e.invalidateQueries({queryKey:assessmentKeys.all})}})};function TableSkeleton(){return jsxRuntimeExports.jsx(Paper,{withBorder:!0,shadow:"sm",children:jsxRuntimeExports.jsxs(Table,{striped:!0,highlightOnHover:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Problem Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Description"}),jsxRuntimeExports.jsx(Table.Th,{children:"Created At"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:Array.from({length:3}).map((e,rr)=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"80%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"90%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"50%"})})]},rr))})]})})}function Filters({filters:e,setFilters:rr,...ir}){const[lr,dr]=reactExports.useState(void 0),fr=useDebouncedCallback(hr=>{rr({...e,name:hr})},200),mr=hr=>{const gr=hr.currentTarget.value;dr(gr),fr(gr)};return jsxRuntimeExports.jsxs(Paper,{withBorder:!0,p:"md",h:"100%",...ir,children:[jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(Title,{order:3,children:"Filters"}),jsxRuntimeExports.jsx(IconFilter,{})]}),jsxRuntimeExports.jsx(Divider,{my:"xs"}),jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(TextInput,{label:"Search assessment",placeholder:"Search for an assessment",value:lr,onChange:mr}),jsxRuntimeExports.jsx(UserFilter,{filters:e,setFilters:rr})]})]})}function UserFilter({filters:e,setFilters:rr}){const[ir,lr]=reactExports.useState(void 0),[dr]=useDebouncedValue(ir,200),{ref:fr,focused:mr}=useFocusWithin(),{data:hr}=useFetchUsers(mr,dr,_r=>_r.map(yr=>({value:yr.id,label:yr.email}))),gr=({option:_r})=>jsxRuntimeExports.jsx(Group,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",children:jsxRuntimeExports.jsx(Highlight$1,{highlight:ir??"",children:String(_r.label??_r.value)})})}),xr=reactExports.useCallback(_r=>{rr({...e,users:_r})},[e,rr]);return jsxRuntimeExports.jsx(TagsInput,{searchValue:ir,onSearchChange:lr,placeholder:"Search for users",clearable:!0,ref:fr,data:hr,acceptValueOnBlur:!1,renderOption:gr,label:"Filter by users",onChange:xr})}const Route$5=createFileRoute("/_admin/admin/assessments")({component:RouteComponent$5});function RouteComponent$5(){return jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TableSkeleton,{}),children:jsxRuntimeExports.jsx(AssessmentPage,{})})}function AssessmentHeader(){const e=reactExports.useCallback(()=>generateUUID(),[]),{mutate:rr}=useCreateAssessmentMutation(),{user_id:ir}=useUser(),lr=useNavigate(),dr=()=>{const fr={id:e(),name:"Untitled Assessment",duration:60,user_id:ir};rr(fr,{onSuccess:mr=>{lr({to:"/admin/assessment/$id/details",params:{id:mr.id}})}})};return jsxRuntimeExports.jsx(Group,{justify:"flex-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:dr,children:"New Assessment"})})}function AssessmentPage(){const e=useNavigate(),[rr,ir]=reactExports.useState({}),[lr,dr]=reactExports.useState([]),{data:fr,fetchNextPage:mr,hasNextPage:hr,isFetchingNextPage:gr,isLoading:xr,error:_r}=useFetchAssessmentsInfinite({filters:rr,sorting:{sortOptions:[{sortBy:"created_at",order:"desc"}]},pageSize:20}),yr=()=>{const br=document.querySelector("[data-scroll-area-viewport]");if(!br||!hr||gr)return;const{scrollTop:Sr,scrollHeight:wr,clientHeight:Mr}=br;Sr+Mr>=wr-100&&mr()},vr=br=>{e({to:"/admin/assessment/$id/details",params:{id:br}})};return _r?jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(AssessmentHeader,{}),jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Text$2,{c:"red",children:["Error loading assessments: ",_r.message]})})]}):jsxRuntimeExports.jsxs(Stack,{h:"100vh",children:[jsxRuntimeExports.jsx(AssessmentHeader,{}),jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Filters,{filters:rr,setFilters:ir,w:"20rem"}),jsxRuntimeExports.jsx(Stack,{flex:1,children:jsxRuntimeExports.jsx(Paper,{withBorder:!0,children:jsxRuntimeExports.jsxs(ScrollArea,{h:600,onScrollPositionChange:yr,scrollbars:"y",children:[jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,captionSide:"bottom",children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{}),jsxRuntimeExports.jsx(Table.Th,{style:{minWidth:"400px"},children:"Assessment"}),jsxRuntimeExports.jsx(Table.Th,{children:"Not Attempted"}),jsxRuntimeExports.jsx(Table.Th,{children:"Completed"}),jsxRuntimeExports.jsx(Table.Th,{children:"To Evaluate"}),jsxRuntimeExports.jsx(Table.Th,{children:"Action"})]})}),jsxRuntimeExports.jsx(Table.Caption,{children:fr?.pages[0]?.totalCount!==void 0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Showing",fr.pages.flatMap(br=>br.items).length," of",fr.pages[0].totalCount," assessments"]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:xr?jsxRuntimeExports.jsx(Table.Tr,{children:jsxRuntimeExports.jsx(Table.Td,{colSpan:5,children:jsxRuntimeExports.jsx(Center,{py:"xl",children:jsxRuntimeExports.jsx(Loader,{})})})}):fr?.pages.flatMap(br=>br.items).length===0?jsxRuntimeExports.jsx(Table.Tr,{children:jsxRuntimeExports.jsx(Table.Td,{colSpan:5,children:jsxRuntimeExports.jsx(Center,{py:"xl",children:jsxRuntimeExports.jsx(Text$2,{c:"dimmed",children:"No assessments found"})})})}):fr?.pages.flatMap(br=>br.items).map(br=>jsxRuntimeExports.jsxs(Table.Tr,{bg:lr.includes(br.id)?"var(--mantine-color-blue-light)":void 0,style:{cursor:"pointer"},onClick:()=>{dr(Sr=>Sr.includes(br.id)?Sr.filter(wr=>wr!==br.id):[...Sr,br.id])},children:[jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Checkbox,{"aria-label":"Select row",checked:lr.includes(br.id),onChange:Sr=>dr(Sr.currentTarget.checked?[...lr,br.id]:lr.filter(wr=>wr!==br.id)),onClick:Sr=>{Sr.preventDefault(),Sr.stopPropagation()}})}),jsxRuntimeExports.jsx(Table.Td,{style:{minWidth:"400px"},children:jsxRuntimeExports.jsx(Flex,{align:"flex-start",gap:"md",children:jsxRuntimeExports.jsxs(Box,{children:[jsxRuntimeExports.jsx(Text$2,{fw:600,size:"md",mb:4,children:br.name}),jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",mb:8,children:"No description available"}),jsxRuntimeExports.jsxs(Flex,{gap:"md",align:"center",children:[jsxRuntimeExports.jsxs(Badge,{variant:"light",size:"sm",children:[br.assessment_problems.length,"questions"]}),jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(IconClock,{size:12}),jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:br.duration?`${br.duration} min`:"No time limit"})]}),jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:dayjs(br.created_at).format("MMM D, YYYY")})]})]})})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",children:"TODO"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",children:"TODO"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",children:"TODO"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",size:"lg",onClick:Sr=>{Sr.preventDefault(),Sr.stopPropagation(),vr(br.id)},children:jsxRuntimeExports.jsx(IconEdit,{})})})]},br.id))})]}),hr&&jsxRuntimeExports.jsx(Center,{py:"md",children:gr?jsxRuntimeExports.jsx(Loader,{}):jsxRuntimeExports.jsx(Button$1,{onClick:()=>mr(),variant:"light",children:"Load More"})})]})})})]})]})}const studentAssessmentKeys={all:["student-assessments"],byId:e=>[...studentAssessmentKeys.all,e]},fetchStudentAssessmentQueryOptions=e=>({queryKey:studentAssessmentKeys.byId(e),queryFn:async()=>{const rr=await api.student.assessments[":id"].$get({param:{id:e}});if(!rr.ok){const lr=await rr.text();throw new Error(lr)}return await rr.json()}}),useFetchStudentAssessment=e=>useSuspenseQuery(fetchStudentAssessmentQueryOptions(e));var relativeTime$1={exports:{}};(function(e,rr){(function(ir,lr){e.exports=lr()})(commonjsGlobal,function(){return function(ir,lr,dr){ir=ir||{};var fr=lr.prototype,mr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function hr(xr,_r,yr,vr){return fr.fromToBase(xr,_r,yr,vr)}dr.en.relativeTime=mr,fr.fromToBase=function(xr,_r,yr,vr,br){for(var Sr,wr,Mr,kr=yr.$locale().relativeTime||mr,Ar=ir.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],Ir=Ar.length,$r=0;$r<Ir;$r+=1){var Dr=Ar[$r];Dr.d&&(Sr=vr?dr(xr).diff(yr,Dr.d,!0):yr.diff(xr,Dr.d,!0));var Or=(ir.rounding||Math.round)(Math.abs(Sr));if(Mr=Sr>0,Or<=Dr.r||!Dr.r){Or<=1&&$r>0&&(Dr=Ar[$r-1]);var Fr=kr[Dr.l];br&&(Or=br(""+Or)),wr=typeof Fr=="string"?Fr.replace("%d",Or):Fr(Or,_r,Dr.l,Mr);break}}if(_r)return wr;var Lr=Mr?kr.future:kr.past;return typeof Lr=="function"?Lr(wr):Lr.replace("%s",wr)},fr.to=function(xr,_r){return hr(xr,_r,this,!0)},fr.from=function(xr,_r){return hr(xr,_r,this)};var gr=function(xr){return xr.$u?dr.utc():dr()};fr.toNow=function(xr){return this.to(gr(this),xr)},fr.fromNow=function(xr){return this.from(gr(this),xr)}}})})(relativeTime$1);var relativeTimeExports=relativeTime$1.exports;const relativeTime=getDefaultExportFromCjs$1(relativeTimeExports);dayjs.extend(relativeTime);function AssessmentNotStarted({data:e}){const rr=dayjs(e.scheduledDate),ir=rr.fromNow();return jsxRuntimeExports.jsx(Stack,{gap:"lg",align:"center",justify:"center",mih:400,children:jsxRuntimeExports.jsx(Paper,{p:"xl",radius:"md",withBorder:!0,w:"100%",maw:600,children:jsxRuntimeExports.jsxs(Stack,{gap:"md",align:"center",children:[jsxRuntimeExports.jsx(IconClock,{size:64,stroke:1.5,color:"var(--mantine-color-blue-6)"}),jsxRuntimeExports.jsx(Title,{order:2,ta:"center",children:"Assessment Not Started"}),jsxRuntimeExports.jsx(Text$2,{size:"lg",ta:"center",c:"dimmed",children:e.assessmentName}),jsxRuntimeExports.jsx(Alert,{color:"blue",radius:"md",w:"100%",children:jsxRuntimeExports.jsxs(Stack,{gap:"xs",children:[jsxRuntimeExports.jsx(Text$2,{fw:500,children:"Scheduled Time"}),jsxRuntimeExports.jsx(Text$2,{size:"sm",children:rr.format("MMMM D, YYYY [at] h:mm A")}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",c:"dimmed",children:["Starts ",ir]})]})}),jsxRuntimeExports.jsx(Text$2,{size:"sm",ta:"center",c:"dimmed",children:"Please return at the scheduled time to begin your assessment."})]})})})}function AssessmentEnded({data:e}){const rr=dayjs(e.scheduledDate),ir=dayjs(e.endDate),lr=ir.fromNow();return jsxRuntimeExports.jsx(Stack,{gap:"lg",align:"center",justify:"center",mih:400,children:jsxRuntimeExports.jsx(Paper,{p:"xl",radius:"md",withBorder:!0,w:"100%",maw:600,children:jsxRuntimeExports.jsxs(Stack,{gap:"md",align:"center",children:[jsxRuntimeExports.jsx(IconClockOff,{size:64,stroke:1.5,color:"var(--mantine-color-red-6)"}),jsxRuntimeExports.jsx(Title,{order:2,ta:"center",children:"Assessment Ended"}),jsxRuntimeExports.jsx(Text$2,{size:"lg",ta:"center",c:"dimmed",children:e.assessmentName}),jsxRuntimeExports.jsx(Alert,{color:"red",radius:"md",w:"100%",children:jsxRuntimeExports.jsxs(Stack,{gap:"xs",children:[jsxRuntimeExports.jsx(Text$2,{fw:500,children:"Assessment Period"}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Started: ",rr.format("MMMM D, YYYY [at] h:mm A")]}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Ended: ",ir.format("MMMM D, YYYY [at] h:mm A")]}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",c:"dimmed",children:["Ended ",lr]})]})}),jsxRuntimeExports.jsx(Text$2,{size:"sm",ta:"center",c:"dimmed",children:"This assessment is no longer available for completion."})]})})})}function AssessmentActive({data:e}){const{assessment:rr}=e,ir=Number(rr.duration),lr=rr.endDate?dayjs(rr.endDate):null;return jsxRuntimeExports.jsxs(Stack,{gap:"lg",children:[jsxRuntimeExports.jsx(Paper,{p:"md",radius:"md",withBorder:!0,children:jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx(Title,{order:2,children:rr.name}),jsxRuntimeExports.jsx(Badge,{color:"green",size:"lg",leftSection:jsxRuntimeExports.jsx(IconCheckbox,{size:16}),children:"Active"})]}),lr&&jsxRuntimeExports.jsx(Alert,{color:"yellow",radius:"md",children:jsxRuntimeExports.jsxs(Stack,{gap:"xs",children:[jsxRuntimeExports.jsx(Text$2,{fw:500,children:"Time Remaining"}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["This assessment will end at ",lr.format("h:mm A")]}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",c:"dimmed",children:["Duration: ",ir," minutes"]})]})}),!lr&&jsxRuntimeExports.jsxs(Text$2,{size:"sm",c:"dimmed",children:["Duration: ",ir," minutes"]})]})}),jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsx(Title,{order:3,children:"Problems"}),rr.problems.length===0?jsxRuntimeExports.jsx(Alert,{color:"blue",children:"No problems have been added to this assessment yet."}):rr.problems.map((dr,fr)=>jsxRuntimeExports.jsx(Card,{padding:"lg",radius:"md",withBorder:!0,children:jsxRuntimeExports.jsxs(Stack,{gap:"sm",children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[jsxRuntimeExports.jsxs(Badge,{color:"blue",variant:"light",children:["Problem ",fr+1]}),jsxRuntimeExports.jsx(Title,{order:4,children:dr.name})]}),jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",style:{whiteSpace:"pre-wrap"},children:dr.description})]})},dr.id))]})]})}const Route$4=createFileRoute("/_student/student/assessment/$id")({loader:async({context:{queryClient:e},params:rr})=>await e.ensureQueryData(fetchStudentAssessmentQueryOptions(rr.id)),component:RouteComponent$4});function LoadingSkeleton(){return jsxRuntimeExports.jsx(Container,{size:"lg",children:jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsx(Skeleton,{height:150,radius:"md"}),jsxRuntimeExports.jsx(Skeleton,{height:300,radius:"md"}),jsxRuntimeExports.jsx(Skeleton,{height:200,radius:"md"})]})})}function AssessmentContent(){const{id:e}=Route$4.useParams(),{data:rr}=useFetchStudentAssessment(e);return rr.status==="not_started"?jsxRuntimeExports.jsx(AssessmentNotStarted,{data:rr}):rr.status==="ended"?jsxRuntimeExports.jsx(AssessmentEnded,{data:rr}):jsxRuntimeExports.jsx(AssessmentActive,{data:rr})}function RouteComponent$4(){return jsxRuntimeExports.jsx(Container,{size:"lg",py:"xl",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingSkeleton,{}),children:jsxRuntimeExports.jsx(AssessmentContent,{})})})}function useSaveStatus(e,rr,ir,lr){const[dr,fr]=reactExports.useState(null),mr=rr||lr,hr=e||ir;return reactExports.useEffect(()=>{hr&&!mr&&fr(new Date)},[hr,mr]),jsxRuntimeExports.jsx(Group,{gap:"xs",style:{minWidth:"120px",opacity:dr?1:0,transition:"opacity 0.2s ease-in-out",height:"16px",alignItems:"center"},children:dr?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(IconCheck,{size:16,color:"green",style:{animation:"fadeIn 0.3s ease-in-out"}}),jsxRuntimeExports.jsxs(Text$2,{size:"xs",c:"green",style:{whiteSpace:"nowrap"},children:["Saved ",dr.toLocaleTimeString()]})]}):null})}function ProblemDescription$1({problemName:e,problemContent:rr}){const{id:ir}=useParams({from:"/_admin/admin/problem/$id/details"}),{mutate:lr,isPending:dr,isSuccess:fr}=useAutoSaveUserProblemContent(),{mutate:mr,isPending:hr,isSuccess:gr}=useAutoSaveUserProblemName(),xr=useForm({initialValues:{name:e},onValuesChange:({name:wr})=>{vr(wr)},validate:{name:wr=>wr.trim().length>0?null:"Problem name is required"}}),_r=({editor:wr})=>{const Mr=wr.getHTML();yr(Mr)},yr=useDebouncedCallback(wr=>{xr.validate().hasErrors||lr({id:ir,content:wr})},500),vr=useDebouncedCallback(wr=>{xr.validate().hasErrors||mr({id:ir,name:wr})},500),br=useSaveStatus(gr,hr,fr,dr),Sr=usePrefetchUserProblemTablesColumnTypes(ir);return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Group,{p:"md",children:[jsxRuntimeExports.jsx(Group,{flex:1,children:jsxRuntimeExports.jsx(TextInput,{placeholder:"Enter the name of your problem",label:"Problem name",required:!0,w:"100%",...xr.getInputProps("name")})}),jsxRuntimeExports.jsx(Group,{children:jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/problem/$id/database",params:{id:ir},style:{textDecoration:"none"},preload:"intent",children:jsxRuntimeExports.jsx(Button$1,{disabled:!xr.isValid(),color:"blue",mt:25,onMouseEnter:Sr,children:"Next Step"})})})]}),jsxRuntimeExports.jsx(SimpleEditor,{onUpdate:_r,initialContent:rr,saveStatus:br})]})}const Route$3=createFileRoute("/_admin/admin/problem/$id/details")({loader:async({context:{queryClient:e},params:rr})=>{try{const{payload:ir}=await e.ensureQueryData(accessTokenQueryOptions),lr=ir.user_metadata.user_id,dr=await e.ensureQueryData(userProblemDetailQueryOptions(rr.id,lr));if(dr)return dr;const fr=await createNewUserProblem(rr.id,lr);return e.setQueryData(userProblemDetailQueryOptions(rr.id,lr).queryKey,fr),fr}catch(ir){throw new Error(`Failed to load or create problem: ${ir instanceof Error?ir.message:"Unknown error"}`)}},errorComponent:({error:e})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Failed to Load Problem"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:e.message}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]}),pendingComponent:()=>jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Loading problem..."})]})}),preload:!1,component:RouteComponent$3});function RouteComponent$3(){const e=Route$3.useLoaderData();return jsxRuntimeExports.jsx(ProblemDescription$1,{problemName:e.name,problemContent:e.description||""})}var p$1=Object.create,i=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,l$2=Object.getPrototypeOf,s$1=Object.prototype.hasOwnProperty,a=e=>{throw TypeError(e)},_$2=(e,rr,ir)=>rr in e?i(e,rr,{enumerable:!0,configurable:!0,writable:!0,value:ir}):e[rr]=ir,d$1=(e,rr)=>()=>(e&&(rr=e(e=0)),rr),D$3=(e,rr)=>()=>(rr||e((rr={exports:{}}).exports,rr),rr.exports),F$3=(e,rr)=>{for(var ir in rr)i(e,ir,{get:rr[ir],enumerable:!0})},g$3=(e,rr,ir,lr)=>{if(rr&&typeof rr=="object"||typeof rr=="function")for(let dr of f(rr))!s$1.call(e,dr)&&dr!==ir&&i(e,dr,{get:()=>rr[dr],enumerable:!(lr=c(rr,dr))||lr.enumerable});return e},L$2=(e,rr,ir)=>(ir=e!=null?p$1(l$2(e)):{},g$3(i(ir,"default",{value:e,enumerable:!0}),e)),P$1=(e,rr,ir)=>_$2(e,typeof rr!="symbol"?rr+"":rr,ir),n=(e,rr,ir)=>rr.has(e)||a("Cannot "+ir),h$1=(e,rr,ir)=>(n(e,rr,"read from private field"),ir?ir.call(e):rr.get(e)),R$1=(e,rr,ir)=>rr.has(e)?a("Cannot add the same private member more than once"):rr instanceof WeakSet?rr.add(e):rr.set(e,ir),x$3=(e,rr,ir,lr)=>(n(e,rr,"write to private field"),rr.set(e,ir),ir),T$1=(e,rr,ir)=>(n(e,rr,"access private method"),ir),U$2=(e,rr,ir,lr)=>({set _(dr){x$3(e,rr,dr)},get _(){return h$1(e,rr,lr)}}),u=d$1(()=>{}),hn={};F$3(hn,{ABSTIME:()=>Et,ACLITEM:()=>Vt,BIT:()=>jt,BOOL:()=>be$1,BPCHAR:()=>_e,BYTEA:()=>ge,CHAR:()=>gt,CID:()=>St,CIDR:()=>Tt,CIRCLE:()=>Ut,DATE:()=>He$1,FLOAT4:()=>Qe$1,FLOAT8:()=>We,GTSVECTOR:()=>rn,INET:()=>kt,INT2:()=>ve,INT4:()=>Ge,INT8:()=>we,INTERVAL:()=>vt,JSON:()=>Ae$1,JSONB:()=>Ye$1,MACADDR:()=>Ot,MACADDR8:()=>Nt,MONEY:()=>Lt,NUMERIC:()=>Wt,OID:()=>je,PATH:()=>Mt,PG_DEPENDENCIES:()=>en,PG_LSN:()=>Xt,PG_NDISTINCT:()=>Zt,PG_NODE_TREE:()=>Bt,POLYGON:()=>Rt,REFCURSOR:()=>_t,REGCLASS:()=>Yt,REGCONFIG:()=>sn,REGDICTIONARY:()=>an,REGNAMESPACE:()=>on,REGOPER:()=>Ht,REGOPERATOR:()=>qt,REGPROC:()=>wt,REGPROCEDURE:()=>zt,REGROLE:()=>un,REGTYPE:()=>$t,RELTIME:()=>Ct,SMGR:()=>It,TEXT:()=>V$1,TID:()=>At,TIME:()=>Ft$1,TIMESTAMP:()=>qe$1,TIMESTAMPTZ:()=>xe$1,TIMETZ:()=>Gt,TINTERVAL:()=>Pt,TSQUERY:()=>nn,TSVECTOR:()=>tn,TXID_SNAPSHOT:()=>Jt,UUID:()=>Kt,VARBIT:()=>Qt,VARCHAR:()=>ze$1,XID:()=>xt,XML:()=>Dt,arrayParser:()=>yn,arraySerializer:()=>Ke$1,parseType:()=>ue$1,parsers:()=>ln,serializers:()=>cn,types:()=>$e$1});u();var ht=globalThis.JSON.parse,bt=globalThis.JSON.stringify,be$1=16,ge=17,gt=18,we=20,ve=21,Ge=23,wt=24,V$1=25,je=26,At=27,xt=28,St=29,Ae$1=114,Dt=142,Bt=194,It=210,Mt=602,Rt=604,Tt=650,Qe$1=700,We=701,Et=702,Ct=703,Pt=704,Ut=718,Nt=774,Lt=790,Ot=829,kt=869,Vt=1033,_e=1042,ze$1=1043,He$1=1082,Ft$1=1083,qe$1=1114,xe$1=1184,vt=1186,Gt=1266,jt=1560,Qt=1562,Wt=1700,_t=1790,zt=2202,Ht=2203,qt=2204,Yt=2205,$t=2206,Kt=2950,Jt=2970,Xt=3220,Zt=3361,en=3402,tn=3614,nn=3615,rn=3642,sn=3734,an=3769,Ye$1=3802,on=4089,un=4096,$e$1={string:{to:V$1,from:[V$1,ze$1,_e],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid input for string type")},parse:e=>e},number:{to:0,from:[ve,Ge,je,Qe$1,We],serialize:e=>e.toString(),parse:e=>+e},bigint:{to:we,from:[we],serialize:e=>e.toString(),parse:e=>{let rr=BigInt(e);return rr<Number.MIN_SAFE_INTEGER||rr>Number.MAX_SAFE_INTEGER?rr:Number(rr)}},json:{to:Ae$1,from:[Ae$1,Ye$1],serialize:e=>typeof e=="string"?e:bt(e),parse:e=>ht(e)},boolean:{to:be$1,from:[be$1],serialize:e=>{if(typeof e!="boolean")throw new Error("Invalid input for boolean type");return e?"t":"f"},parse:e=>e==="t"},date:{to:xe$1,from:[He$1,qe$1,xe$1],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return new Date(e).toISOString();if(e instanceof Date)return e.toISOString();throw new Error("Invalid input for date type")},parse:e=>new Date(e)},bytea:{to:ge,from:[ge],serialize:e=>{if(!(e instanceof Uint8Array))throw new Error("Invalid input for bytea type");return"\\x"+Array.from(e).map(rr=>rr.toString(16).padStart(2,"0")).join("")},parse:e=>{let rr=e.slice(2);return Uint8Array.from({length:rr.length/2},(ir,lr)=>parseInt(rr.substring(lr*2,(lr+1)*2),16))}}},Se=pn($e$1),ln=Se.parsers,cn=Se.serializers;function ue$1(e,rr,ir){if(e===null)return null;let lr=ir?.[rr]??Se.parsers[rr];return lr?lr(e,rr):e}function pn(e){return Object.keys(e).reduce(({parsers:rr,serializers:ir},lr)=>{let{to:dr,from:fr,serialize:mr,parse:hr}=e[lr];return ir[dr]=mr,ir[lr]=mr,rr[lr]=hr,Array.isArray(fr)?fr.forEach(gr=>{rr[gr]=hr,ir[gr]=mr}):(rr[fr]=hr,ir[fr]=mr),{parsers:rr,serializers:ir}},{parsers:{},serializers:{}})}var dn=/\\/g,fn=/"/g;function mn(e){return e.replace(dn,"\\\\").replace(fn,'\\"')}function Ke$1(e,rr,ir){if(Array.isArray(e)===!1)return e;if(!e.length)return"{}";let lr=e[0],dr=ir===1020?";":",";return Array.isArray(lr)?`{${e.map(fr=>Ke$1(fr,rr,ir)).join(dr)}}`:`{${e.map(fr=>(fr===void 0&&(fr=null),fr===null?"null":'"'+mn(rr?rr(fr):fr.toString())+'"')).join(dr)}}`}var he$1={i:0,char:null,str:"",quoted:!1,last:0,p:null};function yn(e,rr,ir){return he$1.i=he$1.last=0,Je$1(he$1,e,rr,ir)[0]}function Je$1(e,rr,ir,lr){let dr=[],fr=lr===1020?";":",";for(;e.i<rr.length;e.i++){if(e.char=rr[e.i],e.quoted)e.char==="\\"?e.str+=rr[++e.i]:e.char==='"'?(dr.push(ir?ir(e.str):e.str),e.str="",e.quoted=rr[e.i+1]==='"',e.last=e.i+2):e.str+=e.char;else if(e.char==='"')e.quoted=!0;else if(e.char==="{")e.last=++e.i,dr.push(Je$1(e,rr,ir,lr));else if(e.char==="}"){e.quoted=!1,e.last<e.i&&dr.push(ir?ir(rr.slice(e.last,e.i)):rr.slice(e.last,e.i)),e.last=e.i+1;break}else e.char===fr&&e.p!=="}"&&e.p!=='"'&&(dr.push(ir?ir(rr.slice(e.last,e.i)):rr.slice(e.last,e.i)),e.last=e.i+1);e.p=e.char}return e.last<e.i&&dr.push(ir?ir(rr.slice(e.last,e.i+1)):rr.slice(e.last,e.i+1)),dr}var wn={};F$3(wn,{parseDescribeStatementResults:()=>De$2,parseResults:()=>bn});u();function bn(e,rr,ir,lr){let dr=[],fr={rows:[],fields:[]},mr=0,hr={...rr,...ir?.parsers};return e.forEach(gr=>{switch(gr.name){case"rowDescription":{let xr=gr;fr.fields=xr.fields.map(_r=>({name:_r.name,dataTypeID:_r.dataTypeID}));break}case"dataRow":{if(!fr)break;let xr=gr;ir?.rowMode==="array"?fr.rows.push(xr.fields.map((_r,yr)=>ue$1(_r,fr.fields[yr].dataTypeID,hr))):fr.rows.push(Object.fromEntries(xr.fields.map((_r,yr)=>[fr.fields[yr].name,ue$1(_r,fr.fields[yr].dataTypeID,hr)])));break}case"commandComplete":{mr+=gn(gr),dr.push({...fr,affectedRows:mr,...lr?{blob:lr}:{}}),fr={rows:[],fields:[]};break}}}),dr.length===0&&dr.push({affectedRows:0,rows:[],fields:[]}),dr}function gn(e){let rr=e.text.split(" ");switch(rr[0]){case"INSERT":return parseInt(rr[2],10);case"UPDATE":case"DELETE":case"COPY":case"MERGE":return parseInt(rr[1],10);default:return 0}}function De$2(e){let rr=e.find(ir=>ir.name==="parameterDescription");return rr?rr.dataTypeIDs:[]}var Ue$1={};F$3(Ue$1,{AuthenticationCleartextPassword:()=>v$1,AuthenticationMD5Password:()=>G,AuthenticationOk:()=>F$2,AuthenticationSASL:()=>j$2,AuthenticationSASLContinue:()=>Q$2,AuthenticationSASLFinal:()=>W$1,BackendKeyDataMessage:()=>K$1,CommandCompleteMessage:()=>Z$2,CopyDataMessage:()=>_$1,CopyResponse:()=>z,DataRowMessage:()=>ee$2,DatabaseError:()=>E$1,Field:()=>H$3,NoticeMessage:()=>te$2,NotificationResponseMessage:()=>J$1,ParameterDescriptionMessage:()=>Y$2,ParameterStatusMessage:()=>$$2,ReadyForQueryMessage:()=>X$1,RowDescriptionMessage:()=>q$1,bindComplete:()=>Ie,closeComplete:()=>Me$1,copyDone:()=>Pe$1,emptyQuery:()=>Ce$1,noData:()=>Re$1,parseComplete:()=>Be,portalSuspended:()=>Te$1,replicationStart:()=>Ee$1});u();var Be={name:"parseComplete",length:5},Ie={name:"bindComplete",length:5},Me$1={name:"closeComplete",length:5},Re$1={name:"noData",length:5},Te$1={name:"portalSuspended",length:5},Ee$1={name:"replicationStart",length:4},Ce$1={name:"emptyQuery",length:4},Pe$1={name:"copyDone",length:4},F$2=class{constructor(rr){this.length=rr,this.name="authenticationOk"}},v$1=class{constructor(rr){this.length=rr,this.name="authenticationCleartextPassword"}},G=class{constructor(e,rr){this.length=e,this.salt=rr,this.name="authenticationMD5Password"}},j$2=class{constructor(rr,ir){this.length=rr,this.mechanisms=ir,this.name="authenticationSASL"}},Q$2=class{constructor(rr,ir){this.length=rr,this.data=ir,this.name="authenticationSASLContinue"}},W$1=class{constructor(rr,ir){this.length=rr,this.data=ir,this.name="authenticationSASLFinal"}},E$1=class extends Error{constructor(rr,ir,lr){super(rr),this.length=ir,this.name=lr}},_$1=class{constructor(rr,ir){this.length=rr,this.chunk=ir,this.name="copyData"}},z=class{constructor(e,rr,ir,lr){this.length=e,this.name=rr,this.binary=ir,this.columnTypes=new Array(lr)}},H$3=class{constructor(rr,ir,lr,dr,fr,mr,hr){this.name=rr,this.tableID=ir,this.columnID=lr,this.dataTypeID=dr,this.dataTypeSize=fr,this.dataTypeModifier=mr,this.format=hr}},q$1=class{constructor(rr,ir){this.length=rr,this.fieldCount=ir,this.name="rowDescription",this.fields=new Array(this.fieldCount)}},Y$2=class{constructor(rr,ir){this.length=rr,this.parameterCount=ir,this.name="parameterDescription",this.dataTypeIDs=new Array(this.parameterCount)}},$$2=class{constructor(rr,ir,lr){this.length=rr,this.parameterName=ir,this.parameterValue=lr,this.name="parameterStatus"}},K$1=class{constructor(rr,ir,lr){this.length=rr,this.processID=ir,this.secretKey=lr,this.name="backendKeyData"}},J$1=class{constructor(rr,ir,lr,dr){this.length=rr,this.processId=ir,this.channel=lr,this.payload=dr,this.name="notification"}},X$1=class{constructor(rr,ir){this.length=rr,this.status=ir,this.name="readyForQuery"}},Z$2=class{constructor(rr,ir){this.length=rr,this.text=ir,this.name="commandComplete"}},ee$2=class{constructor(rr,ir){this.length=rr,this.fields=ir,this.name="dataRow",this.fieldCount=ir.length}},te$2=class{constructor(rr,ir){this.length=rr,this.message=ir,this.name="notice"}},zn={};F$3(zn,{Parser:()=>ye,messages:()=>Ue$1,serialize:()=>O$1});u();u();u();u();function C$1(e){let rr=e.length;for(let ir=e.length-1;ir>=0;ir--){let lr=e.charCodeAt(ir);lr>127&&lr<=2047?rr++:lr>2047&&lr<=65535&&(rr+=2),lr>=56320&&lr<=57343&&ir--}return rr}var b,g$2,U$1,ce$1,N,x$2,le$2,P,Xe,R=class{constructor(e=256){this.size=e,R$1(this,x$2),R$1(this,b),R$1(this,g$2,5),R$1(this,U$1,!1),R$1(this,ce$1,new TextEncoder),R$1(this,N,0),x$3(this,b,T$1(this,x$2,le$2).call(this,e))}addInt32(e){return T$1(this,x$2,P).call(this,4),h$1(this,b).setInt32(h$1(this,g$2),e,h$1(this,U$1)),x$3(this,g$2,h$1(this,g$2)+4),this}addInt16(e){return T$1(this,x$2,P).call(this,2),h$1(this,b).setInt16(h$1(this,g$2),e,h$1(this,U$1)),x$3(this,g$2,h$1(this,g$2)+2),this}addCString(e){return e&&this.addString(e),T$1(this,x$2,P).call(this,1),h$1(this,b).setUint8(h$1(this,g$2),0),U$2(this,g$2)._++,this}addString(e=""){let rr=C$1(e);return T$1(this,x$2,P).call(this,rr),h$1(this,ce$1).encodeInto(e,new Uint8Array(h$1(this,b).buffer,h$1(this,g$2))),x$3(this,g$2,h$1(this,g$2)+rr),this}add(e){return T$1(this,x$2,P).call(this,e.byteLength),new Uint8Array(h$1(this,b).buffer).set(new Uint8Array(e),h$1(this,g$2)),x$3(this,g$2,h$1(this,g$2)+e.byteLength),this}flush(e){let rr=T$1(this,x$2,Xe).call(this,e);return x$3(this,g$2,5),x$3(this,b,T$1(this,x$2,le$2).call(this,this.size)),new Uint8Array(rr)}};b=new WeakMap,g$2=new WeakMap,U$1=new WeakMap,ce$1=new WeakMap,N=new WeakMap,x$2=new WeakSet,le$2=function(e){return new DataView(new ArrayBuffer(e))},P=function(e){if(h$1(this,b).byteLength-h$1(this,g$2)<e){let rr=h$1(this,b).buffer,ir=rr.byteLength+(rr.byteLength>>1)+e;x$3(this,b,T$1(this,x$2,le$2).call(this,ir)),new Uint8Array(h$1(this,b).buffer).set(new Uint8Array(rr))}},Xe=function(e){if(e){h$1(this,b).setUint8(h$1(this,N),e);let rr=h$1(this,g$2)-(h$1(this,N)+1);h$1(this,b).setInt32(h$1(this,N)+1,rr,h$1(this,U$1))}return h$1(this,b).buffer.slice(e?0:5,h$1(this,g$2))};var m$1=new R,An=e=>{m$1.addInt16(3).addInt16(0);for(let lr of Object.keys(e))m$1.addCString(lr).addCString(e[lr]);m$1.addCString("client_encoding").addCString("UTF8");let rr=m$1.addCString("").flush(),ir=rr.byteLength+4;return new R().addInt32(ir).add(rr).flush()},xn=()=>{let e=new DataView(new ArrayBuffer(8));return e.setInt32(0,8,!1),e.setInt32(4,80877103,!1),new Uint8Array(e.buffer)},Sn=e=>m$1.addCString(e).flush(112),Dn=(e,rr)=>(m$1.addCString(e).addInt32(C$1(rr)).addString(rr),m$1.flush(112)),Bn=e=>m$1.addString(e).flush(112),In=e=>m$1.addCString(e).flush(81),Mn=[],Rn=e=>{let rr=e.name??"";rr.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",rr,rr.length),console.error("This can cause conflicts and silent errors executing queries"));let ir=m$1.addCString(rr).addCString(e.text).addInt16(e.types?.length??0);return e.types?.forEach(lr=>ir.addInt32(lr)),m$1.flush(80)},L$1=new R,Tn=(e,rr)=>{for(let ir=0;ir<e.length;ir++){let lr=rr?rr(e[ir],ir):e[ir];if(lr===null)m$1.addInt16(0),L$1.addInt32(-1);else if(lr instanceof ArrayBuffer||ArrayBuffer.isView(lr)){let dr=ArrayBuffer.isView(lr)?lr.buffer.slice(lr.byteOffset,lr.byteOffset+lr.byteLength):lr;m$1.addInt16(1),L$1.addInt32(dr.byteLength),L$1.add(dr)}else m$1.addInt16(0),L$1.addInt32(C$1(lr)),L$1.addString(lr)}},En=(e={})=>{let rr=e.portal??"",ir=e.statement??"",lr=e.binary??!1,dr=e.values??Mn,fr=dr.length;return m$1.addCString(rr).addCString(ir),m$1.addInt16(fr),Tn(dr,e.valueMapper),m$1.addInt16(fr),m$1.add(L$1.flush()),m$1.addInt16(lr?1:0),m$1.flush(66)},Cn=new Uint8Array([69,0,0,0,9,0,0,0,0,0]),Pn=e=>{if(!e||!e.portal&&!e.rows)return Cn;let rr=e.portal??"",ir=e.rows??0,lr=C$1(rr),dr=4+lr+1+4,fr=new DataView(new ArrayBuffer(1+dr));return fr.setUint8(0,69),fr.setInt32(1,dr,!1),new TextEncoder().encodeInto(rr,new Uint8Array(fr.buffer,5)),fr.setUint8(lr+5,0),fr.setUint32(fr.byteLength-4,ir,!1),new Uint8Array(fr.buffer)},Un=(e,rr)=>{let ir=new DataView(new ArrayBuffer(16));return ir.setInt32(0,16,!1),ir.setInt16(4,1234,!1),ir.setInt16(6,5678,!1),ir.setInt32(8,e,!1),ir.setInt32(12,rr,!1),new Uint8Array(ir.buffer)},Ne$1=(e,rr)=>{let ir=new R;return ir.addCString(rr),ir.flush(e)},Nn=m$1.addCString("P").flush(68),Ln=m$1.addCString("S").flush(68),On=e=>e.name?Ne$1(68,`${e.type}${e.name??""}`):e.type==="P"?Nn:Ln,kn=e=>{let rr=`${e.type}${e.name??""}`;return Ne$1(67,rr)},Vn=e=>m$1.add(e).flush(100),Fn=e=>Ne$1(102,e),pe$1=e=>new Uint8Array([e,0,0,0,4]),vn=pe$1(72),Gn=pe$1(83),jn=pe$1(88),Qn=pe$1(99),O$1={startup:An,password:Sn,requestSsl:xn,sendSASLInitialResponseMessage:Dn,sendSCRAMClientFinalMessage:Bn,query:In,parse:Rn,bind:En,execute:Pn,describe:On,close:kn,flush:()=>vn,sync:()=>Gn,end:()=>jn,copyData:Vn,copyDone:()=>Qn,copyFail:Fn,cancel:Un};u();u();var Le={text:0,binary:1};u();var Wn=new ArrayBuffer(0),M$1,w$1,fe$2,me$1,ne,de$2=class{constructor(rr=0){R$1(this,M$1,new DataView(Wn)),R$1(this,w$1),R$1(this,fe$2,"utf-8"),R$1(this,me$1,new TextDecoder(h$1(this,fe$2))),R$1(this,ne,!1),x$3(this,w$1,rr)}setBuffer(rr,ir){x$3(this,w$1,rr),x$3(this,M$1,new DataView(ir))}int16(){let rr=h$1(this,M$1).getInt16(h$1(this,w$1),h$1(this,ne));return x$3(this,w$1,h$1(this,w$1)+2),rr}byte(){let rr=h$1(this,M$1).getUint8(h$1(this,w$1));return U$2(this,w$1)._++,rr}int32(){let rr=h$1(this,M$1).getInt32(h$1(this,w$1),h$1(this,ne));return x$3(this,w$1,h$1(this,w$1)+4),rr}string(rr){return h$1(this,me$1).decode(this.bytes(rr))}cstring(){let rr=h$1(this,w$1),ir=rr;for(;h$1(this,M$1).getUint8(ir++)!==0;);let lr=this.string(ir-rr-1);return x$3(this,w$1,ir),lr}bytes(rr){let ir=h$1(this,M$1).buffer.slice(h$1(this,w$1),h$1(this,w$1)+rr);return x$3(this,w$1,h$1(this,w$1)+rr),new Uint8Array(ir)}};M$1=new WeakMap,w$1=new WeakMap,fe$2=new WeakMap,me$1=new WeakMap,ne=new WeakMap;var Oe$1=1,_n=4,Ze$1=Oe$1+_n,et=new ArrayBuffer(0),A$1,S$1,D$2,o$1,l$1,tt,nt,rt,st,it,at,ot,ke$1,ut,lt,ct,pt,dt,ft,mt,yt,Ve$1,ye=class{constructor(){R$1(this,l$1),R$1(this,A$1,new DataView(et)),R$1(this,S$1,0),R$1(this,D$2,0),R$1(this,o$1,new de$2)}parse(e,rr){T$1(this,l$1,tt).call(this,ArrayBuffer.isView(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e);let ir=h$1(this,D$2)+h$1(this,S$1),lr=h$1(this,D$2);for(;lr+Ze$1<=ir;){let dr=h$1(this,A$1).getUint8(lr),fr=h$1(this,A$1).getUint32(lr+Oe$1,!1),mr=Oe$1+fr;if(mr+lr<=ir){let hr=T$1(this,l$1,nt).call(this,lr+Ze$1,dr,fr,h$1(this,A$1).buffer);rr(hr),lr+=mr}else break}lr===ir?(x$3(this,A$1,new DataView(et)),x$3(this,S$1,0),x$3(this,D$2,0)):(x$3(this,S$1,ir-lr),x$3(this,D$2,lr))}};A$1=new WeakMap,S$1=new WeakMap,D$2=new WeakMap,o$1=new WeakMap,l$1=new WeakSet,tt=function(e){if(h$1(this,S$1)>0){let rr=h$1(this,S$1)+e.byteLength;if(rr+h$1(this,D$2)>h$1(this,A$1).byteLength){let ir;if(rr<=h$1(this,A$1).byteLength&&h$1(this,D$2)>=h$1(this,S$1))ir=h$1(this,A$1).buffer;else{let lr=h$1(this,A$1).byteLength*2;for(;rr>=lr;)lr*=2;ir=new ArrayBuffer(lr)}new Uint8Array(ir).set(new Uint8Array(h$1(this,A$1).buffer,h$1(this,D$2),h$1(this,S$1))),x$3(this,A$1,new DataView(ir)),x$3(this,D$2,0)}new Uint8Array(h$1(this,A$1).buffer).set(new Uint8Array(e),h$1(this,D$2)+h$1(this,S$1)),x$3(this,S$1,rr)}else x$3(this,A$1,new DataView(e)),x$3(this,D$2,0),x$3(this,S$1,e.byteLength)},nt=function(e,rr,ir,lr){switch(rr){case 50:return Ie;case 49:return Be;case 51:return Me$1;case 110:return Re$1;case 115:return Te$1;case 99:return Pe$1;case 87:return Ee$1;case 73:return Ce$1;case 68:return T$1(this,l$1,dt).call(this,e,ir,lr);case 67:return T$1(this,l$1,st).call(this,e,ir,lr);case 90:return T$1(this,l$1,rt).call(this,e,ir,lr);case 65:return T$1(this,l$1,ut).call(this,e,ir,lr);case 82:return T$1(this,l$1,yt).call(this,e,ir,lr);case 83:return T$1(this,l$1,ft).call(this,e,ir,lr);case 75:return T$1(this,l$1,mt).call(this,e,ir,lr);case 69:return T$1(this,l$1,Ve$1).call(this,e,ir,lr,"error");case 78:return T$1(this,l$1,Ve$1).call(this,e,ir,lr,"notice");case 84:return T$1(this,l$1,lt).call(this,e,ir,lr);case 116:return T$1(this,l$1,pt).call(this,e,ir,lr);case 71:return T$1(this,l$1,at).call(this,e,ir,lr);case 72:return T$1(this,l$1,ot).call(this,e,ir,lr);case 100:return T$1(this,l$1,it).call(this,e,ir,lr);default:return new E$1("received invalid response: "+rr.toString(16),ir,"error")}},rt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).string(1);return new X$1(rr,lr)},st=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).cstring();return new Z$2(rr,lr)},it=function(e,rr,ir){let lr=ir.slice(e,e+(rr-4));return new _$1(rr,new Uint8Array(lr))},at=function(e,rr,ir){return T$1(this,l$1,ke$1).call(this,e,rr,ir,"copyInResponse")},ot=function(e,rr,ir){return T$1(this,l$1,ke$1).call(this,e,rr,ir,"copyOutResponse")},ke$1=function(e,rr,ir,lr){h$1(this,o$1).setBuffer(e,ir);let dr=h$1(this,o$1).byte()!==0,fr=h$1(this,o$1).int16(),mr=new z(rr,lr,dr,fr);for(let hr=0;hr<fr;hr++)mr.columnTypes[hr]=h$1(this,o$1).int16();return mr},ut=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int32(),dr=h$1(this,o$1).cstring(),fr=h$1(this,o$1).cstring();return new J$1(rr,lr,dr,fr)},lt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int16(),dr=new q$1(rr,lr);for(let fr=0;fr<lr;fr++)dr.fields[fr]=T$1(this,l$1,ct).call(this);return dr},ct=function(){let e=h$1(this,o$1).cstring(),rr=h$1(this,o$1).int32(),ir=h$1(this,o$1).int16(),lr=h$1(this,o$1).int32(),dr=h$1(this,o$1).int16(),fr=h$1(this,o$1).int32(),mr=h$1(this,o$1).int16()===0?Le.text:Le.binary;return new H$3(e,rr,ir,lr,dr,fr,mr)},pt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int16(),dr=new Y$2(rr,lr);for(let fr=0;fr<lr;fr++)dr.dataTypeIDs[fr]=h$1(this,o$1).int32();return dr},dt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int16(),dr=new Array(lr);for(let fr=0;fr<lr;fr++){let mr=h$1(this,o$1).int32();dr[fr]=mr===-1?null:h$1(this,o$1).string(mr)}return new ee$2(rr,dr)},ft=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).cstring(),dr=h$1(this,o$1).cstring();return new $$2(rr,lr,dr)},mt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int32(),dr=h$1(this,o$1).int32();return new K$1(rr,lr,dr)},yt=function(e,rr,ir){h$1(this,o$1).setBuffer(e,ir);let lr=h$1(this,o$1).int32();switch(lr){case 0:return new F$2(rr);case 3:return new v$1(rr);case 5:return new G(rr,h$1(this,o$1).bytes(4));case 10:{let dr=[];for(;;){let fr=h$1(this,o$1).cstring();if(fr.length===0)return new j$2(rr,dr);dr.push(fr)}}case 11:return new Q$2(rr,h$1(this,o$1).string(rr-8));case 12:return new W$1(rr,h$1(this,o$1).string(rr-8));default:throw new Error("Unknown authenticationOk message type "+lr)}},Ve$1=function(e,rr,ir,lr){h$1(this,o$1).setBuffer(e,ir);let dr={},fr=h$1(this,o$1).string(1);for(;fr!=="\0";)dr[fr]=h$1(this,o$1).cstring(),fr=h$1(this,o$1).string(1);let mr=dr.M,hr=lr==="notice"?new te$2(rr,mr):new E$1(mr,rr,lr);return hr.severity=dr.S,hr.code=dr.C,hr.detail=dr.D,hr.hint=dr.H,hr.position=dr.P,hr.internalPosition=dr.p,hr.internalQuery=dr.q,hr.where=dr.W,hr.schema=dr.s,hr.table=dr.t,hr.column=dr.c,hr.dataType=dr.d,hr.constraint=dr.n,hr.file=dr.F,hr.line=dr.L,hr.routine=dr.R,hr};u();var Fe=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",se$2;async function Rr(){if(Fe||se$2)return;let e=new URL("/assets/pglite-B1IdYwaP.wasm",import.meta.url);se$2=fetch(e)}var re$1;async function Tr(e,rr){if(rr||re$1)return{instance:await WebAssembly.instantiate(rr||re$1,e),module:rr||re$1};let ir=new URL("/assets/pglite-B1IdYwaP.wasm",import.meta.url);if(Fe){let lr=await(await __vitePreload(async()=>{const{readFile:mr}=await import("./__vite-browser-external-BIHI7g3E.js");return{readFile:mr}},[])).readFile(ir),{module:dr,instance:fr}=await WebAssembly.instantiate(lr,e);return re$1=dr,{instance:fr,module:dr}}else{se$2||(se$2=fetch(ir));let lr=await se$2,{module:dr,instance:fr}=await WebAssembly.instantiateStreaming(lr,e);return re$1=dr,{instance:fr,module:dr}}}async function Er(){let e=new URL("/assets/pglite-BVklp_Iy.data",import.meta.url);return Fe?(await(await __vitePreload(async()=>{const{readFile:rr}=await import("./__vite-browser-external-BIHI7g3E.js");return{readFile:rr}},[])).readFile(e)).buffer:(await fetch(e)).arrayBuffer()}var Cr=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();let e=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let ir=0;ir<e.length;ir++)e[ir]=Math.floor(Math.random()*256);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let rr=[];return e.forEach(ir=>{rr.push(ir.toString(16).padStart(2,"0"))}),rr.slice(0,4).join("")+"-"+rr.slice(4,6).join("")+"-"+rr.slice(6,8).join("")+"-"+rr.slice(8,10).join("")+"-"+rr.slice(10).join("")};async function Pr(e,rr,ir,lr){if(!ir||ir.length===0)return rr;lr=lr??e;let dr;try{await e.execProtocol(O$1.parse({text:rr}),{syncToFs:!1}),dr=De$2((await e.execProtocol(O$1.describe({type:"S"}),{syncToFs:!1})).messages)}finally{await e.execProtocol(O$1.sync(),{syncToFs:!1})}let fr=rr.replace(/\$([0-9]+)/g,(mr,hr)=>"%"+hr+"L");return(await lr.query(`SELECT format($1, ${ir.map((mr,hr)=>`$${hr+2}`).join(", ")}) as query`,[fr,...ir],{paramTypes:[V$1,...dr]})).rows[0].query}function Ur(e){let rr,ir=!1,lr=async()=>{if(!rr){ir=!1;return}ir=!0;let{args:dr,resolve:fr,reject:mr}=rr;rr=void 0;try{let hr=await e(...dr);fr(hr)}catch(hr){mr(hr)}finally{lr()}};return async(...dr)=>{rr&&rr.resolve(void 0);let fr=new Promise((mr,hr)=>{rr={args:dr,resolve:mr,reject:hr}});return ir||lr(),fr}}function Nr(e){let rr;return e.startsWith('"')&&e.endsWith('"')?rr=e.substring(1,e.length-1):rr=e.toLowerCase(),rr}u();var o={part:"part",container:"container"};function s(e,rr,...ir){let lr=e.length-1,dr=ir.length-1;if(dr!==-1){if(dr===0){e[lr]=e[lr]+ir[0]+rr;return}e[lr]=e[lr]+ir[0],e.push(...ir.slice(1,dr)),e.push(ir[dr]+rr)}}function y$2(e,...rr){let ir=[e[0]];ir.raw=[e.raw[0]];let lr=[];for(let dr=0;dr<rr.length;dr++){let fr=rr[dr],mr=dr+1;if(fr?._templateType===o.part){s(ir,e[mr],fr.str),s(ir.raw,e.raw[mr],fr.str);continue}if(fr?._templateType===o.container){s(ir,e[mr],...fr.strings),s(ir.raw,e.raw[mr],...fr.strings.raw),lr.push(...fr.values);continue}ir.push(e[mr]),ir.raw.push(e.raw[mr]),lr.push(fr)}return{_templateType:"container",strings:ir,values:lr}}function g$1(e,...rr){let{strings:ir,values:lr}=y$2(e,...rr);return{query:[ir[0],...lr.flatMap((dr,fr)=>[`$${fr+1}`,ir[fr+1]])].join(""),params:lr}}u();u();function E(e){let rr=e.e;return rr.query=e.query,rr.params=e.params,rr.queryOptions=e.options,rr}var d,p,t,y$1,x$1,m,O,F$1=class{constructor(){R$1(this,t),this.serializers={...cn},this.parsers={...ln},R$1(this,d,!1),R$1(this,p,!1)}async _initArrayTypes({force:rr=!1}={}){if(h$1(this,d)&&!rr)return;x$3(this,d,!0);let ir=await this.query(`
      SELECT b.oid, b.typarray
      FROM pg_catalog.pg_type a
      LEFT JOIN pg_catalog.pg_type b ON b.oid = a.typelem
      WHERE a.typcategory = 'A'
      GROUP BY b.oid, b.typarray
      ORDER BY b.oid
    `);for(let lr of ir.rows)this.serializers[lr.typarray]=dr=>Ke$1(dr,this.serializers[lr.oid],lr.typarray),this.parsers[lr.typarray]=dr=>yn(dr,this.parsers[lr.oid],lr.typarray)}async refreshArrayTypes(){await this._initArrayTypes({force:!0})}async query(rr,ir,lr){return await this._checkReady(),await this._runExclusiveTransaction(async()=>await T$1(this,t,x$1).call(this,rr,ir,lr))}async sql(rr,...ir){let{query:lr,params:dr}=g$1(rr,...ir);return await this.query(lr,dr)}async exec(rr,ir){return await this._checkReady(),await this._runExclusiveTransaction(async()=>await T$1(this,t,m).call(this,rr,ir))}async describeQuery(rr,ir){try{await T$1(this,t,y$1).call(this,O$1.parse({text:rr,types:ir?.paramTypes}),ir);let lr=await T$1(this,t,y$1).call(this,O$1.describe({type:"S"}),ir),dr=lr.messages.find(gr=>gr.name==="parameterDescription"),fr=lr.messages.find(gr=>gr.name==="rowDescription"),mr=dr?.dataTypeIDs.map(gr=>({dataTypeID:gr,serializer:this.serializers[gr]}))??[],hr=fr?.fields.map(gr=>({name:gr.name,dataTypeID:gr.dataTypeID,parser:this.parsers[gr.dataTypeID]}))??[];return{queryParams:mr,resultFields:hr}}catch(lr){throw lr instanceof E$1?E({e:lr,options:ir,params:void 0,query:rr}):lr}finally{await T$1(this,t,y$1).call(this,O$1.sync(),ir)}}async transaction(rr){return await this._checkReady(),await this._runExclusiveTransaction(async()=>{await T$1(this,t,m).call(this,"BEGIN"),x$3(this,p,!0);let ir=!1,lr=()=>{if(ir)throw new Error("Transaction is closed")},dr={query:async(fr,mr,hr)=>(lr(),await T$1(this,t,x$1).call(this,fr,mr,hr)),sql:async(fr,...mr)=>{let{query:hr,params:gr}=g$1(fr,...mr);return await T$1(this,t,x$1).call(this,hr,gr)},exec:async(fr,mr)=>(lr(),await T$1(this,t,m).call(this,fr,mr)),rollback:async()=>{lr(),await T$1(this,t,m).call(this,"ROLLBACK"),ir=!0},listen:async(fr,mr)=>(lr(),await this.listen(fr,mr,dr)),get closed(){return ir}};try{let fr=await rr(dr);return ir||(ir=!0,await T$1(this,t,m).call(this,"COMMIT")),x$3(this,p,!1),fr}catch(fr){throw ir||await T$1(this,t,m).call(this,"ROLLBACK"),x$3(this,p,!1),fr}})}async runExclusive(rr){return await this._runExclusiveQuery(rr)}};d=new WeakMap,p=new WeakMap,t=new WeakSet,y$1=async function(e,rr={}){return await this.execProtocol(e,{...rr,syncToFs:!1})},x$1=async function(e,rr=[],ir){return await this._runExclusiveQuery(async()=>{T$1(this,t,O).call(this,"runQuery",e,rr,ir),await this._handleBlob(ir?.blob);let lr;try{let{messages:fr}=await T$1(this,t,y$1).call(this,O$1.parse({text:e,types:ir?.paramTypes}),ir),mr=De$2((await T$1(this,t,y$1).call(this,O$1.describe({type:"S"}),ir)).messages),hr=rr.map((gr,xr)=>{let _r=mr[xr];if(gr==null)return null;let yr=ir?.serializers?.[_r]??this.serializers[_r];return yr?yr(gr):gr.toString()});lr=[...fr,...(await T$1(this,t,y$1).call(this,O$1.bind({values:hr}),ir)).messages,...(await T$1(this,t,y$1).call(this,O$1.describe({type:"P"}),ir)).messages,...(await T$1(this,t,y$1).call(this,O$1.execute({}),ir)).messages]}catch(fr){throw fr instanceof E$1?E({e:fr,options:ir,params:rr,query:e}):fr}finally{await T$1(this,t,y$1).call(this,O$1.sync(),ir)}await this._cleanupBlob(),h$1(this,p)||await this.syncToFs();let dr=await this._getWrittenBlob();return bn(lr,this.parsers,ir,dr)[0]})},m=async function(e,rr){return await this._runExclusiveQuery(async()=>{T$1(this,t,O).call(this,"runExec",e,rr),await this._handleBlob(rr?.blob);let ir;try{ir=(await T$1(this,t,y$1).call(this,O$1.query(e),rr)).messages}catch(dr){throw dr instanceof E$1?E({e:dr,options:rr,params:void 0,query:e}):dr}finally{await T$1(this,t,y$1).call(this,O$1.sync(),rr)}this._cleanupBlob(),h$1(this,p)||await this.syncToFs();let lr=await this._getWrittenBlob();return bn(ir,this.parsers,rr,lr)})},O=function(...e){this.debug>0&&console.log(...e)};var w=D$3((e,rr)=>{u();var ir=9007199254740991,lr=function(kr){return kr}();function dr(kr){return kr===lr}function fr(kr){return typeof kr=="string"||Object.prototype.toString.call(kr)=="[object String]"}function mr(kr){return Object.prototype.toString.call(kr)=="[object Date]"}function hr(kr){return kr!==null&&typeof kr=="object"}function gr(kr){return typeof kr=="function"}function xr(kr){return typeof kr=="number"&&kr>-1&&kr%1==0&&kr<=ir}function _r(kr){return Object.prototype.toString.call(kr)=="[object Array]"}function yr(kr){return hr(kr)&&!gr(kr)&&xr(kr.length)}function vr(kr){return Object.prototype.toString.call(kr)=="[object ArrayBuffer]"}function br(kr,Ar){return Array.prototype.map.call(kr,Ar)}function Sr(kr,Ar){var Ir=lr;return gr(Ar)&&Array.prototype.every.call(kr,function($r,Dr,Or){var Fr=Ar($r,Dr,Or);return Fr&&(Ir=$r),!Fr}),Ir}function wr(kr){return Object.assign.apply(null,arguments)}function Mr(kr){var Ar,Ir,$r;if(fr(kr)){for(Ir=kr.length,$r=new Uint8Array(Ir),Ar=0;Ar<Ir;Ar++)$r[Ar]=kr.charCodeAt(Ar)&255;return $r}return vr(kr)?new Uint8Array(kr):hr(kr)&&vr(kr.buffer)?new Uint8Array(kr.buffer):yr(kr)?new Uint8Array(kr):hr(kr)&&gr(kr.toString)?Mr(kr.toString()):new Uint8Array}rr.exports.MAX_SAFE_INTEGER=ir,rr.exports.isUndefined=dr,rr.exports.isString=fr,rr.exports.isObject=hr,rr.exports.isDateTime=mr,rr.exports.isFunction=gr,rr.exports.isArray=_r,rr.exports.isArrayLike=yr,rr.exports.isArrayBuffer=vr,rr.exports.map=br,rr.exports.find=Sr,rr.exports.extend=wr,rr.exports.toUint8Array=Mr}),x=D$3((e,rr)=>{u();var ir="\0";rr.exports={NULL_CHAR:ir,TMAGIC:"ustar"+ir+"00",OLDGNU_MAGIC:"ustar  "+ir,REGTYPE:0,LNKTYPE:1,SYMTYPE:2,CHRTYPE:3,BLKTYPE:4,DIRTYPE:5,FIFOTYPE:6,CONTTYPE:7,TSUID:parseInt("4000",8),TSGID:parseInt("2000",8),TSVTX:parseInt("1000",8),TUREAD:parseInt("0400",8),TUWRITE:parseInt("0200",8),TUEXEC:parseInt("0100",8),TGREAD:parseInt("0040",8),TGWRITE:parseInt("0020",8),TGEXEC:parseInt("0010",8),TOREAD:parseInt("0004",8),TOWRITE:parseInt("0002",8),TOEXEC:parseInt("0001",8),TPERMALL:parseInt("0777",8),TPERMMASK:parseInt("0777",8)}}),L=D$3((e,rr)=>{u();var ir=w(),lr=x(),dr=512,fr=lr.TPERMALL,mr=0,hr=0,gr=[["name",100,0,function(Ar,Ir){return yr(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Sr(Ar.slice(Ir,Ir+$r[1]))}],["mode",8,100,function(Ar,Ir){var $r=Ar[Ir[0]]||fr;return $r=$r&lr.TPERMMASK,vr($r,Ir[1],fr)},function(Ar,Ir,$r){var Dr=wr(Ar.slice(Ir,Ir+$r[1]));return Dr&=lr.TPERMMASK,Dr}],["uid",8,108,function(Ar,Ir){return vr(Ar[Ir[0]],Ir[1],mr)},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["gid",8,116,function(Ar,Ir){return vr(Ar[Ir[0]],Ir[1],hr)},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["size",12,124,function(Ar,Ir){return vr(Ar.data.length,Ir[1])},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["modifyTime",12,136,function(Ar,Ir){return br(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Mr(Ar.slice(Ir,Ir+$r[1]))}],["checksum",8,148,function(Ar,Ir){return"        "},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["type",1,156,function(Ar,Ir){return""+(parseInt(Ar[Ir[0]],10)||0)%8},function(Ar,Ir,$r){return(parseInt(String.fromCharCode(Ar[Ir]),10)||0)%8}],["linkName",100,157,function(Ar,Ir){return""},function(Ar,Ir,$r){return Sr(Ar.slice(Ir,Ir+$r[1]))}],["ustar",8,257,function(Ar,Ir){return lr.TMAGIC},function(Ar,Ir,$r){return _r(Sr(Ar.slice(Ir,Ir+$r[1]),!0))},function(Ar,Ir){return Ar[Ir[0]]==lr.TMAGIC||Ar[Ir[0]]==lr.OLDGNU_MAGIC}],["owner",32,265,function(Ar,Ir){return yr(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Sr(Ar.slice(Ir,Ir+$r[1]))}],["group",32,297,function(Ar,Ir){return yr(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Sr(Ar.slice(Ir,Ir+$r[1]))}],["majorNumber",8,329,function(Ar,Ir){return""},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["minorNumber",8,337,function(Ar,Ir){return""},function(Ar,Ir,$r){return wr(Ar.slice(Ir,Ir+$r[1]))}],["prefix",131,345,function(Ar,Ir){return yr(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Sr(Ar.slice(Ir,Ir+$r[1]))}],["accessTime",12,476,function(Ar,Ir){return br(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Mr(Ar.slice(Ir,Ir+$r[1]))}],["createTime",12,488,function(Ar,Ir){return br(Ar[Ir[0]],Ir[1])},function(Ar,Ir,$r){return Mr(Ar.slice(Ir,Ir+$r[1]))}]],xr=function(Ar){var Ir=Ar[Ar.length-1];return Ir[2]+Ir[1]}(gr);function _r(Ar){if(Ar.length==8){var Ir=Ar.split("");if(Ir[5]==lr.NULL_CHAR)return(Ir[6]==" "||Ir[6]==lr.NULL_CHAR)&&(Ir[6]="0"),(Ir[7]==" "||Ir[7]==lr.NULL_CHAR)&&(Ir[7]="0"),Ir=Ir.join(""),Ir==lr.TMAGIC?Ir:Ar;if(Ir[7]==lr.NULL_CHAR)return Ir[5]==lr.NULL_CHAR&&(Ir[5]=" "),Ir[6]==lr.NULL_CHAR&&(Ir[6]=" "),Ir==lr.OLDGNU_MAGIC?Ir:Ar}return Ar}function yr(Ar,Ir){return Ir-=1,ir.isUndefined(Ar)&&(Ar=""),Ar=(""+Ar).substr(0,Ir),Ar+lr.NULL_CHAR}function vr(Ar,Ir,$r){for($r=parseInt($r)||0,Ir-=1,Ar=(parseInt(Ar)||$r).toString(8).substr(-Ir,Ir);Ar.length<Ir;)Ar="0"+Ar;return Ar+lr.NULL_CHAR}function br(Ar,Ir){if(ir.isDateTime(Ar))Ar=Math.floor(1*Ar/1e3);else if(Ar=parseInt(Ar,10),isFinite(Ar)){if(Ar<=0)return""}else Ar=Math.floor(1*new Date/1e3);return vr(Ar,Ir,0)}function Sr(Ar,Ir){var $r=String.fromCharCode.apply(null,Ar);if(Ir)return $r;var Dr=$r.indexOf(lr.NULL_CHAR);return Dr>=0?$r.substr(0,Dr):$r}function wr(Ar){var Ir=String.fromCharCode.apply(null,Ar);return parseInt(Ir.replace(/^0+$/g,""),8)||0}function Mr(Ar){return Ar.length==0||Ar[0]==0?null:new Date(1e3*wr(Ar))}function kr(Ar,Ir,$r){var Dr=parseInt(Ir,10)||0,Or=Math.min(Dr+xr,Ar.length),Fr=0,Lr=0,zr=0;$r&&gr.every(function(Jn){return Jn[0]=="checksum"?(Lr=Dr+Jn[2],zr=Lr+Jn[1],!1):!0});for(var Gr=32,Jr=Dr;Jr<Or;Jr++){var Yn=Jr>=Lr&&Jr<zr?Gr:Ar[Jr];Fr=(Fr+Yn)%262144}return Fr}rr.exports.recordSize=dr,rr.exports.defaultFileMode=fr,rr.exports.defaultUid=mr,rr.exports.defaultGid=hr,rr.exports.posixHeader=gr,rr.exports.effectiveHeaderSize=xr,rr.exports.calculateChecksum=kr,rr.exports.formatTarString=yr,rr.exports.formatTarNumber=vr,rr.exports.formatTarDateTime=br,rr.exports.parseTarString=Sr,rr.exports.parseTarNumber=wr,rr.exports.parseTarDateTime=Mr}),er=D$3((e,rr)=>{u();var ir=x(),lr=w(),dr=L();function fr(yr){return dr.recordSize}function mr(yr){return Math.ceil(yr.data.length/dr.recordSize)*dr.recordSize}function hr(yr){var vr=0;return yr.forEach(function(br){vr+=fr()+mr(br)}),vr+=dr.recordSize*2,new Uint8Array(vr)}function gr(yr,vr,br){br=parseInt(br)||0;var Sr=br;dr.posixHeader.forEach(function(Ir){for(var $r=Ir[3](vr,Ir),Dr=$r.length,Or=0;Or<Dr;Or+=1)yr[Sr+Or]=$r.charCodeAt(Or)&255;Sr+=Ir[1]});var wr=lr.find(dr.posixHeader,function(Ir){return Ir[0]=="checksum"});if(wr){var Mr=dr.calculateChecksum(yr,br,!0),kr=dr.formatTarNumber(Mr,wr[1]-2)+ir.NULL_CHAR+" ";Sr=br+wr[2];for(var Ar=0;Ar<kr.length;Ar+=1)yr[Sr]=kr.charCodeAt(Ar)&255,Sr++}return br+fr()}function xr(yr,vr,br){return br=parseInt(br,10)||0,yr.set(vr.data,br),br+mr(vr)}function _r(yr){yr=lr.map(yr,function(Sr){return lr.extend({},Sr,{data:lr.toUint8Array(Sr.data)})});var vr=hr(yr),br=0;return yr.forEach(function(Sr){br=gr(vr,Sr,br),br=xr(vr,Sr,br)}),vr}rr.exports.tar=_r}),nr=D$3((e,rr)=>{u();var ir=x(),lr=w(),dr=L(),fr={extractData:!0,checkHeader:!0,checkChecksum:!0,checkFileSize:!0},mr={size:!0,checksum:!0,ustar:!0},hr={unexpectedEndOfFile:"Unexpected end of file.",fileCorrupted:"File is corrupted.",checksumCheckFailed:"Checksum check failed."};function gr(wr){return dr.recordSize}function xr(wr){return Math.ceil(wr/dr.recordSize)*dr.recordSize}function _r(wr,Mr){for(var kr=Mr,Ar=Math.min(wr.length,Mr+dr.recordSize*2),Ir=kr;Ir<Ar;Ir++)if(wr[Ir]!=0)return!1;return!0}function yr(wr,Mr,kr){if(wr.length-Mr<dr.recordSize){if(kr.checkFileSize)throw new Error(hr.unexpectedEndOfFile);return null}Mr=parseInt(Mr)||0;var Ar={},Ir=Mr;if(dr.posixHeader.forEach(function(Or){Ar[Or[0]]=Or[4](wr,Ir,Or),Ir+=Or[1]}),Ar.type!=0&&(Ar.size=0),kr.checkHeader&&dr.posixHeader.forEach(function(Or){if(lr.isFunction(Or[5])&&!Or[5](Ar,Or)){var Fr=new Error(hr.fileCorrupted);throw Fr.data={offset:Mr+Or[2],field:Or[0]},Fr}}),kr.checkChecksum){var $r=dr.calculateChecksum(wr,Mr,!0);if($r!=Ar.checksum){var Dr=new Error(hr.checksumCheckFailed);throw Dr.data={offset:Mr,header:Ar,checksum:$r},Dr}}return Ar}function vr(wr,Mr,kr,Ar){return Ar.extractData?kr.size<=0?new Uint8Array:wr.slice(Mr,Mr+kr.size):null}function br(wr,Mr){var kr={};return dr.posixHeader.forEach(function(Ar){var Ir=Ar[0];mr[Ir]||(kr[Ir]=wr[Ir])}),kr.isOldGNUFormat=wr.ustar==ir.OLDGNU_MAGIC,Mr&&(kr.data=Mr),kr}function Sr(wr,Mr){Mr=lr.extend({},fr,Mr);for(var kr=[],Ar=0,Ir=wr.length;Ir-Ar>=dr.recordSize;){wr=lr.toUint8Array(wr);var $r=yr(wr,Ar,Mr);if(!$r)break;Ar+=gr();var Dr=vr(wr,Ar,$r,Mr);if(kr.push(br($r,Dr)),Ar+=xr($r.size),_r(wr,Ar))break}return kr}rr.exports.untar=Sr}),or=D$3((e,rr)=>{u();var ir=w(),lr=x(),dr=er(),fr=nr();ir.extend(rr.exports,dr,fr,lr)});u();u();var g=L$2(or());async function H$2(e,rr,ir="pgdata",lr="auto"){let dr=Br(e,rr),[fr,mr]=await qr(dr,lr),hr=ir+(mr?".tar.gz":".tar"),gr=mr?"application/x-gzip":"application/x-tar";return typeof File<"u"?new File([fr],hr,{type:gr}):new Blob([fr],{type:gr})}var Hr=["application/x-gtar","application/x-tar+gzip","application/x-gzip","application/gzip"];async function ce(e,rr,ir){let lr=new Uint8Array(await rr.arrayBuffer()),dr=typeof File<"u"&&rr instanceof File?rr.name:void 0;(Hr.includes(rr.type)||dr?.endsWith(".tgz")||dr?.endsWith(".tar.gz"))&&(lr=await ar(lr));let fr;try{fr=(0,g.untar)(lr)}catch(mr){if(mr instanceof Error&&mr.message.includes("File is corrupted"))lr=await ar(lr),fr=(0,g.untar)(lr);else throw mr}for(let mr of fr){let hr=ir+mr.name,gr=hr.split("/").slice(0,-1);for(let xr=1;xr<=gr.length;xr++){let _r=gr.slice(0,xr).join("/");e.analyzePath(_r).exists||e.mkdir(_r)}mr.type===g.REGTYPE?(e.writeFile(hr,mr.data),e.utime(hr,sr(mr.modifyTime),sr(mr.modifyTime))):mr.type===g.DIRTYPE&&e.mkdir(hr)}}function jr(e,rr){let ir=[],lr=dr=>{e.readdir(dr).forEach(fr=>{if(fr==="."||fr==="..")return;let mr=dr+"/"+fr,hr=e.stat(mr),gr=e.isFile(hr.mode)?e.readFile(mr,{encoding:"binary"}):new Uint8Array(0);ir.push({name:mr.substring(rr.length),mode:hr.mode,size:hr.size,type:e.isFile(hr.mode)?g.REGTYPE:g.DIRTYPE,modifyTime:hr.mtime,data:gr}),e.isDir(hr.mode)&&lr(mr)})};return lr(rr),ir}function Br(e,rr){let ir=jr(e,rr);return(0,g.tar)(ir)}async function qr(e,rr="auto"){if(rr==="none")return[e,!1];if(typeof CompressionStream<"u")return[await Yr(e),!0];if(typeof process<"u"&&process.versions&&process.versions.node)return[await Wr(e),!0];if(rr==="auto")return[e,!1];throw new Error("Compression not supported in this environment")}async function Yr(e){let rr=new CompressionStream("gzip"),ir=rr.writable.getWriter(),lr=rr.readable.getReader();ir.write(e),ir.close();let dr=[];for(;;){let{value:hr,done:gr}=await lr.read();if(gr)break;hr&&dr.push(hr)}let fr=new Uint8Array(dr.reduce((hr,gr)=>hr+gr.length,0)),mr=0;return dr.forEach(hr=>{fr.set(hr,mr),mr+=hr.length}),fr}async function Wr(e){let{promisify:rr}=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{gzip:ir}=await __vitePreload(async()=>{const{gzip:lr}=await import("./__vite-browser-external-BIHI7g3E.js");return{gzip:lr}},[]);return await rr(ir)(e)}async function ar(e){if(typeof CompressionStream<"u")return await Xr(e);if(typeof process<"u"&&process.versions&&process.versions.node)return await Kr(e);throw new Error("Unsupported environment for decompression")}async function Xr(e){let rr=new DecompressionStream("gzip"),ir=rr.writable.getWriter(),lr=rr.readable.getReader();ir.write(e),ir.close();let dr=[];for(;;){let{value:hr,done:gr}=await lr.read();if(gr)break;hr&&dr.push(hr)}let fr=new Uint8Array(dr.reduce((hr,gr)=>hr+gr.length,0)),mr=0;return dr.forEach(hr=>{fr.set(hr,mr),mr+=hr.length}),fr}async function Kr(e){let{promisify:rr}=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{gunzip:ir}=await __vitePreload(async()=>{const{gunzip:lr}=await import("./__vite-browser-external-BIHI7g3E.js");return{gunzip:lr}},[]);return await rr(ir)(e)}function sr(e){return e?typeof e=="number"?e:Math.floor(e.getTime()/1e3):Math.floor(Date.now()/1e3)}var Vr="/tmp/pglite",C=Vr+"/base",ur=class{constructor(e){this.dataDir=e}async init(e,rr){return this.pg=e,{emscriptenOpts:rr}}async syncToFs(e){}async initialSyncFs(){}async closeFs(){}async dumpTar(e,rr){return H$2(this.pg.Module.FS,C,e,rr)}},cr=class{constructor(e,{debug:rr=!1}={}){this.dataDir=e,this.debug=rr}async syncToFs(e){}async initialSyncFs(){}async closeFs(){}async dumpTar(e,rr){return H$2(this.pg.Module.FS,C,e,rr)}async init(e,rr){return this.pg=e,{emscriptenOpts:{...rr,preRun:[...rr.preRun||[],ir=>{let lr=Zr(ir,this);ir.FS.mkdir(C),ir.FS.mount(lr,{},C)}]}}}},pr={EBADF:8,EBADFD:127,EEXIST:20,EINVAL:28,EISDIR:31,ENODEV:43,ENOENT:44,ENOTDIR:54,ENOTEMPTY:55},Zr=(e,rr)=>{let ir=e.FS,lr=rr.debug?console.log:null,dr={tryFSOperation(fr){try{return fr()}catch(mr){throw mr.code?mr.code==="UNKNOWN"?new ir.ErrnoError(pr.EINVAL):new ir.ErrnoError(mr.code):mr}},mount(fr){return dr.createNode(null,"/",16895,0)},syncfs(fr,mr,hr){},createNode(fr,mr,hr,gr){if(!ir.isDir(hr)&&!ir.isFile(hr))throw new ir.ErrnoError(28);let xr=ir.createNode(fr,mr,hr);return xr.node_ops=dr.node_ops,xr.stream_ops=dr.stream_ops,xr},getMode:function(fr){return lr?.("getMode",fr),dr.tryFSOperation(()=>rr.lstat(fr).mode)},realPath:function(fr){let mr=[];for(;fr.parent!==fr;)mr.push(fr.name),fr=fr.parent;return mr.push(fr.mount.opts.root),mr.reverse(),mr.join("/")},node_ops:{getattr(fr){lr?.("getattr",dr.realPath(fr));let mr=dr.realPath(fr);return dr.tryFSOperation(()=>{let hr=rr.lstat(mr);return{...hr,dev:0,ino:fr.id,nlink:1,rdev:fr.rdev,atime:new Date(hr.atime),mtime:new Date(hr.mtime),ctime:new Date(hr.ctime)}})},setattr(fr,mr){lr?.("setattr",dr.realPath(fr),mr);let hr=dr.realPath(fr);dr.tryFSOperation(()=>{mr.mode!==void 0&&rr.chmod(hr,mr.mode),mr.size!==void 0&&rr.truncate(hr,mr.size),mr.timestamp!==void 0&&rr.utimes(hr,mr.timestamp,mr.timestamp),mr.size!==void 0&&rr.truncate(hr,mr.size)})},lookup(fr,mr){lr?.("lookup",dr.realPath(fr),mr);let hr=[dr.realPath(fr),mr].join("/"),gr=dr.getMode(hr);return dr.createNode(fr,mr,gr)},mknod(fr,mr,hr,gr){lr?.("mknod",dr.realPath(fr),mr,hr,gr);let xr=dr.createNode(fr,mr,hr,gr),_r=dr.realPath(xr);return dr.tryFSOperation(()=>(ir.isDir(xr.mode)?rr.mkdir(_r,{mode:hr}):rr.writeFile(_r,"",{mode:hr}),xr))},rename(fr,mr,hr){lr?.("rename",dr.realPath(fr),dr.realPath(mr),hr);let gr=dr.realPath(fr),xr=[dr.realPath(mr),hr].join("/");dr.tryFSOperation(()=>{rr.rename(gr,xr)}),fr.name=hr},unlink(fr,mr){lr?.("unlink",dr.realPath(fr),mr);let hr=[dr.realPath(fr),mr].join("/");try{rr.unlink(hr)}catch{}},rmdir(fr,mr){lr?.("rmdir",dr.realPath(fr),mr);let hr=[dr.realPath(fr),mr].join("/");return dr.tryFSOperation(()=>{rr.rmdir(hr)})},readdir(fr){lr?.("readdir",dr.realPath(fr));let mr=dr.realPath(fr);return dr.tryFSOperation(()=>rr.readdir(mr))},symlink(fr,mr,hr){throw lr?.("symlink",dr.realPath(fr),mr,hr),new ir.ErrnoError(63)},readlink(fr){throw lr?.("readlink",dr.realPath(fr)),new ir.ErrnoError(63)}},stream_ops:{open(fr){lr?.("open stream",dr.realPath(fr.node));let mr=dr.realPath(fr.node);return dr.tryFSOperation(()=>{ir.isFile(fr.node.mode)&&(fr.shared.refcount=1,fr.nfd=rr.open(mr))})},close(fr){return lr?.("close stream",dr.realPath(fr.node)),dr.tryFSOperation(()=>{ir.isFile(fr.node.mode)&&fr.nfd&&--fr.shared.refcount===0&&rr.close(fr.nfd)})},dup(fr){lr?.("dup stream",dr.realPath(fr.node)),fr.shared.refcount++},read(fr,mr,hr,gr,xr){return lr?.("read stream",dr.realPath(fr.node),hr,gr,xr),gr===0?0:dr.tryFSOperation(()=>rr.read(fr.nfd,mr,hr,gr,xr))},write(fr,mr,hr,gr,xr){return lr?.("write stream",dr.realPath(fr.node),hr,gr,xr),dr.tryFSOperation(()=>rr.write(fr.nfd,mr.buffer,hr,gr,xr))},llseek(fr,mr,hr){lr?.("llseek stream",dr.realPath(fr.node),mr,hr);let gr=mr;if(hr===1?gr+=fr.position:hr===2&&ir.isFile(fr.node.mode)&&dr.tryFSOperation(()=>{let xr=rr.fstat(fr.nfd);gr+=xr.size}),gr<0)throw new ir.ErrnoError(28);return gr},mmap(fr,mr,hr,gr,xr){if(lr?.("mmap stream",dr.realPath(fr.node),mr,hr,gr,xr),!ir.isFile(fr.node.mode))throw new ir.ErrnoError(pr.ENODEV);let _r=e.mmapAlloc(mr);return dr.stream_ops.read(fr,e.HEAP8,_r,mr,hr),{ptr:_r,allocated:!0}},msync(fr,mr,hr,gr,xr){return lr?.("msync stream",dr.realPath(fr.node),hr,gr,xr),dr.stream_ops.write(fr,mr,0,gr,hr),0}}};return dr};u();u();u();var Ke=new Error("request for lock canceled"),Ye=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,[])).next())})},fe$1=class{constructor(rr,ir=Ke){this._value=rr,this._cancelError=ir,this._weightedQueues=[],this._weightedWaiters=[]}acquire(rr=1){if(rr<=0)throw new Error(`invalid weight ${rr}: must be positive`);return new Promise((ir,lr)=>{this._weightedQueues[rr-1]||(this._weightedQueues[rr-1]=[]),this._weightedQueues[rr-1].push({resolve:ir,reject:lr}),this._dispatch()})}runExclusive(rr,ir=1){return Ye(this,void 0,void 0,function*(){let[lr,dr]=yield this.acquire(ir);try{return yield rr(lr)}finally{dr()}})}waitForUnlock(rr=1){if(rr<=0)throw new Error(`invalid weight ${rr}: must be positive`);return new Promise(ir=>{this._weightedWaiters[rr-1]||(this._weightedWaiters[rr-1]=[]),this._weightedWaiters[rr-1].push(ir),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(rr){this._value=rr,this._dispatch()}release(rr=1){if(rr<=0)throw new Error(`invalid weight ${rr}: must be positive`);this._value+=rr,this._dispatch()}cancel(){this._weightedQueues.forEach(rr=>rr.forEach(ir=>ir.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var rr;for(let ir=this._value;ir>0;ir--){let lr=(rr=this._weightedQueues[ir-1])===null||rr===void 0?void 0:rr.shift();if(!lr)continue;let dr=this._value,fr=ir;this._value-=ir,ir=this._value+1,lr.resolve([dr,this._newReleaser(fr)])}this._drainUnlockWaiters()}_newReleaser(rr){let ir=!1;return()=>{ir||(ir=!0,this.release(rr))}}_drainUnlockWaiters(){for(let rr=this._value;rr>0;rr--)this._weightedWaiters[rr-1]&&(this._weightedWaiters[rr-1].forEach(ir=>ir()),this._weightedWaiters[rr-1]=[])}},Je=function(e,rr,ir,lr){function dr(fr){return fr instanceof ir?fr:new ir(function(mr){mr(fr)})}return new(ir||(ir=Promise))(function(fr,mr){function hr(_r){try{xr(lr.next(_r))}catch(yr){mr(yr)}}function gr(_r){try{xr(lr.throw(_r))}catch(yr){mr(yr)}}function xr(_r){_r.done?fr(_r.value):dr(_r.value).then(hr,gr)}xr((lr=lr.apply(e,[])).next())})},X=class{constructor(e){this._semaphore=new fe$1(1,e)}acquire(){return Je(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};u();var Pe=L$2(or());async function xe(e){if(Fe){let rr=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),ir=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),{Writable:lr}=await __vitePreload(async()=>{const{Writable:hr}=await import("./__vite-browser-external-BIHI7g3E.js");return{Writable:hr}},[]),{pipeline:dr}=await __vitePreload(async()=>{const{pipeline:hr}=await import("./__vite-browser-external-BIHI7g3E.js");return{pipeline:hr}},[]);if(!rr.existsSync(e))throw new Error(`Extension bundle not found: ${e}`);let fr=ir.createGunzip(),mr=[];return await dr(rr.createReadStream(e),fr,new lr({write(hr,gr,xr){mr.push(hr),xr()}})),new Blob(mr)}else{let rr=await fetch(e.toString());if(!rr.ok||!rr.body)return null;if(rr.headers.get("Content-Encoding")==="gzip")return rr.blob();{let ir=new DecompressionStream("gzip");return new Response(rr.body.pipeThrough(ir)).blob()}}}async function ke(e,rr){for(let ir in e.pg_extensions){let lr;try{lr=await e.pg_extensions[ir]}catch(dr){console.error("Failed to fetch extension:",ir,dr);continue}if(lr){let dr=new Uint8Array(await lr.arrayBuffer());Qe(e,ir,dr,rr)}else console.error("Could not get binary data for extension:",ir)}}function Qe(e,rr,ir,lr){Pe.default.untar(ir).forEach(dr=>{if(!dr.name.startsWith(".")){let fr=e.WASM_PREFIX+"/"+dr.name;if(dr.name.endsWith(".so")){let mr=(...gr)=>{lr("pgfs:ext OK",fr,gr)},hr=(...gr)=>{lr("pgfs:ext FAIL",fr,gr)};e.FS.createPreloadedFile($e(fr),dr.name.split("/").pop().slice(0,-3),dr.data,!0,!0,mr,hr,!1)}else e.FS.writeFile(fr,dr.data)}})}function $e(e){let rr=e.lastIndexOf("/");return rr>0?e.slice(0,rr):e}u();u();var ee$1=class extends ur{async init(rr,ir){return this.pg=rr,{emscriptenOpts:{...ir,preRun:[...ir.preRun||[],lr=>{let dr=lr.FS.filesystems.IDBFS;lr.FS.mkdir("/pglite"),lr.FS.mkdir(`/pglite/${this.dataDir}`),lr.FS.mount(dr,{},`/pglite/${this.dataDir}`),lr.FS.symlink(`/pglite/${this.dataDir}`,C)}]}}}initialSyncFs(){return new Promise((rr,ir)=>{this.pg.Module.FS.syncfs(!0,lr=>{lr?ir(lr):rr()})})}syncToFs(rr){return new Promise((ir,lr)=>{this.pg.Module.FS.syncfs(!1,dr=>{dr?lr(dr):ir()})})}async closeFs(){let rr=this.pg.Module.FS.filesystems.IDBFS.dbs[this.dataDir];rr&&rr.close(),this.pg.Module.FS.quit()}};u();var te$1=class extends ur{async closeFs(){this.pg.Module.FS.quit()}};function Ae(e){let rr;if(e?.startsWith("file://")){if(e=e.slice(7),!e)throw new Error("Invalid dataDir, must be a valid path");rr="nodefs"}else e?.startsWith("idb://")?(e=e.slice(6),rr="idbfs"):e?.startsWith("opfs-ahp://")?(e=e.slice(11),rr="opfs-ahp"):!e||e?.startsWith("memory://")?rr="memoryfs":rr="nodefs";return{dataDir:e,fsType:rr}}async function Te(e,rr){let ir;if(e&&rr==="nodefs"){let{NodeFS:lr}=await __vitePreload(()=>import("./nodefs-CC4pt0KB.js"),[]);ir=new lr(e)}else if(e&&rr==="idbfs")ir=new ee$1(e);else if(e&&rr==="opfs-ahp"){let{OpfsAhpFS:lr}=await __vitePreload(()=>import("./opfs-ahp-CzLHd-Cc.js"),[]);ir=new lr(e)}else ir=new te$1;return ir}u();u();var Ze=(()=>{var _scriptName=import.meta.url;return async function(moduleArg={}){var moduleRtn,Module=moduleArg,readyPromiseResolve,readyPromiseReject,readyPromise=new Promise((e,rr)=>{readyPromiseResolve=e,readyPromiseReject=rr}),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof WorkerGlobalScope<"u",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";if(ENVIRONMENT_IS_NODE){let{createRequire:e}=await __vitePreload(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),rr=import.meta.url;rr.startsWith("data:")&&(rr="/");var require=e(rr)}Module.expectedDataFileDownloads??(Module.expectedDataFileDownloads=0),Module.expectedDataFileDownloads++,(()=>{var e=typeof ENVIRONMENT_IS_PTHREAD<"u"&&ENVIRONMENT_IS_PTHREAD,rr=typeof ENVIRONMENT_IS_WASM_WORKER<"u"&&ENVIRONMENT_IS_WASM_WORKER;if(e||rr)return;var ir=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";function lr(dr){typeof window=="object"?window.encodeURIComponent(window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))+"/"):typeof process>"u"&&typeof location<"u"&&encodeURIComponent(location.pathname.substring(0,location.pathname.lastIndexOf("/"))+"/");var fr="/tmp/sdk/dist/pglite-web/pglite.data",mr="pglite.data",hr=Module.locateFile?Module.locateFile(mr,""):mr,gr=dr.remote_package_size;function xr(Sr,wr,Mr,kr){if(ir){require("fs").readFile(Sr,(Ar,Ir)=>{Ar?kr(Ar):Mr(Ir.buffer)});return}Module.dataFileDownloads??(Module.dataFileDownloads={}),fetch(Sr).catch(Ar=>Promise.reject(new Error(`Network Error: ${Sr}`,{cause:Ar}))).then(Ar=>{if(!Ar.ok)return Promise.reject(new Error(`${Ar.status}: ${Ar.url}`));if(!Ar.body&&Ar.arrayBuffer)return Ar.arrayBuffer().then(Mr);let Ir=Ar.body.getReader(),$r=()=>Ir.read().then(zr).catch(Gr=>Promise.reject(new Error(`Unexpected error while handling : ${Ar.url} ${Gr}`,{cause:Gr}))),Dr=[],Or=Ar.headers,Fr=Number(Or.get("Content-Length")??wr),Lr=0,zr=({done:Gr,value:Jr})=>{if(Gr){let Yn=new Uint8Array(Dr.map(Zn=>Zn.length).reduce((Zn,Hn)=>Zn+Hn,0)),Jn=0;for(let Zn of Dr)Yn.set(Zn,Jn),Jn+=Zn.length;Mr(Yn.buffer)}else{Dr.push(Jr),Lr+=Jr.length,Module.dataFileDownloads[Sr]={loaded:Lr,total:Fr};let Yn=0,Jn=0;for(let Zn of Object.values(Module.dataFileDownloads))Yn+=Zn.loaded,Jn+=Zn.total;return Module.setStatus?.(`Downloading data... (${Yn}/${Jn})`),$r()}};return Module.setStatus?.("Downloading data..."),$r()})}function _r(Sr){console.error("package error:",Sr)}var yr=null,vr=Module.getPreloadedPackage?Module.getPreloadedPackage(hr,gr):null;vr||xr(hr,gr,Sr=>{yr?(yr(Sr),yr=null):vr=Sr},_r);function br(Sr){function wr($r,Dr){if(!$r)throw Dr+new Error().stack}Sr.FS_createPath("/","home",!0,!0),Sr.FS_createPath("/home","web_user",!0,!0),Sr.FS_createPath("/","tmp",!0,!0),Sr.FS_createPath("/tmp","pglite",!0,!0),Sr.FS_createPath("/tmp/pglite","bin",!0,!0),Sr.FS_createPath("/tmp/pglite","lib",!0,!0),Sr.FS_createPath("/tmp/pglite/lib","postgresql",!0,!0),Sr.FS_createPath("/tmp/pglite/lib/postgresql","pgxs",!0,!0),Sr.FS_createPath("/tmp/pglite/lib/postgresql/pgxs","config",!0,!0),Sr.FS_createPath("/tmp/pglite/lib/postgresql/pgxs","src",!0,!0),Sr.FS_createPath("/tmp/pglite/lib/postgresql/pgxs/src","makefiles",!0,!0),Sr.FS_createPath("/tmp/pglite","share",!0,!0),Sr.FS_createPath("/tmp/pglite/share","postgresql",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql","extension",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql","timezone",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Africa",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","America",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone/America","Argentina",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone/America","Indiana",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone/America","Kentucky",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone/America","North_Dakota",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Antarctica",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Arctic",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Asia",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Atlantic",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Australia",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Brazil",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Canada",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Chile",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Etc",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Europe",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Indian",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Mexico",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","Pacific",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql/timezone","US",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql","timezonesets",!0,!0),Sr.FS_createPath("/tmp/pglite/share/postgresql","tsearch_data",!0,!0);function Mr($r,Dr,Or){this.start=$r,this.end=Dr,this.audio=Or}Mr.prototype={requests:{},open:function($r,Dr){this.name=Dr,this.requests[Dr]=this,Sr.addRunDependency(`fp ${this.name}`)},send:function(){},onload:function(){var $r=this.byteArray.subarray(this.start,this.end);this.finish($r)},finish:function($r){var Dr=this;Sr.FS_createDataFile(this.name,null,$r,!0,!0,!0),Sr.removeRunDependency(`fp ${Dr.name}`),this.requests[this.name]=null}};for(var kr=dr.files,Ar=0;Ar<kr.length;++Ar)new Mr(kr[Ar].start,kr[Ar].end,kr[Ar].audio||0).open("GET",kr[Ar].filename);function Ir($r){wr($r,"Loading data file failed."),wr($r.constructor.name===ArrayBuffer.name,"bad input to processPackageData");var Dr=new Uint8Array($r);Mr.prototype.byteArray=Dr;for(var Or=dr.files,Fr=0;Fr<Or.length;++Fr)Mr.prototype.requests[Or[Fr].filename].onload();Sr.removeRunDependency("datafile_/tmp/sdk/dist/pglite-web/pglite.data")}Sr.addRunDependency("datafile_/tmp/sdk/dist/pglite-web/pglite.data"),Sr.preloadResults??(Sr.preloadResults={}),Sr.preloadResults[fr]={fromCache:!1},vr?(Ir(vr),vr=null):yr=Ir}Module.calledRun?br(Module):(Module.preRun??(Module.preRun=[])).push(br)}lr({files:[{filename:"/home/web_user/.pgpass",start:0,end:204},{filename:"/tmp/pglite/bin/initdb",start:204,end:204},{filename:"/tmp/pglite/bin/postgres",start:204,end:204},{filename:"/tmp/pglite/lib/postgresql/cyrillic_and_mic.so",start:204,end:4698},{filename:"/tmp/pglite/lib/postgresql/dict_snowball.so",start:4698,end:577992},{filename:"/tmp/pglite/lib/postgresql/euc2004_sjis2004.so",start:577992,end:580075},{filename:"/tmp/pglite/lib/postgresql/euc_cn_and_mic.so",start:580075,end:581016},{filename:"/tmp/pglite/lib/postgresql/euc_jp_and_sjis.so",start:581016,end:588301},{filename:"/tmp/pglite/lib/postgresql/euc_kr_and_mic.so",start:588301,end:589252},{filename:"/tmp/pglite/lib/postgresql/euc_tw_and_big5.so",start:589252,end:593830},{filename:"/tmp/pglite/lib/postgresql/latin2_and_win1250.so",start:593830,end:595236},{filename:"/tmp/pglite/lib/postgresql/latin_and_mic.so",start:595236,end:596257},{filename:"/tmp/pglite/lib/postgresql/libpqwalreceiver.so",start:596257,end:716720},{filename:"/tmp/pglite/lib/postgresql/pgoutput.so",start:716720,end:730234},{filename:"/tmp/pglite/lib/postgresql/pgxs/config/install-sh",start:730234,end:744231},{filename:"/tmp/pglite/lib/postgresql/pgxs/config/missing",start:744231,end:745579},{filename:"/tmp/pglite/lib/postgresql/pgxs/src/Makefile.global",start:745579,end:781844},{filename:"/tmp/pglite/lib/postgresql/pgxs/src/Makefile.port",start:781844,end:782396},{filename:"/tmp/pglite/lib/postgresql/pgxs/src/Makefile.shlib",start:782396,end:797698},{filename:"/tmp/pglite/lib/postgresql/pgxs/src/makefiles/pgxs.mk",start:797698,end:812609},{filename:"/tmp/pglite/lib/postgresql/pgxs/src/nls-global.mk",start:812609,end:819477},{filename:"/tmp/pglite/lib/postgresql/plpgsql.so",start:819477,end:971490},{filename:"/tmp/pglite/lib/postgresql/utf8_and_big5.so",start:971490,end:1086238},{filename:"/tmp/pglite/lib/postgresql/utf8_and_cyrillic.so",start:1086238,end:1092212},{filename:"/tmp/pglite/lib/postgresql/utf8_and_euc2004.so",start:1092212,end:1297144},{filename:"/tmp/pglite/lib/postgresql/utf8_and_euc_cn.so",start:1297144,end:1372324},{filename:"/tmp/pglite/lib/postgresql/utf8_and_euc_jp.so",start:1372324,end:1523552},{filename:"/tmp/pglite/lib/postgresql/utf8_and_euc_kr.so",start:1523552,end:1626408},{filename:"/tmp/pglite/lib/postgresql/utf8_and_euc_tw.so",start:1626408,end:1825964},{filename:"/tmp/pglite/lib/postgresql/utf8_and_gb18030.so",start:1825964,end:2088341},{filename:"/tmp/pglite/lib/postgresql/utf8_and_gbk.so",start:2088341,end:2234873},{filename:"/tmp/pglite/lib/postgresql/utf8_and_iso8859.so",start:2234873,end:2258544},{filename:"/tmp/pglite/lib/postgresql/utf8_and_iso8859_1.so",start:2258544,end:2259516},{filename:"/tmp/pglite/lib/postgresql/utf8_and_johab.so",start:2259516,end:2421220},{filename:"/tmp/pglite/lib/postgresql/utf8_and_sjis.so",start:2421220,end:2502880},{filename:"/tmp/pglite/lib/postgresql/utf8_and_sjis2004.so",start:2502880,end:2629512},{filename:"/tmp/pglite/lib/postgresql/utf8_and_uhc.so",start:2629512,end:2796784},{filename:"/tmp/pglite/lib/postgresql/utf8_and_win.so",start:2796784,end:2823383},{filename:"/tmp/pglite/password",start:2823383,end:2823392},{filename:"/tmp/pglite/share/postgresql/errcodes.txt",start:2823392,end:2856784},{filename:"/tmp/pglite/share/postgresql/extension/plpgsql--1.0.sql",start:2856784,end:2857442},{filename:"/tmp/pglite/share/postgresql/extension/plpgsql.control",start:2857442,end:2857635},{filename:"/tmp/pglite/share/postgresql/information_schema.sql",start:2857635,end:2973158},{filename:"/tmp/pglite/share/postgresql/pg_hba.conf.sample",start:2973158,end:2978783},{filename:"/tmp/pglite/share/postgresql/pg_ident.conf.sample",start:2978783,end:2981423},{filename:"/tmp/pglite/share/postgresql/pg_service.conf.sample",start:2981423,end:2982027},{filename:"/tmp/pglite/share/postgresql/postgres.bki",start:2982027,end:3935295},{filename:"/tmp/pglite/share/postgresql/postgresql.conf.sample",start:3935295,end:3965957},{filename:"/tmp/pglite/share/postgresql/psqlrc.sample",start:3965957,end:3966235},{filename:"/tmp/pglite/share/postgresql/snowball_create.sql",start:3966235,end:4010411},{filename:"/tmp/pglite/share/postgresql/sql_features.txt",start:4010411,end:4046144},{filename:"/tmp/pglite/share/postgresql/system_constraints.sql",start:4046144,end:4055039},{filename:"/tmp/pglite/share/postgresql/system_functions.sql",start:4055039,end:4079342},{filename:"/tmp/pglite/share/postgresql/system_views.sql",start:4079342,end:4131036},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Abidjan",start:4131036,end:4131184},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Accra",start:4131184,end:4131332},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Addis_Ababa",start:4131332,end:4131597},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Algiers",start:4131597,end:4132332},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Asmara",start:4132332,end:4132597},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Asmera",start:4132597,end:4132862},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Bamako",start:4132862,end:4133010},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Bangui",start:4133010,end:4133245},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Banjul",start:4133245,end:4133393},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Bissau",start:4133393,end:4133587},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Blantyre",start:4133587,end:4133736},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Brazzaville",start:4133736,end:4133971},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Bujumbura",start:4133971,end:4134120},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Cairo",start:4134120,end:4136519},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Casablanca",start:4136519,end:4138948},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Ceuta",start:4138948,end:4141e3},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Conakry",start:4141e3,end:4141148},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Dakar",start:4141148,end:4141296},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Dar_es_Salaam",start:4141296,end:4141561},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Djibouti",start:4141561,end:4141826},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Douala",start:4141826,end:4142061},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/El_Aaiun",start:4142061,end:4144356},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Freetown",start:4144356,end:4144504},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Gaborone",start:4144504,end:4144653},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Harare",start:4144653,end:4144802},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Johannesburg",start:4144802,end:4145048},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Juba",start:4145048,end:4145727},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Kampala",start:4145727,end:4145992},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Khartoum",start:4145992,end:4146671},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Kigali",start:4146671,end:4146820},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Kinshasa",start:4146820,end:4147055},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Lagos",start:4147055,end:4147290},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Libreville",start:4147290,end:4147525},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Lome",start:4147525,end:4147673},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Luanda",start:4147673,end:4147908},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Lubumbashi",start:4147908,end:4148057},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Lusaka",start:4148057,end:4148206},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Malabo",start:4148206,end:4148441},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Maputo",start:4148441,end:4148590},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Maseru",start:4148590,end:4148836},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Mbabane",start:4148836,end:4149082},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Mogadishu",start:4149082,end:4149347},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Monrovia",start:4149347,end:4149555},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Nairobi",start:4149555,end:4149820},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Ndjamena",start:4149820,end:4150019},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Niamey",start:4150019,end:4150254},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Nouakchott",start:4150254,end:4150402},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Ouagadougou",start:4150402,end:4150550},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Porto-Novo",start:4150550,end:4150785},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Sao_Tome",start:4150785,end:4151039},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Timbuktu",start:4151039,end:4151187},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Tripoli",start:4151187,end:4151812},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Tunis",start:4151812,end:4152501},{filename:"/tmp/pglite/share/postgresql/timezone/Africa/Windhoek",start:4152501,end:4153456},{filename:"/tmp/pglite/share/postgresql/timezone/America/Adak",start:4153456,end:4155812},{filename:"/tmp/pglite/share/postgresql/timezone/America/Anchorage",start:4155812,end:4158183},{filename:"/tmp/pglite/share/postgresql/timezone/America/Anguilla",start:4158183,end:4158429},{filename:"/tmp/pglite/share/postgresql/timezone/America/Antigua",start:4158429,end:4158675},{filename:"/tmp/pglite/share/postgresql/timezone/America/Araguaina",start:4158675,end:4159559},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Buenos_Aires",start:4159559,end:4160635},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Catamarca",start:4160635,end:4161711},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/ComodRivadavia",start:4161711,end:4162787},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Cordoba",start:4162787,end:4163863},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Jujuy",start:4163863,end:4164911},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/La_Rioja",start:4164911,end:4166001},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Mendoza",start:4166001,end:4167077},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Rio_Gallegos",start:4167077,end:4168153},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Salta",start:4168153,end:4169201},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/San_Juan",start:4169201,end:4170291},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/San_Luis",start:4170291,end:4171393},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Tucuman",start:4171393,end:4172497},{filename:"/tmp/pglite/share/postgresql/timezone/America/Argentina/Ushuaia",start:4172497,end:4173573},{filename:"/tmp/pglite/share/postgresql/timezone/America/Aruba",start:4173573,end:4173819},{filename:"/tmp/pglite/share/postgresql/timezone/America/Asuncion",start:4173819,end:4175477},{filename:"/tmp/pglite/share/postgresql/timezone/America/Atikokan",start:4175477,end:4175659},{filename:"/tmp/pglite/share/postgresql/timezone/America/Atka",start:4175659,end:4178015},{filename:"/tmp/pglite/share/postgresql/timezone/America/Bahia",start:4178015,end:4179039},{filename:"/tmp/pglite/share/postgresql/timezone/America/Bahia_Banderas",start:4179039,end:4180139},{filename:"/tmp/pglite/share/postgresql/timezone/America/Barbados",start:4180139,end:4180575},{filename:"/tmp/pglite/share/postgresql/timezone/America/Belem",start:4180575,end:4181151},{filename:"/tmp/pglite/share/postgresql/timezone/America/Belize",start:4181151,end:4182765},{filename:"/tmp/pglite/share/postgresql/timezone/America/Blanc-Sablon",start:4182765,end:4183011},{filename:"/tmp/pglite/share/postgresql/timezone/America/Boa_Vista",start:4183011,end:4183643},{filename:"/tmp/pglite/share/postgresql/timezone/America/Bogota",start:4183643,end:4183889},{filename:"/tmp/pglite/share/postgresql/timezone/America/Boise",start:4183889,end:4186299},{filename:"/tmp/pglite/share/postgresql/timezone/America/Buenos_Aires",start:4186299,end:4187375},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cambridge_Bay",start:4187375,end:4189629},{filename:"/tmp/pglite/share/postgresql/timezone/America/Campo_Grande",start:4189629,end:4191073},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cancun",start:4191073,end:4191937},{filename:"/tmp/pglite/share/postgresql/timezone/America/Caracas",start:4191937,end:4192201},{filename:"/tmp/pglite/share/postgresql/timezone/America/Catamarca",start:4192201,end:4193277},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cayenne",start:4193277,end:4193475},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cayman",start:4193475,end:4193657},{filename:"/tmp/pglite/share/postgresql/timezone/America/Chicago",start:4193657,end:4197249},{filename:"/tmp/pglite/share/postgresql/timezone/America/Chihuahua",start:4197249,end:4198351},{filename:"/tmp/pglite/share/postgresql/timezone/America/Ciudad_Juarez",start:4198351,end:4199889},{filename:"/tmp/pglite/share/postgresql/timezone/America/Coral_Harbour",start:4199889,end:4200071},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cordoba",start:4200071,end:4201147},{filename:"/tmp/pglite/share/postgresql/timezone/America/Costa_Rica",start:4201147,end:4201463},{filename:"/tmp/pglite/share/postgresql/timezone/America/Coyhaique",start:4201463,end:4203603},{filename:"/tmp/pglite/share/postgresql/timezone/America/Creston",start:4203603,end:4203963},{filename:"/tmp/pglite/share/postgresql/timezone/America/Cuiaba",start:4203963,end:4205379},{filename:"/tmp/pglite/share/postgresql/timezone/America/Curacao",start:4205379,end:4205625},{filename:"/tmp/pglite/share/postgresql/timezone/America/Danmarkshavn",start:4205625,end:4206323},{filename:"/tmp/pglite/share/postgresql/timezone/America/Dawson",start:4206323,end:4207937},{filename:"/tmp/pglite/share/postgresql/timezone/America/Dawson_Creek",start:4207937,end:4208987},{filename:"/tmp/pglite/share/postgresql/timezone/America/Denver",start:4208987,end:4211447},{filename:"/tmp/pglite/share/postgresql/timezone/America/Detroit",start:4211447,end:4213677},{filename:"/tmp/pglite/share/postgresql/timezone/America/Dominica",start:4213677,end:4213923},{filename:"/tmp/pglite/share/postgresql/timezone/America/Edmonton",start:4213923,end:4216255},{filename:"/tmp/pglite/share/postgresql/timezone/America/Eirunepe",start:4216255,end:4216911},{filename:"/tmp/pglite/share/postgresql/timezone/America/El_Salvador",start:4216911,end:4217135},{filename:"/tmp/pglite/share/postgresql/timezone/America/Ensenada",start:4217135,end:4219593},{filename:"/tmp/pglite/share/postgresql/timezone/America/Fort_Nelson",start:4219593,end:4221833},{filename:"/tmp/pglite/share/postgresql/timezone/America/Fort_Wayne",start:4221833,end:4223515},{filename:"/tmp/pglite/share/postgresql/timezone/America/Fortaleza",start:4223515,end:4224231},{filename:"/tmp/pglite/share/postgresql/timezone/America/Glace_Bay",start:4224231,end:4226423},{filename:"/tmp/pglite/share/postgresql/timezone/America/Godthab",start:4226423,end:4228326},{filename:"/tmp/pglite/share/postgresql/timezone/America/Goose_Bay",start:4228326,end:4231536},{filename:"/tmp/pglite/share/postgresql/timezone/America/Grand_Turk",start:4231536,end:4233370},{filename:"/tmp/pglite/share/postgresql/timezone/America/Grenada",start:4233370,end:4233616},{filename:"/tmp/pglite/share/postgresql/timezone/America/Guadeloupe",start:4233616,end:4233862},{filename:"/tmp/pglite/share/postgresql/timezone/America/Guatemala",start:4233862,end:4234142},{filename:"/tmp/pglite/share/postgresql/timezone/America/Guayaquil",start:4234142,end:4234388},{filename:"/tmp/pglite/share/postgresql/timezone/America/Guyana",start:4234388,end:4234650},{filename:"/tmp/pglite/share/postgresql/timezone/America/Halifax",start:4234650,end:4238074},{filename:"/tmp/pglite/share/postgresql/timezone/America/Havana",start:4238074,end:4240490},{filename:"/tmp/pglite/share/postgresql/timezone/America/Hermosillo",start:4240490,end:4240878},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Indianapolis",start:4240878,end:4242560},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Knox",start:4242560,end:4245004},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Marengo",start:4245004,end:4246742},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Petersburg",start:4246742,end:4248662},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Tell_City",start:4248662,end:4250362},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Vevay",start:4250362,end:4251792},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Vincennes",start:4251792,end:4253502},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indiana/Winamac",start:4253502,end:4255296},{filename:"/tmp/pglite/share/postgresql/timezone/America/Indianapolis",start:4255296,end:4256978},{filename:"/tmp/pglite/share/postgresql/timezone/America/Inuvik",start:4256978,end:4259052},{filename:"/tmp/pglite/share/postgresql/timezone/America/Iqaluit",start:4259052,end:4261254},{filename:"/tmp/pglite/share/postgresql/timezone/America/Jamaica",start:4261254,end:4261736},{filename:"/tmp/pglite/share/postgresql/timezone/America/Jujuy",start:4261736,end:4262784},{filename:"/tmp/pglite/share/postgresql/timezone/America/Juneau",start:4262784,end:4265137},{filename:"/tmp/pglite/share/postgresql/timezone/America/Kentucky/Louisville",start:4265137,end:4267925},{filename:"/tmp/pglite/share/postgresql/timezone/America/Kentucky/Monticello",start:4267925,end:4270293},{filename:"/tmp/pglite/share/postgresql/timezone/America/Knox_IN",start:4270293,end:4272737},{filename:"/tmp/pglite/share/postgresql/timezone/America/Kralendijk",start:4272737,end:4272983},{filename:"/tmp/pglite/share/postgresql/timezone/America/La_Paz",start:4272983,end:4273215},{filename:"/tmp/pglite/share/postgresql/timezone/America/Lima",start:4273215,end:4273621},{filename:"/tmp/pglite/share/postgresql/timezone/America/Los_Angeles",start:4273621,end:4276473},{filename:"/tmp/pglite/share/postgresql/timezone/America/Louisville",start:4276473,end:4279261},{filename:"/tmp/pglite/share/postgresql/timezone/America/Lower_Princes",start:4279261,end:4279507},{filename:"/tmp/pglite/share/postgresql/timezone/America/Maceio",start:4279507,end:4280251},{filename:"/tmp/pglite/share/postgresql/timezone/America/Managua",start:4280251,end:4280681},{filename:"/tmp/pglite/share/postgresql/timezone/America/Manaus",start:4280681,end:4281285},{filename:"/tmp/pglite/share/postgresql/timezone/America/Marigot",start:4281285,end:4281531},{filename:"/tmp/pglite/share/postgresql/timezone/America/Martinique",start:4281531,end:4281763},{filename:"/tmp/pglite/share/postgresql/timezone/America/Matamoros",start:4281763,end:4283181},{filename:"/tmp/pglite/share/postgresql/timezone/America/Mazatlan",start:4283181,end:4284241},{filename:"/tmp/pglite/share/postgresql/timezone/America/Mendoza",start:4284241,end:4285317},{filename:"/tmp/pglite/share/postgresql/timezone/America/Menominee",start:4285317,end:4287591},{filename:"/tmp/pglite/share/postgresql/timezone/America/Merida",start:4287591,end:4288595},{filename:"/tmp/pglite/share/postgresql/timezone/America/Metlakatla",start:4288595,end:4290018},{filename:"/tmp/pglite/share/postgresql/timezone/America/Mexico_City",start:4290018,end:4291240},{filename:"/tmp/pglite/share/postgresql/timezone/America/Miquelon",start:4291240,end:4292906},{filename:"/tmp/pglite/share/postgresql/timezone/America/Moncton",start:4292906,end:4296060},{filename:"/tmp/pglite/share/postgresql/timezone/America/Monterrey",start:4296060,end:4297174},{filename:"/tmp/pglite/share/postgresql/timezone/America/Montevideo",start:4297174,end:4298684},{filename:"/tmp/pglite/share/postgresql/timezone/America/Montreal",start:4298684,end:4302178},{filename:"/tmp/pglite/share/postgresql/timezone/America/Montserrat",start:4302178,end:4302424},{filename:"/tmp/pglite/share/postgresql/timezone/America/Nassau",start:4302424,end:4305918},{filename:"/tmp/pglite/share/postgresql/timezone/America/New_York",start:4305918,end:4309470},{filename:"/tmp/pglite/share/postgresql/timezone/America/Nipigon",start:4309470,end:4312964},{filename:"/tmp/pglite/share/postgresql/timezone/America/Nome",start:4312964,end:4315331},{filename:"/tmp/pglite/share/postgresql/timezone/America/Noronha",start:4315331,end:4316047},{filename:"/tmp/pglite/share/postgresql/timezone/America/North_Dakota/Beulah",start:4316047,end:4318443},{filename:"/tmp/pglite/share/postgresql/timezone/America/North_Dakota/Center",start:4318443,end:4320839},{filename:"/tmp/pglite/share/postgresql/timezone/America/North_Dakota/New_Salem",start:4320839,end:4323235},{filename:"/tmp/pglite/share/postgresql/timezone/America/Nuuk",start:4323235,end:4325138},{filename:"/tmp/pglite/share/postgresql/timezone/America/Ojinaga",start:4325138,end:4326662},{filename:"/tmp/pglite/share/postgresql/timezone/America/Panama",start:4326662,end:4326844},{filename:"/tmp/pglite/share/postgresql/timezone/America/Pangnirtung",start:4326844,end:4329046},{filename:"/tmp/pglite/share/postgresql/timezone/America/Paramaribo",start:4329046,end:4329308},{filename:"/tmp/pglite/share/postgresql/timezone/America/Phoenix",start:4329308,end:4329668},{filename:"/tmp/pglite/share/postgresql/timezone/America/Port-au-Prince",start:4329668,end:4331102},{filename:"/tmp/pglite/share/postgresql/timezone/America/Port_of_Spain",start:4331102,end:4331348},{filename:"/tmp/pglite/share/postgresql/timezone/America/Porto_Acre",start:4331348,end:4331976},{filename:"/tmp/pglite/share/postgresql/timezone/America/Porto_Velho",start:4331976,end:4332552},{filename:"/tmp/pglite/share/postgresql/timezone/America/Puerto_Rico",start:4332552,end:4332798},{filename:"/tmp/pglite/share/postgresql/timezone/America/Punta_Arenas",start:4332798,end:4334714},{filename:"/tmp/pglite/share/postgresql/timezone/America/Rainy_River",start:4334714,end:4337582},{filename:"/tmp/pglite/share/postgresql/timezone/America/Rankin_Inlet",start:4337582,end:4339648},{filename:"/tmp/pglite/share/postgresql/timezone/America/Recife",start:4339648,end:4340364},{filename:"/tmp/pglite/share/postgresql/timezone/America/Regina",start:4340364,end:4341344},{filename:"/tmp/pglite/share/postgresql/timezone/America/Resolute",start:4341344,end:4343410},{filename:"/tmp/pglite/share/postgresql/timezone/America/Rio_Branco",start:4343410,end:4344038},{filename:"/tmp/pglite/share/postgresql/timezone/America/Rosario",start:4344038,end:4345114},{filename:"/tmp/pglite/share/postgresql/timezone/America/Santa_Isabel",start:4345114,end:4347572},{filename:"/tmp/pglite/share/postgresql/timezone/America/Santarem",start:4347572,end:4348174},{filename:"/tmp/pglite/share/postgresql/timezone/America/Santiago",start:4348174,end:4350703},{filename:"/tmp/pglite/share/postgresql/timezone/America/Santo_Domingo",start:4350703,end:4351161},{filename:"/tmp/pglite/share/postgresql/timezone/America/Sao_Paulo",start:4351161,end:4352605},{filename:"/tmp/pglite/share/postgresql/timezone/America/Scoresbysund",start:4352605,end:4354554},{filename:"/tmp/pglite/share/postgresql/timezone/America/Shiprock",start:4354554,end:4357014},{filename:"/tmp/pglite/share/postgresql/timezone/America/Sitka",start:4357014,end:4359343},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Barthelemy",start:4359343,end:4359589},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Johns",start:4359589,end:4363244},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Kitts",start:4363244,end:4363490},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Lucia",start:4363490,end:4363736},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Thomas",start:4363736,end:4363982},{filename:"/tmp/pglite/share/postgresql/timezone/America/St_Vincent",start:4363982,end:4364228},{filename:"/tmp/pglite/share/postgresql/timezone/America/Swift_Current",start:4364228,end:4364788},{filename:"/tmp/pglite/share/postgresql/timezone/America/Tegucigalpa",start:4364788,end:4365040},{filename:"/tmp/pglite/share/postgresql/timezone/America/Thule",start:4365040,end:4366542},{filename:"/tmp/pglite/share/postgresql/timezone/America/Thunder_Bay",start:4366542,end:4370036},{filename:"/tmp/pglite/share/postgresql/timezone/America/Tijuana",start:4370036,end:4372494},{filename:"/tmp/pglite/share/postgresql/timezone/America/Toronto",start:4372494,end:4375988},{filename:"/tmp/pglite/share/postgresql/timezone/America/Tortola",start:4375988,end:4376234},{filename:"/tmp/pglite/share/postgresql/timezone/America/Vancouver",start:4376234,end:4379126},{filename:"/tmp/pglite/share/postgresql/timezone/America/Virgin",start:4379126,end:4379372},{filename:"/tmp/pglite/share/postgresql/timezone/America/Whitehorse",start:4379372,end:4380986},{filename:"/tmp/pglite/share/postgresql/timezone/America/Winnipeg",start:4380986,end:4383854},{filename:"/tmp/pglite/share/postgresql/timezone/America/Yakutat",start:4383854,end:4386159},{filename:"/tmp/pglite/share/postgresql/timezone/America/Yellowknife",start:4386159,end:4388491},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Casey",start:4388491,end:4388928},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Davis",start:4388928,end:4389225},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/DumontDUrville",start:4389225,end:4389411},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Macquarie",start:4389411,end:4391671},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Mawson",start:4391671,end:4391870},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/McMurdo",start:4391870,end:4394307},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Palmer",start:4394307,end:4395725},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Rothera",start:4395725,end:4395889},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/South_Pole",start:4395889,end:4398326},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Syowa",start:4398326,end:4398491},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Troll",start:4398491,end:4399653},{filename:"/tmp/pglite/share/postgresql/timezone/Antarctica/Vostok",start:4399653,end:4399880},{filename:"/tmp/pglite/share/postgresql/timezone/Arctic/Longyearbyen",start:4399880,end:4402178},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Aden",start:4402178,end:4402343},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Almaty",start:4402343,end:4403340},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Amman",start:4403340,end:4404787},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Anadyr",start:4404787,end:4405975},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Aqtau",start:4405975,end:4406958},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Aqtobe",start:4406958,end:4407969},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ashgabat",start:4407969,end:4408588},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ashkhabad",start:4408588,end:4409207},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Atyrau",start:4409207,end:4410198},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Baghdad",start:4410198,end:4411181},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Bahrain",start:4411181,end:4411380},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Baku",start:4411380,end:4412607},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Bangkok",start:4412607,end:4412806},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Barnaul",start:4412806,end:4414027},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Beirut",start:4414027,end:4416181},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Bishkek",start:4416181,end:4417164},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Brunei",start:4417164,end:4417647},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Calcutta",start:4417647,end:4417932},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Chita",start:4417932,end:4419153},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Choibalsan",start:4419153,end:4420044},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Chongqing",start:4420044,end:4420605},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Chungking",start:4420605,end:4421166},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Colombo",start:4421166,end:4421538},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Dacca",start:4421538,end:4421875},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Damascus",start:4421875,end:4423762},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Dhaka",start:4423762,end:4424099},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Dili",start:4424099,end:4424370},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Dubai",start:4424370,end:4424535},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Dushanbe",start:4424535,end:4425126},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Famagusta",start:4425126,end:4427154},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Gaza",start:4427154,end:4430998},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Harbin",start:4430998,end:4431559},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Hebron",start:4431559,end:4435431},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ho_Chi_Minh",start:4435431,end:4435782},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Hong_Kong",start:4435782,end:4437015},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Hovd",start:4437015,end:4437906},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Irkutsk",start:4437906,end:4439149},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Istanbul",start:4439149,end:4441096},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Jakarta",start:4441096,end:4441479},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Jayapura",start:4441479,end:4441700},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Jerusalem",start:4441700,end:4444088},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kabul",start:4444088,end:4444296},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kamchatka",start:4444296,end:4445462},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Karachi",start:4445462,end:4445841},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kashgar",start:4445841,end:4446006},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kathmandu",start:4446006,end:4446218},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Katmandu",start:4446218,end:4446430},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Khandyga",start:4446430,end:4447701},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kolkata",start:4447701,end:4447986},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Krasnoyarsk",start:4447986,end:4449193},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kuala_Lumpur",start:4449193,end:4449608},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kuching",start:4449608,end:4450091},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Kuwait",start:4450091,end:4450256},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Macao",start:4450256,end:4451483},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Macau",start:4451483,end:4452710},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Magadan",start:4452710,end:4453932},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Makassar",start:4453932,end:4454186},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Manila",start:4454186,end:4454608},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Muscat",start:4454608,end:4454773},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Nicosia",start:4454773,end:4456775},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Novokuznetsk",start:4456775,end:4457940},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Novosibirsk",start:4457940,end:4459161},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Omsk",start:4459161,end:4460368},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Oral",start:4460368,end:4461373},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Phnom_Penh",start:4461373,end:4461572},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Pontianak",start:4461572,end:4461925},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Pyongyang",start:4461925,end:4462162},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Qatar",start:4462162,end:4462361},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Qostanay",start:4462361,end:4463400},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Qyzylorda",start:4463400,end:4464425},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Rangoon",start:4464425,end:4464693},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Riyadh",start:4464693,end:4464858},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Saigon",start:4464858,end:4465209},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Sakhalin",start:4465209,end:4466411},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Samarkand",start:4466411,end:4466988},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Seoul",start:4466988,end:4467605},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Shanghai",start:4467605,end:4468166},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Singapore",start:4468166,end:4468581},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Srednekolymsk",start:4468581,end:4469789},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Taipei",start:4469789,end:4470550},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tashkent",start:4470550,end:4471141},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tbilisi",start:4471141,end:4472176},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tehran",start:4472176,end:4473438},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tel_Aviv",start:4473438,end:4475826},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Thimbu",start:4475826,end:4476029},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Thimphu",start:4476029,end:4476232},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tokyo",start:4476232,end:4476541},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Tomsk",start:4476541,end:4477762},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ujung_Pandang",start:4477762,end:4478016},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ulaanbaatar",start:4478016,end:4478907},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ulan_Bator",start:4478907,end:4479798},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Urumqi",start:4479798,end:4479963},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Ust-Nera",start:4479963,end:4481215},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Vientiane",start:4481215,end:4481414},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Vladivostok",start:4481414,end:4482622},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Yakutsk",start:4482622,end:4483829},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Yangon",start:4483829,end:4484097},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Yekaterinburg",start:4484097,end:4485340},{filename:"/tmp/pglite/share/postgresql/timezone/Asia/Yerevan",start:4485340,end:4486491},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Azores",start:4486491,end:4489947},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Bermuda",start:4489947,end:4492343},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Canary",start:4492343,end:4494240},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Cape_Verde",start:4494240,end:4494510},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Faeroe",start:4494510,end:4496325},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Faroe",start:4496325,end:4498140},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Jan_Mayen",start:4498140,end:4500438},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Madeira",start:4500438,end:4503815},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Reykjavik",start:4503815,end:4503963},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/South_Georgia",start:4503963,end:4504127},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/St_Helena",start:4504127,end:4504275},{filename:"/tmp/pglite/share/postgresql/timezone/Atlantic/Stanley",start:4504275,end:4505489},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/ACT",start:4505489,end:4507679},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Adelaide",start:4507679,end:4509887},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Brisbane",start:4509887,end:4510306},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Broken_Hill",start:4510306,end:4512535},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Canberra",start:4512535,end:4514725},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Currie",start:4514725,end:4517083},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Darwin",start:4517083,end:4517408},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Eucla",start:4517408,end:4517878},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Hobart",start:4517878,end:4520236},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/LHI",start:4520236,end:4522096},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Lindeman",start:4522096,end:4522571},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Lord_Howe",start:4522571,end:4524431},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Melbourne",start:4524431,end:4526621},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/NSW",start:4526621,end:4528811},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/North",start:4528811,end:4529136},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Perth",start:4529136,end:4529582},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Queensland",start:4529582,end:4530001},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/South",start:4530001,end:4532209},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Sydney",start:4532209,end:4534399},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Tasmania",start:4534399,end:4536757},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Victoria",start:4536757,end:4538947},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/West",start:4538947,end:4539393},{filename:"/tmp/pglite/share/postgresql/timezone/Australia/Yancowinna",start:4539393,end:4541622},{filename:"/tmp/pglite/share/postgresql/timezone/Brazil/Acre",start:4541622,end:4542250},{filename:"/tmp/pglite/share/postgresql/timezone/Brazil/DeNoronha",start:4542250,end:4542966},{filename:"/tmp/pglite/share/postgresql/timezone/Brazil/East",start:4542966,end:4544410},{filename:"/tmp/pglite/share/postgresql/timezone/Brazil/West",start:4544410,end:4545014},{filename:"/tmp/pglite/share/postgresql/timezone/CET",start:4545014,end:4547947},{filename:"/tmp/pglite/share/postgresql/timezone/CST6CDT",start:4547947,end:4551539},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Atlantic",start:4551539,end:4554963},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Central",start:4554963,end:4557831},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Eastern",start:4557831,end:4561325},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Mountain",start:4561325,end:4563657},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Newfoundland",start:4563657,end:4567312},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Pacific",start:4567312,end:4570204},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Saskatchewan",start:4570204,end:4571184},{filename:"/tmp/pglite/share/postgresql/timezone/Canada/Yukon",start:4571184,end:4572798},{filename:"/tmp/pglite/share/postgresql/timezone/Chile/Continental",start:4572798,end:4575327},{filename:"/tmp/pglite/share/postgresql/timezone/Chile/EasterIsland",start:4575327,end:4577560},{filename:"/tmp/pglite/share/postgresql/timezone/Cuba",start:4577560,end:4579976},{filename:"/tmp/pglite/share/postgresql/timezone/EET",start:4579976,end:4582238},{filename:"/tmp/pglite/share/postgresql/timezone/EST",start:4582238,end:4582420},{filename:"/tmp/pglite/share/postgresql/timezone/EST5EDT",start:4582420,end:4585972},{filename:"/tmp/pglite/share/postgresql/timezone/Egypt",start:4585972,end:4588371},{filename:"/tmp/pglite/share/postgresql/timezone/Eire",start:4588371,end:4591863},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT",start:4591863,end:4591977},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+0",start:4591977,end:4592091},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+1",start:4592091,end:4592207},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+10",start:4592207,end:4592324},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+11",start:4592324,end:4592441},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+12",start:4592441,end:4592558},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+2",start:4592558,end:4592674},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+3",start:4592674,end:4592790},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+4",start:4592790,end:4592906},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+5",start:4592906,end:4593022},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+6",start:4593022,end:4593138},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+7",start:4593138,end:4593254},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+8",start:4593254,end:4593370},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT+9",start:4593370,end:4593486},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-0",start:4593486,end:4593600},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-1",start:4593600,end:4593717},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-10",start:4593717,end:4593835},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-11",start:4593835,end:4593953},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-12",start:4593953,end:4594071},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-13",start:4594071,end:4594189},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-14",start:4594189,end:4594307},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-2",start:4594307,end:4594424},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-3",start:4594424,end:4594541},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-4",start:4594541,end:4594658},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-5",start:4594658,end:4594775},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-6",start:4594775,end:4594892},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-7",start:4594892,end:4595009},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-8",start:4595009,end:4595126},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT-9",start:4595126,end:4595243},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/GMT0",start:4595243,end:4595357},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/Greenwich",start:4595357,end:4595471},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/UCT",start:4595471,end:4595585},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/UTC",start:4595585,end:4595699},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/Universal",start:4595699,end:4595813},{filename:"/tmp/pglite/share/postgresql/timezone/Etc/Zulu",start:4595813,end:4595927},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Amsterdam",start:4595927,end:4598860},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Andorra",start:4598860,end:4600602},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Astrakhan",start:4600602,end:4601767},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Athens",start:4601767,end:4604029},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Belfast",start:4604029,end:4607693},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Belgrade",start:4607693,end:4609613},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Berlin",start:4609613,end:4611911},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Bratislava",start:4611911,end:4614212},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Brussels",start:4614212,end:4617145},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Bucharest",start:4617145,end:4619329},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Budapest",start:4619329,end:4621697},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Busingen",start:4621697,end:4623606},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Chisinau",start:4623606,end:4625996},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Copenhagen",start:4625996,end:4628294},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Dublin",start:4628294,end:4631786},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Gibraltar",start:4631786,end:4634854},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Guernsey",start:4634854,end:4638518},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Helsinki",start:4638518,end:4640418},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Isle_of_Man",start:4640418,end:4644082},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Istanbul",start:4644082,end:4646029},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Jersey",start:4646029,end:4649693},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Kaliningrad",start:4649693,end:4651186},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Kiev",start:4651186,end:4653306},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Kirov",start:4653306,end:4654491},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Kyiv",start:4654491,end:4656611},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Lisbon",start:4656611,end:4660138},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Ljubljana",start:4660138,end:4662058},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/London",start:4662058,end:4665722},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Luxembourg",start:4665722,end:4668655},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Madrid",start:4668655,end:4671269},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Malta",start:4671269,end:4673889},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Mariehamn",start:4673889,end:4675789},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Minsk",start:4675789,end:4677110},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Monaco",start:4677110,end:4680072},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Moscow",start:4680072,end:4681607},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Nicosia",start:4681607,end:4683609},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Oslo",start:4683609,end:4685907},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Paris",start:4685907,end:4688869},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Podgorica",start:4688869,end:4690789},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Prague",start:4690789,end:4693090},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Riga",start:4693090,end:4695288},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Rome",start:4695288,end:4697929},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Samara",start:4697929,end:4699144},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/San_Marino",start:4699144,end:4701785},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Sarajevo",start:4701785,end:4703705},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Saratov",start:4703705,end:4704888},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Simferopol",start:4704888,end:4706357},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Skopje",start:4706357,end:4708277},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Sofia",start:4708277,end:4710354},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Stockholm",start:4710354,end:4712652},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Tallinn",start:4712652,end:4714800},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Tirane",start:4714800,end:4716884},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Tiraspol",start:4716884,end:4719274},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Ulyanovsk",start:4719274,end:4720541},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Uzhgorod",start:4720541,end:4722661},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Vaduz",start:4722661,end:4724570},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Vatican",start:4724570,end:4727211},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Vienna",start:4727211,end:4729411},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Vilnius",start:4729411,end:4731573},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Volgograd",start:4731573,end:4732766},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Warsaw",start:4732766,end:4735420},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Zagreb",start:4735420,end:4737340},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Zaporozhye",start:4737340,end:4739460},{filename:"/tmp/pglite/share/postgresql/timezone/Europe/Zurich",start:4739460,end:4741369},{filename:"/tmp/pglite/share/postgresql/timezone/Factory",start:4741369,end:4741485},{filename:"/tmp/pglite/share/postgresql/timezone/GB",start:4741485,end:4745149},{filename:"/tmp/pglite/share/postgresql/timezone/GB-Eire",start:4745149,end:4748813},{filename:"/tmp/pglite/share/postgresql/timezone/GMT",start:4748813,end:4748927},{filename:"/tmp/pglite/share/postgresql/timezone/GMT+0",start:4748927,end:4749041},{filename:"/tmp/pglite/share/postgresql/timezone/GMT-0",start:4749041,end:4749155},{filename:"/tmp/pglite/share/postgresql/timezone/GMT0",start:4749155,end:4749269},{filename:"/tmp/pglite/share/postgresql/timezone/Greenwich",start:4749269,end:4749383},{filename:"/tmp/pglite/share/postgresql/timezone/HST",start:4749383,end:4749712},{filename:"/tmp/pglite/share/postgresql/timezone/Hongkong",start:4749712,end:4750945},{filename:"/tmp/pglite/share/postgresql/timezone/Iceland",start:4750945,end:4751093},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Antananarivo",start:4751093,end:4751358},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Chagos",start:4751358,end:4751557},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Christmas",start:4751557,end:4751756},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Cocos",start:4751756,end:4752024},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Comoro",start:4752024,end:4752289},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Kerguelen",start:4752289,end:4752488},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Mahe",start:4752488,end:4752653},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Maldives",start:4752653,end:4752852},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Mauritius",start:4752852,end:4753093},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Mayotte",start:4753093,end:4753358},{filename:"/tmp/pglite/share/postgresql/timezone/Indian/Reunion",start:4753358,end:4753523},{filename:"/tmp/pglite/share/postgresql/timezone/Iran",start:4753523,end:4754785},{filename:"/tmp/pglite/share/postgresql/timezone/Israel",start:4754785,end:4757173},{filename:"/tmp/pglite/share/postgresql/timezone/Jamaica",start:4757173,end:4757655},{filename:"/tmp/pglite/share/postgresql/timezone/Japan",start:4757655,end:4757964},{filename:"/tmp/pglite/share/postgresql/timezone/Kwajalein",start:4757964,end:4758280},{filename:"/tmp/pglite/share/postgresql/timezone/Libya",start:4758280,end:4758905},{filename:"/tmp/pglite/share/postgresql/timezone/MET",start:4758905,end:4761838},{filename:"/tmp/pglite/share/postgresql/timezone/MST",start:4761838,end:4762198},{filename:"/tmp/pglite/share/postgresql/timezone/MST7MDT",start:4762198,end:4764658},{filename:"/tmp/pglite/share/postgresql/timezone/Mexico/BajaNorte",start:4764658,end:4767116},{filename:"/tmp/pglite/share/postgresql/timezone/Mexico/BajaSur",start:4767116,end:4768176},{filename:"/tmp/pglite/share/postgresql/timezone/Mexico/General",start:4768176,end:4769398},{filename:"/tmp/pglite/share/postgresql/timezone/NZ",start:4769398,end:4771835},{filename:"/tmp/pglite/share/postgresql/timezone/NZ-CHAT",start:4771835,end:4773903},{filename:"/tmp/pglite/share/postgresql/timezone/Navajo",start:4773903,end:4776363},{filename:"/tmp/pglite/share/postgresql/timezone/PRC",start:4776363,end:4776924},{filename:"/tmp/pglite/share/postgresql/timezone/PST8PDT",start:4776924,end:4779776},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Apia",start:4779776,end:4780388},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Auckland",start:4780388,end:4782825},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Bougainville",start:4782825,end:4783093},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Chatham",start:4783093,end:4785161},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Chuuk",start:4785161,end:4785347},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Easter",start:4785347,end:4787580},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Efate",start:4787580,end:4788118},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Enderbury",start:4788118,end:4788352},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Fakaofo",start:4788352,end:4788552},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Fiji",start:4788552,end:4789130},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Funafuti",start:4789130,end:4789296},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Galapagos",start:4789296,end:4789534},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Gambier",start:4789534,end:4789698},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Guadalcanal",start:4789698,end:4789864},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Guam",start:4789864,end:4790358},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Honolulu",start:4790358,end:4790687},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Johnston",start:4790687,end:4791016},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Kanton",start:4791016,end:4791250},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Kiritimati",start:4791250,end:4791488},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Kosrae",start:4791488,end:4791839},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Kwajalein",start:4791839,end:4792155},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Majuro",start:4792155,end:4792321},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Marquesas",start:4792321,end:4792494},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Midway",start:4792494,end:4792669},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Nauru",start:4792669,end:4792921},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Niue",start:4792921,end:4793124},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Norfolk",start:4793124,end:4794004},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Noumea",start:4794004,end:4794308},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Pago_Pago",start:4794308,end:4794483},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Palau",start:4794483,end:4794663},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Pitcairn",start:4794663,end:4794865},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Pohnpei",start:4794865,end:4795031},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Ponape",start:4795031,end:4795197},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Port_Moresby",start:4795197,end:4795383},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Rarotonga",start:4795383,end:4795986},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Saipan",start:4795986,end:4796480},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Samoa",start:4796480,end:4796655},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Tahiti",start:4796655,end:4796820},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Tarawa",start:4796820,end:4796986},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Tongatapu",start:4796986,end:4797358},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Truk",start:4797358,end:4797544},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Wake",start:4797544,end:4797710},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Wallis",start:4797710,end:4797876},{filename:"/tmp/pglite/share/postgresql/timezone/Pacific/Yap",start:4797876,end:4798062},{filename:"/tmp/pglite/share/postgresql/timezone/Poland",start:4798062,end:4800716},{filename:"/tmp/pglite/share/postgresql/timezone/Portugal",start:4800716,end:4804243},{filename:"/tmp/pglite/share/postgresql/timezone/ROC",start:4804243,end:4805004},{filename:"/tmp/pglite/share/postgresql/timezone/ROK",start:4805004,end:4805621},{filename:"/tmp/pglite/share/postgresql/timezone/Singapore",start:4805621,end:4806036},{filename:"/tmp/pglite/share/postgresql/timezone/Turkey",start:4806036,end:4807983},{filename:"/tmp/pglite/share/postgresql/timezone/UCT",start:4807983,end:4808097},{filename:"/tmp/pglite/share/postgresql/timezone/US/Alaska",start:4808097,end:4810468},{filename:"/tmp/pglite/share/postgresql/timezone/US/Aleutian",start:4810468,end:4812824},{filename:"/tmp/pglite/share/postgresql/timezone/US/Arizona",start:4812824,end:4813184},{filename:"/tmp/pglite/share/postgresql/timezone/US/Central",start:4813184,end:4816776},{filename:"/tmp/pglite/share/postgresql/timezone/US/East-Indiana",start:4816776,end:4818458},{filename:"/tmp/pglite/share/postgresql/timezone/US/Eastern",start:4818458,end:4822010},{filename:"/tmp/pglite/share/postgresql/timezone/US/Hawaii",start:4822010,end:4822339},{filename:"/tmp/pglite/share/postgresql/timezone/US/Indiana-Starke",start:4822339,end:4824783},{filename:"/tmp/pglite/share/postgresql/timezone/US/Michigan",start:4824783,end:4827013},{filename:"/tmp/pglite/share/postgresql/timezone/US/Mountain",start:4827013,end:4829473},{filename:"/tmp/pglite/share/postgresql/timezone/US/Pacific",start:4829473,end:4832325},{filename:"/tmp/pglite/share/postgresql/timezone/US/Samoa",start:4832325,end:4832500},{filename:"/tmp/pglite/share/postgresql/timezone/UTC",start:4832500,end:4832614},{filename:"/tmp/pglite/share/postgresql/timezone/Universal",start:4832614,end:4832728},{filename:"/tmp/pglite/share/postgresql/timezone/W-SU",start:4832728,end:4834263},{filename:"/tmp/pglite/share/postgresql/timezone/WET",start:4834263,end:4837790},{filename:"/tmp/pglite/share/postgresql/timezone/Zulu",start:4837790,end:4837904},{filename:"/tmp/pglite/share/postgresql/timezonesets/Africa.txt",start:4837904,end:4844877},{filename:"/tmp/pglite/share/postgresql/timezonesets/America.txt",start:4844877,end:4855884},{filename:"/tmp/pglite/share/postgresql/timezonesets/Antarctica.txt",start:4855884,end:4857018},{filename:"/tmp/pglite/share/postgresql/timezonesets/Asia.txt",start:4857018,end:4865329},{filename:"/tmp/pglite/share/postgresql/timezonesets/Atlantic.txt",start:4865329,end:4868862},{filename:"/tmp/pglite/share/postgresql/timezonesets/Australia",start:4868862,end:4869997},{filename:"/tmp/pglite/share/postgresql/timezonesets/Australia.txt",start:4869997,end:4873381},{filename:"/tmp/pglite/share/postgresql/timezonesets/Default",start:4873381,end:4900595},{filename:"/tmp/pglite/share/postgresql/timezonesets/Etc.txt",start:4900595,end:4901845},{filename:"/tmp/pglite/share/postgresql/timezonesets/Europe.txt",start:4901845,end:4910591},{filename:"/tmp/pglite/share/postgresql/timezonesets/India",start:4910591,end:4911184},{filename:"/tmp/pglite/share/postgresql/timezonesets/Indian.txt",start:4911184,end:4912445},{filename:"/tmp/pglite/share/postgresql/timezonesets/Pacific.txt",start:4912445,end:4916213},{filename:"/tmp/pglite/share/postgresql/tsearch_data/danish.stop",start:4916213,end:4916637},{filename:"/tmp/pglite/share/postgresql/tsearch_data/dutch.stop",start:4916637,end:4917090},{filename:"/tmp/pglite/share/postgresql/tsearch_data/english.stop",start:4917090,end:4917712},{filename:"/tmp/pglite/share/postgresql/tsearch_data/finnish.stop",start:4917712,end:4919291},{filename:"/tmp/pglite/share/postgresql/tsearch_data/french.stop",start:4919291,end:4920096},{filename:"/tmp/pglite/share/postgresql/tsearch_data/german.stop",start:4920096,end:4921445},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hungarian.stop",start:4921445,end:4922672},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hunspell_sample.affix",start:4922672,end:4922915},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hunspell_sample_long.affix",start:4922915,end:4923548},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hunspell_sample_long.dict",start:4923548,end:4923646},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hunspell_sample_num.affix",start:4923646,end:4924108},{filename:"/tmp/pglite/share/postgresql/tsearch_data/hunspell_sample_num.dict",start:4924108,end:4924237},{filename:"/tmp/pglite/share/postgresql/tsearch_data/ispell_sample.affix",start:4924237,end:4924702},{filename:"/tmp/pglite/share/postgresql/tsearch_data/ispell_sample.dict",start:4924702,end:4924783},{filename:"/tmp/pglite/share/postgresql/tsearch_data/italian.stop",start:4924783,end:4926437},{filename:"/tmp/pglite/share/postgresql/tsearch_data/nepali.stop",start:4926437,end:4930698},{filename:"/tmp/pglite/share/postgresql/tsearch_data/norwegian.stop",start:4930698,end:4931549},{filename:"/tmp/pglite/share/postgresql/tsearch_data/portuguese.stop",start:4931549,end:4932816},{filename:"/tmp/pglite/share/postgresql/tsearch_data/russian.stop",start:4932816,end:4934051},{filename:"/tmp/pglite/share/postgresql/tsearch_data/spanish.stop",start:4934051,end:4936229},{filename:"/tmp/pglite/share/postgresql/tsearch_data/swedish.stop",start:4936229,end:4936788},{filename:"/tmp/pglite/share/postgresql/tsearch_data/synonym_sample.syn",start:4936788,end:4936861},{filename:"/tmp/pglite/share/postgresql/tsearch_data/thesaurus_sample.ths",start:4936861,end:4937334},{filename:"/tmp/pglite/share/postgresql/tsearch_data/turkish.stop",start:4937334,end:4937594},{filename:"/tmp/pglite/share/postgresql/tsearch_data/unaccent.rules",start:4937594,end:4947597},{filename:"/tmp/pglite/share/postgresql/tsearch_data/xsyn_sample.rules",start:4947597,end:4947736}],remote_package_size:4947736})})();var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(e,rr)=>{throw rr},scriptDirectory="";function locateFile(e){return Module.locateFile?Module.locateFile(e,scriptDirectory):scriptDirectory+e}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");import.meta.url.startsWith("data:")||(scriptDirectory=nodePath.dirname(require("url").fileURLToPath(import.meta.url))+"/"),readBinary=e=>{e=isFileURI(e)?new URL(e):e;var rr=fs.readFileSync(e);return rr},readAsync=async(e,rr=!0)=>{e=isFileURI(e)?new URL(e):e;var ir=fs.readFileSync(e,rr?void 0:"utf8");return ir},!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),quit_=(e,rr)=>{throw process.exitCode=e,rr}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),_scriptName&&(scriptDirectory=_scriptName),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),readAsync=async e=>{var rr=await fetch(e,{credentials:"same-origin"});if(rr.ok)return rr.arrayBuffer();throw new Error(rr.status+" : "+rr.url)});var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary=Module.wasmBinary,wasmMemory,ABORT=!1,EXITSTATUS;function assert(e,rr){e||abort(rr)}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAP64,HEAPF64;function updateMemoryViews(){var e=wasmMemory.buffer;Module.HEAP8=HEAP8=new Int8Array(e),Module.HEAP16=HEAP16=new Int16Array(e),Module.HEAPU8=HEAPU8=new Uint8Array(e),Module.HEAPU16=HEAPU16=new Uint16Array(e),Module.HEAP32=HEAP32=new Int32Array(e),Module.HEAPU32=HEAPU32=new Uint32Array(e),Module.HEAPF32=HEAPF32=new Float32Array(e),Module.HEAPF64=HEAPF64=new Float64Array(e),Module.HEAP64=HEAP64=new BigInt64Array(e),Module.HEAPU64=new BigUint64Array(e)}if(Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||16777216;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),!Module.noFSInit&&!FS.initialized&&FS.init(),FS.ignorePermissions=!1,SOCKFS.root=FS.mount(SOCKFS,{},null),PIPEFS.root=FS.mount(PIPEFS,{},null),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}var runDependencies=0,dependenciesFulfilled=null;function addRunDependency(e){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&dependenciesFulfilled){var rr=dependenciesFulfilled;dependenciesFulfilled=null,rr()}}function abort(e){Module.onAbort?.(e),e="Aborted("+e+")",err(e),ABORT=!0,e+=". Build with -sASSERTIONS for more info.";var rr=new WebAssembly.RuntimeError(e);throw readyPromiseReject(rr),rr}var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=e=>e.startsWith(dataURIPrefix),isFileURI=e=>e.startsWith("file://");function findWasmBinary(){if(Module.locateFile){var e="pglite.wasm";return isDataURI(e)?e:locateFile(e)}return new URL("/assets/pglite-B1IdYwaP.wasm",import.meta.url).href}var wasmBinaryFile;function getBinarySync(e){if(e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(e);throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(e){if(!wasmBinary)try{var rr=await readAsync(e);return new Uint8Array(rr)}catch{}return getBinarySync(e)}async function instantiateArrayBuffer(e,rr){try{var ir=await getWasmBinary(e),lr=await WebAssembly.instantiate(ir,rr);return lr}catch(dr){err(`failed to asynchronously prepare wasm: ${dr}`),abort(dr)}}async function instantiateAsync(e,rr,ir){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(rr)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function")try{var lr=fetch(rr,{credentials:"same-origin"}),dr=await WebAssembly.instantiateStreaming(lr,ir);return dr}catch(fr){err(`wasm streaming compile failed: ${fr}`),err("falling back to ArrayBuffer instantiation")}return instantiateArrayBuffer(rr,ir)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}async function createWasm(){function e(dr,fr){wasmExports=dr.exports,wasmExports=relocateExports(wasmExports,12582912);var mr=getDylinkMetadata(fr);return mr.neededDynlibs&&(dynamicLibraries=mr.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency(),wasmExports}addRunDependency();function rr(dr){e(dr.instance,dr.module)}var ir=getWasmImports();if(Module.instantiateWasm)try{return Module.instantiateWasm(ir,e)}catch(dr){err(`Module.instantiateWasm callback failed with error: ${dr}`),readyPromiseReject(dr)}wasmBinaryFile??(wasmBinaryFile=findWasmBinary());try{var lr=await instantiateAsync(wasmBinary,wasmBinaryFile,ir);return rr(lr),lr}catch(dr){readyPromiseReject(dr);return}}var ASM_CONSTS={15165628:e=>{Module.is_worker=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Module.FD_BUFFER_MAX=e,Module.emscripten_copy_to=console.warn},15165800:()=>{Module.postMessage=function(e){console.log("# pg_main_emsdk.c:544: onCustomMessage:",e)}},15165929:()=>{if(Module.is_worker){let e=function(rr){console.log("onCustomMessage:",rr)};Module.onCustomMessage=e}else Module.postMessage=function(e){switch(e.type){case"raw":break;case"stdin":{stringToUTF8(e.data,1,Module.FD_BUFFER_MAX);break}case"rcon":break;default:console.warn("custom_postMessage?",e)}}}};class ExitStatus{constructor(rr){P$1(this,"name","ExitStatus"),this.message=`Program terminated with exit(${rr})`,this.status=rr}}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(e,rr){var ir=GOT[rr];return ir||(ir=GOT[rr]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(rr)||(ir.required=!0),ir}},callRuntimeCallbacks=e=>{for(;e.length>0;)e.shift()(Module)},UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=(e,rr=0,ir=NaN)=>{for(var lr=rr+ir,dr=rr;e[dr]&&!(dr>=lr);)++dr;if(dr-rr>16&&e.buffer&&UTF8Decoder)return UTF8Decoder.decode(e.subarray(rr,dr));for(var fr="";rr<dr;){var mr=e[rr++];if(!(mr&128)){fr+=String.fromCharCode(mr);continue}var hr=e[rr++]&63;if((mr&224)==192){fr+=String.fromCharCode((mr&31)<<6|hr);continue}var gr=e[rr++]&63;if((mr&240)==224?mr=(mr&15)<<12|hr<<6|gr:mr=(mr&7)<<18|hr<<12|gr<<6|e[rr++]&63,mr<65536)fr+=String.fromCharCode(mr);else{var xr=mr-65536;fr+=String.fromCharCode(55296|xr>>10,56320|xr&1023)}}return fr},getDylinkMetadata=e=>{var rr=0,ir=0;function lr(){return e[rr++]}function dr(){for(var Yn=0,Jn=1;;){var Zn=e[rr++];if(Yn+=(Zn&127)*Jn,Jn*=128,!(Zn&128))break}return Yn}function fr(){var Yn=dr();return rr+=Yn,UTF8ArrayToString(e,rr-Yn,Yn)}function mr(Yn,Jn){if(Yn)throw new Error(Jn)}var hr="dylink.0";if(e instanceof WebAssembly.Module){var gr=WebAssembly.Module.customSections(e,hr);gr.length===0&&(hr="dylink",gr=WebAssembly.Module.customSections(e,hr)),mr(gr.length===0,"need dylink section"),e=new Uint8Array(gr[0]),ir=e.length}else{var xr=new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer),_r=xr[0]==1836278016;mr(!_r,"need to see wasm magic number"),mr(e[8]!==0,"need the dylink section to be first"),rr=9;var yr=dr();ir=rr+yr,hr=fr()}var vr={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(hr=="dylink"){vr.memorySize=dr(),vr.memoryAlign=dr(),vr.tableSize=dr(),vr.tableAlign=dr();for(var br=dr(),Sr=0;Sr<br;++Sr){var wr=fr();vr.neededDynlibs.push(wr)}}else{mr(hr!=="dylink.0");for(var Mr=1,kr=2,Ar=3,Ir=4,$r=256,Dr=3,Or=1;rr<ir;){var Fr=lr(),Lr=dr();if(Fr===Mr)vr.memorySize=dr(),vr.memoryAlign=dr(),vr.tableSize=dr(),vr.tableAlign=dr();else if(Fr===kr)for(var br=dr(),Sr=0;Sr<br;++Sr)wr=fr(),vr.neededDynlibs.push(wr);else if(Fr===Ar)for(var zr=dr();zr--;){var Gr=fr(),Jr=dr();Jr&$r&&vr.tlsExports.add(Gr)}else if(Fr===Ir)for(var zr=dr();zr--;){fr();var Gr=fr(),Jr=dr();(Jr&Dr)==Or&&vr.weakImports.add(Gr)}else rr+=Lr}}return vr};function getValue(e,rr="i8"){switch(rr.endsWith("*")&&(rr="*"),rr){case"i1":return HEAP8[e];case"i8":return HEAP8[e];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP64[e>>3];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];case"*":return HEAPU32[e>>2];default:abort(`invalid type for getValue: ${rr}`)}}var newDSO=(e,rr,ir)=>{var lr={refcount:1/0,name:e,exports:ir,global:!0};return LDSO.loadedLibsByName[e]=lr,rr!=null&&(LDSO.loadedLibsByHandle[rr]=lr),lr},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=15399760,alignMemory=(e,rr)=>Math.ceil(e/rr)*rr,getMemory=e=>{if(runtimeInitialized)return _calloc(e,1);var rr=___heap_base,ir=rr+alignMemory(e,16);return ___heap_base=ir,GOT.__heap_base.value=ir,rr},isInternalSym=e=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(e)||e.startsWith("__em_js__"),uleb128Encode=(e,rr)=>{e<128?rr.push(e):rr.push(e%128|128,e>>7)},sigToWasmTypes=e=>{for(var rr={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ir={parameters:[],results:e[0]=="v"?[]:[rr[e[0]]]},lr=1;lr<e.length;++lr)ir.parameters.push(rr[e[lr]]);return ir},generateFuncType=(e,rr)=>{var ir=e.slice(0,1),lr=e.slice(1),dr={i:127,p:127,j:126,f:125,d:124,e:111};rr.push(96),uleb128Encode(lr.length,rr);for(var fr=0;fr<lr.length;++fr)rr.push(dr[lr[fr]]);ir=="v"?rr.push(0):rr.push(1,dr[ir])},convertJsFunctionToWasm=(e,rr)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(rr),e);var ir=[1];generateFuncType(rr,ir);var lr=[0,97,115,109,1,0,0,0,1];uleb128Encode(ir.length,lr),lr.push(...ir),lr.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var dr=new WebAssembly.Module(new Uint8Array(lr)),fr=new WebAssembly.Instance(dr,{e:{f:e}}),mr=fr.exports.f;return mr},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:5918,element:"anyfunc"}),getWasmTableEntry=e=>{var rr=wasmTableMirror[e];return rr||(e>=wasmTableMirror.length&&(wasmTableMirror.length=e+1),wasmTableMirror[e]=rr=wasmTable.get(e)),rr},updateTableMap=(e,rr)=>{if(functionsInTableMap)for(var ir=e;ir<e+rr;ir++){var lr=getWasmTableEntry(ir);lr&&functionsInTableMap.set(lr,ir)}},functionsInTableMap,getFunctionAddress=e=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(e)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return wasmTable.length-1},setWasmTableEntry=(e,rr)=>{wasmTable.set(e,rr),wasmTableMirror[e]=wasmTable.get(e)},addFunction=(e,rr)=>{var ir=getFunctionAddress(e);if(ir)return ir;var lr=getEmptyTableSlot();try{setWasmTableEntry(lr,e)}catch(fr){if(!(fr instanceof TypeError))throw fr;var dr=convertJsFunctionToWasm(e,rr);setWasmTableEntry(lr,dr)}return functionsInTableMap.set(e,lr),lr},updateGOT=(e,rr)=>{for(var ir in e)if(!isInternalSym(ir)){var lr=e[ir];GOT[ir]||(GOT[ir]=new WebAssembly.Global({value:"i32",mutable:!0})),GOT[ir].value==0&&(typeof lr=="function"?GOT[ir].value=addFunction(lr):typeof lr=="number"?GOT[ir].value=lr:err(`unhandled export type for '${ir}': ${typeof lr}`))}},relocateExports=(e,rr,ir)=>{var lr={};for(var dr in e){var fr=e[dr];typeof fr=="object"&&(fr=fr.value),typeof fr=="number"&&(fr+=rr),lr[dr]=fr}return updateGOT(lr),lr},isSymbolDefined=e=>{var rr=wasmImports[e];return!(!rr||rr.stub)},dynCall=(e,rr,ir=[])=>{var lr=getWasmTableEntry(rr)(...ir);return lr},stackSave=()=>_emscripten_stack_get_current(),stackRestore=e=>__emscripten_stack_restore(e),createInvokeFunction=e=>(rr,...ir)=>{var lr=stackSave();try{return dynCall(e,rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;if(_setThrew(1,0),e[0]=="j")return 0n}},resolveGlobalSymbol=(e,rr=!1)=>{var ir;return isSymbolDefined(e)?ir=wasmImports[e]:e.startsWith("invoke_")&&(ir=wasmImports[e]=createInvokeFunction(e.split("_")[1])),{sym:ir,name:e}},UTF8ToString=(e,rr)=>e?UTF8ArrayToString(HEAPU8,e,rr):"",loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var firstLoad=!handle||!HEAP8[handle+8];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+8]=1,HEAPU32[handle+12>>2]=memoryBase,HEAP32[handle+16>>2]=metadata.memorySize,HEAPU32[handle+20>>2]=tableBase,HEAP32[handle+24>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+12>>2],tableBase=HEAPU32[handle+20>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(e){var rr=resolveGlobalSymbol(e).sym;return!rr&&localScope&&(rr=localScope[e]),rr||(rr=moduleExports[e]),rr}var proxyHandler={get(e,rr){switch(rr){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(rr in wasmImports&&!wasmImports[rr].stub)return wasmImports[rr];if(!(rr in e)){var ir;e[rr]=(...lr)=>{if(ir||(ir=resolveSymbol(rr)),!ir)throw new Error;return ir(...lr)}}return e[rr]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;ASM_CONSTS[start]=eval(func)}if("__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replaceAll("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(e=>postInstantiation(e.module,e.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return flags.loadAsync?metadata.neededDynlibs.reduce((e,rr)=>e.then(()=>loadDynamicLibrary(rr,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(e=>loadDynamicLibrary(e,flags,localScope)),loadModule())},mergeLibSymbols=(e,rr)=>{for(var[ir,lr]of Object.entries(e)){let dr=mr=>{isSymbolDefined(mr)||(wasmImports[mr]=lr)};dr(ir);let fr="__main_argc_argv";ir=="main"&&dr(fr),ir==fr&&dr("main")}},asyncLoad=async e=>{var rr=await readAsync(e);return new Uint8Array(rr)},preloadPlugins=Module.preloadPlugins||[],registerWasmPlugin=()=>{var e={promiseChainEnd:Promise.resolve(),canHandle:rr=>!Module.noWasmDecoding&&rr.endsWith(".so"),handle:(rr,ir,lr,dr)=>{e.promiseChainEnd=e.promiseChainEnd.then(()=>loadWebAssemblyModule(rr,{loadAsync:!0,nodelete:!0},ir,{})).then(fr=>{preloadedWasm[ir]=fr,lr(rr)},fr=>{err(`failed to instantiate wasm: ${ir}: ${fr}`),dr()})}};preloadPlugins.push(e)},preloadedWasm={};function loadDynamicLibrary(e,rr={global:!0,nodelete:!0},ir,lr){var dr=LDSO.loadedLibsByName[e];if(dr)return rr.global?dr.global||(dr.global=!0,mergeLibSymbols(dr.exports)):ir&&Object.assign(ir,dr.exports),rr.nodelete&&dr.refcount!==1/0&&(dr.refcount=1/0),dr.refcount++,lr&&(LDSO.loadedLibsByHandle[lr]=dr),rr.loadAsync?Promise.resolve(!0):!0;dr=newDSO(e,lr,"loading"),dr.refcount=rr.nodelete?1/0:1,dr.global=rr.global;function fr(){if(lr){var gr=HEAPU32[lr+28>>2],xr=HEAPU32[lr+32>>2];if(gr&&xr){var _r=HEAP8.slice(gr,gr+xr);return rr.loadAsync?Promise.resolve(_r):_r}}var yr=locateFile(e);if(rr.loadAsync)return asyncLoad(yr);if(!readBinary)throw new Error(`${yr}: file not found, and synchronous loading of external files is not available`);return readBinary(yr)}function mr(){var gr=preloadedWasm[e];return gr?rr.loadAsync?Promise.resolve(gr):gr:rr.loadAsync?fr().then(xr=>loadWebAssemblyModule(xr,rr,e,ir,lr)):loadWebAssemblyModule(fr(),rr,e,ir,lr)}function hr(gr){dr.global?mergeLibSymbols(gr):ir&&Object.assign(ir,gr),dr.exports=gr}return rr.loadAsync?mr().then(gr=>(hr(gr),!0)):(hr(mr()),!0)}var reportUndefinedSymbols=()=>{for(var[e,rr]of Object.entries(GOT))if(rr.value==0){var ir=resolveGlobalSymbol(e,!0).sym;if(!ir&&!rr.required)continue;if(typeof ir=="function")rr.value=addFunction(ir,ir.sig);else if(typeof ir=="number")rr.value=ir;else throw new Error(`bad export type for '${e}': ${typeof ir}`)}},loadDylibs=()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency(),dynamicLibraries.reduce((e,rr)=>e.then(()=>loadDynamicLibrary(rr,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency()})},noExitRuntime=Module.noExitRuntime||!0;function setValue(e,rr,ir="i8"){switch(ir.endsWith("*")&&(ir="*"),ir){case"i1":HEAP8[e]=rr;break;case"i8":HEAP8[e]=rr;break;case"i16":HEAP16[e>>1]=rr;break;case"i32":HEAP32[e>>2]=rr;break;case"i64":HEAP64[e>>3]=BigInt(rr);break;case"float":HEAPF32[e>>2]=rr;break;case"double":HEAPF64[e>>3]=rr;break;case"*":HEAPU32[e>>2]=rr;break;default:abort(`invalid type for setValue: ${ir}`)}}var ___assert_fail=(e,rr,ir,lr)=>abort(`Assertion failed: ${UTF8ToString(e)}, at: `+[rr?UTF8ToString(rr):"unknown filename",ir,lr?UTF8ToString(lr):"unknown function"]);___assert_fail.sig="vppip";var ___call_sighandler=(e,rr)=>getWasmTableEntry(e)(rr);___call_sighandler.sig="vpi";var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},12582912),___stack_high=15399760,___stack_low=15334224,___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},15399760),PATH={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var rr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return rr.exec(e).slice(1)},normalizeArray:(e,rr)=>{for(var ir=0,lr=e.length-1;lr>=0;lr--){var dr=e[lr];dr==="."?e.splice(lr,1):dr===".."?(e.splice(lr,1),ir++):ir&&(e.splice(lr,1),ir--)}if(rr)for(;ir;ir--)e.unshift("..");return e},normalize:e=>{var rr=PATH.isAbs(e),ir=e.substr(-1)==="/";return e=PATH.normalizeArray(e.split("/").filter(lr=>!!lr),!rr).join("/"),!e&&!rr&&(e="."),e&&ir&&(e+="/"),(rr?"/":"")+e},dirname:e=>{var rr=PATH.splitPath(e),ir=rr[0],lr=rr[1];return!ir&&!lr?".":(lr&&(lr=lr.substr(0,lr.length-1)),ir+lr)},basename:e=>{if(e==="/")return"/";e=PATH.normalize(e),e=e.replace(/\/$/,"");var rr=e.lastIndexOf("/");return rr===-1?e:e.substr(rr+1)},join:(...e)=>PATH.normalize(e.join("/")),join2:(e,rr)=>PATH.normalize(e+"/"+rr)},initRandomFill=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return lr=>crypto.getRandomValues(lr);if(ENVIRONMENT_IS_NODE)try{var e=require("crypto"),rr=e.randomFillSync;if(rr)return lr=>e.randomFillSync(lr);var ir=e.randomBytes;return lr=>(lr.set(ir(lr.byteLength)),lr)}catch{}abort("initRandomDevice")},randomFill=e=>(randomFill=initRandomFill())(e),PATH_FS={resolve:(...e)=>{for(var rr="",ir=!1,lr=e.length-1;lr>=-1&&!ir;lr--){var dr=lr>=0?e[lr]:FS.cwd();if(typeof dr!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!dr)return"";rr=dr+"/"+rr,ir=PATH.isAbs(dr)}return rr=PATH.normalizeArray(rr.split("/").filter(fr=>!!fr),!ir).join("/"),(ir?"/":"")+rr||"."},relative:(e,rr)=>{e=PATH_FS.resolve(e).substr(1),rr=PATH_FS.resolve(rr).substr(1);function ir(xr){for(var _r=0;_r<xr.length&&xr[_r]==="";_r++);for(var yr=xr.length-1;yr>=0&&xr[yr]==="";yr--);return _r>yr?[]:xr.slice(_r,yr-_r+1)}for(var lr=ir(e.split("/")),dr=ir(rr.split("/")),fr=Math.min(lr.length,dr.length),mr=fr,hr=0;hr<fr;hr++)if(lr[hr]!==dr[hr]){mr=hr;break}for(var gr=[],hr=mr;hr<lr.length;hr++)gr.push("..");return gr=gr.concat(dr.slice(mr)),gr.join("/")}},FS_stdin_getChar_buffer=[],lengthBytesUTF8=e=>{for(var rr=0,ir=0;ir<e.length;++ir){var lr=e.charCodeAt(ir);lr<=127?rr++:lr<=2047?rr+=2:lr>=55296&&lr<=57343?(rr+=4,++ir):rr+=3}return rr},stringToUTF8Array=(e,rr,ir,lr)=>{if(!(lr>0))return 0;for(var dr=ir,fr=ir+lr-1,mr=0;mr<e.length;++mr){var hr=e.charCodeAt(mr);if(hr>=55296&&hr<=57343){var gr=e.charCodeAt(++mr);hr=65536+((hr&1023)<<10)|gr&1023}if(hr<=127){if(ir>=fr)break;rr[ir++]=hr}else if(hr<=2047){if(ir+1>=fr)break;rr[ir++]=192|hr>>6,rr[ir++]=128|hr&63}else if(hr<=65535){if(ir+2>=fr)break;rr[ir++]=224|hr>>12,rr[ir++]=128|hr>>6&63,rr[ir++]=128|hr&63}else{if(ir+3>=fr)break;rr[ir++]=240|hr>>18,rr[ir++]=128|hr>>12&63,rr[ir++]=128|hr>>6&63,rr[ir++]=128|hr&63}}return rr[ir]=0,ir-dr};function intArrayFromString(e,rr,ir){var lr=lengthBytesUTF8(e)+1,dr=new Array(lr),fr=stringToUTF8Array(e,dr,0,dr.length);return dr.length=fr,dr}var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var e=null;if(ENVIRONMENT_IS_NODE){var rr=256,ir=Buffer.alloc(rr),lr=0,dr=process.stdin.fd;try{lr=fs.readSync(dr,ir,0,rr)}catch(fr){if(fr.toString().includes("EOF"))lr=0;else throw fr}lr>0&&(e=ir.slice(0,lr).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(e=window.prompt("Input: "),e!==null&&(e+=`
`));if(!e)return null;FS_stdin_getChar_buffer=intArrayFromString(e)}return FS_stdin_getChar_buffer.shift()},TTY={ttys:[],init(){},shutdown(){},register(e,rr){TTY.ttys[e]={input:[],output:[],ops:rr},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open(e){var rr=TTY.ttys[e.node.rdev];if(!rr)throw new FS.ErrnoError(43);e.tty=rr,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,rr,ir,lr,dr){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(60);for(var fr=0,mr=0;mr<lr;mr++){var hr;try{hr=e.tty.ops.get_char(e.tty)}catch{throw new FS.ErrnoError(29)}if(hr===void 0&&fr===0)throw new FS.ErrnoError(6);if(hr==null)break;fr++,rr[ir+mr]=hr}return fr&&(e.node.atime=Date.now()),fr},write(e,rr,ir,lr,dr){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(60);try{for(var fr=0;fr<lr;fr++)e.tty.ops.put_char(e.tty,rr[ir+fr])}catch{throw new FS.ErrnoError(29)}return lr&&(e.node.mtime=e.node.ctime=Date.now()),fr}},default_tty_ops:{get_char(e){return FS_stdin_getChar()},put_char(e,rr){rr===null||rr===10?(out(UTF8ArrayToString(e.output)),e.output=[]):rr!=0&&e.output.push(rr)},fsync(e){e.output&&e.output.length>0&&(out(UTF8ArrayToString(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,rr,ir){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,rr){rr===null||rr===10?(err(UTF8ArrayToString(e.output)),e.output=[]):rr!=0&&e.output.push(rr)},fsync(e){e.output&&e.output.length>0&&(err(UTF8ArrayToString(e.output)),e.output=[])}}},zeroMemory=(e,rr)=>{HEAPU8.fill(0,e,e+rr)},mmapAlloc=e=>{e=alignMemory(e,65536);var rr=_emscripten_builtin_memalign(65536,e);return rr&&zeroMemory(rr,e),rr},MEMFS={ops_table:null,mount(e){return MEMFS.createNode(null,"/",16895,0)},createNode(e,rr,ir,lr){if(FS.isBlkdev(ir)||FS.isFIFO(ir))throw new FS.ErrnoError(63);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var dr=FS.createNode(e,rr,ir,lr);return FS.isDir(dr.mode)?(dr.node_ops=MEMFS.ops_table.dir.node,dr.stream_ops=MEMFS.ops_table.dir.stream,dr.contents={}):FS.isFile(dr.mode)?(dr.node_ops=MEMFS.ops_table.file.node,dr.stream_ops=MEMFS.ops_table.file.stream,dr.usedBytes=0,dr.contents=null):FS.isLink(dr.mode)?(dr.node_ops=MEMFS.ops_table.link.node,dr.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(dr.mode)&&(dr.node_ops=MEMFS.ops_table.chrdev.node,dr.stream_ops=MEMFS.ops_table.chrdev.stream),dr.atime=dr.mtime=dr.ctime=Date.now(),e&&(e.contents[rr]=dr,e.atime=e.mtime=e.ctime=dr.atime),dr},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,rr){var ir=e.contents?e.contents.length:0;if(!(ir>=rr)){var lr=1048576;rr=Math.max(rr,ir*(ir<lr?2:1.125)>>>0),ir!=0&&(rr=Math.max(rr,256));var dr=e.contents;e.contents=new Uint8Array(rr),e.usedBytes>0&&e.contents.set(dr.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,rr){if(e.usedBytes!=rr)if(rr==0)e.contents=null,e.usedBytes=0;else{var ir=e.contents;e.contents=new Uint8Array(rr),ir&&e.contents.set(ir.subarray(0,Math.min(rr,e.usedBytes))),e.usedBytes=rr}},node_ops:{getattr(e){var rr={};return rr.dev=FS.isChrdev(e.mode)?e.id:1,rr.ino=e.id,rr.mode=e.mode,rr.nlink=1,rr.uid=0,rr.gid=0,rr.rdev=e.rdev,FS.isDir(e.mode)?rr.size=4096:FS.isFile(e.mode)?rr.size=e.usedBytes:FS.isLink(e.mode)?rr.size=e.link.length:rr.size=0,rr.atime=new Date(e.atime),rr.mtime=new Date(e.mtime),rr.ctime=new Date(e.ctime),rr.blksize=4096,rr.blocks=Math.ceil(rr.size/rr.blksize),rr},setattr(e,rr){for(let ir of["mode","atime","mtime","ctime"])rr[ir]&&(e[ir]=rr[ir]);rr.size!==void 0&&MEMFS.resizeFileStorage(e,rr.size)},lookup(e,rr){throw MEMFS.doesNotExistError},mknod(e,rr,ir,lr){return MEMFS.createNode(e,rr,ir,lr)},rename(e,rr,ir){var lr;try{lr=FS.lookupNode(rr,ir)}catch{}if(lr){if(FS.isDir(e.mode))for(var dr in lr.contents)throw new FS.ErrnoError(55);FS.hashRemoveNode(lr)}delete e.parent.contents[e.name],rr.contents[ir]=e,e.name=ir,rr.ctime=rr.mtime=e.parent.ctime=e.parent.mtime=Date.now()},unlink(e,rr){delete e.contents[rr],e.ctime=e.mtime=Date.now()},rmdir(e,rr){var ir=FS.lookupNode(e,rr);for(var lr in ir.contents)throw new FS.ErrnoError(55);delete e.contents[rr],e.ctime=e.mtime=Date.now()},readdir(e){return[".","..",...Object.keys(e.contents)]},symlink(e,rr,ir){var lr=MEMFS.createNode(e,rr,41471,0);return lr.link=ir,lr},readlink(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(28);return e.link}},stream_ops:{read(e,rr,ir,lr,dr){var fr=e.node.contents;if(dr>=e.node.usedBytes)return 0;var mr=Math.min(e.node.usedBytes-dr,lr);if(mr>8&&fr.subarray)rr.set(fr.subarray(dr,dr+mr),ir);else for(var hr=0;hr<mr;hr++)rr[ir+hr]=fr[dr+hr];return mr},write(e,rr,ir,lr,dr,fr){if(rr.buffer===HEAP8.buffer&&(fr=!1),!lr)return 0;var mr=e.node;if(mr.mtime=mr.ctime=Date.now(),rr.subarray&&(!mr.contents||mr.contents.subarray)){if(fr)return mr.contents=rr.subarray(ir,ir+lr),mr.usedBytes=lr,lr;if(mr.usedBytes===0&&dr===0)return mr.contents=rr.slice(ir,ir+lr),mr.usedBytes=lr,lr;if(dr+lr<=mr.usedBytes)return mr.contents.set(rr.subarray(ir,ir+lr),dr),lr}if(MEMFS.expandFileStorage(mr,dr+lr),mr.contents.subarray&&rr.subarray)mr.contents.set(rr.subarray(ir,ir+lr),dr);else for(var hr=0;hr<lr;hr++)mr.contents[dr+hr]=rr[ir+hr];return mr.usedBytes=Math.max(mr.usedBytes,dr+lr),lr},llseek(e,rr,ir){var lr=rr;if(ir===1?lr+=e.position:ir===2&&FS.isFile(e.node.mode)&&(lr+=e.node.usedBytes),lr<0)throw new FS.ErrnoError(28);return lr},allocate(e,rr,ir){MEMFS.expandFileStorage(e.node,rr+ir),e.node.usedBytes=Math.max(e.node.usedBytes,rr+ir)},mmap(e,rr,ir,lr,dr){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);var fr,mr,hr=e.node.contents;if(!(dr&2)&&hr&&hr.buffer===HEAP8.buffer)mr=!1,fr=hr.byteOffset;else{if(mr=!0,fr=mmapAlloc(rr),!fr)throw new FS.ErrnoError(48);hr&&((ir>0||ir+rr<hr.length)&&(hr.subarray?hr=hr.subarray(ir,ir+rr):hr=Array.prototype.slice.call(hr,ir,ir+rr)),HEAP8.set(hr,fr))}return{ptr:fr,allocated:mr}},msync(e,rr,ir,lr,dr){return MEMFS.stream_ops.write(e,rr,0,lr,ir,!1),0}}},FS_createDataFile=(e,rr,ir,lr,dr,fr)=>{FS.createDataFile(e,rr,ir,lr,dr,fr)},FS_handledByPreloadPlugin=(e,rr,ir,lr)=>{typeof Browser<"u"&&Browser.init();var dr=!1;return preloadPlugins.forEach(fr=>{dr||fr.canHandle(rr)&&(fr.handle(e,rr,ir,lr),dr=!0)}),dr},FS_createPreloadedFile=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr)=>{var _r=rr?PATH_FS.resolve(PATH.join2(e,rr)):e;function yr(vr){function br(Sr){xr?.(),hr||FS_createDataFile(e,rr,Sr,lr,dr,gr),fr?.(),removeRunDependency()}FS_handledByPreloadPlugin(vr,_r,br,()=>{mr?.(),removeRunDependency()})||br(vr)}addRunDependency(),typeof ir=="string"?asyncLoad(ir).then(yr,mr):yr(ir)},FS_modeStringToFlags=e=>{var rr={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},ir=rr[e];if(typeof ir>"u")throw new Error(`Unknown file open mode: ${e}`);return ir},FS_getMode=(e,rr)=>{var ir=0;return e&&(ir|=365),rr&&(ir|=146),ir},IDBFS={dbs:{},indexedDB:()=>{if(typeof indexedDB<"u")return indexedDB;var e=null;return typeof window=="object"&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",queuePersist:e=>{function rr(){e.idbPersistState==="again"?ir():e.idbPersistState=0}function ir(){e.idbPersistState="idb",IDBFS.syncfs(e,!1,rr)}e.idbPersistState?e.idbPersistState==="idb"&&(e.idbPersistState="again"):e.idbPersistState=setTimeout(ir,0)},mount:e=>{var rr=MEMFS.mount(e);if(e?.opts?.autoPersist){rr.idbPersistState=0;var ir=rr.node_ops;rr.node_ops=Object.assign({},rr.node_ops),rr.node_ops.mknod=(lr,dr,fr,mr)=>{var hr=ir.mknod(lr,dr,fr,mr);return hr.node_ops=rr.node_ops,hr.idbfs_mount=rr.mount,hr.memfs_stream_ops=hr.stream_ops,hr.stream_ops=Object.assign({},hr.stream_ops),hr.stream_ops.write=(gr,xr,_r,yr,vr,br)=>(gr.node.isModified=!0,hr.memfs_stream_ops.write(gr,xr,_r,yr,vr,br)),hr.stream_ops.close=gr=>{var xr=gr.node;if(xr.isModified&&(IDBFS.queuePersist(xr.idbfs_mount),xr.isModified=!1),xr.memfs_stream_ops.close)return xr.memfs_stream_ops.close(gr)},hr},rr.node_ops.mkdir=(...lr)=>(IDBFS.queuePersist(rr.mount),ir.mkdir(...lr)),rr.node_ops.rmdir=(...lr)=>(IDBFS.queuePersist(rr.mount),ir.rmdir(...lr)),rr.node_ops.symlink=(...lr)=>(IDBFS.queuePersist(rr.mount),ir.symlink(...lr)),rr.node_ops.unlink=(...lr)=>(IDBFS.queuePersist(rr.mount),ir.unlink(...lr)),rr.node_ops.rename=(...lr)=>(IDBFS.queuePersist(rr.mount),ir.rename(...lr))}return rr},syncfs:(e,rr,ir)=>{IDBFS.getLocalSet(e,(lr,dr)=>{if(lr)return ir(lr);IDBFS.getRemoteSet(e,(fr,mr)=>{if(fr)return ir(fr);var hr=rr?mr:dr,gr=rr?dr:mr;IDBFS.reconcile(hr,gr,ir)})})},quit:()=>{Object.values(IDBFS.dbs).forEach(e=>e.close()),IDBFS.dbs={}},getDB:(e,rr)=>{var ir=IDBFS.dbs[e];if(ir)return rr(null,ir);var lr;try{lr=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(dr){return rr(dr)}if(!lr)return rr("Unable to connect to IndexedDB");lr.onupgradeneeded=dr=>{var fr=dr.target.result,mr=dr.target.transaction,hr;fr.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?hr=mr.objectStore(IDBFS.DB_STORE_NAME):hr=fr.createObjectStore(IDBFS.DB_STORE_NAME),hr.indexNames.contains("timestamp")||hr.createIndex("timestamp","timestamp",{unique:!1})},lr.onsuccess=()=>{ir=lr.result,IDBFS.dbs[e]=ir,rr(null,ir)},lr.onerror=dr=>{rr(dr.target.error),dr.preventDefault()}},getLocalSet:(e,rr)=>{var ir={};function lr(gr){return gr!=="."&&gr!==".."}function dr(gr){return xr=>PATH.join2(gr,xr)}for(var fr=FS.readdir(e.mountpoint).filter(lr).map(dr(e.mountpoint));fr.length;){var mr=fr.pop(),hr;try{hr=FS.stat(mr)}catch(gr){return rr(gr)}FS.isDir(hr.mode)&&fr.push(...FS.readdir(mr).filter(lr).map(dr(mr))),ir[mr]={timestamp:hr.mtime}}return rr(null,{type:"local",entries:ir})},getRemoteSet:(e,rr)=>{var ir={};IDBFS.getDB(e.mountpoint,(lr,dr)=>{if(lr)return rr(lr);try{var fr=dr.transaction([IDBFS.DB_STORE_NAME],"readonly");fr.onerror=gr=>{rr(gr.target.error),gr.preventDefault()};var mr=fr.objectStore(IDBFS.DB_STORE_NAME),hr=mr.index("timestamp");hr.openKeyCursor().onsuccess=gr=>{var xr=gr.target.result;if(!xr)return rr(null,{type:"remote",db:dr,entries:ir});ir[xr.primaryKey]={timestamp:xr.key},xr.continue()}}catch(gr){return rr(gr)}})},loadLocalEntry:(e,rr)=>{var ir,lr;try{var dr=FS.lookupPath(e);lr=dr.node,ir=FS.stat(e)}catch(fr){return rr(fr)}return FS.isDir(ir.mode)?rr(null,{timestamp:ir.mtime,mode:ir.mode}):FS.isFile(ir.mode)?(lr.contents=MEMFS.getFileDataAsTypedArray(lr),rr(null,{timestamp:ir.mtime,mode:ir.mode,contents:lr.contents})):rr(new Error("node type not supported"))},storeLocalEntry:(e,rr,ir)=>{try{if(FS.isDir(rr.mode))FS.mkdirTree(e,rr.mode);else if(FS.isFile(rr.mode))FS.writeFile(e,rr.contents,{canOwn:!0});else return ir(new Error("node type not supported"));FS.chmod(e,rr.mode),FS.utime(e,rr.timestamp,rr.timestamp)}catch(lr){return ir(lr)}ir(null)},removeLocalEntry:(e,rr)=>{try{var ir=FS.stat(e);FS.isDir(ir.mode)?FS.rmdir(e):FS.isFile(ir.mode)&&FS.unlink(e)}catch(lr){return rr(lr)}rr(null)},loadRemoteEntry:(e,rr,ir)=>{var lr=e.get(rr);lr.onsuccess=dr=>ir(null,dr.target.result),lr.onerror=dr=>{ir(dr.target.error),dr.preventDefault()}},storeRemoteEntry:(e,rr,ir,lr)=>{try{var dr=e.put(ir,rr)}catch(fr){lr(fr);return}dr.onsuccess=fr=>lr(),dr.onerror=fr=>{lr(fr.target.error),fr.preventDefault()}},removeRemoteEntry:(e,rr,ir)=>{var lr=e.delete(rr);lr.onsuccess=dr=>ir(),lr.onerror=dr=>{ir(dr.target.error),dr.preventDefault()}},reconcile:(e,rr,ir)=>{var lr=0,dr=[];Object.keys(e.entries).forEach(yr=>{var vr=e.entries[yr],br=rr.entries[yr];(!br||vr.timestamp.getTime()!=br.timestamp.getTime())&&(dr.push(yr),lr++)});var fr=[];if(Object.keys(rr.entries).forEach(yr=>{e.entries[yr]||(fr.push(yr),lr++)}),!lr)return ir(null);var mr=!1,hr=e.type==="remote"?e.db:rr.db,gr=hr.transaction([IDBFS.DB_STORE_NAME],"readwrite"),xr=gr.objectStore(IDBFS.DB_STORE_NAME);function _r(yr){if(yr&&!mr)return mr=!0,ir(yr)}gr.onerror=gr.onabort=yr=>{_r(yr.target.error),yr.preventDefault()},gr.oncomplete=yr=>{mr||ir(null)},dr.sort().forEach(yr=>{rr.type==="local"?IDBFS.loadRemoteEntry(xr,yr,(vr,br)=>{if(vr)return _r(vr);IDBFS.storeLocalEntry(yr,br,_r)}):IDBFS.loadLocalEntry(yr,(vr,br)=>{if(vr)return _r(vr);IDBFS.storeRemoteEntry(xr,yr,br,_r)})}),fr.sort().reverse().forEach(yr=>{rr.type==="local"?IDBFS.removeLocalEntry(yr,_r):IDBFS.removeRemoteEntry(xr,yr,_r)})}},ERRNO_CODES={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},NODEFS={isWindows:!1,staticInit(){NODEFS.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),NODEFS.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,256:e.O_NOCTTY,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY,131072:e.O_NOFOLLOW}},convertNodeCode(e){var rr=e.code;return ERRNO_CODES[rr]},tryFSOperation(e){try{return e()}catch(rr){throw rr.code?rr.code==="UNKNOWN"?new FS.ErrnoError(28):new FS.ErrnoError(NODEFS.convertNodeCode(rr)):rr}},mount(e){return NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode(e,rr,ir,lr){if(!FS.isDir(ir)&&!FS.isFile(ir)&&!FS.isLink(ir))throw new FS.ErrnoError(28);var dr=FS.createNode(e,rr,ir);return dr.node_ops=NODEFS.node_ops,dr.stream_ops=NODEFS.stream_ops,dr},getMode(e){return NODEFS.tryFSOperation(()=>{var rr=fs.lstatSync(e).mode;return NODEFS.isWindows&&(rr|=(rr&292)>>2),rr})},realPath(e){for(var rr=[];e.parent!==e;)rr.push(e.name),e=e.parent;return rr.push(e.mount.opts.root),rr.reverse(),PATH.join(...rr)},flagsForNode(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289,e&=-65537;var rr=0;for(var ir in NODEFS.flagsForNodeMap)e&ir&&(rr|=NODEFS.flagsForNodeMap[ir],e^=ir);if(e)throw new FS.ErrnoError(28);return rr},node_ops:{getattr(e){var rr=NODEFS.realPath(e),ir;return NODEFS.tryFSOperation(()=>ir=fs.lstatSync(rr)),NODEFS.isWindows&&(ir.blksize||(ir.blksize=4096),ir.blocks||(ir.blocks=(ir.size+ir.blksize-1)/ir.blksize|0),ir.mode|=(ir.mode&292)>>2),{dev:ir.dev,ino:ir.ino,mode:ir.mode,nlink:ir.nlink,uid:ir.uid,gid:ir.gid,rdev:ir.rdev,size:ir.size,atime:ir.atime,mtime:ir.mtime,ctime:ir.ctime,blksize:ir.blksize,blocks:ir.blocks}},setattr(e,rr){var ir=NODEFS.realPath(e);NODEFS.tryFSOperation(()=>{if(rr.mode!==void 0){var lr=rr.mode;NODEFS.isWindows&&(lr&=384),fs.chmodSync(ir,lr),e.mode=rr.mode}if(rr.atime||rr.mtime){var dr=rr.atime&&new Date(rr.atime),fr=rr.mtime&&new Date(rr.mtime);fs.utimesSync(ir,dr,fr)}rr.size!==void 0&&fs.truncateSync(ir,rr.size)})},lookup(e,rr){var ir=PATH.join2(NODEFS.realPath(e),rr),lr=NODEFS.getMode(ir);return NODEFS.createNode(e,rr,lr)},mknod(e,rr,ir,lr){var dr=NODEFS.createNode(e,rr,ir,lr),fr=NODEFS.realPath(dr);return NODEFS.tryFSOperation(()=>{FS.isDir(dr.mode)?fs.mkdirSync(fr,dr.mode):fs.writeFileSync(fr,"",{mode:dr.mode})}),dr},rename(e,rr,ir){var lr=NODEFS.realPath(e),dr=PATH.join2(NODEFS.realPath(rr),ir);try{FS.unlink(dr)}catch{}NODEFS.tryFSOperation(()=>fs.renameSync(lr,dr)),e.name=ir},unlink(e,rr){var ir=PATH.join2(NODEFS.realPath(e),rr);NODEFS.tryFSOperation(()=>fs.unlinkSync(ir))},rmdir(e,rr){var ir=PATH.join2(NODEFS.realPath(e),rr);NODEFS.tryFSOperation(()=>fs.rmdirSync(ir))},readdir(e){var rr=NODEFS.realPath(e);return NODEFS.tryFSOperation(()=>fs.readdirSync(rr))},symlink(e,rr,ir){var lr=PATH.join2(NODEFS.realPath(e),rr);NODEFS.tryFSOperation(()=>fs.symlinkSync(ir,lr))},readlink(e){var rr=NODEFS.realPath(e);return NODEFS.tryFSOperation(()=>fs.readlinkSync(rr))},statfs(e){var rr=NODEFS.tryFSOperation(()=>fs.statfsSync(e));return rr.frsize=rr.bsize,rr}},stream_ops:{open(e){var rr=NODEFS.realPath(e.node);NODEFS.tryFSOperation(()=>{FS.isFile(e.node.mode)&&(e.shared.refcount=1,e.nfd=fs.openSync(rr,NODEFS.flagsForNode(e.flags)))})},close(e){NODEFS.tryFSOperation(()=>{FS.isFile(e.node.mode)&&e.nfd&&--e.shared.refcount===0&&fs.closeSync(e.nfd)})},dup(e){e.shared.refcount++},read(e,rr,ir,lr,dr){return lr===0?0:NODEFS.tryFSOperation(()=>fs.readSync(e.nfd,new Int8Array(rr.buffer,ir,lr),0,lr,dr))},write(e,rr,ir,lr,dr){return NODEFS.tryFSOperation(()=>fs.writeSync(e.nfd,new Int8Array(rr.buffer,ir,lr),0,lr,dr))},llseek(e,rr,ir){var lr=rr;if(ir===1?lr+=e.position:ir===2&&FS.isFile(e.node.mode)&&NODEFS.tryFSOperation(()=>{var dr=fs.fstatSync(e.nfd);lr+=dr.size}),lr<0)throw new FS.ErrnoError(28);return lr},mmap(e,rr,ir,lr,dr){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(43);var fr=mmapAlloc(rr);return NODEFS.stream_ops.read(e,HEAP8,fr,rr,ir),{ptr:fr,allocated:!0}},msync(e,rr,ir,lr,dr){return NODEFS.stream_ops.write(e,rr,0,lr,ir,!1),0}}},FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){P$1(this,"name","ErrnoError"),this.errno=e}},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){P$1(this,"shared",{})}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,rr,ir,lr){P$1(this,"node_ops",{}),P$1(this,"stream_ops",{}),P$1(this,"readMode",365),P$1(this,"writeMode",146),P$1(this,"mounted",null),e||(e=this),this.parent=e,this.mount=e.mount,this.id=FS.nextInode++,this.name=rr,this.mode=ir,this.rdev=lr,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(e,rr={}){if(!e)return{path:"",node:null};rr.follow_mount??(rr.follow_mount=!0),PATH.isAbs(e)||(e=FS.cwd()+"/"+e);e:for(var ir=0;ir<40;ir++){for(var lr=e.split("/").filter(xr=>!!xr&&xr!=="."),dr=FS.root,fr="/",mr=0;mr<lr.length;mr++){var hr=mr===lr.length-1;if(hr&&rr.parent)break;if(lr[mr]===".."){fr=PATH.dirname(fr),dr=dr.parent;continue}fr=PATH.join2(fr,lr[mr]);try{dr=FS.lookupNode(dr,lr[mr])}catch(xr){if(xr?.errno===44&&hr&&rr.noent_okay)return{path:fr};throw xr}if(FS.isMountpoint(dr)&&(!hr||rr.follow_mount)&&(dr=dr.mounted.root),FS.isLink(dr.mode)&&(!hr||rr.follow)){if(!dr.node_ops.readlink)throw new FS.ErrnoError(52);var gr=dr.node_ops.readlink(dr);PATH.isAbs(gr)||(gr=PATH.dirname(fr)+"/"+gr),e=gr+"/"+lr.slice(mr+1).join("/");continue e}}return{path:fr,node:dr}}throw new FS.ErrnoError(32)},getPath(e){for(var rr;;){if(FS.isRoot(e)){var ir=e.mount.mountpoint;return rr?ir[ir.length-1]!=="/"?`${ir}/${rr}`:ir+rr:ir}rr=rr?`${e.name}/${rr}`:e.name,e=e.parent}},hashName(e,rr){for(var ir=0,lr=0;lr<rr.length;lr++)ir=(ir<<5)-ir+rr.charCodeAt(lr)|0;return(e+ir>>>0)%FS.nameTable.length},hashAddNode(e){var rr=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[rr],FS.nameTable[rr]=e},hashRemoveNode(e){var rr=FS.hashName(e.parent.id,e.name);if(FS.nameTable[rr]===e)FS.nameTable[rr]=e.name_next;else for(var ir=FS.nameTable[rr];ir;){if(ir.name_next===e){ir.name_next=e.name_next;break}ir=ir.name_next}},lookupNode(e,rr){var ir=FS.mayLookup(e);if(ir)throw new FS.ErrnoError(ir);for(var lr=FS.hashName(e.id,rr),dr=FS.nameTable[lr];dr;dr=dr.name_next){var fr=dr.name;if(dr.parent.id===e.id&&fr===rr)return dr}return FS.lookup(e,rr)},createNode(e,rr,ir,lr){var dr=new FS.FSNode(e,rr,ir,lr);return FS.hashAddNode(dr),dr},destroyNode(e){FS.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var rr=["r","w","rw"][e&3];return e&512&&(rr+="w"),rr},nodePermissions(e,rr){return FS.ignorePermissions?0:rr.includes("r")&&!(e.mode&292)||rr.includes("w")&&!(e.mode&146)||rr.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){if(!FS.isDir(e.mode))return 54;var rr=FS.nodePermissions(e,"x");return rr||(e.node_ops.lookup?0:2)},mayCreate(e,rr){if(!FS.isDir(e.mode))return 54;try{var ir=FS.lookupNode(e,rr);return 20}catch{}return FS.nodePermissions(e,"wx")},mayDelete(e,rr,ir){var lr;try{lr=FS.lookupNode(e,rr)}catch(fr){return fr.errno}var dr=FS.nodePermissions(e,"wx");if(dr)return dr;if(ir){if(!FS.isDir(lr.mode))return 54;if(FS.isRoot(lr)||FS.getPath(lr)===FS.cwd())return 10}else if(FS.isDir(lr.mode))return 31;return 0},mayOpen(e,rr){return e?FS.isLink(e.mode)?32:FS.isDir(e.mode)&&(FS.flagsToPermissionString(rr)!=="r"||rr&512)?31:FS.nodePermissions(e,FS.flagsToPermissionString(rr)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=FS.MAX_OPEN_FDS;e++)if(!FS.streams[e])return e;throw new FS.ErrnoError(33)},getStreamChecked(e){var rr=FS.getStream(e);if(!rr)throw new FS.ErrnoError(8);return rr},getStream:e=>FS.streams[e],createStream(e,rr=-1){return e=Object.assign(new FS.FSStream,e),rr==-1&&(rr=FS.nextfd()),e.fd=rr,FS.streams[rr]=e,e},closeStream(e){FS.streams[e]=null},dupStream(e,rr=-1){var ir=FS.createStream(e,rr);return ir.stream_ops?.dup?.(ir),ir},chrdev_stream_ops:{open(e){var rr=FS.getDevice(e.node.rdev);e.stream_ops=rr.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new FS.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,rr)=>e<<8|rr,registerDevice(e,rr){FS.devices[e]={stream_ops:rr}},getDevice:e=>FS.devices[e],getMounts(e){for(var rr=[],ir=[e];ir.length;){var lr=ir.pop();rr.push(lr),ir.push(...lr.mounts)}return rr},syncfs(e,rr){typeof e=="function"&&(rr=e,e=!1),FS.syncFSRequests++,FS.syncFSRequests>1&&err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var ir=FS.getMounts(FS.root.mount),lr=0;function dr(mr){return FS.syncFSRequests--,rr(mr)}function fr(mr){if(mr)return fr.errored?void 0:(fr.errored=!0,dr(mr));++lr>=ir.length&&dr(null)}ir.forEach(mr=>{if(!mr.type.syncfs)return fr(null);mr.type.syncfs(mr,e,fr)})},mount(e,rr,ir){var lr=ir==="/",dr=!ir,fr;if(lr&&FS.root)throw new FS.ErrnoError(10);if(!lr&&!dr){var mr=FS.lookupPath(ir,{follow_mount:!1});if(ir=mr.path,fr=mr.node,FS.isMountpoint(fr))throw new FS.ErrnoError(10);if(!FS.isDir(fr.mode))throw new FS.ErrnoError(54)}var hr={type:e,opts:rr,mountpoint:ir,mounts:[]},gr=e.mount(hr);return gr.mount=hr,hr.root=gr,lr?FS.root=gr:fr&&(fr.mounted=hr,fr.mount&&fr.mount.mounts.push(hr)),gr},unmount(e){var rr=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(rr.node))throw new FS.ErrnoError(28);var ir=rr.node,lr=ir.mounted,dr=FS.getMounts(lr);Object.keys(FS.nameTable).forEach(mr=>{for(var hr=FS.nameTable[mr];hr;){var gr=hr.name_next;dr.includes(hr.mount)&&FS.destroyNode(hr),hr=gr}}),ir.mounted=null;var fr=ir.mount.mounts.indexOf(lr);ir.mount.mounts.splice(fr,1)},lookup(e,rr){return e.node_ops.lookup(e,rr)},mknod(e,rr,ir){var lr=FS.lookupPath(e,{parent:!0}),dr=lr.node,fr=PATH.basename(e);if(!fr||fr==="."||fr==="..")throw new FS.ErrnoError(28);var mr=FS.mayCreate(dr,fr);if(mr)throw new FS.ErrnoError(mr);if(!dr.node_ops.mknod)throw new FS.ErrnoError(63);return dr.node_ops.mknod(dr,fr,rr,ir)},statfs(e){var rr={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255},ir=FS.lookupPath(e,{follow:!0}).node;return ir?.node_ops.statfs&&Object.assign(rr,ir.node_ops.statfs(ir.mount.opts.root)),rr},create(e,rr=438){return rr&=4095,rr|=32768,FS.mknod(e,rr,0)},mkdir(e,rr=511){return rr&=1023,rr|=16384,FS.mknod(e,rr,0)},mkdirTree(e,rr){for(var ir=e.split("/"),lr="",dr=0;dr<ir.length;++dr)if(ir[dr]){lr+="/"+ir[dr];try{FS.mkdir(lr,rr)}catch(fr){if(fr.errno!=20)throw fr}}},mkdev(e,rr,ir){return typeof ir>"u"&&(ir=rr,rr=438),rr|=8192,FS.mknod(e,rr,ir)},symlink(e,rr){if(!PATH_FS.resolve(e))throw new FS.ErrnoError(44);var ir=FS.lookupPath(rr,{parent:!0}),lr=ir.node;if(!lr)throw new FS.ErrnoError(44);var dr=PATH.basename(rr),fr=FS.mayCreate(lr,dr);if(fr)throw new FS.ErrnoError(fr);if(!lr.node_ops.symlink)throw new FS.ErrnoError(63);return lr.node_ops.symlink(lr,dr,e)},rename(e,rr){var ir=PATH.dirname(e),lr=PATH.dirname(rr),dr=PATH.basename(e),fr=PATH.basename(rr),mr,hr,gr;if(mr=FS.lookupPath(e,{parent:!0}),hr=mr.node,mr=FS.lookupPath(rr,{parent:!0}),gr=mr.node,!hr||!gr)throw new FS.ErrnoError(44);if(hr.mount!==gr.mount)throw new FS.ErrnoError(75);var xr=FS.lookupNode(hr,dr),_r=PATH_FS.relative(e,lr);if(_r.charAt(0)!==".")throw new FS.ErrnoError(28);if(_r=PATH_FS.relative(rr,ir),_r.charAt(0)!==".")throw new FS.ErrnoError(55);var yr;try{yr=FS.lookupNode(gr,fr)}catch{}if(xr!==yr){var vr=FS.isDir(xr.mode),br=FS.mayDelete(hr,dr,vr);if(br)throw new FS.ErrnoError(br);if(br=yr?FS.mayDelete(gr,fr,vr):FS.mayCreate(gr,fr),br)throw new FS.ErrnoError(br);if(!hr.node_ops.rename)throw new FS.ErrnoError(63);if(FS.isMountpoint(xr)||yr&&FS.isMountpoint(yr))throw new FS.ErrnoError(10);if(gr!==hr&&(br=FS.nodePermissions(hr,"w"),br))throw new FS.ErrnoError(br);FS.hashRemoveNode(xr);try{hr.node_ops.rename(xr,gr,fr),xr.parent=gr}catch(Sr){throw Sr}finally{FS.hashAddNode(xr)}}},rmdir(e){var rr=FS.lookupPath(e,{parent:!0}),ir=rr.node,lr=PATH.basename(e),dr=FS.lookupNode(ir,lr),fr=FS.mayDelete(ir,lr,!0);if(fr)throw new FS.ErrnoError(fr);if(!ir.node_ops.rmdir)throw new FS.ErrnoError(63);if(FS.isMountpoint(dr))throw new FS.ErrnoError(10);ir.node_ops.rmdir(ir,lr),FS.destroyNode(dr)},readdir(e){var rr=FS.lookupPath(e,{follow:!0}),ir=rr.node;if(!ir.node_ops.readdir)throw new FS.ErrnoError(54);return ir.node_ops.readdir(ir)},unlink(e){var rr=FS.lookupPath(e,{parent:!0}),ir=rr.node;if(!ir)throw new FS.ErrnoError(44);var lr=PATH.basename(e),dr=FS.lookupNode(ir,lr),fr=FS.mayDelete(ir,lr,!1);if(fr)throw new FS.ErrnoError(fr);if(!ir.node_ops.unlink)throw new FS.ErrnoError(63);if(FS.isMountpoint(dr))throw new FS.ErrnoError(10);ir.node_ops.unlink(ir,lr),FS.destroyNode(dr)},readlink(e){var rr=FS.lookupPath(e),ir=rr.node;if(!ir)throw new FS.ErrnoError(44);if(!ir.node_ops.readlink)throw new FS.ErrnoError(28);return ir.node_ops.readlink(ir)},stat(e,rr){var ir=FS.lookupPath(e,{follow:!rr}),lr=ir.node;if(!lr)throw new FS.ErrnoError(44);if(!lr.node_ops.getattr)throw new FS.ErrnoError(63);return lr.node_ops.getattr(lr)},lstat(e){return FS.stat(e,!0)},chmod(e,rr,ir){var lr;if(typeof e=="string"){var dr=FS.lookupPath(e,{follow:!ir});lr=dr.node}else lr=e;if(!lr.node_ops.setattr)throw new FS.ErrnoError(63);lr.node_ops.setattr(lr,{mode:rr&4095|lr.mode&-4096,ctime:Date.now()})},lchmod(e,rr){FS.chmod(e,rr,!0)},fchmod(e,rr){var ir=FS.getStreamChecked(e);FS.chmod(ir.node,rr)},chown(e,rr,ir,lr){var dr;if(typeof e=="string"){var fr=FS.lookupPath(e,{follow:!lr});dr=fr.node}else dr=e;if(!dr.node_ops.setattr)throw new FS.ErrnoError(63);dr.node_ops.setattr(dr,{timestamp:Date.now()})},lchown(e,rr,ir){FS.chown(e,rr,ir,!0)},fchown(e,rr,ir){var lr=FS.getStreamChecked(e);FS.chown(lr.node,rr,ir)},truncate(e,rr){if(rr<0)throw new FS.ErrnoError(28);var ir;if(typeof e=="string"){var lr=FS.lookupPath(e,{follow:!0});ir=lr.node}else ir=e;if(!ir.node_ops.setattr)throw new FS.ErrnoError(63);if(FS.isDir(ir.mode))throw new FS.ErrnoError(31);if(!FS.isFile(ir.mode))throw new FS.ErrnoError(28);var dr=FS.nodePermissions(ir,"w");if(dr)throw new FS.ErrnoError(dr);ir.node_ops.setattr(ir,{size:rr,timestamp:Date.now()})},ftruncate(e,rr){var ir=FS.getStreamChecked(e);if(!(ir.flags&2097155))throw new FS.ErrnoError(28);FS.truncate(ir.node,rr)},utime(e,rr,ir){var lr=FS.lookupPath(e,{follow:!0}),dr=lr.node;dr.node_ops.setattr(dr,{atime:rr,mtime:ir})},open(e,rr,ir=438){if(e==="")throw new FS.ErrnoError(44);rr=typeof rr=="string"?FS_modeStringToFlags(rr):rr,rr&64?ir=ir&4095|32768:ir=0;var lr;if(typeof e=="object")lr=e;else{var dr=FS.lookupPath(e,{follow:!(rr&131072),noent_okay:!0});lr=dr.node,e=dr.path}var fr=!1;if(rr&64)if(lr){if(rr&128)throw new FS.ErrnoError(20)}else lr=FS.mknod(e,ir,0),fr=!0;if(!lr)throw new FS.ErrnoError(44);if(FS.isChrdev(lr.mode)&&(rr&=-513),rr&65536&&!FS.isDir(lr.mode))throw new FS.ErrnoError(54);if(!fr){var mr=FS.mayOpen(lr,rr);if(mr)throw new FS.ErrnoError(mr)}rr&512&&!fr&&FS.truncate(lr,0),rr&=-131713;var hr=FS.createStream({node:lr,path:FS.getPath(lr),flags:rr,seekable:!0,position:0,stream_ops:lr.stream_ops,ungotten:[],error:!1});return hr.stream_ops.open&&hr.stream_ops.open(hr),Module.logReadFiles&&!(rr&1)&&(e in FS.readFiles||(FS.readFiles[e]=1)),hr},close(e){if(FS.isClosed(e))throw new FS.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(rr){throw rr}finally{FS.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,rr,ir){if(FS.isClosed(e))throw new FS.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(70);if(ir!=0&&ir!=1&&ir!=2)throw new FS.ErrnoError(28);return e.position=e.stream_ops.llseek(e,rr,ir),e.ungotten=[],e.position},read(e,rr,ir,lr,dr){if(lr<0||dr<0)throw new FS.ErrnoError(28);if(FS.isClosed(e))throw new FS.ErrnoError(8);if((e.flags&2097155)===1)throw new FS.ErrnoError(8);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(31);if(!e.stream_ops.read)throw new FS.ErrnoError(28);var fr=typeof dr<"u";if(!fr)dr=e.position;else if(!e.seekable)throw new FS.ErrnoError(70);var mr=e.stream_ops.read(e,rr,ir,lr,dr);return fr||(e.position+=mr),mr},write(e,rr,ir,lr,dr,fr){if(lr<0||dr<0)throw new FS.ErrnoError(28);if(FS.isClosed(e))throw new FS.ErrnoError(8);if(!(e.flags&2097155))throw new FS.ErrnoError(8);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(31);if(!e.stream_ops.write)throw new FS.ErrnoError(28);e.seekable&&e.flags&1024&&FS.llseek(e,0,2);var mr=typeof dr<"u";if(!mr)dr=e.position;else if(!e.seekable)throw new FS.ErrnoError(70);var hr=e.stream_ops.write(e,rr,ir,lr,dr,fr);return mr||(e.position+=hr),hr},allocate(e,rr,ir){if(FS.isClosed(e))throw new FS.ErrnoError(8);if(rr<0||ir<=0)throw new FS.ErrnoError(28);if(!(e.flags&2097155))throw new FS.ErrnoError(8);if(!FS.isFile(e.node.mode)&&!FS.isDir(e.node.mode))throw new FS.ErrnoError(43);if(!e.stream_ops.allocate)throw new FS.ErrnoError(138);e.stream_ops.allocate(e,rr,ir)},mmap(e,rr,ir,lr,dr){if(lr&2&&!(dr&2)&&(e.flags&2097155)!==2)throw new FS.ErrnoError(2);if((e.flags&2097155)===1)throw new FS.ErrnoError(2);if(!e.stream_ops.mmap)throw new FS.ErrnoError(43);if(!rr)throw new FS.ErrnoError(28);return e.stream_ops.mmap(e,rr,ir,lr,dr)},msync(e,rr,ir,lr,dr){return e.stream_ops.msync?e.stream_ops.msync(e,rr,ir,lr,dr):0},ioctl(e,rr,ir){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(59);return e.stream_ops.ioctl(e,rr,ir)},readFile(e,rr={}){if(rr.flags=rr.flags||0,rr.encoding=rr.encoding||"binary",rr.encoding!=="utf8"&&rr.encoding!=="binary")throw new Error(`Invalid encoding type "${rr.encoding}"`);var ir,lr=FS.open(e,rr.flags),dr=FS.stat(e),fr=dr.size,mr=new Uint8Array(fr);return FS.read(lr,mr,0,fr,0),rr.encoding==="utf8"?ir=UTF8ArrayToString(mr):rr.encoding==="binary"&&(ir=mr),FS.close(lr),ir},writeFile(e,rr,ir={}){ir.flags=ir.flags||577;var lr=FS.open(e,ir.flags,ir.mode);if(typeof rr=="string"){var dr=new Uint8Array(lengthBytesUTF8(rr)+1),fr=stringToUTF8Array(rr,dr,0,dr.length);FS.write(lr,dr,0,fr,void 0,ir.canOwn)}else if(ArrayBuffer.isView(rr))FS.write(lr,rr,0,rr.byteLength,void 0,ir.canOwn);else throw new Error("Unsupported data type");FS.close(lr)},cwd:()=>FS.currentPath,chdir(e){var rr=FS.lookupPath(e,{follow:!0});if(rr.node===null)throw new FS.ErrnoError(44);if(!FS.isDir(rr.node.mode))throw new FS.ErrnoError(54);var ir=FS.nodePermissions(rr.node,"x");if(ir)throw new FS.ErrnoError(ir);FS.currentPath=rr.path},createDefaultDirectories(){FS.mkdir("/tmp"),FS.mkdir("/home"),FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(lr,dr,fr,mr,hr)=>mr,llseek:()=>0}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0));var e=new Uint8Array(1024),rr=0,ir=()=>(rr===0&&(rr=randomFill(e).byteLength),e[--rr]);FS.createDevice("/dev","random",ir),FS.createDevice("/dev","urandom",ir),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var e=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd"),FS.mount({mount(){var rr=FS.createNode(e,"fd",16895,73);return rr.stream_ops={llseek:MEMFS.stream_ops.llseek},rr.node_ops={lookup(ir,lr){var dr=+lr,fr=FS.getStreamChecked(dr),mr={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>fr.path},id:dr+1};return mr.parent=mr,mr},readdir(){return Array.from(FS.streams.entries()).filter(([ir,lr])=>lr).map(([ir,lr])=>ir.toString())}},rr}},{},"/proc/self/fd")},createStandardStreams(e,rr,ir){e?FS.createDevice("/dev","stdin",e):FS.symlink("/dev/tty","/dev/stdin"),rr?FS.createDevice("/dev","stdout",null,rr):FS.symlink("/dev/tty","/dev/stdout"),ir?FS.createDevice("/dev","stderr",null,ir):FS.symlink("/dev/tty1","/dev/stderr"),FS.open("/dev/stdin",0),FS.open("/dev/stdout",1),FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices(),FS.createSpecialDirectories(),FS.filesystems={MEMFS,IDBFS,NODEFS}},init(e,rr,ir){FS.initialized=!0,e??(e=Module.stdin),rr??(rr=Module.stdout),ir??(ir=Module.stderr),FS.createStandardStreams(e,rr,ir)},quit(){FS.initialized=!1,_fflush(0);for(var e=0;e<FS.streams.length;e++){var rr=FS.streams[e];rr&&FS.close(rr)}},findObject(e,rr){var ir=FS.analyzePath(e,rr);return ir.exists?ir.object:null},analyzePath(e,rr){try{var ir=FS.lookupPath(e,{follow:!rr});e=ir.path}catch{}var lr={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var ir=FS.lookupPath(e,{parent:!0});lr.parentExists=!0,lr.parentPath=ir.path,lr.parentObject=ir.node,lr.name=PATH.basename(e),ir=FS.lookupPath(e,{follow:!rr}),lr.exists=!0,lr.path=ir.path,lr.object=ir.node,lr.name=ir.node.name,lr.isRoot=ir.path==="/"}catch(dr){lr.error=dr.errno}return lr},createPath(e,rr,ir,lr){e=typeof e=="string"?e:FS.getPath(e);for(var dr=rr.split("/").reverse();dr.length;){var fr=dr.pop();if(fr){var mr=PATH.join2(e,fr);try{FS.mkdir(mr)}catch{}e=mr}}return mr},createFile(e,rr,ir,lr,dr){var fr=PATH.join2(typeof e=="string"?e:FS.getPath(e),rr),mr=FS_getMode(lr,dr);return FS.create(fr,mr)},createDataFile(e,rr,ir,lr,dr,fr){var mr=rr;e&&(e=typeof e=="string"?e:FS.getPath(e),mr=rr?PATH.join2(e,rr):e);var hr=FS_getMode(lr,dr),gr=FS.create(mr,hr);if(ir){if(typeof ir=="string"){for(var xr=new Array(ir.length),_r=0,yr=ir.length;_r<yr;++_r)xr[_r]=ir.charCodeAt(_r);ir=xr}FS.chmod(gr,hr|146);var vr=FS.open(gr,577);FS.write(vr,ir,0,ir.length,0,fr),FS.close(vr),FS.chmod(gr,hr)}},createDevice(e,rr,ir,lr){var dr,fr=PATH.join2(typeof e=="string"?e:FS.getPath(e),rr),mr=FS_getMode(!!ir,!!lr);(dr=FS.createDevice).major??(dr.major=64);var hr=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(hr,{open(gr){gr.seekable=!1},close(gr){lr?.buffer?.length&&lr(10)},read(gr,xr,_r,yr,vr){for(var br=0,Sr=0;Sr<yr;Sr++){var wr;try{wr=ir()}catch{throw new FS.ErrnoError(29)}if(wr===void 0&&br===0)throw new FS.ErrnoError(6);if(wr==null)break;br++,xr[_r+Sr]=wr}return br&&(gr.node.atime=Date.now()),br},write(gr,xr,_r,yr,vr){for(var br=0;br<yr;br++)try{lr(xr[_r+br])}catch{throw new FS.ErrnoError(29)}return yr&&(gr.node.mtime=gr.node.ctime=Date.now()),br}}),FS.mkdev(fr,mr,hr)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{e.contents=readBinary(e.url),e.usedBytes=e.contents.length}catch{throw new FS.ErrnoError(29)}},createLazyFile(e,rr,ir,lr,dr){class fr{constructor(){P$1(this,"lengthKnown",!1),P$1(this,"chunks",[])}get(br){if(!(br>this.length-1||br<0)){var Sr=br%this.chunkSize,wr=br/this.chunkSize|0;return this.getter(wr)[Sr]}}setDataGetter(br){this.getter=br}cacheLength(){var br=new XMLHttpRequest;if(br.open("HEAD",ir,!1),br.send(null),!(br.status>=200&&br.status<300||br.status===304))throw new Error("Couldn't load "+ir+". Status: "+br.status);var Sr=Number(br.getResponseHeader("Content-length")),wr,Mr=(wr=br.getResponseHeader("Accept-Ranges"))&&wr==="bytes",kr=(wr=br.getResponseHeader("Content-Encoding"))&&wr==="gzip",Ar=1024*1024;Mr||(Ar=Sr);var Ir=(Dr,Or)=>{if(Dr>Or)throw new Error("invalid range ("+Dr+", "+Or+") or no bytes requested!");if(Or>Sr-1)throw new Error("only "+Sr+" bytes available! programmer error!");var Fr=new XMLHttpRequest;if(Fr.open("GET",ir,!1),Sr!==Ar&&Fr.setRequestHeader("Range","bytes="+Dr+"-"+Or),Fr.responseType="arraybuffer",Fr.overrideMimeType&&Fr.overrideMimeType("text/plain; charset=x-user-defined"),Fr.send(null),!(Fr.status>=200&&Fr.status<300||Fr.status===304))throw new Error("Couldn't load "+ir+". Status: "+Fr.status);return Fr.response!==void 0?new Uint8Array(Fr.response||[]):intArrayFromString(Fr.responseText||"")},$r=this;$r.setDataGetter(Dr=>{var Or=Dr*Ar,Fr=(Dr+1)*Ar-1;if(Fr=Math.min(Fr,Sr-1),typeof $r.chunks[Dr]>"u"&&($r.chunks[Dr]=Ir(Or,Fr)),typeof $r.chunks[Dr]>"u")throw new Error("doXHR failed!");return $r.chunks[Dr]}),(kr||!Sr)&&(Ar=Sr=1,Sr=this.getter(0).length,Ar=Sr,out("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Sr,this._chunkSize=Ar,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var mr=new fr,hr={isDevice:!1,contents:mr}}else var hr={isDevice:!1,url:ir};var gr=FS.createFile(e,rr,hr,lr,dr);hr.contents?gr.contents=hr.contents:hr.url&&(gr.contents=null,gr.url=hr.url),Object.defineProperties(gr,{usedBytes:{get:function(){return this.contents.length}}});var xr={},_r=Object.keys(gr.stream_ops);_r.forEach(vr=>{var br=gr.stream_ops[vr];xr[vr]=(...Sr)=>(FS.forceLoadFile(gr),br(...Sr))});function yr(vr,br,Sr,wr,Mr){var kr=vr.node.contents;if(Mr>=kr.length)return 0;var Ar=Math.min(kr.length-Mr,wr);if(kr.slice)for(var Ir=0;Ir<Ar;Ir++)br[Sr+Ir]=kr[Mr+Ir];else for(var Ir=0;Ir<Ar;Ir++)br[Sr+Ir]=kr.get(Mr+Ir);return Ar}return xr.read=(vr,br,Sr,wr,Mr)=>(FS.forceLoadFile(gr),yr(vr,br,Sr,wr,Mr)),xr.mmap=(vr,br,Sr,wr,Mr)=>{FS.forceLoadFile(gr);var kr=mmapAlloc(br);if(!kr)throw new FS.ErrnoError(48);return yr(vr,HEAP8,kr,br,Sr),{ptr:kr,allocated:!0}},gr.stream_ops=xr,gr}},SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(e,rr,ir){if(PATH.isAbs(rr))return rr;var lr;if(e===-100)lr=FS.cwd();else{var dr=SYSCALLS.getStreamFromFD(e);lr=dr.path}if(rr.length==0){if(!ir)throw new FS.ErrnoError(44);return lr}return lr+"/"+rr},doStat(e,rr,ir){var lr=e(rr);HEAP32[ir>>2]=lr.dev,HEAP32[ir+4>>2]=lr.mode,HEAPU32[ir+8>>2]=lr.nlink,HEAP32[ir+12>>2]=lr.uid,HEAP32[ir+16>>2]=lr.gid,HEAP32[ir+20>>2]=lr.rdev,HEAP64[ir+24>>3]=BigInt(lr.size),HEAP32[ir+32>>2]=4096,HEAP32[ir+36>>2]=lr.blocks;var dr=lr.atime.getTime(),fr=lr.mtime.getTime(),mr=lr.ctime.getTime();return HEAP64[ir+40>>3]=BigInt(Math.floor(dr/1e3)),HEAPU32[ir+48>>2]=dr%1e3*1e3*1e3,HEAP64[ir+56>>3]=BigInt(Math.floor(fr/1e3)),HEAPU32[ir+64>>2]=fr%1e3*1e3*1e3,HEAP64[ir+72>>3]=BigInt(Math.floor(mr/1e3)),HEAPU32[ir+80>>2]=mr%1e3*1e3*1e3,HEAP64[ir+88>>3]=BigInt(lr.ino),0},doMsync(e,rr,ir,lr,dr){if(!FS.isFile(rr.node.mode))throw new FS.ErrnoError(43);if(lr&2)return 0;var fr=HEAPU8.slice(e,e+ir);FS.msync(rr,fr,dr,ir,lr)},getStreamFromFD(e){var rr=FS.getStreamChecked(e);return rr},varargs:void 0,getStr(e){var rr=UTF8ToString(e);return rr}},___syscall__newselect=function(e,rr,ir,lr,dr){try{for(var fr=0,mr=rr?HEAP32[rr>>2]:0,hr=rr?HEAP32[rr+4>>2]:0,gr=ir?HEAP32[ir>>2]:0,xr=ir?HEAP32[ir+4>>2]:0,_r=lr?HEAP32[lr>>2]:0,yr=lr?HEAP32[lr+4>>2]:0,vr=0,br=0,Sr=0,wr=0,Mr=0,kr=0,Ar=(rr?HEAP32[rr>>2]:0)|(ir?HEAP32[ir>>2]:0)|(lr?HEAP32[lr>>2]:0),Ir=(rr?HEAP32[rr+4>>2]:0)|(ir?HEAP32[ir+4>>2]:0)|(lr?HEAP32[lr+4>>2]:0),$r=(Yn,Jn,Zn,Hn)=>Yn<32?Jn&Hn:Zn&Hn,Dr=0;Dr<e;Dr++){var Or=1<<Dr%32;if($r(Dr,Ar,Ir,Or)){var Fr=SYSCALLS.getStreamFromFD(Dr),Lr=SYSCALLS.DEFAULT_POLLMASK;if(Fr.stream_ops.poll){var zr=-1;if(dr){var Gr=rr?HEAP32[dr>>2]:0,Jr=rr?HEAP32[dr+4>>2]:0;zr=(Gr+Jr/1e6)*1e3}Lr=Fr.stream_ops.poll(Fr,zr)}Lr&1&&$r(Dr,mr,hr,Or)&&(Dr<32?vr=vr|Or:br=br|Or,fr++),Lr&4&&$r(Dr,gr,xr,Or)&&(Dr<32?Sr=Sr|Or:wr=wr|Or,fr++),Lr&2&&$r(Dr,_r,yr,Or)&&(Dr<32?Mr=Mr|Or:kr=kr|Or,fr++)}}return rr&&(HEAP32[rr>>2]=vr,HEAP32[rr+4>>2]=br),ir&&(HEAP32[ir>>2]=Sr,HEAP32[ir+4>>2]=wr),lr&&(HEAP32[lr>>2]=Mr,HEAP32[lr+4>>2]=kr),fr}catch(Yn){if(typeof FS>"u"||Yn.name!=="ErrnoError")throw Yn;return-Yn.errno}};___syscall__newselect.sig="iipppp";var SOCKFS={websocketArgs:{},callbacks:{},on(e,rr){SOCKFS.callbacks[e]=rr},emit(e,rr){SOCKFS.callbacks[e]?.(rr)},mount(e){return SOCKFS.websocketArgs=Module.websocket||{},(Module.websocket??(Module.websocket={})).on=SOCKFS.on,FS.createNode(null,"/",16895,0)},createSocket(e,rr,ir){rr&=-526337;var lr=rr==1;if(lr&&ir&&ir!=6)throw new FS.ErrnoError(66);var dr={family:e,type:rr,protocol:ir,server:null,error:null,peers:{},pending:[],recv_queue:[],sock_ops:SOCKFS.websocket_sock_ops},fr=SOCKFS.nextname(),mr=FS.createNode(SOCKFS.root,fr,49152,0);mr.sock=dr;var hr=FS.createStream({path:fr,node:mr,flags:2,seekable:!1,stream_ops:SOCKFS.stream_ops});return dr.stream=hr,dr},getSocket(e){var rr=FS.getStream(e);return!rr||!FS.isSocket(rr.node.mode)?null:rr.node.sock},stream_ops:{poll(e){var rr=e.node.sock;return rr.sock_ops.poll(rr)},ioctl(e,rr,ir){var lr=e.node.sock;return lr.sock_ops.ioctl(lr,rr,ir)},read(e,rr,ir,lr,dr){var fr=e.node.sock,mr=fr.sock_ops.recvmsg(fr,lr);return mr?(rr.set(mr.buffer,ir),mr.buffer.length):0},write(e,rr,ir,lr,dr){var fr=e.node.sock;return fr.sock_ops.sendmsg(fr,rr,ir,lr)},close(e){var rr=e.node.sock;rr.sock_ops.close(rr)}},nextname(){return SOCKFS.nextname.current||(SOCKFS.nextname.current=0),`socket[${SOCKFS.nextname.current++}]`},websocket_sock_ops:{createPeer(e,rr,ir){var lr;if(typeof rr=="object"&&(lr=rr,rr=null,ir=null),lr)if(lr._socket)rr=lr._socket.remoteAddress,ir=lr._socket.remotePort;else{var dr=/ws[s]?:\/\/([^:]+):(\d+)/.exec(lr.url);if(!dr)throw new Error("WebSocket URL must be in the format ws(s)://address:port");rr=dr[1],ir=parseInt(dr[2],10)}else try{var fr="ws:#".replace("#","//"),mr="binary",hr=void 0;if(SOCKFS.websocketArgs.url&&(fr=SOCKFS.websocketArgs.url),SOCKFS.websocketArgs.subprotocol?mr=SOCKFS.websocketArgs.subprotocol:SOCKFS.websocketArgs.subprotocol===null&&(mr="null"),fr==="ws://"||fr==="wss://"){var gr=rr.split("/");fr=fr+gr[0]+":"+ir+"/"+gr.slice(1).join("/")}mr!=="null"&&(mr=mr.replace(/^ +| +$/g,"").split(/ *, */),hr=mr);var xr;ENVIRONMENT_IS_NODE?xr=require("ws"):xr=WebSocket,lr=new xr(fr,hr),lr.binaryType="arraybuffer"}catch{throw new FS.ErrnoError(23)}var _r={addr:rr,port:ir,socket:lr,msg_send_queue:[]};return SOCKFS.websocket_sock_ops.addPeer(e,_r),SOCKFS.websocket_sock_ops.handlePeerEvents(e,_r),e.type===2&&typeof e.sport<"u"&&_r.msg_send_queue.push(new Uint8Array([255,255,255,255,112,111,114,116,(e.sport&65280)>>8,e.sport&255])),_r},getPeer(e,rr,ir){return e.peers[rr+":"+ir]},addPeer(e,rr){e.peers[rr.addr+":"+rr.port]=rr},removePeer(e,rr){delete e.peers[rr.addr+":"+rr.port]},handlePeerEvents(e,rr){var ir=!0,lr=function(){e.connecting=!1,SOCKFS.emit("open",e.stream.fd);try{for(var fr=rr.msg_send_queue.shift();fr;)rr.socket.send(fr),fr=rr.msg_send_queue.shift()}catch{rr.socket.close()}};function dr(fr){if(typeof fr=="string"){var mr=new TextEncoder;fr=mr.encode(fr)}else{if(assert(fr.byteLength!==void 0),fr.byteLength==0)return;fr=new Uint8Array(fr)}var hr=ir;if(ir=!1,hr&&fr.length===10&&fr[0]===255&&fr[1]===255&&fr[2]===255&&fr[3]===255&&fr[4]===112&&fr[5]===111&&fr[6]===114&&fr[7]===116){var gr=fr[8]<<8|fr[9];SOCKFS.websocket_sock_ops.removePeer(e,rr),rr.port=gr,SOCKFS.websocket_sock_ops.addPeer(e,rr);return}e.recv_queue.push({addr:rr.addr,port:rr.port,data:fr}),SOCKFS.emit("message",e.stream.fd)}ENVIRONMENT_IS_NODE?(rr.socket.on("open",lr),rr.socket.on("message",function(fr,mr){mr&&dr(new Uint8Array(fr).buffer)}),rr.socket.on("close",function(){SOCKFS.emit("close",e.stream.fd)}),rr.socket.on("error",function(fr){e.error=14,SOCKFS.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})):(rr.socket.onopen=lr,rr.socket.onclose=function(){SOCKFS.emit("close",e.stream.fd)},rr.socket.onmessage=function(fr){dr(fr.data)},rr.socket.onerror=function(fr){e.error=14,SOCKFS.emit("error",[e.stream.fd,e.error,"ECONNREFUSED: Connection refused"])})},poll(e){if(e.type===1&&e.server)return e.pending.length?65:0;var rr=0,ir=e.type===1?SOCKFS.websocket_sock_ops.getPeer(e,e.daddr,e.dport):null;return(e.recv_queue.length||!ir||ir&&ir.socket.readyState===ir.socket.CLOSING||ir&&ir.socket.readyState===ir.socket.CLOSED)&&(rr|=65),(!ir||ir&&ir.socket.readyState===ir.socket.OPEN)&&(rr|=4),(ir&&ir.socket.readyState===ir.socket.CLOSING||ir&&ir.socket.readyState===ir.socket.CLOSED)&&(e.connecting?rr|=4:rr|=16),rr},ioctl(e,rr,ir){switch(rr){case 21531:var lr=0;return e.recv_queue.length&&(lr=e.recv_queue[0].data.length),HEAP32[ir>>2]=lr,0;default:return 28}},close(e){if(e.server){try{e.server.close()}catch{}e.server=null}for(var rr=Object.keys(e.peers),ir=0;ir<rr.length;ir++){var lr=e.peers[rr[ir]];try{lr.socket.close()}catch{}SOCKFS.websocket_sock_ops.removePeer(e,lr)}return 0},bind(e,rr,ir){if(typeof e.saddr<"u"||typeof e.sport<"u")throw new FS.ErrnoError(28);if(e.saddr=rr,e.sport=ir,e.type===2){e.server&&(e.server.close(),e.server=null);try{e.sock_ops.listen(e,0)}catch(lr){if(lr.name!=="ErrnoError"||lr.errno!==138)throw lr}}},connect(e,rr,ir){if(e.server)throw new FS.ErrnoError(138);if(typeof e.daddr<"u"&&typeof e.dport<"u"){var lr=SOCKFS.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(lr)throw lr.socket.readyState===lr.socket.CONNECTING?new FS.ErrnoError(7):new FS.ErrnoError(30)}var dr=SOCKFS.websocket_sock_ops.createPeer(e,rr,ir);e.daddr=dr.addr,e.dport=dr.port,e.connecting=!0},listen(e,rr){if(!ENVIRONMENT_IS_NODE)throw new FS.ErrnoError(138);if(e.server)throw new FS.ErrnoError(28);var ir=require("ws").Server,lr=e.saddr;e.server=new ir({host:lr,port:e.sport}),SOCKFS.emit("listen",e.stream.fd),e.server.on("connection",function(dr){if(e.type===1){var fr=SOCKFS.createSocket(e.family,e.type,e.protocol),mr=SOCKFS.websocket_sock_ops.createPeer(fr,dr);fr.daddr=mr.addr,fr.dport=mr.port,e.pending.push(fr),SOCKFS.emit("connection",fr.stream.fd)}else SOCKFS.websocket_sock_ops.createPeer(e,dr),SOCKFS.emit("connection",e.stream.fd)}),e.server.on("close",function(){SOCKFS.emit("close",e.stream.fd),e.server=null}),e.server.on("error",function(dr){e.error=23,SOCKFS.emit("error",[e.stream.fd,e.error,"EHOSTUNREACH: Host is unreachable"])})},accept(e){if(!e.server||!e.pending.length)throw new FS.ErrnoError(28);var rr=e.pending.shift();return rr.stream.flags=e.stream.flags,rr},getname(e,rr){var ir,lr;if(rr){if(e.daddr===void 0||e.dport===void 0)throw new FS.ErrnoError(53);ir=e.daddr,lr=e.dport}else ir=e.saddr||0,lr=e.sport||0;return{addr:ir,port:lr}},sendmsg(e,rr,ir,lr,dr,fr){if(e.type===2){if((dr===void 0||fr===void 0)&&(dr=e.daddr,fr=e.dport),dr===void 0||fr===void 0)throw new FS.ErrnoError(17)}else dr=e.daddr,fr=e.dport;var mr=SOCKFS.websocket_sock_ops.getPeer(e,dr,fr);if(e.type===1&&(!mr||mr.socket.readyState===mr.socket.CLOSING||mr.socket.readyState===mr.socket.CLOSED))throw new FS.ErrnoError(53);ArrayBuffer.isView(rr)&&(ir+=rr.byteOffset,rr=rr.buffer);var hr=rr.slice(ir,ir+lr);if(!mr||mr.socket.readyState!==mr.socket.OPEN)return e.type===2&&(!mr||mr.socket.readyState===mr.socket.CLOSING||mr.socket.readyState===mr.socket.CLOSED)&&(mr=SOCKFS.websocket_sock_ops.createPeer(e,dr,fr)),mr.msg_send_queue.push(hr),lr;try{return mr.socket.send(hr),lr}catch{throw new FS.ErrnoError(28)}},recvmsg(e,rr){if(e.type===1&&e.server)throw new FS.ErrnoError(53);var ir=e.recv_queue.shift();if(!ir){if(e.type===1){var lr=SOCKFS.websocket_sock_ops.getPeer(e,e.daddr,e.dport);if(!lr)throw new FS.ErrnoError(53);if(lr.socket.readyState===lr.socket.CLOSING||lr.socket.readyState===lr.socket.CLOSED)return null;throw new FS.ErrnoError(6)}throw new FS.ErrnoError(6)}var dr=ir.data.byteLength||ir.data.length,fr=ir.data.byteOffset||0,mr=ir.data.buffer||ir.data,hr=Math.min(rr,dr),gr={buffer:new Uint8Array(mr,fr,hr),addr:ir.addr,port:ir.port};if(e.type===1&&hr<dr){var xr=dr-hr;ir.data=new Uint8Array(mr,fr+hr,xr),e.recv_queue.unshift(ir)}return gr}}},getSocketFromFD=e=>{var rr=SOCKFS.getSocket(e);if(!rr)throw new FS.ErrnoError(8);return rr},inetPton4=e=>{for(var rr=e.split("."),ir=0;ir<4;ir++){var lr=Number(rr[ir]);if(isNaN(lr))return null;rr[ir]=lr}return(rr[0]|rr[1]<<8|rr[2]<<16|rr[3]<<24)>>>0},jstoi_q=e=>parseInt(e),inetPton6=e=>{var rr,ir,lr,dr,fr=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,mr=[];if(!fr.test(e))return null;if(e==="::")return[0,0,0,0,0,0,0,0];for(e.startsWith("::")?e=e.replace("::","Z:"):e=e.replace("::",":Z:"),e.indexOf(".")>0?(e=e.replace(new RegExp("[.]","g"),":"),rr=e.split(":"),rr[rr.length-4]=jstoi_q(rr[rr.length-4])+jstoi_q(rr[rr.length-3])*256,rr[rr.length-3]=jstoi_q(rr[rr.length-2])+jstoi_q(rr[rr.length-1])*256,rr=rr.slice(0,rr.length-2)):rr=e.split(":"),lr=0,dr=0,ir=0;ir<rr.length;ir++)if(typeof rr[ir]=="string")if(rr[ir]==="Z"){for(dr=0;dr<8-rr.length+1;dr++)mr[ir+dr]=0;lr=dr-1}else mr[ir+lr]=_htons(parseInt(rr[ir],16));else mr[ir+lr]=rr[ir];return[mr[1]<<16|mr[0],mr[3]<<16|mr[2],mr[5]<<16|mr[4],mr[7]<<16|mr[6]]},writeSockaddr=(e,rr,ir,lr,dr)=>{switch(rr){case 2:ir=inetPton4(ir),zeroMemory(e,16),dr&&(HEAP32[dr>>2]=16),HEAP16[e>>1]=rr,HEAP32[e+4>>2]=ir,HEAP16[e+2>>1]=_htons(lr);break;case 10:ir=inetPton6(ir),zeroMemory(e,28),dr&&(HEAP32[dr>>2]=28),HEAP32[e>>2]=rr,HEAP32[e+8>>2]=ir[0],HEAP32[e+12>>2]=ir[1],HEAP32[e+16>>2]=ir[2],HEAP32[e+20>>2]=ir[3],HEAP16[e+2>>1]=_htons(lr);break;default:return 5}return 0},DNS={address_map:{id:1,addrs:{},names:{}},lookup_name(e){var rr=inetPton4(e);if(rr!==null||(rr=inetPton6(e),rr!==null))return e;var ir;if(DNS.address_map.addrs[e])ir=DNS.address_map.addrs[e];else{var lr=DNS.address_map.id++;assert(lr<65535,"exceeded max address mappings of 65535"),ir="172.29."+(lr&255)+"."+(lr&65280),DNS.address_map.names[ir]=e,DNS.address_map.addrs[e]=ir}return ir},lookup_addr(e){return DNS.address_map.names[e]?DNS.address_map.names[e]:null}};function ___syscall_accept4(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e),hr=mr.sock_ops.accept(mr);if(rr)var gr=writeSockaddr(rr,hr.family,DNS.lookup_name(hr.daddr),hr.dport,ir);return hr.stream.fd}catch(xr){if(typeof FS>"u"||xr.name!=="ErrnoError")throw xr;return-xr.errno}}___syscall_accept4.sig="iippiii";var inetNtop4=e=>(e&255)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255),inetNtop6=e=>{var rr="",ir=0,lr=0,dr=0,fr=0,mr=0,hr=0,gr=[e[0]&65535,e[0]>>16,e[1]&65535,e[1]>>16,e[2]&65535,e[2]>>16,e[3]&65535,e[3]>>16],xr=!0,_r="";for(hr=0;hr<5;hr++)if(gr[hr]!==0){xr=!1;break}if(xr){if(_r=inetNtop4(gr[6]|gr[7]<<16),gr[5]===-1)return rr="::ffff:",rr+=_r,rr;if(gr[5]===0)return rr="::",_r==="0.0.0.0"&&(_r=""),_r==="0.0.0.1"&&(_r="1"),rr+=_r,rr}for(ir=0;ir<8;ir++)gr[ir]===0&&(ir-dr>1&&(mr=0),dr=ir,mr++),mr>lr&&(lr=mr,fr=ir-lr+1);for(ir=0;ir<8;ir++){if(lr>1&&gr[ir]===0&&ir>=fr&&ir<fr+lr){ir===fr&&(rr+=":",fr===0&&(rr+=":"));continue}rr+=Number(_ntohs(gr[ir]&65535)).toString(16),rr+=ir<7?":":""}return rr},readSockaddr=(e,rr)=>{var ir=HEAP16[e>>1],lr=_ntohs(HEAPU16[e+2>>1]),dr;switch(ir){case 2:if(rr!==16)return{errno:28};dr=HEAP32[e+4>>2],dr=inetNtop4(dr);break;case 10:if(rr!==28)return{errno:28};dr=[HEAP32[e+8>>2],HEAP32[e+12>>2],HEAP32[e+16>>2],HEAP32[e+20>>2]],dr=inetNtop6(dr);break;default:return{errno:5}}return{family:ir,addr:dr,port:lr}},getSocketAddress=(e,rr)=>{var ir=readSockaddr(e,rr);if(ir.errno)throw new FS.ErrnoError(ir.errno);return ir.addr=DNS.lookup_addr(ir.addr)||ir.addr,ir};function ___syscall_bind(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e),hr=getSocketAddress(rr,ir);return mr.sock_ops.bind(mr,hr.addr,hr.port),0}catch(gr){if(typeof FS>"u"||gr.name!=="ErrnoError")throw gr;return-gr.errno}}___syscall_bind.sig="iippiii";function ___syscall_chdir(e){try{return e=SYSCALLS.getStr(e),FS.chdir(e),0}catch(rr){if(typeof FS>"u"||rr.name!=="ErrnoError")throw rr;return-rr.errno}}___syscall_chdir.sig="ip";function ___syscall_chmod(e,rr){try{return e=SYSCALLS.getStr(e),FS.chmod(e,rr),0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_chmod.sig="ipi";function ___syscall_connect(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e),hr=getSocketAddress(rr,ir);return mr.sock_ops.connect(mr,hr.addr,hr.port),0}catch(gr){if(typeof FS>"u"||gr.name!=="ErrnoError")throw gr;return-gr.errno}}___syscall_connect.sig="iippiii";function ___syscall_dup(e){try{var rr=SYSCALLS.getStreamFromFD(e);return FS.dupStream(rr).fd}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_dup.sig="ii";function ___syscall_dup3(e,rr,ir){try{var lr=SYSCALLS.getStreamFromFD(e);if(lr.fd===rr)return-28;if(rr<0||rr>=FS.MAX_OPEN_FDS)return-8;var dr=FS.getStream(rr);return dr&&FS.close(dr),FS.dupStream(lr,rr).fd}catch(fr){if(typeof FS>"u"||fr.name!=="ErrnoError")throw fr;return-fr.errno}}___syscall_dup3.sig="iiii";function ___syscall_faccessat(e,rr,ir,lr){try{if(rr=SYSCALLS.getStr(rr),rr=SYSCALLS.calculateAt(e,rr),ir&-8)return-28;var dr=FS.lookupPath(rr,{follow:!0}),fr=dr.node;if(!fr)return-44;var mr="";return ir&4&&(mr+="r"),ir&2&&(mr+="w"),ir&1&&(mr+="x"),mr&&FS.nodePermissions(fr,mr)?-2:0}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return-hr.errno}}___syscall_faccessat.sig="iipii";var ___syscall_fadvise64=(e,rr,ir,lr)=>0;___syscall_fadvise64.sig="iijji";var INT53_MAX=9007199254740992,INT53_MIN=-9007199254740992,bigintToI53Checked=e=>e<INT53_MIN||e>INT53_MAX?NaN:Number(e);function ___syscall_fallocate(e,rr,ir,lr){ir=bigintToI53Checked(ir),lr=bigintToI53Checked(lr);try{if(isNaN(ir))return 61;var dr=SYSCALLS.getStreamFromFD(e);return FS.allocate(dr,ir,lr),0}catch(fr){if(typeof FS>"u"||fr.name!=="ErrnoError")throw fr;return-fr.errno}}___syscall_fallocate.sig="iiijj";var syscallGetVarargI=()=>{var e=HEAP32[+SYSCALLS.varargs>>2];return SYSCALLS.varargs+=4,e},syscallGetVarargP=syscallGetVarargI;function ___syscall_fcntl64(e,rr,ir){SYSCALLS.varargs=ir;try{var lr=SYSCALLS.getStreamFromFD(e);switch(rr){case 0:{var dr=syscallGetVarargI();if(dr<0)return-28;for(;FS.streams[dr];)dr++;var fr;return fr=FS.dupStream(lr,dr),fr.fd}case 1:case 2:return 0;case 3:return lr.flags;case 4:{var dr=syscallGetVarargI();return lr.flags|=dr,0}case 12:{var dr=syscallGetVarargP(),mr=0;return HEAP16[dr+mr>>1]=2,0}case 13:case 14:return 0}return-28}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return-hr.errno}}___syscall_fcntl64.sig="iiip";function ___syscall_fdatasync(e){try{var rr=SYSCALLS.getStreamFromFD(e);return 0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_fdatasync.sig="ii";function ___syscall_fstat64(e,rr){try{var ir=SYSCALLS.getStreamFromFD(e);return SYSCALLS.doStat(FS.stat,ir.path,rr)}catch(lr){if(typeof FS>"u"||lr.name!=="ErrnoError")throw lr;return-lr.errno}}___syscall_fstat64.sig="iip";function ___syscall_ftruncate64(e,rr){rr=bigintToI53Checked(rr);try{return isNaN(rr)?61:(FS.ftruncate(e,rr),0)}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_ftruncate64.sig="iij";var stringToUTF8=(e,rr,ir)=>stringToUTF8Array(e,HEAPU8,rr,ir);function ___syscall_getcwd(e,rr){try{if(rr===0)return-28;var ir=FS.cwd(),lr=lengthBytesUTF8(ir)+1;return rr<lr?-68:(stringToUTF8(ir,e,rr),lr)}catch(dr){if(typeof FS>"u"||dr.name!=="ErrnoError")throw dr;return-dr.errno}}___syscall_getcwd.sig="ipp";function ___syscall_getdents64(e,rr,ir){try{var lr=SYSCALLS.getStreamFromFD(e);lr.getdents||(lr.getdents=FS.readdir(lr.path));for(var dr=280,fr=0,mr=FS.llseek(lr,0,1),hr=Math.floor(mr/dr),gr=Math.min(lr.getdents.length,hr+Math.floor(ir/dr)),xr=hr;xr<gr;xr++){var _r,yr,vr=lr.getdents[xr];if(vr===".")_r=lr.node.id,yr=4;else if(vr===".."){var br=FS.lookupPath(lr.path,{parent:!0});_r=br.node.id,yr=4}else{var Sr;try{Sr=FS.lookupNode(lr.node,vr)}catch(wr){if(wr?.errno===28)continue;throw wr}_r=Sr.id,yr=FS.isChrdev(Sr.mode)?2:FS.isDir(Sr.mode)?4:FS.isLink(Sr.mode)?10:8}HEAP64[rr+fr>>3]=BigInt(_r),HEAP64[rr+fr+8>>3]=BigInt((xr+1)*dr),HEAP16[rr+fr+16>>1]=280,HEAP8[rr+fr+18]=yr,stringToUTF8(vr,rr+fr+19,256),fr+=dr}return FS.llseek(lr,xr*dr,0),fr}catch(wr){if(typeof FS>"u"||wr.name!=="ErrnoError")throw wr;return-wr.errno}}___syscall_getdents64.sig="iipp";function ___syscall_getsockname(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e),hr=writeSockaddr(rr,mr.family,DNS.lookup_name(mr.saddr||"0.0.0.0"),mr.sport,ir);return 0}catch(gr){if(typeof FS>"u"||gr.name!=="ErrnoError")throw gr;return-gr.errno}}___syscall_getsockname.sig="iippiii";function ___syscall_getsockopt(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e);return rr===1&&ir===4?(HEAP32[lr>>2]=mr.error,HEAP32[dr>>2]=4,mr.error=null,0):-50}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return-hr.errno}}___syscall_getsockopt.sig="iiiippi";function ___syscall_ioctl(e,rr,ir){SYSCALLS.varargs=ir;try{var lr=SYSCALLS.getStreamFromFD(e);switch(rr){case 21509:return lr.tty?0:-59;case 21505:{if(!lr.tty)return-59;if(lr.tty.ops.ioctl_tcgets){var dr=lr.tty.ops.ioctl_tcgets(lr),fr=syscallGetVarargP();HEAP32[fr>>2]=dr.c_iflag||0,HEAP32[fr+4>>2]=dr.c_oflag||0,HEAP32[fr+8>>2]=dr.c_cflag||0,HEAP32[fr+12>>2]=dr.c_lflag||0;for(var mr=0;mr<32;mr++)HEAP8[fr+mr+17]=dr.c_cc[mr]||0;return 0}return 0}case 21510:case 21511:case 21512:return lr.tty?0:-59;case 21506:case 21507:case 21508:{if(!lr.tty)return-59;if(lr.tty.ops.ioctl_tcsets){for(var fr=syscallGetVarargP(),hr=HEAP32[fr>>2],gr=HEAP32[fr+4>>2],xr=HEAP32[fr+8>>2],_r=HEAP32[fr+12>>2],yr=[],mr=0;mr<32;mr++)yr.push(HEAP8[fr+mr+17]);return lr.tty.ops.ioctl_tcsets(lr.tty,rr,{c_iflag:hr,c_oflag:gr,c_cflag:xr,c_lflag:_r,c_cc:yr})}return 0}case 21519:{if(!lr.tty)return-59;var fr=syscallGetVarargP();return HEAP32[fr>>2]=0,0}case 21520:return lr.tty?-28:-59;case 21531:{var fr=syscallGetVarargP();return FS.ioctl(lr,rr,fr)}case 21523:{if(!lr.tty)return-59;if(lr.tty.ops&&lr.tty.ops.ioctl_tiocgwinsz){var vr=lr.tty.ops.ioctl_tiocgwinsz(lr.tty),fr=syscallGetVarargP();HEAP16[fr>>1]=vr[0],HEAP16[fr+2>>1]=vr[1]}return 0}case 21524:return lr.tty?0:-59;case 21515:return lr.tty?0:-59;default:return-28}}catch(br){if(typeof FS>"u"||br.name!=="ErrnoError")throw br;return-br.errno}}___syscall_ioctl.sig="iiip";function ___syscall_listen(e,rr){try{var ir=getSocketFromFD(e);return ir.sock_ops.listen(ir,rr),0}catch(lr){if(typeof FS>"u"||lr.name!=="ErrnoError")throw lr;return-lr.errno}}___syscall_listen.sig="iiiiiii";function ___syscall_lstat64(e,rr){try{return e=SYSCALLS.getStr(e),SYSCALLS.doStat(FS.lstat,e,rr)}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_lstat64.sig="ipp";function ___syscall_mkdirat(e,rr,ir){try{return rr=SYSCALLS.getStr(rr),rr=SYSCALLS.calculateAt(e,rr),FS.mkdir(rr,ir,0),0}catch(lr){if(typeof FS>"u"||lr.name!=="ErrnoError")throw lr;return-lr.errno}}___syscall_mkdirat.sig="iipi";function ___syscall_newfstatat(e,rr,ir,lr){try{rr=SYSCALLS.getStr(rr);var dr=lr&256,fr=lr&4096;return lr=lr&-6401,rr=SYSCALLS.calculateAt(e,rr,fr),SYSCALLS.doStat(dr?FS.lstat:FS.stat,rr,ir)}catch(mr){if(typeof FS>"u"||mr.name!=="ErrnoError")throw mr;return-mr.errno}}___syscall_newfstatat.sig="iippi";function ___syscall_openat(e,rr,ir,lr){SYSCALLS.varargs=lr;try{rr=SYSCALLS.getStr(rr),rr=SYSCALLS.calculateAt(e,rr);var dr=lr?syscallGetVarargI():0;return FS.open(rr,ir,dr).fd}catch(fr){if(typeof FS>"u"||fr.name!=="ErrnoError")throw fr;return-fr.errno}}___syscall_openat.sig="iipip";var PIPEFS={BUCKET_BUFFER_SIZE:8192,mount(e){return FS.createNode(null,"/",16895,0)},createPipe(){var e={buckets:[],refcnt:2};e.buckets.push({buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0});var rr=PIPEFS.nextname(),ir=PIPEFS.nextname(),lr=FS.createNode(PIPEFS.root,rr,4096,0),dr=FS.createNode(PIPEFS.root,ir,4096,0);lr.pipe=e,dr.pipe=e;var fr=FS.createStream({path:rr,node:lr,flags:0,seekable:!1,stream_ops:PIPEFS.stream_ops});lr.stream=fr;var mr=FS.createStream({path:ir,node:dr,flags:1,seekable:!1,stream_ops:PIPEFS.stream_ops});return dr.stream=mr,{readable_fd:fr.fd,writable_fd:mr.fd}},stream_ops:{poll(e){var rr=e.node.pipe;if((e.flags&2097155)===1)return 260;if(rr.buckets.length>0)for(var ir=0;ir<rr.buckets.length;ir++){var lr=rr.buckets[ir];if(lr.offset-lr.roffset>0)return 65}return 0},ioctl(e,rr,ir){return 28},fsync(e){return 28},read(e,rr,ir,lr,dr){for(var fr=e.node.pipe,mr=0,hr=0;hr<fr.buckets.length;hr++){var gr=fr.buckets[hr];mr+=gr.offset-gr.roffset}var xr=rr.subarray(ir,ir+lr);if(lr<=0)return 0;if(mr==0)throw new FS.ErrnoError(6);for(var _r=Math.min(mr,lr),yr=_r,vr=0,hr=0;hr<fr.buckets.length;hr++){var br=fr.buckets[hr],Sr=br.offset-br.roffset;if(_r<=Sr){var wr=br.buffer.subarray(br.roffset,br.offset);_r<Sr?(wr=wr.subarray(0,_r),br.roffset+=_r):vr++,xr.set(wr);break}else{var wr=br.buffer.subarray(br.roffset,br.offset);xr.set(wr),xr=xr.subarray(wr.byteLength),_r-=wr.byteLength,vr++}}return vr&&vr==fr.buckets.length&&(vr--,fr.buckets[vr].offset=0,fr.buckets[vr].roffset=0),fr.buckets.splice(0,vr),yr},write(e,rr,ir,lr,dr){var fr=e.node.pipe,mr=rr.subarray(ir,ir+lr),hr=mr.byteLength;if(hr<=0)return 0;var gr=null;fr.buckets.length==0?(gr={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:0,roffset:0},fr.buckets.push(gr)):gr=fr.buckets[fr.buckets.length-1],assert(gr.offset<=PIPEFS.BUCKET_BUFFER_SIZE);var xr=PIPEFS.BUCKET_BUFFER_SIZE-gr.offset;if(xr>=hr)return gr.buffer.set(mr,gr.offset),gr.offset+=hr,hr;xr>0&&(gr.buffer.set(mr.subarray(0,xr),gr.offset),gr.offset+=xr,mr=mr.subarray(xr,mr.byteLength));for(var _r=mr.byteLength/PIPEFS.BUCKET_BUFFER_SIZE|0,yr=mr.byteLength%PIPEFS.BUCKET_BUFFER_SIZE,vr=0;vr<_r;vr++){var br={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:PIPEFS.BUCKET_BUFFER_SIZE,roffset:0};fr.buckets.push(br),br.buffer.set(mr.subarray(0,PIPEFS.BUCKET_BUFFER_SIZE)),mr=mr.subarray(PIPEFS.BUCKET_BUFFER_SIZE,mr.byteLength)}if(yr>0){var br={buffer:new Uint8Array(PIPEFS.BUCKET_BUFFER_SIZE),offset:mr.byteLength,roffset:0};fr.buckets.push(br),br.buffer.set(mr)}return hr},close(e){var rr=e.node.pipe;rr.refcnt--,rr.refcnt===0&&(rr.buckets=null)}},nextname(){return PIPEFS.nextname.current||(PIPEFS.nextname.current=0),"pipe["+PIPEFS.nextname.current+++"]"}};function ___syscall_pipe(e){try{if(e==0)throw new FS.ErrnoError(21);var rr=PIPEFS.createPipe();return HEAP32[e>>2]=rr.readable_fd,HEAP32[e+4>>2]=rr.writable_fd,0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_pipe.sig="ip";function ___syscall_poll(e,rr,ir){try{for(var lr=0,dr=0;dr<rr;dr++){var fr=e+8*dr,mr=HEAP32[fr>>2],hr=HEAP16[fr+4>>1],gr=32,xr=FS.getStream(mr);xr&&(gr=SYSCALLS.DEFAULT_POLLMASK,xr.stream_ops.poll&&(gr=xr.stream_ops.poll(xr,-1))),gr&=hr|8|16,gr&&lr++,HEAP16[fr+6>>1]=gr}return lr}catch(_r){if(typeof FS>"u"||_r.name!=="ErrnoError")throw _r;return-_r.errno}}___syscall_poll.sig="ipii";function ___syscall_readlinkat(e,rr,ir,lr){try{if(rr=SYSCALLS.getStr(rr),rr=SYSCALLS.calculateAt(e,rr),lr<=0)return-28;var dr=FS.readlink(rr),fr=Math.min(lr,lengthBytesUTF8(dr)),mr=HEAP8[ir+fr];return stringToUTF8(dr,ir,lr+1),HEAP8[ir+fr]=mr,fr}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return-hr.errno}}___syscall_readlinkat.sig="iippp";function ___syscall_recvfrom(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e),hr=mr.sock_ops.recvmsg(mr,ir);if(!hr)return 0;if(dr)var gr=writeSockaddr(dr,mr.family,DNS.lookup_name(hr.addr),hr.port,fr);return HEAPU8.set(hr.buffer,rr),hr.buffer.byteLength}catch(xr){if(typeof FS>"u"||xr.name!=="ErrnoError")throw xr;return-xr.errno}}___syscall_recvfrom.sig="iippipp";function ___syscall_renameat(e,rr,ir,lr){try{return rr=SYSCALLS.getStr(rr),lr=SYSCALLS.getStr(lr),rr=SYSCALLS.calculateAt(e,rr),lr=SYSCALLS.calculateAt(ir,lr),FS.rename(rr,lr),0}catch(dr){if(typeof FS>"u"||dr.name!=="ErrnoError")throw dr;return-dr.errno}}___syscall_renameat.sig="iipip";function ___syscall_rmdir(e){try{return e=SYSCALLS.getStr(e),FS.rmdir(e),0}catch(rr){if(typeof FS>"u"||rr.name!=="ErrnoError")throw rr;return-rr.errno}}___syscall_rmdir.sig="ip";function ___syscall_sendto(e,rr,ir,lr,dr,fr){try{var mr=getSocketFromFD(e);if(!dr)return FS.write(mr.stream,HEAP8,rr,ir);var hr=getSocketAddress(dr,fr);return mr.sock_ops.sendmsg(mr,HEAP8,rr,ir,hr.addr,hr.port)}catch(gr){if(typeof FS>"u"||gr.name!=="ErrnoError")throw gr;return-gr.errno}}___syscall_sendto.sig="iippipp";function ___syscall_socket(e,rr,ir){try{var lr=SOCKFS.createSocket(e,rr,ir);return lr.stream.fd}catch(dr){if(typeof FS>"u"||dr.name!=="ErrnoError")throw dr;return-dr.errno}}___syscall_socket.sig="iiiiiii";function ___syscall_stat64(e,rr){try{return e=SYSCALLS.getStr(e),SYSCALLS.doStat(FS.stat,e,rr)}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_stat64.sig="ipp";function ___syscall_symlinkat(e,rr,ir){try{return e=SYSCALLS.getStr(e),ir=SYSCALLS.getStr(ir),ir=SYSCALLS.calculateAt(rr,ir),FS.symlink(e,ir),0}catch(lr){if(typeof FS>"u"||lr.name!=="ErrnoError")throw lr;return-lr.errno}}___syscall_symlinkat.sig="ipip";function ___syscall_truncate64(e,rr){rr=bigintToI53Checked(rr);try{return isNaN(rr)?61:(e=SYSCALLS.getStr(e),FS.truncate(e,rr),0)}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return-ir.errno}}___syscall_truncate64.sig="ipj";function ___syscall_unlinkat(e,rr,ir){try{return rr=SYSCALLS.getStr(rr),rr=SYSCALLS.calculateAt(e,rr),ir===0?FS.unlink(rr):ir===512?FS.rmdir(rr):abort("Invalid flags passed to unlinkat"),0}catch(lr){if(typeof FS>"u"||lr.name!=="ErrnoError")throw lr;return-lr.errno}}___syscall_unlinkat.sig="iipi";var ___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=()=>abort("");__abort_js.sig="v";var ENV={},stackAlloc=e=>__emscripten_stack_alloc(e),stringToUTF8OnStack=e=>{var rr=lengthBytesUTF8(e)+1,ir=stackAlloc(rr);return stringToUTF8(e,ir,rr),ir},dlSetError=e=>{var rr=stackSave(),ir=stringToUTF8OnStack(e);___dl_seterr(ir,0),stackRestore(rr)},dlopenInternal=(e,rr)=>{var ir=UTF8ToString(e+36),lr=HEAP32[e+4>>2];ir=PATH.normalize(ir);var dr=!!(lr&256),fr=dr?null:{},mr={global:dr,nodelete:!!(lr&4096),loadAsync:rr.loadAsync};try{return loadDynamicLibrary(ir,mr,fr,e)}catch(hr){return dlSetError(`Could not load dynamic lib: ${ir}
${hr}`),0}},__dlopen_js=e=>dlopenInternal(e,{loadAsync:!1});__dlopen_js.sig="pp";var __dlsym_js=(e,rr,ir)=>{rr=UTF8ToString(rr);var lr,dr,fr=LDSO.loadedLibsByHandle[e];if(!fr.exports.hasOwnProperty(rr)||fr.exports[rr].stub)return dlSetError(`Tried to lookup unknown symbol "${rr}" in dynamic lib: ${fr.name}`),0;if(dr=Object.keys(fr.exports).indexOf(rr),lr=fr.exports[rr],typeof lr=="function"){var mr=getFunctionAddress(lr);mr?lr=mr:(lr=addFunction(lr,lr.sig),HEAPU32[ir>>2]=dr)}return lr};__dlsym_js.sig="pppp";var getExecutableName=()=>thisProgram||"./this.program",__emscripten_get_progname=(e,rr)=>stringToUTF8(getExecutableName(),e,rr);__emscripten_get_progname.sig="vpi";var __emscripten_lookup_name=e=>{var rr=UTF8ToString(e);return inetPton4(DNS.lookup_name(rr))};__emscripten_lookup_name.sig="ip";var __emscripten_memcpy_js=(e,rr,ir)=>HEAPU8.copyWithin(e,rr,rr+ir);__emscripten_memcpy_js.sig="vppp";var runtimeKeepaliveCounter=0,__emscripten_runtime_keepalive_clear=()=>{noExitRuntime=!1,runtimeKeepaliveCounter=0};__emscripten_runtime_keepalive_clear.sig="v";var __emscripten_system=e=>{if(ENVIRONMENT_IS_NODE){if(!e)return 1;var rr=UTF8ToString(e);if(!rr.length)return 0;var ir=require("child_process"),lr=ir.spawnSync(rr,[],{shell:!0,stdio:"inherit"}),dr=(mr,hr)=>mr<<8|hr;if(lr.status===null){var fr=mr=>{switch(mr){case"SIGHUP":return 1;case"SIGQUIT":return 3;case"SIGFPE":return 8;case"SIGKILL":return 9;case"SIGALRM":return 14;case"SIGTERM":return 15;default:return 2}};return dr(0,fr(lr.signal))}return dr(lr.status,0)}return e?-52:0};__emscripten_system.sig="ip";var __emscripten_throw_longjmp=()=>{throw 1/0};__emscripten_throw_longjmp.sig="v";function __gmtime_js(e,rr){e=bigintToI53Checked(e);var ir=new Date(e*1e3);HEAP32[rr>>2]=ir.getUTCSeconds(),HEAP32[rr+4>>2]=ir.getUTCMinutes(),HEAP32[rr+8>>2]=ir.getUTCHours(),HEAP32[rr+12>>2]=ir.getUTCDate(),HEAP32[rr+16>>2]=ir.getUTCMonth(),HEAP32[rr+20>>2]=ir.getUTCFullYear()-1900,HEAP32[rr+24>>2]=ir.getUTCDay();var lr=Date.UTC(ir.getUTCFullYear(),0,1,0,0,0,0),dr=(ir.getTime()-lr)/(1e3*60*60*24)|0;HEAP32[rr+28>>2]=dr}__gmtime_js.sig="vjp";var isLeapYear=e=>e%4===0&&(e%100!==0||e%400===0),MONTH_DAYS_LEAP_CUMULATIVE=[0,31,60,91,121,152,182,213,244,274,305,335],MONTH_DAYS_REGULAR_CUMULATIVE=[0,31,59,90,120,151,181,212,243,273,304,334],ydayFromDate=e=>{var rr=isLeapYear(e.getFullYear()),ir=rr?MONTH_DAYS_LEAP_CUMULATIVE:MONTH_DAYS_REGULAR_CUMULATIVE,lr=ir[e.getMonth()]+e.getDate()-1;return lr};function __localtime_js(e,rr){e=bigintToI53Checked(e);var ir=new Date(e*1e3);HEAP32[rr>>2]=ir.getSeconds(),HEAP32[rr+4>>2]=ir.getMinutes(),HEAP32[rr+8>>2]=ir.getHours(),HEAP32[rr+12>>2]=ir.getDate(),HEAP32[rr+16>>2]=ir.getMonth(),HEAP32[rr+20>>2]=ir.getFullYear()-1900,HEAP32[rr+24>>2]=ir.getDay();var lr=ydayFromDate(ir)|0;HEAP32[rr+28>>2]=lr,HEAP32[rr+36>>2]=-(ir.getTimezoneOffset()*60);var dr=new Date(ir.getFullYear(),0,1),fr=new Date(ir.getFullYear(),6,1).getTimezoneOffset(),mr=dr.getTimezoneOffset(),hr=(fr!=mr&&ir.getTimezoneOffset()==Math.min(mr,fr))|0;HEAP32[rr+32>>2]=hr}__localtime_js.sig="vjp";function __mmap_js(e,rr,ir,lr,dr,fr,mr){dr=bigintToI53Checked(dr);try{if(isNaN(dr))return 61;var hr=SYSCALLS.getStreamFromFD(lr),gr=FS.mmap(hr,e,dr,rr,ir),xr=gr.ptr;return HEAP32[fr>>2]=gr.allocated,HEAPU32[mr>>2]=xr,0}catch(_r){if(typeof FS>"u"||_r.name!=="ErrnoError")throw _r;return-_r.errno}}__mmap_js.sig="ipiiijpp";function __munmap_js(e,rr,ir,lr,dr,fr){fr=bigintToI53Checked(fr);try{var mr=SYSCALLS.getStreamFromFD(dr);ir&2&&SYSCALLS.doMsync(e,mr,rr,lr,fr)}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return-hr.errno}}__munmap_js.sig="ippiiij";var timers={},handleException=e=>{if(e instanceof ExitStatus||e=="unwind")return EXITSTATUS;quit_(1,e)},keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0,_proc_exit=e=>{EXITSTATUS=e,keepRuntimeAlive()||(Module.onExit?.(e),ABORT=!0),quit_(e,new ExitStatus(e))};_proc_exit.sig="vi";var exitJS=(e,rr)=>{EXITSTATUS=e,_proc_exit(e)},_exit=exitJS;_exit.sig="vi";var maybeExit=()=>{if(!keepRuntimeAlive())try{_exit(EXITSTATUS)}catch(e){handleException(e)}},callUserCallback=e=>{if(!ABORT)try{e(),maybeExit()}catch(rr){handleException(rr)}},_emscripten_get_now=()=>performance.now();_emscripten_get_now.sig="d";var __setitimer_js=(e,rr)=>{if(timers[e]&&(clearTimeout(timers[e].id),delete timers[e]),!rr)return 0;var ir=setTimeout(()=>{delete timers[e],callUserCallback(()=>__emscripten_timeout(e,_emscripten_get_now()))},rr);return timers[e]={id:ir,timeout_ms:rr},0};__setitimer_js.sig="iid";var __tzset_js=(e,rr,ir,lr)=>{var dr=new Date().getFullYear(),fr=new Date(dr,0,1),mr=new Date(dr,6,1),hr=fr.getTimezoneOffset(),gr=mr.getTimezoneOffset(),xr=Math.max(hr,gr);HEAPU32[e>>2]=xr*60,HEAP32[rr>>2]=+(hr!=gr);var _r=br=>{var Sr=br>=0?"-":"+",wr=Math.abs(br),Mr=String(Math.floor(wr/60)).padStart(2,"0"),kr=String(wr%60).padStart(2,"0");return`UTC${Sr}${Mr}${kr}`},yr=_r(hr),vr=_r(gr);gr<hr?(stringToUTF8(yr,ir,17),stringToUTF8(vr,lr,17)):(stringToUTF8(yr,lr,17),stringToUTF8(vr,ir,17))};__tzset_js.sig="vpppp";var _emscripten_date_now=()=>Date.now();_emscripten_date_now.sig="d";var checkWasiClock=e=>e>=0&&e<=3;function _clock_time_get(e,rr,ir){if(!checkWasiClock(e))return 28;var lr;e===0?lr=_emscripten_date_now():lr=_emscripten_get_now();var dr=Math.round(lr*1e3*1e3);return HEAP64[ir>>3]=BigInt(dr),0}_clock_time_get.sig="iijp";var readEmAsmArgsArray=[],readEmAsmArgs=(e,rr)=>{readEmAsmArgsArray.length=0;for(var ir;ir=HEAPU8[e++];){var lr=ir!=105;lr&=ir!=112,rr+=lr&&rr%8?4:0,readEmAsmArgsArray.push(ir==112?HEAPU32[rr>>2]:ir==106?HEAP64[rr>>3]:ir==105?HEAP32[rr>>2]:HEAPF64[rr>>3]),rr+=lr?8:4}return readEmAsmArgsArray},runEmAsmFunction=(e,rr,ir)=>{var lr=readEmAsmArgs(rr,ir);return ASM_CONSTS[e](...lr)},_emscripten_asm_const_int=(e,rr,ir)=>runEmAsmFunction(e,rr,ir);_emscripten_asm_const_int.sig="ippp";var _emscripten_force_exit=e=>{__emscripten_runtime_keepalive_clear(),_exit(e)};_emscripten_force_exit.sig="vi";var getHeapMax=()=>2147483648,_emscripten_get_heap_max=()=>getHeapMax();_emscripten_get_heap_max.sig="p";var growMemory=e=>{var rr=wasmMemory.buffer,ir=(e-rr.byteLength+65535)/65536|0;try{return wasmMemory.grow(ir),updateMemoryViews(),1}catch{}},_emscripten_resize_heap=e=>{var rr=HEAPU8.length;e>>>=0;var ir=getHeapMax();if(e>ir)return!1;for(var lr=1;lr<=4;lr*=2){var dr=rr*(1+.2/lr);dr=Math.min(dr,e+100663296);var fr=Math.min(ir,alignMemory(Math.max(e,dr),65536)),mr=growMemory(fr);if(mr)return!0}return!1};_emscripten_resize_heap.sig="ip";var getEnvStrings=()=>{if(!getEnvStrings.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",rr={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:getExecutableName()};for(var ir in ENV)ENV[ir]===void 0?delete rr[ir]:rr[ir]=ENV[ir];var lr=[];for(var ir in rr)lr.push(`${ir}=${rr[ir]}`);getEnvStrings.strings=lr}return getEnvStrings.strings},stringToAscii=(e,rr)=>{for(var ir=0;ir<e.length;++ir)HEAP8[rr++]=e.charCodeAt(ir);HEAP8[rr]=0},_environ_get=(e,rr)=>{var ir=0;return getEnvStrings().forEach((lr,dr)=>{var fr=rr+ir;HEAPU32[e+dr*4>>2]=fr,stringToAscii(lr,fr),ir+=lr.length+1}),0};_environ_get.sig="ipp";var _environ_sizes_get=(e,rr)=>{var ir=getEnvStrings();HEAPU32[e>>2]=ir.length;var lr=0;return ir.forEach(dr=>lr+=dr.length+1),HEAPU32[rr>>2]=lr,0};_environ_sizes_get.sig="ipp";function _fd_close(e){try{var rr=SYSCALLS.getStreamFromFD(e);return FS.close(rr),0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return ir.errno}}_fd_close.sig="ii";function _fd_fdstat_get(e,rr){try{var ir=0,lr=0,dr=0,fr=SYSCALLS.getStreamFromFD(e),mr=fr.tty?2:FS.isDir(fr.mode)?3:FS.isLink(fr.mode)?7:4;return HEAP8[rr]=mr,HEAP16[rr+2>>1]=dr,HEAP64[rr+8>>3]=BigInt(ir),HEAP64[rr+16>>3]=BigInt(lr),0}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return hr.errno}}_fd_fdstat_get.sig="iip";var doReadv=(e,rr,ir,lr)=>{for(var dr=0,fr=0;fr<ir;fr++){var mr=HEAPU32[rr>>2],hr=HEAPU32[rr+4>>2];rr+=8;var gr=FS.read(e,HEAP8,mr,hr,lr);if(gr<0)return-1;if(dr+=gr,gr<hr)break;typeof lr<"u"&&(lr+=gr)}return dr};function _fd_pread(e,rr,ir,lr,dr){lr=bigintToI53Checked(lr);try{if(isNaN(lr))return 61;var fr=SYSCALLS.getStreamFromFD(e),mr=doReadv(fr,rr,ir,lr);return HEAPU32[dr>>2]=mr,0}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return hr.errno}}_fd_pread.sig="iippjp";var doWritev=(e,rr,ir,lr)=>{for(var dr=0,fr=0;fr<ir;fr++){var mr=HEAPU32[rr>>2],hr=HEAPU32[rr+4>>2];rr+=8;var gr=FS.write(e,HEAP8,mr,hr,lr);if(gr<0)return-1;if(dr+=gr,gr<hr)break;typeof lr<"u"&&(lr+=gr)}return dr};function _fd_pwrite(e,rr,ir,lr,dr){lr=bigintToI53Checked(lr);try{if(isNaN(lr))return 61;var fr=SYSCALLS.getStreamFromFD(e),mr=doWritev(fr,rr,ir,lr);return HEAPU32[dr>>2]=mr,0}catch(hr){if(typeof FS>"u"||hr.name!=="ErrnoError")throw hr;return hr.errno}}_fd_pwrite.sig="iippjp";function _fd_read(e,rr,ir,lr){try{var dr=SYSCALLS.getStreamFromFD(e),fr=doReadv(dr,rr,ir);return HEAPU32[lr>>2]=fr,0}catch(mr){if(typeof FS>"u"||mr.name!=="ErrnoError")throw mr;return mr.errno}}_fd_read.sig="iippp";function _fd_seek(e,rr,ir,lr){rr=bigintToI53Checked(rr);try{if(isNaN(rr))return 61;var dr=SYSCALLS.getStreamFromFD(e);return FS.llseek(dr,rr,ir),HEAP64[lr>>3]=BigInt(dr.position),dr.getdents&&rr===0&&ir===0&&(dr.getdents=null),0}catch(fr){if(typeof FS>"u"||fr.name!=="ErrnoError")throw fr;return fr.errno}}_fd_seek.sig="iijip";function _fd_sync(e){try{var rr=SYSCALLS.getStreamFromFD(e);return rr.stream_ops?.fsync?rr.stream_ops.fsync(rr):0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return ir.errno}}_fd_sync.sig="ii";function _fd_write(e,rr,ir,lr){try{var dr=SYSCALLS.getStreamFromFD(e),fr=doWritev(dr,rr,ir);return HEAPU32[lr>>2]=fr,0}catch(mr){if(typeof FS>"u"||mr.name!=="ErrnoError")throw mr;return mr.errno}}_fd_write.sig="iippp";var _getaddrinfo=(e,rr,ir,lr)=>{var dr=0,fr=0,mr=0,hr=0,gr=0,xr=0,_r;function yr(vr,br,Sr,wr,Mr,kr){var Ar,Ir,$r,Dr;return Ir=vr===10?28:16,Mr=vr===10?inetNtop6(Mr):inetNtop4(Mr),Ar=_malloc(Ir),Dr=writeSockaddr(Ar,vr,Mr,kr),assert(!Dr),$r=_malloc(32),HEAP32[$r+4>>2]=vr,HEAP32[$r+8>>2]=br,HEAP32[$r+12>>2]=Sr,HEAPU32[$r+24>>2]=wr,HEAPU32[$r+20>>2]=Ar,vr===10?HEAP32[$r+16>>2]=28:HEAP32[$r+16>>2]=16,HEAP32[$r+28>>2]=0,$r}if(ir&&(mr=HEAP32[ir>>2],hr=HEAP32[ir+4>>2],gr=HEAP32[ir+8>>2],xr=HEAP32[ir+12>>2]),gr&&!xr&&(xr=gr===2?17:6),!gr&&xr&&(gr=xr===17?2:1),xr===0&&(xr=6),gr===0&&(gr=1),!e&&!rr)return-2;if(mr&-1088||ir!==0&&HEAP32[ir>>2]&2&&!e)return-1;if(mr&32)return-2;if(gr!==0&&gr!==1&&gr!==2)return-7;if(hr!==0&&hr!==2&&hr!==10)return-6;if(rr&&(rr=UTF8ToString(rr),fr=parseInt(rr,10),isNaN(fr)))return mr&1024?-2:-8;if(!e)return hr===0&&(hr=2),mr&1||(hr===2?dr=_htonl(2130706433):dr=[0,0,0,_htonl(1)]),_r=yr(hr,gr,xr,null,dr,fr),HEAPU32[lr>>2]=_r,0;if(e=UTF8ToString(e),dr=inetPton4(e),dr!==null)if(hr===0||hr===2)hr=2;else if(hr===10&&mr&8)dr=[0,0,_htonl(65535),dr],hr=10;else return-2;else if(dr=inetPton6(e),dr!==null)if(hr===0||hr===10)hr=10;else return-2;return dr!=null?(_r=yr(hr,gr,xr,e,dr,fr),HEAPU32[lr>>2]=_r,0):mr&4?-2:(e=DNS.lookup_name(e),dr=inetPton4(e),hr===0?hr=2:hr===10&&(dr=[0,0,_htonl(65535),dr]),_r=yr(hr,gr,xr,null,dr,fr),HEAPU32[lr>>2]=_r,0)};_getaddrinfo.sig="ipppp";var _getnameinfo=(e,rr,ir,lr,dr,fr,mr)=>{var hr=readSockaddr(e,rr);if(hr.errno)return-6;var gr=hr.port,xr=hr.addr,_r=!1;if(ir&&lr){var yr;if(mr&1||!(yr=DNS.lookup_addr(xr))){if(mr&8)return-2}else xr=yr;var vr=stringToUTF8(xr,ir,lr);vr+1>=lr&&(_r=!0)}if(dr&&fr){gr=""+gr;var vr=stringToUTF8(gr,dr,fr);vr+1>=fr&&(_r=!0)}return _r?-12:0};_getnameinfo.sig="ipipipii";function _random_get(e,rr){try{return randomFill(HEAPU8.subarray(e,e+rr)),0}catch(ir){if(typeof FS>"u"||ir.name!=="ErrnoError")throw ir;return ir.errno}}_random_get.sig="ipp";var stringToNewUTF8=e=>{var rr=lengthBytesUTF8(e)+1,ir=_malloc(rr);return ir&&stringToUTF8(e,ir,rr),ir},getTempRet0=e=>__emscripten_tempret_get();Module.getTempRet0=getTempRet0;var setTempRet0=e=>__emscripten_tempret_set(e),FS_createPath=FS.createPath,FS_unlink=e=>FS.unlink(e),FS_createLazyFile=FS.createLazyFile,FS_createDevice=FS.createDevice,_setTempRet0=setTempRet0;Module._setTempRet0=_setTempRet0;var _getTempRet0=getTempRet0;Module._getTempRet0=_getTempRet0;class ExceptionInfo{constructor(rr){this.excPtr=rr,this.ptr=rr-24}set_type(rr){HEAPU32[this.ptr+4>>2]=rr}get_type(){return HEAPU32[this.ptr+4>>2]}set_destructor(rr){HEAPU32[this.ptr+8>>2]=rr}get_destructor(){return HEAPU32[this.ptr+8>>2]}set_caught(rr){rr=rr?1:0,HEAP8[this.ptr+12]=rr}get_caught(){return HEAP8[this.ptr+12]!=0}set_rethrown(rr){rr=rr?1:0,HEAP8[this.ptr+13]=rr}get_rethrown(){return HEAP8[this.ptr+13]!=0}init(rr,ir){this.set_adjusted_ptr(0),this.set_type(rr),this.set_destructor(ir)}set_adjusted_ptr(rr){HEAPU32[this.ptr+16>>2]=rr}get_adjusted_ptr(){return HEAPU32[this.ptr+16>>2]}}var exceptionLast=0,___cxa_throw=(e,rr,ir)=>{var lr=new ExceptionInfo(e);throw lr.init(rr,ir),exceptionLast=e,exceptionLast};Module.___cxa_throw=___cxa_throw,___cxa_throw.sig="vppp",registerWasmPlugin(),FS.createPreloadedFile=FS_createPreloadedFile,FS.staticInit(),Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_unlink=FS.unlink,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createDevice=FS.createDevice,MEMFS.doesNotExistError=new FS.ErrnoError(44),MEMFS.doesNotExistError.stack="<generic error, no stack>",ENVIRONMENT_IS_NODE&&NODEFS.staticInit();var wasmImports={__assert_fail:___assert_fail,__call_sighandler:___call_sighandler,__cxa_throw:___cxa_throw,__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_high:___stack_high,__stack_low:___stack_low,__stack_pointer:___stack_pointer,__syscall__newselect:___syscall__newselect,__syscall_accept4:___syscall_accept4,__syscall_bind:___syscall_bind,__syscall_chdir:___syscall_chdir,__syscall_chmod:___syscall_chmod,__syscall_connect:___syscall_connect,__syscall_dup:___syscall_dup,__syscall_dup3:___syscall_dup3,__syscall_faccessat:___syscall_faccessat,__syscall_fadvise64:___syscall_fadvise64,__syscall_fallocate:___syscall_fallocate,__syscall_fcntl64:___syscall_fcntl64,__syscall_fdatasync:___syscall_fdatasync,__syscall_fstat64:___syscall_fstat64,__syscall_ftruncate64:___syscall_ftruncate64,__syscall_getcwd:___syscall_getcwd,__syscall_getdents64:___syscall_getdents64,__syscall_getsockname:___syscall_getsockname,__syscall_getsockopt:___syscall_getsockopt,__syscall_ioctl:___syscall_ioctl,__syscall_listen:___syscall_listen,__syscall_lstat64:___syscall_lstat64,__syscall_mkdirat:___syscall_mkdirat,__syscall_newfstatat:___syscall_newfstatat,__syscall_openat:___syscall_openat,__syscall_pipe:___syscall_pipe,__syscall_poll:___syscall_poll,__syscall_readlinkat:___syscall_readlinkat,__syscall_recvfrom:___syscall_recvfrom,__syscall_renameat:___syscall_renameat,__syscall_rmdir:___syscall_rmdir,__syscall_sendto:___syscall_sendto,__syscall_socket:___syscall_socket,__syscall_stat64:___syscall_stat64,__syscall_symlinkat:___syscall_symlinkat,__syscall_truncate64:___syscall_truncate64,__syscall_unlinkat:___syscall_unlinkat,__table_base:___table_base,_abort_js:__abort_js,_dlopen_js:__dlopen_js,_dlsym_js:__dlsym_js,_emscripten_get_progname:__emscripten_get_progname,_emscripten_lookup_name:__emscripten_lookup_name,_emscripten_memcpy_js:__emscripten_memcpy_js,_emscripten_runtime_keepalive_clear:__emscripten_runtime_keepalive_clear,_emscripten_system:__emscripten_system,_emscripten_throw_longjmp:__emscripten_throw_longjmp,_gmtime_js:__gmtime_js,_localtime_js:__localtime_js,_mmap_js:__mmap_js,_munmap_js:__munmap_js,_setitimer_js:__setitimer_js,_tzset_js:__tzset_js,clock_time_get:_clock_time_get,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_date_now:_emscripten_date_now,emscripten_force_exit:_emscripten_force_exit,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_fdstat_get:_fd_fdstat_get,fd_pread:_fd_pread,fd_pwrite:_fd_pwrite,fd_read:_fd_read,fd_seek:_fd_seek,fd_sync:_fd_sync,fd_write:_fd_write,getTempRet0:_getTempRet0,getaddrinfo:_getaddrinfo,getnameinfo:_getnameinfo,invoke_di,invoke_i,invoke_id,invoke_ii,invoke_iii,invoke_iiii,invoke_iiiii,invoke_iiiiii,invoke_iiiiiii,invoke_iiiiiiii,invoke_iiiiiiiii,invoke_iiiiiiiiii,invoke_iiiiiiiiiii,invoke_iiiiiiiiiiiiii,invoke_iiiiiiiiiiiiiiiiii,invoke_iiiiiji,invoke_iiiij,invoke_iiiijii,invoke_iiij,invoke_iiji,invoke_ij,invoke_ijiiiii,invoke_ijiiiiii,invoke_j,invoke_ji,invoke_jii,invoke_jiiii,invoke_jiiiiii,invoke_jiiiiiiiii,invoke_v,invoke_vi,invoke_vid,invoke_vii,invoke_viii,invoke_viiii,invoke_viiiii,invoke_viiiiii,invoke_viiiiiii,invoke_viiiiiiii,invoke_viiiiiiiii,invoke_viiiiiiiiiiii,invoke_viiiji,invoke_viij,invoke_viiji,invoke_viijii,invoke_viijiiii,invoke_vij,invoke_viji,invoke_vijiji,invoke_vj,invoke_vji,memory:wasmMemory,proc_exit:_proc_exit,random_get:_random_get,setTempRet0:_setTempRet0},wasmExports;createWasm(),Module._fiprintf=(e,rr,ir)=>(Module._fiprintf=wasmExports.fiprintf)(e,rr,ir),Module._fopen=(e,rr)=>(Module._fopen=wasmExports.fopen)(e,rr);var _fflush=Module._fflush=e=>(_fflush=Module._fflush=wasmExports.fflush)(e);Module._fclose=e=>(Module._fclose=wasmExports.fclose)(e),Module._free=e=>(Module._free=wasmExports.free)(e),Module.___errno_location=()=>(Module.___errno_location=wasmExports.__errno_location)(),Module._ProcessInterrupts=()=>(Module._ProcessInterrupts=wasmExports.ProcessInterrupts)(),Module._errstart_cold=(e,rr)=>(Module._errstart_cold=wasmExports.errstart_cold)(e,rr),Module._errcode=e=>(Module._errcode=wasmExports.errcode)(e),Module._errmsg=(e,rr)=>(Module._errmsg=wasmExports.errmsg)(e,rr),Module._errfinish=(e,rr,ir)=>(Module._errfinish=wasmExports.errfinish)(e,rr,ir),Module._puts=e=>(Module._puts=wasmExports.puts)(e),Module._errstart=(e,rr)=>(Module._errstart=wasmExports.errstart)(e,rr),Module._errmsg_internal=(e,rr)=>(Module._errmsg_internal=wasmExports.errmsg_internal)(e,rr),Module._errdetail=(e,rr)=>(Module._errdetail=wasmExports.errdetail)(e,rr),Module._errhint=(e,rr)=>(Module._errhint=wasmExports.errhint)(e,rr),Module._pg_parse_query=e=>(Module._pg_parse_query=wasmExports.pg_parse_query)(e),Module._gettimeofday=(e,rr)=>(Module._gettimeofday=wasmExports.gettimeofday)(e,rr),Module._raw_parser=(e,rr)=>(Module._raw_parser=wasmExports.raw_parser)(e,rr),Module._initStringInfo=e=>(Module._initStringInfo=wasmExports.initStringInfo)(e),Module._appendStringInfoString=(e,rr)=>(Module._appendStringInfoString=wasmExports.appendStringInfoString)(e,rr),Module._appendStringInfo=(e,rr,ir)=>(Module._appendStringInfo=wasmExports.appendStringInfo)(e,rr,ir),Module._errdetail_internal=(e,rr)=>(Module._errdetail_internal=wasmExports.errdetail_internal)(e,rr),Module._pfree=e=>(Module._pfree=wasmExports.pfree)(e),Module._list_make1_impl=(e,rr)=>(Module._list_make1_impl=wasmExports.list_make1_impl)(e,rr),Module._QueryRewrite=e=>(Module._QueryRewrite=wasmExports.QueryRewrite)(e),Module._pg_plan_query=(e,rr,ir,lr)=>(Module._pg_plan_query=wasmExports.pg_plan_query)(e,rr,ir,lr),Module._palloc0=e=>(Module._palloc0=wasmExports.palloc0)(e),Module._lappend=(e,rr)=>(Module._lappend=wasmExports.lappend)(e,rr),Module._GetCurrentTimestamp=()=>(Module._GetCurrentTimestamp=wasmExports.GetCurrentTimestamp)(),Module._pg_prng_double=e=>(Module._pg_prng_double=wasmExports.pg_prng_double)(e),Module._pg_snprintf=(e,rr,ir,lr)=>(Module._pg_snprintf=wasmExports.pg_snprintf)(e,rr,ir,lr),Module._sigaddset=(e,rr)=>(Module._sigaddset=wasmExports.sigaddset)(e,rr),Module._die=e=>(Module._die=wasmExports.die)(e),Module._check_stack_depth=()=>(Module._check_stack_depth=wasmExports.check_stack_depth)(),Module._pre_format_elog_string=(e,rr)=>(Module._pre_format_elog_string=wasmExports.pre_format_elog_string)(e,rr),Module._format_elog_string=(e,rr)=>(Module._format_elog_string=wasmExports.format_elog_string)(e,rr),Module._pstrdup=e=>(Module._pstrdup=wasmExports.pstrdup)(e),Module._SplitIdentifierString=(e,rr,ir)=>(Module._SplitIdentifierString=wasmExports.SplitIdentifierString)(e,rr,ir),Module._list_free=e=>(Module._list_free=wasmExports.list_free)(e),Module._pg_strcasecmp=(e,rr)=>(Module._pg_strcasecmp=wasmExports.pg_strcasecmp)(e,rr),Module._guc_malloc=(e,rr)=>(Module._guc_malloc=wasmExports.guc_malloc)(e,rr),Module._SetConfigOption=(e,rr,ir,lr)=>(Module._SetConfigOption=wasmExports.SetConfigOption)(e,rr,ir,lr),Module._pg_sprintf=(e,rr,ir)=>(Module._pg_sprintf=wasmExports.pg_sprintf)(e,rr,ir),Module._strcmp=(e,rr)=>(Module._strcmp=wasmExports.strcmp)(e,rr),Module._strdup=e=>(Module._strdup=wasmExports.strdup)(e),Module._atoi=e=>(Module._atoi=wasmExports.atoi)(e),Module._strlcpy=(e,rr,ir)=>(Module._strlcpy=wasmExports.strlcpy)(e,rr,ir),Module._pgl_shutdown=()=>(Module._pgl_shutdown=wasmExports.pgl_shutdown)(),Module._pgl_closed=()=>(Module._pgl_closed=wasmExports.pgl_closed)(),Module._resetStringInfo=e=>(Module._resetStringInfo=wasmExports.resetStringInfo)(e),Module._getc=e=>(Module._getc=wasmExports.getc)(e),Module._appendStringInfoChar=(e,rr)=>(Module._appendStringInfoChar=wasmExports.appendStringInfoChar)(e,rr),Module._strlen=e=>(Module._strlen=wasmExports.strlen)(e),Module._strncmp=(e,rr,ir)=>(Module._strncmp=wasmExports.strncmp)(e,rr,ir),Module._pg_fprintf=(e,rr,ir)=>(Module._pg_fprintf=wasmExports.pg_fprintf)(e,rr,ir),Module._pgstat_report_activity=(e,rr)=>(Module._pgstat_report_activity=wasmExports.pgstat_report_activity)(e,rr),Module._errhidestmt=e=>(Module._errhidestmt=wasmExports.errhidestmt)(e),Module._GetTransactionSnapshot=()=>(Module._GetTransactionSnapshot=wasmExports.GetTransactionSnapshot)(),Module._PushActiveSnapshot=e=>(Module._PushActiveSnapshot=wasmExports.PushActiveSnapshot)(e),Module._AllocSetContextCreateInternal=(e,rr,ir,lr,dr)=>(Module._AllocSetContextCreateInternal=wasmExports.AllocSetContextCreateInternal)(e,rr,ir,lr,dr),Module._PopActiveSnapshot=()=>(Module._PopActiveSnapshot=wasmExports.PopActiveSnapshot)(),Module._CreateDestReceiver=e=>(Module._CreateDestReceiver=wasmExports.CreateDestReceiver)(e),Module._CommitTransactionCommand=()=>(Module._CommitTransactionCommand=wasmExports.CommitTransactionCommand)(),Module._CommandCounterIncrement=()=>(Module._CommandCounterIncrement=wasmExports.CommandCounterIncrement)(),Module._MemoryContextDelete=e=>(Module._MemoryContextDelete=wasmExports.MemoryContextDelete)(e),Module._StartTransactionCommand=()=>(Module._StartTransactionCommand=wasmExports.StartTransactionCommand)(),Module._enlargeStringInfo=(e,rr)=>(Module._enlargeStringInfo=wasmExports.enlargeStringInfo)(e,rr),Module.___wasm_setjmp_test=(e,rr)=>(Module.___wasm_setjmp_test=wasmExports.__wasm_setjmp_test)(e,rr),Module._pg_printf=(e,rr)=>(Module._pg_printf=wasmExports.pg_printf)(e,rr),Module.___wasm_setjmp=(e,rr,ir)=>(Module.___wasm_setjmp=wasmExports.__wasm_setjmp)(e,rr,ir),Module._FlushErrorState=()=>(Module._FlushErrorState=wasmExports.FlushErrorState)(),Module._emscripten_longjmp=(e,rr)=>(Module._emscripten_longjmp=wasmExports.emscripten_longjmp)(e,rr);var _malloc=Module._malloc=e=>(_malloc=Module._malloc=wasmExports.malloc)(e);Module._realloc=(e,rr)=>(Module._realloc=wasmExports.realloc)(e,rr),Module._getenv=e=>(Module._getenv=wasmExports.getenv)(e),Module._strspn=(e,rr)=>(Module._strspn=wasmExports.strspn)(e,rr),Module._strnlen=(e,rr)=>(Module._strnlen=wasmExports.strnlen)(e,rr),Module._setenv=(e,rr,ir)=>(Module._setenv=wasmExports.setenv)(e,rr,ir),Module._mkdir=(e,rr)=>(Module._mkdir=wasmExports.mkdir)(e,rr),Module._fileno=e=>(Module._fileno=wasmExports.fileno)(e),Module._isatty=e=>(Module._isatty=wasmExports.isatty)(e),Module._strchr=(e,rr)=>(Module._strchr=wasmExports.strchr)(e,rr),Module._pg_vsnprintf=(e,rr,ir,lr)=>(Module._pg_vsnprintf=wasmExports.pg_vsnprintf)(e,rr,ir,lr),Module._strcpy=(e,rr)=>(Module._strcpy=wasmExports.strcpy)(e,rr),Module._pg_get_encoding_from_locale=(e,rr)=>(Module._pg_get_encoding_from_locale=wasmExports.pg_get_encoding_from_locale)(e,rr),Module._pg_encoding_to_char_private=e=>(Module._pg_encoding_to_char_private=wasmExports.pg_encoding_to_char_private)(e),Module._psprintf=(e,rr)=>(Module._psprintf=wasmExports.psprintf)(e,rr),Module._stat=(e,rr)=>(Module._stat=wasmExports.stat)(e,rr),Module._pqsignal=(e,rr)=>(Module._pqsignal=wasmExports.pqsignal)(e,rr),Module._chmod=(e,rr)=>(Module._chmod=wasmExports.chmod)(e,rr),Module._fwrite=(e,rr,ir,lr)=>(Module._fwrite=wasmExports.fwrite)(e,rr,ir,lr),Module._strftime=(e,rr,ir,lr)=>(Module._strftime=wasmExports.strftime)(e,rr,ir,lr),Module._strstr=(e,rr)=>(Module._strstr=wasmExports.strstr)(e,rr),Module._fputs=(e,rr)=>(Module._fputs=wasmExports.fputs)(e,rr),Module._atexit=e=>(Module._atexit=wasmExports.atexit)(e),Module._strtol=(e,rr,ir)=>(Module._strtol=wasmExports.strtol)(e,rr,ir),Module._ferror=e=>(Module._ferror=wasmExports.ferror)(e),Module._pg_strip_crlf=e=>(Module._pg_strip_crlf=wasmExports.pg_strip_crlf)(e),Module._get_buffer_size=e=>(Module._get_buffer_size=wasmExports.get_buffer_size)(e),Module._get_buffer_addr=e=>(Module._get_buffer_addr=wasmExports.get_buffer_addr)(e),Module._get_channel=()=>(Module._get_channel=wasmExports.get_channel)(),Module._interactive_read=()=>(Module._interactive_read=wasmExports.interactive_read)(),Module._interactive_write=e=>(Module._interactive_write=wasmExports.interactive_write)(e),Module._use_wire=e=>(Module._use_wire=wasmExports.use_wire)(e),Module._clear_error=()=>(Module._clear_error=wasmExports.clear_error)(),Module._interactive_one=()=>(Module._interactive_one=wasmExports.interactive_one)(),Module._abort=()=>(Module._abort=wasmExports.abort)(),Module._fseek=(e,rr,ir)=>(Module._fseek=wasmExports.fseek)(e,rr,ir),Module._ftell=e=>(Module._ftell=wasmExports.ftell)(e),Module._pq_recvbuf_fill=(e,rr)=>(Module._pq_recvbuf_fill=wasmExports.pq_recvbuf_fill)(e,rr),Module._pq_getmsgint=(e,rr)=>(Module._pq_getmsgint=wasmExports.pq_getmsgint)(e,rr),Module._palloc=e=>(Module._palloc=wasmExports.palloc)(e),Module._makeParamList=e=>(Module._makeParamList=wasmExports.makeParamList)(e),Module._getTypeInputInfo=(e,rr,ir)=>(Module._getTypeInputInfo=wasmExports.getTypeInputInfo)(e,rr,ir),Module._pnstrdup=(e,rr)=>(Module._pnstrdup=wasmExports.pnstrdup)(e,rr),Module._MemoryContextSetParent=(e,rr)=>(Module._MemoryContextSetParent=wasmExports.MemoryContextSetParent)(e,rr),Module._unlink=e=>(Module._unlink=wasmExports.unlink)(e),Module._pgl_backend=()=>(Module._pgl_backend=wasmExports.pgl_backend)(),Module._pgl_initdb=()=>(Module._pgl_initdb=wasmExports.pgl_initdb)(),Module._dup=e=>(Module._dup=wasmExports.dup)(e),Module._fdopen=(e,rr)=>(Module._fdopen=wasmExports.fdopen)(e,rr),Module._main=(e,rr)=>(Module._main=wasmExports.__main_argc_argv)(e,rr),Module._appendStringInfoStringQuoted=(e,rr,ir)=>(Module._appendStringInfoStringQuoted=wasmExports.appendStringInfoStringQuoted)(e,rr,ir),Module._set_errcontext_domain=e=>(Module._set_errcontext_domain=wasmExports.set_errcontext_domain)(e),Module._errcontext_msg=(e,rr)=>(Module._errcontext_msg=wasmExports.errcontext_msg)(e,rr),Module._pg_is_ascii=e=>(Module._pg_is_ascii=wasmExports.pg_is_ascii)(e),Module._memchr=(e,rr,ir)=>(Module._memchr=wasmExports.memchr)(e,rr,ir),Module._strrchr=(e,rr)=>(Module._strrchr=wasmExports.strrchr)(e,rr),Module._replace_percent_placeholders=(e,rr,ir,lr)=>(Module._replace_percent_placeholders=wasmExports.replace_percent_placeholders)(e,rr,ir,lr),Module._pg_b64_encode=(e,rr,ir,lr)=>(Module._pg_b64_encode=wasmExports.pg_b64_encode)(e,rr,ir,lr),Module._pg_b64_decode=(e,rr,ir,lr)=>(Module._pg_b64_decode=wasmExports.pg_b64_decode)(e,rr,ir,lr),Module._pg_b64_enc_len=e=>(Module._pg_b64_enc_len=wasmExports.pg_b64_enc_len)(e),Module._pg_b64_dec_len=e=>(Module._pg_b64_dec_len=wasmExports.pg_b64_dec_len)(e),Module._MemoryContextAllocZero=(e,rr)=>(Module._MemoryContextAllocZero=wasmExports.MemoryContextAllocZero)(e,rr),Module._MemoryContextAllocExtended=(e,rr,ir)=>(Module._MemoryContextAllocExtended=wasmExports.MemoryContextAllocExtended)(e,rr,ir),Module._hash_bytes=(e,rr)=>(Module._hash_bytes=wasmExports.hash_bytes)(e,rr),Module._memcmp=(e,rr,ir)=>(Module._memcmp=wasmExports.memcmp)(e,rr,ir),Module._repalloc=(e,rr)=>(Module._repalloc=wasmExports.repalloc)(e,rr),Module._pg_qsort=(e,rr,ir,lr)=>(Module._pg_qsort=wasmExports.pg_qsort)(e,rr,ir,lr),Module._strlcat=(e,rr,ir)=>(Module._strlcat=wasmExports.strlcat)(e,rr,ir),Module._OpenTransientFile=(e,rr)=>(Module._OpenTransientFile=wasmExports.OpenTransientFile)(e,rr),Module._errcode_for_file_access=()=>(Module._errcode_for_file_access=wasmExports.errcode_for_file_access)(),Module._read=(e,rr,ir)=>(Module._read=wasmExports.read)(e,rr,ir),Module._CloseTransientFile=e=>(Module._CloseTransientFile=wasmExports.CloseTransientFile)(e),Module._time=e=>(Module._time=wasmExports.time)(e),Module._write=(e,rr,ir)=>(Module._write=wasmExports.write)(e,rr,ir),Module._close=e=>(Module._close=wasmExports.close)(e),Module.___multi3=(e,rr,ir,lr,dr)=>(Module.___multi3=wasmExports.__multi3)(e,rr,ir,lr,dr),Module._pg_char_to_encoding_private=e=>(Module._pg_char_to_encoding_private=wasmExports.pg_char_to_encoding_private)(e),Module._isalnum=e=>(Module._isalnum=wasmExports.isalnum)(e),Module._popen=(e,rr)=>(Module._popen=wasmExports.popen)(e,rr),Module._pclose=e=>(Module._pclose=wasmExports.pclose)(e),Module._wait_result_to_str=e=>(Module._wait_result_to_str=wasmExports.wait_result_to_str)(e),Module._float_to_shortest_decimal_bufn=(e,rr)=>(Module._float_to_shortest_decimal_bufn=wasmExports.float_to_shortest_decimal_bufn)(e,rr),Module._float_to_shortest_decimal_buf=(e,rr)=>(Module._float_to_shortest_decimal_buf=wasmExports.float_to_shortest_decimal_buf)(e,rr),Module._pwrite=(e,rr,ir,lr)=>(Module._pwrite=wasmExports.pwrite)(e,rr,ir,lr),Module._hash_bytes_extended=(e,rr,ir)=>(Module._hash_bytes_extended=wasmExports.hash_bytes_extended)(e,rr,ir),Module._pg_getaddrinfo_all=(e,rr,ir,lr)=>(Module._pg_getaddrinfo_all=wasmExports.pg_getaddrinfo_all)(e,rr,ir,lr);var _calloc=Module._calloc=(e,rr)=>(_calloc=Module._calloc=wasmExports.calloc)(e,rr);Module._pg_freeaddrinfo_all=(e,rr)=>(Module._pg_freeaddrinfo_all=wasmExports.pg_freeaddrinfo_all)(e,rr),Module._freeaddrinfo=e=>(Module._freeaddrinfo=wasmExports.freeaddrinfo)(e),Module._pg_getnameinfo_all=(e,rr,ir,lr,dr,fr,mr)=>(Module._pg_getnameinfo_all=wasmExports.pg_getnameinfo_all)(e,rr,ir,lr,dr,fr,mr),Module._IsValidJsonNumber=(e,rr)=>(Module._IsValidJsonNumber=wasmExports.IsValidJsonNumber)(e,rr),Module._appendBinaryStringInfo=(e,rr,ir)=>(Module._appendBinaryStringInfo=wasmExports.appendBinaryStringInfo)(e,rr,ir),Module._makeStringInfo=()=>(Module._makeStringInfo=wasmExports.makeStringInfo)(),Module._pg_encoding_mblen_or_incomplete=(e,rr,ir)=>(Module._pg_encoding_mblen_or_incomplete=wasmExports.pg_encoding_mblen_or_incomplete)(e,rr,ir),Module._GetDatabaseEncodingName=()=>(Module._GetDatabaseEncodingName=wasmExports.GetDatabaseEncodingName)(),Module._ScanKeywordLookup=(e,rr)=>(Module._ScanKeywordLookup=wasmExports.ScanKeywordLookup)(e,rr),Module._pg_md5_encrypt=(e,rr,ir,lr,dr)=>(Module._pg_md5_encrypt=wasmExports.pg_md5_encrypt)(e,rr,ir,lr,dr),Module._strtoul=(e,rr,ir)=>(Module._strtoul=wasmExports.strtoul)(e,rr,ir),Module._sscanf=(e,rr,ir)=>(Module._sscanf=wasmExports.sscanf)(e,rr,ir),Module._fgets=(e,rr,ir)=>(Module._fgets=wasmExports.fgets)(e,rr,ir),Module._pg_prng_seed=(e,rr)=>(Module._pg_prng_seed=wasmExports.pg_prng_seed)(e,rr),Module._pg_prng_seed_check=e=>(Module._pg_prng_seed_check=wasmExports.pg_prng_seed_check)(e),Module._pg_prng_uint64=e=>(Module._pg_prng_uint64=wasmExports.pg_prng_uint64)(e),Module._pg_prng_uint64_range=(e,rr,ir)=>(Module._pg_prng_uint64_range=wasmExports.pg_prng_uint64_range)(e,rr,ir),Module._pg_prng_uint32=e=>(Module._pg_prng_uint32=wasmExports.pg_prng_uint32)(e),Module._log=e=>(Module._log=wasmExports.log)(e),Module._sin=e=>(Module._sin=wasmExports.sin)(e),Module._opendir=e=>(Module._opendir=wasmExports.opendir)(e),Module._readdir=e=>(Module._readdir=wasmExports.readdir)(e),Module._closedir=e=>(Module._closedir=wasmExports.closedir)(e),Module._forkname_to_number=e=>(Module._forkname_to_number=wasmExports.forkname_to_number)(e),Module._pg_saslprep=(e,rr)=>(Module._pg_saslprep=wasmExports.pg_saslprep)(e,rr),Module._pg_utf_mblen_private=e=>(Module._pg_utf_mblen_private=wasmExports.pg_utf_mblen_private)(e),Module._pg_utf8_islegal=(e,rr)=>(Module._pg_utf8_islegal=wasmExports.pg_utf8_islegal)(e,rr),Module._bsearch=(e,rr,ir,lr,dr)=>(Module._bsearch=wasmExports.bsearch)(e,rr,ir,lr,dr),Module._scram_SaltedPassword=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._scram_SaltedPassword=wasmExports.scram_SaltedPassword)(e,rr,ir,lr,dr,fr,mr,hr),Module._pg_hmac_create=e=>(Module._pg_hmac_create=wasmExports.pg_hmac_create)(e),Module._pg_hmac_error=e=>(Module._pg_hmac_error=wasmExports.pg_hmac_error)(e),Module._pg_hmac_init=(e,rr,ir)=>(Module._pg_hmac_init=wasmExports.pg_hmac_init)(e,rr,ir),Module._pg_hmac_update=(e,rr,ir)=>(Module._pg_hmac_update=wasmExports.pg_hmac_update)(e,rr,ir),Module._pg_hmac_final=(e,rr,ir)=>(Module._pg_hmac_final=wasmExports.pg_hmac_final)(e,rr,ir),Module._pg_hmac_free=e=>(Module._pg_hmac_free=wasmExports.pg_hmac_free)(e),Module._scram_H=(e,rr,ir,lr,dr)=>(Module._scram_H=wasmExports.scram_H)(e,rr,ir,lr,dr),Module._scram_ClientKey=(e,rr,ir,lr,dr)=>(Module._scram_ClientKey=wasmExports.scram_ClientKey)(e,rr,ir,lr,dr),Module._scram_ServerKey=(e,rr,ir,lr,dr)=>(Module._scram_ServerKey=wasmExports.scram_ServerKey)(e,rr,ir,lr,dr),Module._scram_build_secret=(e,rr,ir,lr,dr,fr,mr)=>(Module._scram_build_secret=wasmExports.scram_build_secret)(e,rr,ir,lr,dr,fr,mr),Module._palloc_extended=(e,rr)=>(Module._palloc_extended=wasmExports.palloc_extended)(e,rr),Module._appendStringInfoSpaces=(e,rr)=>(Module._appendStringInfoSpaces=wasmExports.appendStringInfoSpaces)(e,rr),Module._geteuid=()=>(Module._geteuid=wasmExports.geteuid)(),Module._pg_encoding_set_invalid=(e,rr)=>(Module._pg_encoding_set_invalid=wasmExports.pg_encoding_set_invalid)(e,rr),Module._pg_encoding_mblen=(e,rr)=>(Module._pg_encoding_mblen=wasmExports.pg_encoding_mblen)(e,rr),Module._pg_encoding_dsplen=(e,rr)=>(Module._pg_encoding_dsplen=wasmExports.pg_encoding_dsplen)(e,rr),Module._pg_encoding_verifymbchar=(e,rr,ir)=>(Module._pg_encoding_verifymbchar=wasmExports.pg_encoding_verifymbchar)(e,rr,ir),Module._pg_encoding_verifymbstr=(e,rr,ir)=>(Module._pg_encoding_verifymbstr=wasmExports.pg_encoding_verifymbstr)(e,rr,ir),Module._pg_encoding_max_length=e=>(Module._pg_encoding_max_length=wasmExports.pg_encoding_max_length)(e),Module._explicit_bzero=(e,rr)=>(Module._explicit_bzero=wasmExports.explicit_bzero)(e,rr),Module._getpeereid=(e,rr,ir)=>(Module._getpeereid=wasmExports.getpeereid)(e,rr,ir),Module._pg_inet_net_ntop=(e,rr,ir,lr,dr)=>(Module._pg_inet_net_ntop=wasmExports.pg_inet_net_ntop)(e,rr,ir,lr,dr),Module._fcntl=(e,rr,ir)=>(Module._fcntl=wasmExports.fcntl)(e,rr,ir),Module._getcwd=(e,rr)=>(Module._getcwd=wasmExports.getcwd)(e,rr),Module._pg_get_user_home_dir=(e,rr,ir)=>(Module._pg_get_user_home_dir=wasmExports.pg_get_user_home_dir)(e,rr,ir),Module._pg_popcount_optimized=(e,rr)=>(Module._pg_popcount_optimized=wasmExports.pg_popcount_optimized)(e,rr),Module._pg_strong_random=(e,rr)=>(Module._pg_strong_random=wasmExports.pg_strong_random)(e,rr),Module._open=(e,rr,ir)=>(Module._open=wasmExports.open)(e,rr,ir),Module._pg_usleep=e=>(Module._pg_usleep=wasmExports.pg_usleep)(e),Module._nanosleep=(e,rr)=>(Module._nanosleep=wasmExports.nanosleep)(e,rr),Module._pg_tolower=e=>(Module._pg_tolower=wasmExports.pg_tolower)(e),Module._sigemptyset=e=>(Module._sigemptyset=wasmExports.sigemptyset)(e),Module._sigaction=(e,rr,ir)=>(Module._sigaction=wasmExports.sigaction)(e,rr,ir),Module._getpid=()=>(Module._getpid=wasmExports.getpid)(),Module._qsort_arg=(e,rr,ir,lr,dr)=>(Module._qsort_arg=wasmExports.qsort_arg)(e,rr,ir,lr,dr),Module._snprintf=(e,rr,ir,lr)=>(Module._snprintf=wasmExports.snprintf)(e,rr,ir,lr),Module._pg_strerror_r=(e,rr,ir)=>(Module._pg_strerror_r=wasmExports.pg_strerror_r)(e,rr,ir),Module._strerror_r=(e,rr,ir)=>(Module._strerror_r=wasmExports.strerror_r)(e,rr,ir),Module._RelationGetNumberOfBlocksInFork=(e,rr)=>(Module._RelationGetNumberOfBlocksInFork=wasmExports.RelationGetNumberOfBlocksInFork)(e,rr),Module._ExtendBufferedRel=(e,rr,ir,lr)=>(Module._ExtendBufferedRel=wasmExports.ExtendBufferedRel)(e,rr,ir,lr),Module._MarkBufferDirty=e=>(Module._MarkBufferDirty=wasmExports.MarkBufferDirty)(e),Module._XLogBeginInsert=()=>(Module._XLogBeginInsert=wasmExports.XLogBeginInsert)(),Module._XLogRegisterData=(e,rr)=>(Module._XLogRegisterData=wasmExports.XLogRegisterData)(e,rr),Module._XLogInsert=(e,rr)=>(Module._XLogInsert=wasmExports.XLogInsert)(e,rr),Module._UnlockReleaseBuffer=e=>(Module._UnlockReleaseBuffer=wasmExports.UnlockReleaseBuffer)(e),Module._brin_build_desc=e=>(Module._brin_build_desc=wasmExports.brin_build_desc)(e),Module._EnterParallelMode=()=>(Module._EnterParallelMode=wasmExports.EnterParallelMode)(),Module._CreateParallelContext=(e,rr,ir)=>(Module._CreateParallelContext=wasmExports.CreateParallelContext)(e,rr,ir),Module._RegisterSnapshot=e=>(Module._RegisterSnapshot=wasmExports.RegisterSnapshot)(e),Module._table_parallelscan_estimate=(e,rr)=>(Module._table_parallelscan_estimate=wasmExports.table_parallelscan_estimate)(e,rr),Module._add_size=(e,rr)=>(Module._add_size=wasmExports.add_size)(e,rr),Module._tuplesort_estimate_shared=e=>(Module._tuplesort_estimate_shared=wasmExports.tuplesort_estimate_shared)(e),Module._InitializeParallelDSM=e=>(Module._InitializeParallelDSM=wasmExports.InitializeParallelDSM)(e),Module._UnregisterSnapshot=e=>(Module._UnregisterSnapshot=wasmExports.UnregisterSnapshot)(e),Module._DestroyParallelContext=e=>(Module._DestroyParallelContext=wasmExports.DestroyParallelContext)(e),Module._ExitParallelMode=()=>(Module._ExitParallelMode=wasmExports.ExitParallelMode)(),Module._shm_toc_allocate=(e,rr)=>(Module._shm_toc_allocate=wasmExports.shm_toc_allocate)(e,rr),Module._ConditionVariableInit=e=>(Module._ConditionVariableInit=wasmExports.ConditionVariableInit)(e),Module._s_init_lock_sema=(e,rr)=>(Module._s_init_lock_sema=wasmExports.s_init_lock_sema)(e,rr),Module._table_parallelscan_initialize=(e,rr,ir)=>(Module._table_parallelscan_initialize=wasmExports.table_parallelscan_initialize)(e,rr,ir),Module._tuplesort_initialize_shared=(e,rr,ir)=>(Module._tuplesort_initialize_shared=wasmExports.tuplesort_initialize_shared)(e,rr,ir),Module._shm_toc_insert=(e,rr,ir)=>(Module._shm_toc_insert=wasmExports.shm_toc_insert)(e,rr,ir),Module._LaunchParallelWorkers=e=>(Module._LaunchParallelWorkers=wasmExports.LaunchParallelWorkers)(e),Module._WaitForParallelWorkersToAttach=e=>(Module._WaitForParallelWorkersToAttach=wasmExports.WaitForParallelWorkersToAttach)(e),Module._tas_sema=e=>(Module._tas_sema=wasmExports.tas_sema)(e),Module._s_lock=(e,rr,ir,lr)=>(Module._s_lock=wasmExports.s_lock)(e,rr,ir,lr),Module._s_unlock_sema=e=>(Module._s_unlock_sema=wasmExports.s_unlock_sema)(e),Module._ConditionVariableSleep=(e,rr)=>(Module._ConditionVariableSleep=wasmExports.ConditionVariableSleep)(e,rr),Module._ConditionVariableCancelSleep=()=>(Module._ConditionVariableCancelSleep=wasmExports.ConditionVariableCancelSleep)(),Module._tuplesort_performsort=e=>(Module._tuplesort_performsort=wasmExports.tuplesort_performsort)(e),Module._tuplesort_end=e=>(Module._tuplesort_end=wasmExports.tuplesort_end)(e),Module._MemoryContextReset=e=>(Module._MemoryContextReset=wasmExports.MemoryContextReset)(e),Module._brin_deform_tuple=(e,rr,ir)=>(Module._brin_deform_tuple=wasmExports.brin_deform_tuple)(e,rr,ir),Module._log_newpage_buffer=(e,rr)=>(Module._log_newpage_buffer=wasmExports.log_newpage_buffer)(e,rr),Module._LockBuffer=(e,rr)=>(Module._LockBuffer=wasmExports.LockBuffer)(e,rr),Module._ReleaseBuffer=e=>(Module._ReleaseBuffer=wasmExports.ReleaseBuffer)(e),Module._IndexGetRelation=(e,rr)=>(Module._IndexGetRelation=wasmExports.IndexGetRelation)(e,rr),Module._table_open=(e,rr)=>(Module._table_open=wasmExports.table_open)(e,rr),Module._ReadBufferExtended=(e,rr,ir,lr,dr)=>(Module._ReadBufferExtended=wasmExports.ReadBufferExtended)(e,rr,ir,lr,dr),Module._table_close=(e,rr)=>(Module._table_close=wasmExports.table_close)(e,rr),Module._build_reloptions=(e,rr,ir,lr,dr,fr)=>(Module._build_reloptions=wasmExports.build_reloptions)(e,rr,ir,lr,dr,fr),Module._RelationGetIndexScan=(e,rr,ir)=>(Module._RelationGetIndexScan=wasmExports.RelationGetIndexScan)(e,rr,ir),Module._pgstat_assoc_relation=e=>(Module._pgstat_assoc_relation=wasmExports.pgstat_assoc_relation)(e),Module._index_getprocinfo=(e,rr,ir)=>(Module._index_getprocinfo=wasmExports.index_getprocinfo)(e,rr,ir),Module._fmgr_info_copy=(e,rr,ir)=>(Module._fmgr_info_copy=wasmExports.fmgr_info_copy)(e,rr,ir),Module._FunctionCall4Coll=(e,rr,ir,lr,dr,fr)=>(Module._FunctionCall4Coll=wasmExports.FunctionCall4Coll)(e,rr,ir,lr,dr,fr),Module._FunctionCall1Coll=(e,rr,ir)=>(Module._FunctionCall1Coll=wasmExports.FunctionCall1Coll)(e,rr,ir),Module._brin_free_desc=e=>(Module._brin_free_desc=wasmExports.brin_free_desc)(e),Module._WaitForParallelWorkersToFinish=e=>(Module._WaitForParallelWorkersToFinish=wasmExports.WaitForParallelWorkersToFinish)(e),Module._PageGetFreeSpace=e=>(Module._PageGetFreeSpace=wasmExports.PageGetFreeSpace)(e),Module._BufferGetBlockNumber=e=>(Module._BufferGetBlockNumber=wasmExports.BufferGetBlockNumber)(e),Module._BuildIndexInfo=e=>(Module._BuildIndexInfo=wasmExports.BuildIndexInfo)(e),Module._Int64GetDatum=e=>(Module._Int64GetDatum=wasmExports.Int64GetDatum)(e),Module._DirectFunctionCall2Coll=(e,rr,ir,lr)=>(Module._DirectFunctionCall2Coll=wasmExports.DirectFunctionCall2Coll)(e,rr,ir,lr),Module._RecoveryInProgress=()=>(Module._RecoveryInProgress=wasmExports.RecoveryInProgress)(),Module._GetUserIdAndSecContext=(e,rr)=>(Module._GetUserIdAndSecContext=wasmExports.GetUserIdAndSecContext)(e,rr),Module._SetUserIdAndSecContext=(e,rr)=>(Module._SetUserIdAndSecContext=wasmExports.SetUserIdAndSecContext)(e,rr),Module._NewGUCNestLevel=()=>(Module._NewGUCNestLevel=wasmExports.NewGUCNestLevel)(),Module._RestrictSearchPath=()=>(Module._RestrictSearchPath=wasmExports.RestrictSearchPath)(),Module._index_open=(e,rr)=>(Module._index_open=wasmExports.index_open)(e,rr),Module._object_ownercheck=(e,rr,ir)=>(Module._object_ownercheck=wasmExports.object_ownercheck)(e,rr,ir),Module._aclcheck_error=(e,rr,ir)=>(Module._aclcheck_error=wasmExports.aclcheck_error)(e,rr,ir),Module._AtEOXact_GUC=(e,rr)=>(Module._AtEOXact_GUC=wasmExports.AtEOXact_GUC)(e,rr),Module._relation_close=(e,rr)=>(Module._relation_close=wasmExports.relation_close)(e,rr),Module._GetUserId=()=>(Module._GetUserId=wasmExports.GetUserId)(),Module._ReadBuffer=(e,rr)=>(Module._ReadBuffer=wasmExports.ReadBuffer)(e,rr),Module._shm_toc_lookup=(e,rr,ir)=>(Module._shm_toc_lookup=wasmExports.shm_toc_lookup)(e,rr,ir),Module._tuplesort_attach_shared=(e,rr)=>(Module._tuplesort_attach_shared=wasmExports.tuplesort_attach_shared)(e,rr),Module._index_close=(e,rr)=>(Module._index_close=wasmExports.index_close)(e,rr),Module._table_beginscan_parallel=(e,rr)=>(Module._table_beginscan_parallel=wasmExports.table_beginscan_parallel)(e,rr),Module._ConditionVariableSignal=e=>(Module._ConditionVariableSignal=wasmExports.ConditionVariableSignal)(e),Module._datumCopy=(e,rr,ir)=>(Module._datumCopy=wasmExports.datumCopy)(e,rr,ir),Module._lookup_type_cache=(e,rr)=>(Module._lookup_type_cache=wasmExports.lookup_type_cache)(e,rr),Module._get_fn_opclass_options=e=>(Module._get_fn_opclass_options=wasmExports.get_fn_opclass_options)(e),Module._pg_detoast_datum=e=>(Module._pg_detoast_datum=wasmExports.pg_detoast_datum)(e),Module._index_getprocid=(e,rr,ir)=>(Module._index_getprocid=wasmExports.index_getprocid)(e,rr,ir),Module._init_local_reloptions=(e,rr)=>(Module._init_local_reloptions=wasmExports.init_local_reloptions)(e,rr),Module._FunctionCall2Coll=(e,rr,ir,lr)=>(Module._FunctionCall2Coll=wasmExports.FunctionCall2Coll)(e,rr,ir,lr),Module._SysCacheGetAttrNotNull=(e,rr,ir)=>(Module._SysCacheGetAttrNotNull=wasmExports.SysCacheGetAttrNotNull)(e,rr,ir),Module._ReleaseSysCache=e=>(Module._ReleaseSysCache=wasmExports.ReleaseSysCache)(e),Module._fmgr_info_cxt=(e,rr,ir)=>(Module._fmgr_info_cxt=wasmExports.fmgr_info_cxt)(e,rr,ir),Module._Float8GetDatum=e=>(Module._Float8GetDatum=wasmExports.Float8GetDatum)(e),Module._numeric_sub=e=>(Module._numeric_sub=wasmExports.numeric_sub)(e),Module._DirectFunctionCall1Coll=(e,rr,ir)=>(Module._DirectFunctionCall1Coll=wasmExports.DirectFunctionCall1Coll)(e,rr,ir),Module._pg_detoast_datum_packed=e=>(Module._pg_detoast_datum_packed=wasmExports.pg_detoast_datum_packed)(e),Module._add_local_int_reloption=(e,rr,ir,lr,dr,fr,mr)=>(Module._add_local_int_reloption=wasmExports.add_local_int_reloption)(e,rr,ir,lr,dr,fr,mr),Module._getTypeOutputInfo=(e,rr,ir)=>(Module._getTypeOutputInfo=wasmExports.getTypeOutputInfo)(e,rr,ir),Module._fmgr_info=(e,rr)=>(Module._fmgr_info=wasmExports.fmgr_info)(e,rr),Module._OutputFunctionCall=(e,rr)=>(Module._OutputFunctionCall=wasmExports.OutputFunctionCall)(e,rr),Module._cstring_to_text_with_len=(e,rr)=>(Module._cstring_to_text_with_len=wasmExports.cstring_to_text_with_len)(e,rr),Module._accumArrayResult=(e,rr,ir,lr,dr)=>(Module._accumArrayResult=wasmExports.accumArrayResult)(e,rr,ir,lr,dr),Module._makeArrayResult=(e,rr)=>(Module._makeArrayResult=wasmExports.makeArrayResult)(e,rr),Module._OidOutputFunctionCall=(e,rr)=>(Module._OidOutputFunctionCall=wasmExports.OidOutputFunctionCall)(e,rr),Module._cstring_to_text=e=>(Module._cstring_to_text=wasmExports.cstring_to_text)(e),Module._PageGetExactFreeSpace=e=>(Module._PageGetExactFreeSpace=wasmExports.PageGetExactFreeSpace)(e),Module._PageIndexTupleOverwrite=(e,rr,ir,lr)=>(Module._PageIndexTupleOverwrite=wasmExports.PageIndexTupleOverwrite)(e,rr,ir,lr),Module._PageInit=(e,rr,ir)=>(Module._PageInit=wasmExports.PageInit)(e,rr,ir),Module._PageAddItemExtended=(e,rr,ir,lr,dr)=>(Module._PageAddItemExtended=wasmExports.PageAddItemExtended)(e,rr,ir,lr,dr),Module._LockRelationForExtension=(e,rr)=>(Module._LockRelationForExtension=wasmExports.LockRelationForExtension)(e,rr),Module._UnlockRelationForExtension=(e,rr)=>(Module._UnlockRelationForExtension=wasmExports.UnlockRelationForExtension)(e,rr),Module._smgropen=(e,rr)=>(Module._smgropen=wasmExports.smgropen)(e,rr),Module._smgrpin=e=>(Module._smgrpin=wasmExports.smgrpin)(e),Module._ItemPointerEquals=(e,rr)=>(Module._ItemPointerEquals=wasmExports.ItemPointerEquals)(e,rr),Module._detoast_external_attr=e=>(Module._detoast_external_attr=wasmExports.detoast_external_attr)(e),Module._CreateTemplateTupleDesc=e=>(Module._CreateTemplateTupleDesc=wasmExports.CreateTemplateTupleDesc)(e),Module._TupleDescInitEntry=(e,rr,ir,lr,dr,fr)=>(Module._TupleDescInitEntry=wasmExports.TupleDescInitEntry)(e,rr,ir,lr,dr,fr),Module._SearchSysCache1=(e,rr)=>(Module._SearchSysCache1=wasmExports.SearchSysCache1)(e,rr),Module._SearchSysCacheList=(e,rr,ir,lr,dr)=>(Module._SearchSysCacheList=wasmExports.SearchSysCacheList)(e,rr,ir,lr,dr),Module._check_amproc_signature=(e,rr,ir,lr,dr,fr)=>(Module._check_amproc_signature=wasmExports.check_amproc_signature)(e,rr,ir,lr,dr,fr),Module._check_amoptsproc_signature=e=>(Module._check_amoptsproc_signature=wasmExports.check_amoptsproc_signature)(e),Module._format_procedure=e=>(Module._format_procedure=wasmExports.format_procedure)(e),Module._format_operator=e=>(Module._format_operator=wasmExports.format_operator)(e),Module._check_amop_signature=(e,rr,ir,lr)=>(Module._check_amop_signature=wasmExports.check_amop_signature)(e,rr,ir,lr),Module._identify_opfamily_groups=(e,rr)=>(Module._identify_opfamily_groups=wasmExports.identify_opfamily_groups)(e,rr),Module._format_type_be=e=>(Module._format_type_be=wasmExports.format_type_be)(e),Module._ReleaseCatCacheList=e=>(Module._ReleaseCatCacheList=wasmExports.ReleaseCatCacheList)(e),Module._free_attrmap=e=>(Module._free_attrmap=wasmExports.free_attrmap)(e),Module._format_type_with_typemod=(e,rr)=>(Module._format_type_with_typemod=wasmExports.format_type_with_typemod)(e,rr),Module._build_attrmap_by_name_if_req=(e,rr,ir)=>(Module._build_attrmap_by_name_if_req=wasmExports.build_attrmap_by_name_if_req)(e,rr,ir),Module._DatumGetEOHP=e=>(Module._DatumGetEOHP=wasmExports.DatumGetEOHP)(e),Module._EOH_get_flat_size=e=>(Module._EOH_get_flat_size=wasmExports.EOH_get_flat_size)(e),Module._EOH_flatten_into=(e,rr,ir)=>(Module._EOH_flatten_into=wasmExports.EOH_flatten_into)(e,rr,ir),Module._getmissingattr=(e,rr,ir)=>(Module._getmissingattr=wasmExports.getmissingattr)(e,rr,ir),Module._hash_create=(e,rr,ir,lr)=>(Module._hash_create=wasmExports.hash_create)(e,rr,ir,lr),Module._hash_search=(e,rr,ir,lr)=>(Module._hash_search=wasmExports.hash_search)(e,rr,ir,lr),Module._nocachegetattr=(e,rr,ir)=>(Module._nocachegetattr=wasmExports.nocachegetattr)(e,rr,ir),Module._heap_form_tuple=(e,rr,ir)=>(Module._heap_form_tuple=wasmExports.heap_form_tuple)(e,rr,ir),Module._heap_modify_tuple=(e,rr,ir,lr,dr)=>(Module._heap_modify_tuple=wasmExports.heap_modify_tuple)(e,rr,ir,lr,dr),Module._heap_deform_tuple=(e,rr,ir,lr)=>(Module._heap_deform_tuple=wasmExports.heap_deform_tuple)(e,rr,ir,lr),Module._heap_modify_tuple_by_cols=(e,rr,ir,lr,dr,fr)=>(Module._heap_modify_tuple_by_cols=wasmExports.heap_modify_tuple_by_cols)(e,rr,ir,lr,dr,fr),Module._heap_freetuple=e=>(Module._heap_freetuple=wasmExports.heap_freetuple)(e),Module._index_form_tuple=(e,rr,ir)=>(Module._index_form_tuple=wasmExports.index_form_tuple)(e,rr,ir),Module._nocache_index_getattr=(e,rr,ir)=>(Module._nocache_index_getattr=wasmExports.nocache_index_getattr)(e,rr,ir),Module._index_deform_tuple=(e,rr,ir,lr)=>(Module._index_deform_tuple=wasmExports.index_deform_tuple)(e,rr,ir,lr),Module._slot_getsomeattrs_int=(e,rr)=>(Module._slot_getsomeattrs_int=wasmExports.slot_getsomeattrs_int)(e,rr),Module._pg_ltoa=(e,rr)=>(Module._pg_ltoa=wasmExports.pg_ltoa)(e,rr),Module._relation_open=(e,rr)=>(Module._relation_open=wasmExports.relation_open)(e,rr),Module._LockRelationOid=(e,rr)=>(Module._LockRelationOid=wasmExports.LockRelationOid)(e,rr),Module._RelationIdGetRelation=e=>(Module._RelationIdGetRelation=wasmExports.RelationIdGetRelation)(e),Module._try_relation_open=(e,rr)=>(Module._try_relation_open=wasmExports.try_relation_open)(e,rr),Module._SearchSysCacheExists=(e,rr,ir,lr,dr)=>(Module._SearchSysCacheExists=wasmExports.SearchSysCacheExists)(e,rr,ir,lr,dr),Module._relation_openrv=(e,rr)=>(Module._relation_openrv=wasmExports.relation_openrv)(e,rr),Module._RangeVarGetRelidExtended=(e,rr,ir,lr,dr)=>(Module._RangeVarGetRelidExtended=wasmExports.RangeVarGetRelidExtended)(e,rr,ir,lr,dr),Module._RelationClose=e=>(Module._RelationClose=wasmExports.RelationClose)(e),Module._add_reloption_kind=()=>(Module._add_reloption_kind=wasmExports.add_reloption_kind)(),Module._register_reloptions_validator=(e,rr)=>(Module._register_reloptions_validator=wasmExports.register_reloptions_validator)(e,rr),Module._add_int_reloption=(e,rr,ir,lr,dr,fr,mr)=>(Module._add_int_reloption=wasmExports.add_int_reloption)(e,rr,ir,lr,dr,fr,mr),Module._MemoryContextStrdup=(e,rr)=>(Module._MemoryContextStrdup=wasmExports.MemoryContextStrdup)(e,rr),Module._transformRelOptions=(e,rr,ir,lr,dr,fr)=>(Module._transformRelOptions=wasmExports.transformRelOptions)(e,rr,ir,lr,dr,fr),Module._deconstruct_array_builtin=(e,rr,ir,lr,dr)=>(Module._deconstruct_array_builtin=wasmExports.deconstruct_array_builtin)(e,rr,ir,lr,dr),Module._defGetString=e=>(Module._defGetString=wasmExports.defGetString)(e),Module._defGetBoolean=e=>(Module._defGetBoolean=wasmExports.defGetBoolean)(e),Module._untransformRelOptions=e=>(Module._untransformRelOptions=wasmExports.untransformRelOptions)(e),Module._text_to_cstring=e=>(Module._text_to_cstring=wasmExports.text_to_cstring)(e),Module._makeString=e=>(Module._makeString=wasmExports.makeString)(e),Module._makeDefElem=(e,rr,ir)=>(Module._makeDefElem=wasmExports.makeDefElem)(e,rr,ir),Module._heap_reloptions=(e,rr,ir)=>(Module._heap_reloptions=wasmExports.heap_reloptions)(e,rr,ir),Module._MemoryContextAlloc=(e,rr)=>(Module._MemoryContextAlloc=wasmExports.MemoryContextAlloc)(e,rr),Module._parse_bool=(e,rr)=>(Module._parse_bool=wasmExports.parse_bool)(e,rr),Module._parse_int=(e,rr,ir,lr)=>(Module._parse_int=wasmExports.parse_int)(e,rr,ir,lr),Module._parse_real=(e,rr,ir,lr)=>(Module._parse_real=wasmExports.parse_real)(e,rr,ir,lr),Module._ScanKeyInit=(e,rr,ir,lr,dr)=>(Module._ScanKeyInit=wasmExports.ScanKeyInit)(e,rr,ir,lr,dr),Module._dsm_segment_handle=e=>(Module._dsm_segment_handle=wasmExports.dsm_segment_handle)(e),Module._dsm_create=(e,rr)=>(Module._dsm_create=wasmExports.dsm_create)(e,rr),Module._dsm_segment_address=e=>(Module._dsm_segment_address=wasmExports.dsm_segment_address)(e),Module._dsm_attach=e=>(Module._dsm_attach=wasmExports.dsm_attach)(e),Module._dsm_detach=e=>(Module._dsm_detach=wasmExports.dsm_detach)(e),Module._ShmemInitStruct=(e,rr,ir)=>(Module._ShmemInitStruct=wasmExports.ShmemInitStruct)(e,rr,ir),Module._LWLockAcquire=(e,rr)=>(Module._LWLockAcquire=wasmExports.LWLockAcquire)(e,rr),Module._LWLockRelease=e=>(Module._LWLockRelease=wasmExports.LWLockRelease)(e),Module._LWLockInitialize=(e,rr)=>(Module._LWLockInitialize=wasmExports.LWLockInitialize)(e,rr),Module._MemoryContextMemAllocated=(e,rr)=>(Module._MemoryContextMemAllocated=wasmExports.MemoryContextMemAllocated)(e,rr),Module._GetCurrentCommandId=e=>(Module._GetCurrentCommandId=wasmExports.GetCurrentCommandId)(e),Module._toast_open_indexes=(e,rr,ir,lr)=>(Module._toast_open_indexes=wasmExports.toast_open_indexes)(e,rr,ir,lr),Module._RelationGetIndexList=e=>(Module._RelationGetIndexList=wasmExports.RelationGetIndexList)(e),Module._systable_beginscan=(e,rr,ir,lr,dr,fr)=>(Module._systable_beginscan=wasmExports.systable_beginscan)(e,rr,ir,lr,dr,fr),Module._systable_getnext=e=>(Module._systable_getnext=wasmExports.systable_getnext)(e),Module._systable_endscan=e=>(Module._systable_endscan=wasmExports.systable_endscan)(e),Module._toast_close_indexes=(e,rr,ir)=>(Module._toast_close_indexes=wasmExports.toast_close_indexes)(e,rr,ir),Module._systable_beginscan_ordered=(e,rr,ir,lr,dr)=>(Module._systable_beginscan_ordered=wasmExports.systable_beginscan_ordered)(e,rr,ir,lr,dr),Module._systable_getnext_ordered=(e,rr)=>(Module._systable_getnext_ordered=wasmExports.systable_getnext_ordered)(e,rr),Module._systable_endscan_ordered=e=>(Module._systable_endscan_ordered=wasmExports.systable_endscan_ordered)(e),Module._init_toast_snapshot=e=>(Module._init_toast_snapshot=wasmExports.init_toast_snapshot)(e),Module._convert_tuples_by_position=(e,rr,ir)=>(Module._convert_tuples_by_position=wasmExports.convert_tuples_by_position)(e,rr,ir),Module._execute_attr_map_tuple=(e,rr)=>(Module._execute_attr_map_tuple=wasmExports.execute_attr_map_tuple)(e,rr),Module._execute_attr_map_slot=(e,rr,ir)=>(Module._execute_attr_map_slot=wasmExports.execute_attr_map_slot)(e,rr,ir),Module._ExecStoreVirtualTuple=e=>(Module._ExecStoreVirtualTuple=wasmExports.ExecStoreVirtualTuple)(e),Module._bms_is_member=(e,rr)=>(Module._bms_is_member=wasmExports.bms_is_member)(e,rr),Module._bms_add_member=(e,rr)=>(Module._bms_add_member=wasmExports.bms_add_member)(e,rr),Module._CreateTupleDescCopy=e=>(Module._CreateTupleDescCopy=wasmExports.CreateTupleDescCopy)(e),Module._CreateTupleDescCopyConstr=e=>(Module._CreateTupleDescCopyConstr=wasmExports.CreateTupleDescCopyConstr)(e),Module._FreeTupleDesc=e=>(Module._FreeTupleDesc=wasmExports.FreeTupleDesc)(e),Module._ResourceOwnerEnlarge=e=>(Module._ResourceOwnerEnlarge=wasmExports.ResourceOwnerEnlarge)(e),Module._ResourceOwnerRemember=(e,rr,ir)=>(Module._ResourceOwnerRemember=wasmExports.ResourceOwnerRemember)(e,rr,ir),Module._DecrTupleDescRefCount=e=>(Module._DecrTupleDescRefCount=wasmExports.DecrTupleDescRefCount)(e),Module._ResourceOwnerForget=(e,rr,ir)=>(Module._ResourceOwnerForget=wasmExports.ResourceOwnerForget)(e,rr,ir),Module._datumIsEqual=(e,rr,ir,lr)=>(Module._datumIsEqual=wasmExports.datumIsEqual)(e,rr,ir,lr),Module._TupleDescInitEntryCollation=(e,rr,ir)=>(Module._TupleDescInitEntryCollation=wasmExports.TupleDescInitEntryCollation)(e,rr,ir),Module._stringToNode=e=>(Module._stringToNode=wasmExports.stringToNode)(e),Module._pg_detoast_datum_copy=e=>(Module._pg_detoast_datum_copy=wasmExports.pg_detoast_datum_copy)(e),Module._get_typlenbyvalalign=(e,rr,ir,lr)=>(Module._get_typlenbyvalalign=wasmExports.get_typlenbyvalalign)(e,rr,ir,lr),Module._deconstruct_array=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._deconstruct_array=wasmExports.deconstruct_array)(e,rr,ir,lr,dr,fr,mr,hr),Module._tbm_add_tuples=(e,rr,ir,lr)=>(Module._tbm_add_tuples=wasmExports.tbm_add_tuples)(e,rr,ir,lr),Module._ginPostingListDecode=(e,rr)=>(Module._ginPostingListDecode=wasmExports.ginPostingListDecode)(e,rr),Module._ItemPointerCompare=(e,rr)=>(Module._ItemPointerCompare=wasmExports.ItemPointerCompare)(e,rr),Module._LockPage=(e,rr,ir)=>(Module._LockPage=wasmExports.LockPage)(e,rr,ir),Module._UnlockPage=(e,rr,ir)=>(Module._UnlockPage=wasmExports.UnlockPage)(e,rr,ir),Module._vacuum_delay_point=()=>(Module._vacuum_delay_point=wasmExports.vacuum_delay_point)(),Module._RecordFreeIndexPage=(e,rr)=>(Module._RecordFreeIndexPage=wasmExports.RecordFreeIndexPage)(e,rr),Module._IndexFreeSpaceMapVacuum=e=>(Module._IndexFreeSpaceMapVacuum=wasmExports.IndexFreeSpaceMapVacuum)(e),Module._log_newpage_range=(e,rr,ir,lr,dr)=>(Module._log_newpage_range=wasmExports.log_newpage_range)(e,rr,ir,lr,dr),Module._GetFreeIndexPage=e=>(Module._GetFreeIndexPage=wasmExports.GetFreeIndexPage)(e),Module._ConditionalLockBuffer=e=>(Module._ConditionalLockBuffer=wasmExports.ConditionalLockBuffer)(e),Module._LockBufferForCleanup=e=>(Module._LockBufferForCleanup=wasmExports.LockBufferForCleanup)(e),Module._gistcheckpage=(e,rr)=>(Module._gistcheckpage=wasmExports.gistcheckpage)(e,rr),Module._PageIndexMultiDelete=(e,rr,ir)=>(Module._PageIndexMultiDelete=wasmExports.PageIndexMultiDelete)(e,rr,ir),Module._pow=(e,rr)=>(Module._pow=wasmExports.pow)(e,rr),Module._smgrnblocks=(e,rr)=>(Module._smgrnblocks=wasmExports.smgrnblocks)(e,rr),Module._list_free_deep=e=>(Module._list_free_deep=wasmExports.list_free_deep)(e),Module._pairingheap_remove_first=e=>(Module._pairingheap_remove_first=wasmExports.pairingheap_remove_first)(e),Module._pairingheap_add=(e,rr)=>(Module._pairingheap_add=wasmExports.pairingheap_add)(e,rr),Module._float_overflow_error=()=>(Module._float_overflow_error=wasmExports.float_overflow_error)(),Module._float_underflow_error=()=>(Module._float_underflow_error=wasmExports.float_underflow_error)(),Module._DirectFunctionCall5Coll=(e,rr,ir,lr,dr,fr,mr)=>(Module._DirectFunctionCall5Coll=wasmExports.DirectFunctionCall5Coll)(e,rr,ir,lr,dr,fr,mr),Module._pairingheap_allocate=(e,rr)=>(Module._pairingheap_allocate=wasmExports.pairingheap_allocate)(e,rr),Module._GenerationContextCreate=(e,rr,ir,lr,dr)=>(Module._GenerationContextCreate=wasmExports.GenerationContextCreate)(e,rr,ir,lr,dr),Module._pgstat_progress_update_param=(e,rr)=>(Module._pgstat_progress_update_param=wasmExports.pgstat_progress_update_param)(e,rr),Module.__hash_getbuf=(e,rr,ir,lr)=>(Module.__hash_getbuf=wasmExports._hash_getbuf)(e,rr,ir,lr),Module.__hash_relbuf=(e,rr)=>(Module.__hash_relbuf=wasmExports._hash_relbuf)(e,rr),Module.__hash_get_indextuple_hashkey=e=>(Module.__hash_get_indextuple_hashkey=wasmExports._hash_get_indextuple_hashkey)(e),Module.__hash_getbuf_with_strategy=(e,rr,ir,lr,dr)=>(Module.__hash_getbuf_with_strategy=wasmExports._hash_getbuf_with_strategy)(e,rr,ir,lr,dr),Module.__hash_ovflblkno_to_bitno=(e,rr)=>(Module.__hash_ovflblkno_to_bitno=wasmExports._hash_ovflblkno_to_bitno)(e,rr),Module._hash_destroy=e=>(Module._hash_destroy=wasmExports.hash_destroy)(e),Module._list_member_oid=(e,rr)=>(Module._list_member_oid=wasmExports.list_member_oid)(e,rr),Module._HeapTupleSatisfiesVisibility=(e,rr,ir)=>(Module._HeapTupleSatisfiesVisibility=wasmExports.HeapTupleSatisfiesVisibility)(e,rr,ir),Module._read_stream_begin_relation=(e,rr,ir,lr,dr,fr,mr)=>(Module._read_stream_begin_relation=wasmExports.read_stream_begin_relation)(e,rr,ir,lr,dr,fr,mr),Module._GetAccessStrategy=e=>(Module._GetAccessStrategy=wasmExports.GetAccessStrategy)(e),Module._FreeAccessStrategy=e=>(Module._FreeAccessStrategy=wasmExports.FreeAccessStrategy)(e),Module._read_stream_end=e=>(Module._read_stream_end=wasmExports.read_stream_end)(e),Module._heap_getnext=(e,rr)=>(Module._heap_getnext=wasmExports.heap_getnext)(e,rr),Module._HeapTupleSatisfiesVacuum=(e,rr,ir)=>(Module._HeapTupleSatisfiesVacuum=wasmExports.HeapTupleSatisfiesVacuum)(e,rr,ir),Module._GetMultiXactIdMembers=(e,rr,ir,lr)=>(Module._GetMultiXactIdMembers=wasmExports.GetMultiXactIdMembers)(e,rr,ir,lr),Module._TransactionIdPrecedes=(e,rr)=>(Module._TransactionIdPrecedes=wasmExports.TransactionIdPrecedes)(e,rr),Module._HeapTupleGetUpdateXid=e=>(Module._HeapTupleGetUpdateXid=wasmExports.HeapTupleGetUpdateXid)(e),Module._visibilitymap_clear=(e,rr,ir,lr)=>(Module._visibilitymap_clear=wasmExports.visibilitymap_clear)(e,rr,ir,lr),Module._pgstat_count_heap_insert=(e,rr)=>(Module._pgstat_count_heap_insert=wasmExports.pgstat_count_heap_insert)(e,rr),Module._ExecFetchSlotHeapTuple=(e,rr,ir)=>(Module._ExecFetchSlotHeapTuple=wasmExports.ExecFetchSlotHeapTuple)(e,rr,ir),Module._PageGetHeapFreeSpace=e=>(Module._PageGetHeapFreeSpace=wasmExports.PageGetHeapFreeSpace)(e),Module._visibilitymap_pin=(e,rr,ir)=>(Module._visibilitymap_pin=wasmExports.visibilitymap_pin)(e,rr,ir),Module._HeapTupleSatisfiesUpdate=(e,rr,ir)=>(Module._HeapTupleSatisfiesUpdate=wasmExports.HeapTupleSatisfiesUpdate)(e,rr,ir),Module._TransactionIdIsCurrentTransactionId=e=>(Module._TransactionIdIsCurrentTransactionId=wasmExports.TransactionIdIsCurrentTransactionId)(e),Module._TransactionIdDidCommit=e=>(Module._TransactionIdDidCommit=wasmExports.TransactionIdDidCommit)(e),Module._TransactionIdIsInProgress=e=>(Module._TransactionIdIsInProgress=wasmExports.TransactionIdIsInProgress)(e),Module._bms_free=e=>(Module._bms_free=wasmExports.bms_free)(e),Module._bms_add_members=(e,rr)=>(Module._bms_add_members=wasmExports.bms_add_members)(e,rr),Module._bms_next_member=(e,rr)=>(Module._bms_next_member=wasmExports.bms_next_member)(e,rr),Module._bms_overlap=(e,rr)=>(Module._bms_overlap=wasmExports.bms_overlap)(e,rr),Module._MultiXactIdPrecedes=(e,rr)=>(Module._MultiXactIdPrecedes=wasmExports.MultiXactIdPrecedes)(e,rr),Module._heap_tuple_needs_eventual_freeze=e=>(Module._heap_tuple_needs_eventual_freeze=wasmExports.heap_tuple_needs_eventual_freeze)(e),Module._PrefetchBuffer=(e,rr,ir,lr)=>(Module._PrefetchBuffer=wasmExports.PrefetchBuffer)(e,rr,ir,lr),Module._XLogRecGetBlockTagExtended=(e,rr,ir,lr,dr,fr)=>(Module._XLogRecGetBlockTagExtended=wasmExports.XLogRecGetBlockTagExtended)(e,rr,ir,lr,dr,fr),Module._read_stream_next_buffer=(e,rr)=>(Module._read_stream_next_buffer=wasmExports.read_stream_next_buffer)(e,rr),Module._smgrexists=(e,rr)=>(Module._smgrexists=wasmExports.smgrexists)(e,rr),Module._table_slot_create=(e,rr)=>(Module._table_slot_create=wasmExports.table_slot_create)(e,rr),Module._ExecDropSingleTupleTableSlot=e=>(Module._ExecDropSingleTupleTableSlot=wasmExports.ExecDropSingleTupleTableSlot)(e),Module._CreateExecutorState=()=>(Module._CreateExecutorState=wasmExports.CreateExecutorState)(),Module._MakePerTupleExprContext=e=>(Module._MakePerTupleExprContext=wasmExports.MakePerTupleExprContext)(e),Module._GetOldestNonRemovableTransactionId=e=>(Module._GetOldestNonRemovableTransactionId=wasmExports.GetOldestNonRemovableTransactionId)(e),Module._FreeExecutorState=e=>(Module._FreeExecutorState=wasmExports.FreeExecutorState)(e),Module._MakeSingleTupleTableSlot=(e,rr)=>(Module._MakeSingleTupleTableSlot=wasmExports.MakeSingleTupleTableSlot)(e,rr),Module._ExecStoreHeapTuple=(e,rr,ir)=>(Module._ExecStoreHeapTuple=wasmExports.ExecStoreHeapTuple)(e,rr,ir),Module._visibilitymap_get_status=(e,rr,ir)=>(Module._visibilitymap_get_status=wasmExports.visibilitymap_get_status)(e,rr,ir),Module._ExecStoreAllNullTuple=e=>(Module._ExecStoreAllNullTuple=wasmExports.ExecStoreAllNullTuple)(e),Module._XidInMVCCSnapshot=(e,rr)=>(Module._XidInMVCCSnapshot=wasmExports.XidInMVCCSnapshot)(e,rr),Module._hash_seq_init=(e,rr)=>(Module._hash_seq_init=wasmExports.hash_seq_init)(e,rr),Module._hash_seq_search=e=>(Module._hash_seq_search=wasmExports.hash_seq_search)(e),Module._ftruncate=(e,rr)=>(Module._ftruncate=wasmExports.ftruncate)(e,rr),Module._fd_fsync_fname=(e,rr)=>(Module._fd_fsync_fname=wasmExports.fd_fsync_fname)(e,rr),Module._get_namespace_name=e=>(Module._get_namespace_name=wasmExports.get_namespace_name)(e),Module._GetRecordedFreeSpace=(e,rr)=>(Module._GetRecordedFreeSpace=wasmExports.GetRecordedFreeSpace)(e,rr),Module._vac_estimate_reltuples=(e,rr,ir,lr)=>(Module._vac_estimate_reltuples=wasmExports.vac_estimate_reltuples)(e,rr,ir,lr),Module._WaitLatch=(e,rr,ir,lr)=>(Module._WaitLatch=wasmExports.WaitLatch)(e,rr,ir,lr),Module._ResetLatch=e=>(Module._ResetLatch=wasmExports.ResetLatch)(e),Module._clock_gettime=(e,rr)=>(Module._clock_gettime=wasmExports.clock_gettime)(e,rr),Module._WalUsageAccumDiff=(e,rr,ir)=>(Module._WalUsageAccumDiff=wasmExports.WalUsageAccumDiff)(e,rr,ir),Module._BufferUsageAccumDiff=(e,rr,ir)=>(Module._BufferUsageAccumDiff=wasmExports.BufferUsageAccumDiff)(e,rr,ir),Module._visibilitymap_prepare_truncate=(e,rr)=>(Module._visibilitymap_prepare_truncate=wasmExports.visibilitymap_prepare_truncate)(e,rr),Module._pg_class_aclcheck=(e,rr,ir)=>(Module._pg_class_aclcheck=wasmExports.pg_class_aclcheck)(e,rr,ir),Module._btboolcmp=e=>(Module._btboolcmp=wasmExports.btboolcmp)(e),Module._btint2cmp=e=>(Module._btint2cmp=wasmExports.btint2cmp)(e),Module._btint4cmp=e=>(Module._btint4cmp=wasmExports.btint4cmp)(e),Module._btint8cmp=e=>(Module._btint8cmp=wasmExports.btint8cmp)(e),Module._btoidcmp=e=>(Module._btoidcmp=wasmExports.btoidcmp)(e),Module._btcharcmp=e=>(Module._btcharcmp=wasmExports.btcharcmp)(e),Module.__bt_form_posting=(e,rr,ir)=>(Module.__bt_form_posting=wasmExports._bt_form_posting)(e,rr,ir),Module.__bt_mkscankey=(e,rr)=>(Module.__bt_mkscankey=wasmExports._bt_mkscankey)(e,rr),Module.__bt_checkpage=(e,rr)=>(Module.__bt_checkpage=wasmExports._bt_checkpage)(e,rr),Module.__bt_compare=(e,rr,ir,lr)=>(Module.__bt_compare=wasmExports._bt_compare)(e,rr,ir,lr),Module.__bt_relbuf=(e,rr)=>(Module.__bt_relbuf=wasmExports._bt_relbuf)(e,rr),Module.__bt_search=(e,rr,ir,lr,dr)=>(Module.__bt_search=wasmExports._bt_search)(e,rr,ir,lr,dr),Module.__bt_binsrch_insert=(e,rr)=>(Module.__bt_binsrch_insert=wasmExports._bt_binsrch_insert)(e,rr),Module.__bt_freestack=e=>(Module.__bt_freestack=wasmExports._bt_freestack)(e),Module.__bt_metaversion=(e,rr,ir)=>(Module.__bt_metaversion=wasmExports._bt_metaversion)(e,rr,ir),Module.__bt_allequalimage=(e,rr)=>(Module.__bt_allequalimage=wasmExports._bt_allequalimage)(e,rr),Module._before_shmem_exit=(e,rr)=>(Module._before_shmem_exit=wasmExports.before_shmem_exit)(e,rr),Module._cancel_before_shmem_exit=(e,rr)=>(Module._cancel_before_shmem_exit=wasmExports.cancel_before_shmem_exit)(e,rr),Module._pg_re_throw=()=>(Module._pg_re_throw=wasmExports.pg_re_throw)(),Module._get_opfamily_member=(e,rr,ir,lr)=>(Module._get_opfamily_member=wasmExports.get_opfamily_member)(e,rr,ir,lr),Module.__bt_check_natts=(e,rr,ir,lr)=>(Module.__bt_check_natts=wasmExports._bt_check_natts)(e,rr,ir,lr),Module._strncpy=(e,rr,ir)=>(Module._strncpy=wasmExports.strncpy)(e,rr,ir),Module._timestamptz_to_str=e=>(Module._timestamptz_to_str=wasmExports.timestamptz_to_str)(e),Module._XLogRecGetBlockRefInfo=(e,rr,ir,lr,dr)=>(Module._XLogRecGetBlockRefInfo=wasmExports.XLogRecGetBlockRefInfo)(e,rr,ir,lr,dr),Module._varstr_cmp=(e,rr,ir,lr,dr)=>(Module._varstr_cmp=wasmExports.varstr_cmp)(e,rr,ir,lr,dr),Module._exprType=e=>(Module._exprType=wasmExports.exprType)(e),Module._GetActiveSnapshot=()=>(Module._GetActiveSnapshot=wasmExports.GetActiveSnapshot)(),Module._errdetail_relkind_not_supported=e=>(Module._errdetail_relkind_not_supported=wasmExports.errdetail_relkind_not_supported)(e),Module._table_openrv=(e,rr)=>(Module._table_openrv=wasmExports.table_openrv)(e,rr),Module._table_slot_callbacks=e=>(Module._table_slot_callbacks=wasmExports.table_slot_callbacks)(e),Module._clamp_row_est=e=>(Module._clamp_row_est=wasmExports.clamp_row_est)(e),Module._estimate_expression_value=(e,rr)=>(Module._estimate_expression_value=wasmExports.estimate_expression_value)(e,rr),Module._XLogFlush=e=>(Module._XLogFlush=wasmExports.XLogFlush)(e),Module._get_call_result_type=(e,rr,ir)=>(Module._get_call_result_type=wasmExports.get_call_result_type)(e,rr,ir),Module._HeapTupleHeaderGetDatum=e=>(Module._HeapTupleHeaderGetDatum=wasmExports.HeapTupleHeaderGetDatum)(e),Module._GenericXLogStart=e=>(Module._GenericXLogStart=wasmExports.GenericXLogStart)(e),Module._GenericXLogRegisterBuffer=(e,rr,ir)=>(Module._GenericXLogRegisterBuffer=wasmExports.GenericXLogRegisterBuffer)(e,rr,ir),Module._GenericXLogFinish=e=>(Module._GenericXLogFinish=wasmExports.GenericXLogFinish)(e),Module._GenericXLogAbort=e=>(Module._GenericXLogAbort=wasmExports.GenericXLogAbort)(e),Module._errmsg_plural=(e,rr,ir,lr)=>(Module._errmsg_plural=wasmExports.errmsg_plural)(e,rr,ir,lr),Module._ReadNextMultiXactId=()=>(Module._ReadNextMultiXactId=wasmExports.ReadNextMultiXactId)(),Module._ReadMultiXactIdRange=(e,rr)=>(Module._ReadMultiXactIdRange=wasmExports.ReadMultiXactIdRange)(e,rr),Module._MultiXactIdPrecedesOrEquals=(e,rr)=>(Module._MultiXactIdPrecedesOrEquals=wasmExports.MultiXactIdPrecedesOrEquals)(e,rr),Module._init_MultiFuncCall=e=>(Module._init_MultiFuncCall=wasmExports.init_MultiFuncCall)(e),Module._TupleDescGetAttInMetadata=e=>(Module._TupleDescGetAttInMetadata=wasmExports.TupleDescGetAttInMetadata)(e),Module._per_MultiFuncCall=e=>(Module._per_MultiFuncCall=wasmExports.per_MultiFuncCall)(e),Module._BuildTupleFromCStrings=(e,rr)=>(Module._BuildTupleFromCStrings=wasmExports.BuildTupleFromCStrings)(e,rr),Module._end_MultiFuncCall=(e,rr)=>(Module._end_MultiFuncCall=wasmExports.end_MultiFuncCall)(e,rr),Module._GetCurrentSubTransactionId=()=>(Module._GetCurrentSubTransactionId=wasmExports.GetCurrentSubTransactionId)(),Module._WaitForBackgroundWorkerShutdown=e=>(Module._WaitForBackgroundWorkerShutdown=wasmExports.WaitForBackgroundWorkerShutdown)(e),Module._RegisterDynamicBackgroundWorker=(e,rr)=>(Module._RegisterDynamicBackgroundWorker=wasmExports.RegisterDynamicBackgroundWorker)(e,rr),Module._BackgroundWorkerUnblockSignals=()=>(Module._BackgroundWorkerUnblockSignals=wasmExports.BackgroundWorkerUnblockSignals)(),Module._BackgroundWorkerInitializeConnectionByOid=(e,rr,ir)=>(Module._BackgroundWorkerInitializeConnectionByOid=wasmExports.BackgroundWorkerInitializeConnectionByOid)(e,rr,ir),Module._GetDatabaseEncoding=()=>(Module._GetDatabaseEncoding=wasmExports.GetDatabaseEncoding)(),Module._RmgrNotFound=e=>(Module._RmgrNotFound=wasmExports.RmgrNotFound)(e),Module._InitMaterializedSRF=(e,rr)=>(Module._InitMaterializedSRF=wasmExports.InitMaterializedSRF)(e,rr),Module._tuplestore_putvalues=(e,rr,ir,lr)=>(Module._tuplestore_putvalues=wasmExports.tuplestore_putvalues)(e,rr,ir,lr),Module._lseek=(e,rr,ir)=>(Module._lseek=wasmExports.lseek)(e,rr,ir),Module._AllocateFile=(e,rr)=>(Module._AllocateFile=wasmExports.AllocateFile)(e,rr),Module._FreeFile=e=>(Module._FreeFile=wasmExports.FreeFile)(e),Module._fd_durable_rename=(e,rr,ir)=>(Module._fd_durable_rename=wasmExports.fd_durable_rename)(e,rr,ir),Module._BlessTupleDesc=e=>(Module._BlessTupleDesc=wasmExports.BlessTupleDesc)(e),Module._fstat=(e,rr)=>(Module._fstat=wasmExports.fstat)(e,rr),Module._superuser_arg=e=>(Module._superuser_arg=wasmExports.superuser_arg)(e),Module._wal_segment_close=e=>(Module._wal_segment_close=wasmExports.wal_segment_close)(e),Module._wal_segment_open=(e,rr,ir)=>(Module._wal_segment_open=wasmExports.wal_segment_open)(e,rr,ir),Module._XLogReaderAllocate=(e,rr,ir,lr)=>(Module._XLogReaderAllocate=wasmExports.XLogReaderAllocate)(e,rr,ir,lr),Module._XLogReadRecord=(e,rr)=>(Module._XLogReadRecord=wasmExports.XLogReadRecord)(e,rr),Module._XLogReaderFree=e=>(Module._XLogReaderFree=wasmExports.XLogReaderFree)(e),Module._GetTopFullTransactionId=()=>(Module._GetTopFullTransactionId=wasmExports.GetTopFullTransactionId)(),Module._GetCurrentTransactionNestLevel=()=>(Module._GetCurrentTransactionNestLevel=wasmExports.GetCurrentTransactionNestLevel)(),Module._ResourceOwnerCreate=(e,rr)=>(Module._ResourceOwnerCreate=wasmExports.ResourceOwnerCreate)(e,rr),Module._RegisterXactCallback=(e,rr)=>(Module._RegisterXactCallback=wasmExports.RegisterXactCallback)(e,rr),Module._RegisterSubXactCallback=(e,rr)=>(Module._RegisterSubXactCallback=wasmExports.RegisterSubXactCallback)(e,rr),Module._BeginInternalSubTransaction=e=>(Module._BeginInternalSubTransaction=wasmExports.BeginInternalSubTransaction)(e),Module._ReleaseCurrentSubTransaction=()=>(Module._ReleaseCurrentSubTransaction=wasmExports.ReleaseCurrentSubTransaction)(),Module._ResourceOwnerDelete=e=>(Module._ResourceOwnerDelete=wasmExports.ResourceOwnerDelete)(e),Module._RollbackAndReleaseCurrentSubTransaction=()=>(Module._RollbackAndReleaseCurrentSubTransaction=wasmExports.RollbackAndReleaseCurrentSubTransaction)(),Module._ReleaseExternalFD=()=>(Module._ReleaseExternalFD=wasmExports.ReleaseExternalFD)(),Module._GetFlushRecPtr=e=>(Module._GetFlushRecPtr=wasmExports.GetFlushRecPtr)(e),Module._GetXLogReplayRecPtr=e=>(Module._GetXLogReplayRecPtr=wasmExports.GetXLogReplayRecPtr)(e),Module._TimestampDifferenceMilliseconds=(e,rr)=>(Module._TimestampDifferenceMilliseconds=wasmExports.TimestampDifferenceMilliseconds)(e,rr),Module._numeric_in=e=>(Module._numeric_in=wasmExports.numeric_in)(e),Module._DirectFunctionCall3Coll=(e,rr,ir,lr,dr)=>(Module._DirectFunctionCall3Coll=wasmExports.DirectFunctionCall3Coll)(e,rr,ir,lr,dr),Module._XLogFindNextRecord=(e,rr)=>(Module._XLogFindNextRecord=wasmExports.XLogFindNextRecord)(e,rr),Module._RestoreBlockImage=(e,rr,ir)=>(Module._RestoreBlockImage=wasmExports.RestoreBlockImage)(e,rr,ir),Module._timestamptz_in=e=>(Module._timestamptz_in=wasmExports.timestamptz_in)(e),Module._fscanf=(e,rr,ir)=>(Module._fscanf=wasmExports.fscanf)(e,rr,ir),Module._XLogRecStoreStats=(e,rr)=>(Module._XLogRecStoreStats=wasmExports.XLogRecStoreStats)(e,rr),Module._hash_get_num_entries=e=>(Module._hash_get_num_entries=wasmExports.hash_get_num_entries)(e),Module._read_local_xlog_page_no_wait=(e,rr,ir,lr,dr)=>(Module._read_local_xlog_page_no_wait=wasmExports.read_local_xlog_page_no_wait)(e,rr,ir,lr,dr),Module._escape_json=(e,rr)=>(Module._escape_json=wasmExports.escape_json)(e,rr),Module._list_sort=(e,rr)=>(Module._list_sort=wasmExports.list_sort)(e,rr),Module._getegid=()=>(Module._getegid=wasmExports.getegid)(),Module._pg_checksum_page=(e,rr)=>(Module._pg_checksum_page=wasmExports.pg_checksum_page)(e,rr),Module._bbsink_forward_end_archive=e=>(Module._bbsink_forward_end_archive=wasmExports.bbsink_forward_end_archive)(e),Module._bbsink_forward_begin_manifest=e=>(Module._bbsink_forward_begin_manifest=wasmExports.bbsink_forward_begin_manifest)(e),Module._bbsink_forward_end_manifest=e=>(Module._bbsink_forward_end_manifest=wasmExports.bbsink_forward_end_manifest)(e),Module._bbsink_forward_end_backup=(e,rr,ir)=>(Module._bbsink_forward_end_backup=wasmExports.bbsink_forward_end_backup)(e,rr,ir),Module._bbsink_forward_cleanup=e=>(Module._bbsink_forward_cleanup=wasmExports.bbsink_forward_cleanup)(e),Module._list_concat=(e,rr)=>(Module._list_concat=wasmExports.list_concat)(e,rr),Module._bbsink_forward_begin_backup=e=>(Module._bbsink_forward_begin_backup=wasmExports.bbsink_forward_begin_backup)(e),Module._bbsink_forward_archive_contents=(e,rr)=>(Module._bbsink_forward_archive_contents=wasmExports.bbsink_forward_archive_contents)(e,rr),Module._bbsink_forward_begin_archive=(e,rr)=>(Module._bbsink_forward_begin_archive=wasmExports.bbsink_forward_begin_archive)(e,rr),Module._bbsink_forward_manifest_contents=(e,rr)=>(Module._bbsink_forward_manifest_contents=wasmExports.bbsink_forward_manifest_contents)(e,rr),Module._has_privs_of_role=(e,rr)=>(Module._has_privs_of_role=wasmExports.has_privs_of_role)(e,rr),Module._BaseBackupAddTarget=(e,rr,ir)=>(Module._BaseBackupAddTarget=wasmExports.BaseBackupAddTarget)(e,rr,ir),Module._list_copy=e=>(Module._list_copy=wasmExports.list_copy)(e),Module._tuplestore_puttuple=(e,rr)=>(Module._tuplestore_puttuple=wasmExports.tuplestore_puttuple)(e,rr),Module._makeRangeVar=(e,rr,ir)=>(Module._makeRangeVar=wasmExports.makeRangeVar)(e,rr,ir),Module._DefineIndex=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr)=>(Module._DefineIndex=wasmExports.DefineIndex)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr),Module._fread=(e,rr,ir,lr)=>(Module._fread=wasmExports.fread)(e,rr,ir,lr),Module._clearerr=e=>(Module._clearerr=wasmExports.clearerr)(e),Module._copyObjectImpl=e=>(Module._copyObjectImpl=wasmExports.copyObjectImpl)(e),Module._lappend_oid=(e,rr)=>(Module._lappend_oid=wasmExports.lappend_oid)(e,rr),Module._makeTypeNameFromNameList=e=>(Module._makeTypeNameFromNameList=wasmExports.makeTypeNameFromNameList)(e),Module._SearchSysCache2=(e,rr,ir)=>(Module._SearchSysCache2=wasmExports.SearchSysCache2)(e,rr,ir),Module._SysCacheGetAttr=(e,rr,ir,lr)=>(Module._SysCacheGetAttr=wasmExports.SysCacheGetAttr)(e,rr,ir,lr),Module._CatalogTupleUpdate=(e,rr,ir)=>(Module._CatalogTupleUpdate=wasmExports.CatalogTupleUpdate)(e,rr,ir),Module._get_rel_name=e=>(Module._get_rel_name=wasmExports.get_rel_name)(e),Module._CatalogTupleDelete=(e,rr)=>(Module._CatalogTupleDelete=wasmExports.CatalogTupleDelete)(e,rr),Module._CatalogTupleInsert=(e,rr)=>(Module._CatalogTupleInsert=wasmExports.CatalogTupleInsert)(e,rr),Module._recordDependencyOn=(e,rr,ir)=>(Module._recordDependencyOn=wasmExports.recordDependencyOn)(e,rr,ir),Module._get_element_type=e=>(Module._get_element_type=wasmExports.get_element_type)(e),Module._object_aclcheck=(e,rr,ir,lr)=>(Module._object_aclcheck=wasmExports.object_aclcheck)(e,rr,ir,lr),Module._superuser=()=>(Module._superuser=wasmExports.superuser)(),Module._SearchSysCacheAttName=(e,rr)=>(Module._SearchSysCacheAttName=wasmExports.SearchSysCacheAttName)(e,rr),Module._new_object_addresses=()=>(Module._new_object_addresses=wasmExports.new_object_addresses)(),Module._free_object_addresses=e=>(Module._free_object_addresses=wasmExports.free_object_addresses)(e),Module._performMultipleDeletions=(e,rr,ir)=>(Module._performMultipleDeletions=wasmExports.performMultipleDeletions)(e,rr,ir),Module._recordDependencyOnExpr=(e,rr,ir,lr)=>(Module._recordDependencyOnExpr=wasmExports.recordDependencyOnExpr)(e,rr,ir,lr),Module._query_tree_walker_impl=(e,rr,ir,lr)=>(Module._query_tree_walker_impl=wasmExports.query_tree_walker_impl)(e,rr,ir,lr),Module._expression_tree_walker_impl=(e,rr,ir)=>(Module._expression_tree_walker_impl=wasmExports.expression_tree_walker_impl)(e,rr,ir),Module._add_exact_object_address=(e,rr)=>(Module._add_exact_object_address=wasmExports.add_exact_object_address)(e,rr),Module._get_rel_relkind=e=>(Module._get_rel_relkind=wasmExports.get_rel_relkind)(e),Module._get_typtype=e=>(Module._get_typtype=wasmExports.get_typtype)(e),Module._list_delete_last=e=>(Module._list_delete_last=wasmExports.list_delete_last)(e),Module._type_is_collatable=e=>(Module._type_is_collatable=wasmExports.type_is_collatable)(e),Module._GetSysCacheOid=(e,rr,ir,lr,dr,fr)=>(Module._GetSysCacheOid=wasmExports.GetSysCacheOid)(e,rr,ir,lr,dr,fr),Module._CheckTableNotInUse=(e,rr)=>(Module._CheckTableNotInUse=wasmExports.CheckTableNotInUse)(e,rr),Module._construct_array=(e,rr,ir,lr,dr,fr)=>(Module._construct_array=wasmExports.construct_array)(e,rr,ir,lr,dr,fr),Module._make_parsestate=e=>(Module._make_parsestate=wasmExports.make_parsestate)(e),Module._transformExpr=(e,rr,ir)=>(Module._transformExpr=wasmExports.transformExpr)(e,rr,ir),Module._equal=(e,rr)=>(Module._equal=wasmExports.equal)(e,rr),Module._pull_var_clause=(e,rr)=>(Module._pull_var_clause=wasmExports.pull_var_clause)(e,rr),Module._get_attname=(e,rr,ir)=>(Module._get_attname=wasmExports.get_attname)(e,rr,ir),Module._coerce_to_target_type=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._coerce_to_target_type=wasmExports.coerce_to_target_type)(e,rr,ir,lr,dr,fr,mr,hr),Module._nodeToString=e=>(Module._nodeToString=wasmExports.nodeToString)(e),Module._parser_errposition=(e,rr)=>(Module._parser_errposition=wasmExports.parser_errposition)(e,rr),Module._exprTypmod=e=>(Module._exprTypmod=wasmExports.exprTypmod)(e),Module._get_base_element_type=e=>(Module._get_base_element_type=wasmExports.get_base_element_type)(e),Module._SystemFuncName=e=>(Module._SystemFuncName=wasmExports.SystemFuncName)(e),Module._CreateTrigger=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr)=>(Module._CreateTrigger=wasmExports.CreateTrigger)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr),Module._plan_create_index_workers=(e,rr)=>(Module._plan_create_index_workers=wasmExports.plan_create_index_workers)(e,rr),Module._get_rel_relispartition=e=>(Module._get_rel_relispartition=wasmExports.get_rel_relispartition)(e),Module._get_partition_ancestors=e=>(Module._get_partition_ancestors=wasmExports.get_partition_ancestors)(e),Module._get_rel_namespace=e=>(Module._get_rel_namespace=wasmExports.get_rel_namespace)(e),Module._ConditionalLockRelationOid=(e,rr)=>(Module._ConditionalLockRelationOid=wasmExports.ConditionalLockRelationOid)(e,rr),Module._RelnameGetRelid=e=>(Module._RelnameGetRelid=wasmExports.RelnameGetRelid)(e),Module._get_relkind_objtype=e=>(Module._get_relkind_objtype=wasmExports.get_relkind_objtype)(e),Module._RelationIsVisible=e=>(Module._RelationIsVisible=wasmExports.RelationIsVisible)(e),Module._get_func_arg_info=(e,rr,ir,lr)=>(Module._get_func_arg_info=wasmExports.get_func_arg_info)(e,rr,ir,lr),Module._NameListToString=e=>(Module._NameListToString=wasmExports.NameListToString)(e),Module._OpernameGetOprid=(e,rr,ir)=>(Module._OpernameGetOprid=wasmExports.OpernameGetOprid)(e,rr,ir),Module._makeRangeVarFromNameList=e=>(Module._makeRangeVarFromNameList=wasmExports.makeRangeVarFromNameList)(e),Module._quote_identifier=e=>(Module._quote_identifier=wasmExports.quote_identifier)(e),Module._GetSearchPathMatcher=e=>(Module._GetSearchPathMatcher=wasmExports.GetSearchPathMatcher)(e),Module._SearchPathMatchesCurrentEnvironment=e=>(Module._SearchPathMatchesCurrentEnvironment=wasmExports.SearchPathMatchesCurrentEnvironment)(e),Module._get_collation_oid=(e,rr)=>(Module._get_collation_oid=wasmExports.get_collation_oid)(e,rr),Module._CacheRegisterSyscacheCallback=(e,rr,ir)=>(Module._CacheRegisterSyscacheCallback=wasmExports.CacheRegisterSyscacheCallback)(e,rr,ir),Module._get_extension_oid=(e,rr)=>(Module._get_extension_oid=wasmExports.get_extension_oid)(e,rr),Module._get_role_oid=(e,rr)=>(Module._get_role_oid=wasmExports.get_role_oid)(e,rr),Module._GetForeignServerByName=(e,rr)=>(Module._GetForeignServerByName=wasmExports.GetForeignServerByName)(e,rr),Module._GetPublicationByName=(e,rr)=>(Module._GetPublicationByName=wasmExports.GetPublicationByName)(e,rr),Module._typeStringToTypeName=(e,rr)=>(Module._typeStringToTypeName=wasmExports.typeStringToTypeName)(e,rr),Module._list_make2_impl=(e,rr,ir)=>(Module._list_make2_impl=wasmExports.list_make2_impl)(e,rr,ir),Module._GetUserNameFromId=(e,rr)=>(Module._GetUserNameFromId=wasmExports.GetUserNameFromId)(e,rr),Module._format_type_extended=(e,rr,ir)=>(Module._format_type_extended=wasmExports.format_type_extended)(e,rr,ir),Module._quote_qualified_identifier=(e,rr)=>(Module._quote_qualified_identifier=wasmExports.quote_qualified_identifier)(e,rr),Module._get_tablespace_name=e=>(Module._get_tablespace_name=wasmExports.get_tablespace_name)(e),Module._GetForeignServerExtended=(e,rr)=>(Module._GetForeignServerExtended=wasmExports.GetForeignServerExtended)(e,rr),Module._GetForeignServer=e=>(Module._GetForeignServer=wasmExports.GetForeignServer)(e),Module._construct_empty_array=e=>(Module._construct_empty_array=wasmExports.construct_empty_array)(e),Module._format_type_be_qualified=e=>(Module._format_type_be_qualified=wasmExports.format_type_be_qualified)(e),Module._get_namespace_name_or_temp=e=>(Module._get_namespace_name_or_temp=wasmExports.get_namespace_name_or_temp)(e),Module._list_make3_impl=(e,rr,ir,lr)=>(Module._list_make3_impl=wasmExports.list_make3_impl)(e,rr,ir,lr),Module._construct_md_array=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._construct_md_array=wasmExports.construct_md_array)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._pull_varattnos=(e,rr,ir)=>(Module._pull_varattnos=wasmExports.pull_varattnos)(e,rr,ir),Module._get_func_name=e=>(Module._get_func_name=wasmExports.get_func_name)(e),Module._ExecPrepareExpr=(e,rr)=>(Module._ExecPrepareExpr=wasmExports.ExecPrepareExpr)(e,rr),Module._construct_array_builtin=(e,rr,ir)=>(Module._construct_array_builtin=wasmExports.construct_array_builtin)(e,rr,ir),Module._makeObjectName=(e,rr,ir)=>(Module._makeObjectName=wasmExports.makeObjectName)(e,rr,ir),Module._get_primary_key_attnos=(e,rr,ir)=>(Module._get_primary_key_attnos=wasmExports.get_primary_key_attnos)(e,rr,ir),Module._bms_is_subset=(e,rr)=>(Module._bms_is_subset=wasmExports.bms_is_subset)(e,rr),Module._getExtensionOfObject=(e,rr)=>(Module._getExtensionOfObject=wasmExports.getExtensionOfObject)(e,rr),Module._find_inheritance_children=(e,rr)=>(Module._find_inheritance_children=wasmExports.find_inheritance_children)(e,rr),Module._lappend_int=(e,rr)=>(Module._lappend_int=wasmExports.lappend_int)(e,rr),Module._has_superclass=e=>(Module._has_superclass=wasmExports.has_superclass)(e),Module._CheckFunctionValidatorAccess=(e,rr)=>(Module._CheckFunctionValidatorAccess=wasmExports.CheckFunctionValidatorAccess)(e,rr),Module._AcquireRewriteLocks=(e,rr,ir)=>(Module._AcquireRewriteLocks=wasmExports.AcquireRewriteLocks)(e,rr,ir),Module._function_parse_error_transpose=e=>(Module._function_parse_error_transpose=wasmExports.function_parse_error_transpose)(e),Module._geterrposition=()=>(Module._geterrposition=wasmExports.geterrposition)(),Module._getinternalerrposition=()=>(Module._getinternalerrposition=wasmExports.getinternalerrposition)(),Module._pg_mblen=e=>(Module._pg_mblen=wasmExports.pg_mblen)(e),Module._pg_mbstrlen_with_len=(e,rr)=>(Module._pg_mbstrlen_with_len=wasmExports.pg_mbstrlen_with_len)(e,rr),Module._errposition=e=>(Module._errposition=wasmExports.errposition)(e),Module._internalerrposition=e=>(Module._internalerrposition=wasmExports.internalerrposition)(e),Module._internalerrquery=e=>(Module._internalerrquery=wasmExports.internalerrquery)(e),Module._is_publishable_relation=e=>(Module._is_publishable_relation=wasmExports.is_publishable_relation)(e),Module._GetTopMostAncestorInPublication=(e,rr,ir)=>(Module._GetTopMostAncestorInPublication=wasmExports.GetTopMostAncestorInPublication)(e,rr,ir),Module._GetRelationPublications=e=>(Module._GetRelationPublications=wasmExports.GetRelationPublications)(e),Module._GetSchemaPublications=e=>(Module._GetSchemaPublications=wasmExports.GetSchemaPublications)(e),Module._pub_collist_to_bitmapset=(e,rr,ir)=>(Module._pub_collist_to_bitmapset=wasmExports.pub_collist_to_bitmapset)(e,rr,ir),Module._list_delete_nth_cell=(e,rr)=>(Module._list_delete_nth_cell=wasmExports.list_delete_nth_cell)(e,rr),Module._get_array_type=e=>(Module._get_array_type=wasmExports.get_array_type)(e),Module._smgrtruncate2=(e,rr,ir,lr,dr)=>(Module._smgrtruncate2=wasmExports.smgrtruncate2)(e,rr,ir,lr,dr),Module._smgrreadv=(e,rr,ir,lr,dr)=>(Module._smgrreadv=wasmExports.smgrreadv)(e,rr,ir,lr,dr),Module._NewRelationCreateToastTable=(e,rr)=>(Module._NewRelationCreateToastTable=wasmExports.NewRelationCreateToastTable)(e,rr),Module._transformStmt=(e,rr)=>(Module._transformStmt=wasmExports.transformStmt)(e,rr),Module._exprLocation=e=>(Module._exprLocation=wasmExports.exprLocation)(e),Module._ParseFuncOrColumn=(e,rr,ir,lr,dr,fr,mr)=>(Module._ParseFuncOrColumn=wasmExports.ParseFuncOrColumn)(e,rr,ir,lr,dr,fr,mr),Module._exprCollation=e=>(Module._exprCollation=wasmExports.exprCollation)(e),Module._transformDistinctClause=(e,rr,ir,lr)=>(Module._transformDistinctClause=wasmExports.transformDistinctClause)(e,rr,ir,lr),Module._makeTargetEntry=(e,rr,ir,lr)=>(Module._makeTargetEntry=wasmExports.makeTargetEntry)(e,rr,ir,lr),Module._makeAlias=(e,rr)=>(Module._makeAlias=wasmExports.makeAlias)(e,rr),Module._addRangeTableEntryForSubquery=(e,rr,ir,lr,dr)=>(Module._addRangeTableEntryForSubquery=wasmExports.addRangeTableEntryForSubquery)(e,rr,ir,lr,dr),Module._makeVar=(e,rr,ir,lr,dr,fr)=>(Module._makeVar=wasmExports.makeVar)(e,rr,ir,lr,dr,fr),Module._makeBoolean=e=>(Module._makeBoolean=wasmExports.makeBoolean)(e),Module._makeInteger=e=>(Module._makeInteger=wasmExports.makeInteger)(e),Module._makeTypeName=e=>(Module._makeTypeName=wasmExports.makeTypeName)(e),Module._makeFuncCall=(e,rr,ir,lr)=>(Module._makeFuncCall=wasmExports.makeFuncCall)(e,rr,ir,lr),Module._list_make4_impl=(e,rr,ir,lr,dr)=>(Module._list_make4_impl=wasmExports.list_make4_impl)(e,rr,ir,lr,dr),Module._get_sortgroupclause_tle=(e,rr)=>(Module._get_sortgroupclause_tle=wasmExports.get_sortgroupclause_tle)(e,rr),Module._flatten_join_alias_vars=(e,rr,ir)=>(Module._flatten_join_alias_vars=wasmExports.flatten_join_alias_vars)(e,rr,ir),Module._list_member_int=(e,rr)=>(Module._list_member_int=wasmExports.list_member_int)(e,rr),Module._addRangeTableEntryForENR=(e,rr,ir)=>(Module._addRangeTableEntryForENR=wasmExports.addRangeTableEntryForENR)(e,rr,ir),Module._typenameTypeIdAndMod=(e,rr,ir,lr)=>(Module._typenameTypeIdAndMod=wasmExports.typenameTypeIdAndMod)(e,rr,ir,lr),Module._get_typcollation=e=>(Module._get_typcollation=wasmExports.get_typcollation)(e),Module._strip_implicit_coercions=e=>(Module._strip_implicit_coercions=wasmExports.strip_implicit_coercions)(e),Module._get_sortgroupref_tle=(e,rr)=>(Module._get_sortgroupref_tle=wasmExports.get_sortgroupref_tle)(e,rr),Module._contain_aggs_of_level=(e,rr)=>(Module._contain_aggs_of_level=wasmExports.contain_aggs_of_level)(e,rr),Module._typeidType=e=>(Module._typeidType=wasmExports.typeidType)(e),Module._typeTypeCollation=e=>(Module._typeTypeCollation=wasmExports.typeTypeCollation)(e),Module._typeLen=e=>(Module._typeLen=wasmExports.typeLen)(e),Module._typeByVal=e=>(Module._typeByVal=wasmExports.typeByVal)(e),Module._makeConst=(e,rr,ir,lr,dr,fr,mr)=>(Module._makeConst=wasmExports.makeConst)(e,rr,ir,lr,dr,fr,mr),Module._lookup_rowtype_tupdesc=(e,rr)=>(Module._lookup_rowtype_tupdesc=wasmExports.lookup_rowtype_tupdesc)(e,rr),Module._bms_del_member=(e,rr)=>(Module._bms_del_member=wasmExports.bms_del_member)(e,rr),Module._list_member=(e,rr)=>(Module._list_member=wasmExports.list_member)(e,rr),Module._type_is_rowtype=e=>(Module._type_is_rowtype=wasmExports.type_is_rowtype)(e),Module._bit_in=e=>(Module._bit_in=wasmExports.bit_in)(e),Module._bms_union=(e,rr)=>(Module._bms_union=wasmExports.bms_union)(e,rr),Module._varstr_levenshtein_less_equal=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._varstr_levenshtein_less_equal=wasmExports.varstr_levenshtein_less_equal)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._addRTEPermissionInfo=(e,rr)=>(Module._addRTEPermissionInfo=wasmExports.addRTEPermissionInfo)(e,rr),Module._errsave_start=(e,rr)=>(Module._errsave_start=wasmExports.errsave_start)(e,rr),Module._errsave_finish=(e,rr,ir,lr)=>(Module._errsave_finish=wasmExports.errsave_finish)(e,rr,ir,lr),Module._makeColumnDef=(e,rr,ir,lr)=>(Module._makeColumnDef=wasmExports.makeColumnDef)(e,rr,ir,lr),Module._GetDefaultOpClass=(e,rr)=>(Module._GetDefaultOpClass=wasmExports.GetDefaultOpClass)(e,rr),Module._scanner_init=(e,rr,ir,lr)=>(Module._scanner_init=wasmExports.scanner_init)(e,rr,ir,lr),Module._scanner_finish=e=>(Module._scanner_finish=wasmExports.scanner_finish)(e),Module._core_yylex=(e,rr,ir)=>(Module._core_yylex=wasmExports.core_yylex)(e,rr,ir),Module._isxdigit=e=>(Module._isxdigit=wasmExports.isxdigit)(e),Module._scanner_isspace=e=>(Module._scanner_isspace=wasmExports.scanner_isspace)(e),Module._truncate_identifier=(e,rr,ir)=>(Module._truncate_identifier=wasmExports.truncate_identifier)(e,rr,ir),Module._downcase_truncate_identifier=(e,rr,ir)=>(Module._downcase_truncate_identifier=wasmExports.downcase_truncate_identifier)(e,rr,ir),Module._pg_database_encoding_max_length=()=>(Module._pg_database_encoding_max_length=wasmExports.pg_database_encoding_max_length)(),Module._namein=e=>(Module._namein=wasmExports.namein)(e),Module._BlockSampler_Init=(e,rr,ir,lr)=>(Module._BlockSampler_Init=wasmExports.BlockSampler_Init)(e,rr,ir,lr),Module._reservoir_init_selection_state=(e,rr)=>(Module._reservoir_init_selection_state=wasmExports.reservoir_init_selection_state)(e,rr),Module._reservoir_get_next_S=(e,rr,ir)=>(Module._reservoir_get_next_S=wasmExports.reservoir_get_next_S)(e,rr,ir),Module._sampler_random_fract=e=>(Module._sampler_random_fract=wasmExports.sampler_random_fract)(e),Module._BlockSampler_HasMore=e=>(Module._BlockSampler_HasMore=wasmExports.BlockSampler_HasMore)(e),Module._BlockSampler_Next=e=>(Module._BlockSampler_Next=wasmExports.BlockSampler_Next)(e),Module._Async_Notify=(e,rr)=>(Module._Async_Notify=wasmExports.Async_Notify)(e,rr),Module._RangeVarCallbackMaintainsTable=(e,rr,ir,lr)=>(Module._RangeVarCallbackMaintainsTable=wasmExports.RangeVarCallbackMaintainsTable)(e,rr,ir,lr),Module._make_new_heap=(e,rr,ir,lr,dr)=>(Module._make_new_heap=wasmExports.make_new_heap)(e,rr,ir,lr,dr),Module._finish_heap_swap=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._finish_heap_swap=wasmExports.finish_heap_swap)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._wasm_OpenPipeStream=(e,rr)=>(Module._wasm_OpenPipeStream=wasmExports.wasm_OpenPipeStream)(e,rr),Module._ClosePipeStream=e=>(Module._ClosePipeStream=wasmExports.ClosePipeStream)(e),Module._BeginCopyFrom=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._BeginCopyFrom=wasmExports.BeginCopyFrom)(e,rr,ir,lr,dr,fr,mr,hr),Module._EndCopyFrom=e=>(Module._EndCopyFrom=wasmExports.EndCopyFrom)(e),Module._ProcessCopyOptions=(e,rr,ir,lr)=>(Module._ProcessCopyOptions=wasmExports.ProcessCopyOptions)(e,rr,ir,lr),Module._CopyFromErrorCallback=e=>(Module._CopyFromErrorCallback=wasmExports.CopyFromErrorCallback)(e),Module._ExecInitRangeTable=(e,rr,ir)=>(Module._ExecInitRangeTable=wasmExports.ExecInitRangeTable)(e,rr,ir),Module._NextCopyFrom=(e,rr,ir,lr)=>(Module._NextCopyFrom=wasmExports.NextCopyFrom)(e,rr,ir,lr),Module._ExecInitExpr=(e,rr)=>(Module._ExecInitExpr=wasmExports.ExecInitExpr)(e,rr),Module._report_invalid_encoding=(e,rr,ir)=>(Module._report_invalid_encoding=wasmExports.report_invalid_encoding)(e,rr,ir),Module._tolower=e=>(Module._tolower=wasmExports.tolower)(e),Module._PushCopiedSnapshot=e=>(Module._PushCopiedSnapshot=wasmExports.PushCopiedSnapshot)(e),Module._UpdateActiveSnapshotCommandId=()=>(Module._UpdateActiveSnapshotCommandId=wasmExports.UpdateActiveSnapshotCommandId)(),Module._CreateQueryDesc=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._CreateQueryDesc=wasmExports.CreateQueryDesc)(e,rr,ir,lr,dr,fr,mr,hr),Module._ExecutorStart=(e,rr)=>(Module._ExecutorStart=wasmExports.ExecutorStart)(e,rr),Module._ExecutorFinish=e=>(Module._ExecutorFinish=wasmExports.ExecutorFinish)(e),Module._ExecutorEnd=e=>(Module._ExecutorEnd=wasmExports.ExecutorEnd)(e),Module._FreeQueryDesc=e=>(Module._FreeQueryDesc=wasmExports.FreeQueryDesc)(e),Module._pg_server_to_any=(e,rr,ir)=>(Module._pg_server_to_any=wasmExports.pg_server_to_any)(e,rr,ir),Module._ExecutorRun=(e,rr,ir,lr)=>(Module._ExecutorRun=wasmExports.ExecutorRun)(e,rr,ir,lr),Module._CreateTableAsRelExists=e=>(Module._CreateTableAsRelExists=wasmExports.CreateTableAsRelExists)(e),Module._DefineRelation=(e,rr,ir,lr,dr,fr)=>(Module._DefineRelation=wasmExports.DefineRelation)(e,rr,ir,lr,dr,fr),Module._oidin=e=>(Module._oidin=wasmExports.oidin)(e),Module._GetCommandTagName=e=>(Module._GetCommandTagName=wasmExports.GetCommandTagName)(e),Module._ExplainBeginOutput=e=>(Module._ExplainBeginOutput=wasmExports.ExplainBeginOutput)(e),Module._NewExplainState=()=>(Module._NewExplainState=wasmExports.NewExplainState)(),Module._ExplainEndOutput=e=>(Module._ExplainEndOutput=wasmExports.ExplainEndOutput)(e),Module._ExplainPrintPlan=(e,rr)=>(Module._ExplainPrintPlan=wasmExports.ExplainPrintPlan)(e,rr),Module._ExplainPrintTriggers=(e,rr)=>(Module._ExplainPrintTriggers=wasmExports.ExplainPrintTriggers)(e,rr),Module._ExplainPrintJITSummary=(e,rr)=>(Module._ExplainPrintJITSummary=wasmExports.ExplainPrintJITSummary)(e,rr),Module._InstrEndLoop=e=>(Module._InstrEndLoop=wasmExports.InstrEndLoop)(e),Module._ExplainPropertyInteger=(e,rr,ir,lr)=>(Module._ExplainPropertyInteger=wasmExports.ExplainPropertyInteger)(e,rr,ir,lr),Module._make_orclause=e=>(Module._make_orclause=wasmExports.make_orclause)(e),Module._ExplainQueryText=(e,rr)=>(Module._ExplainQueryText=wasmExports.ExplainQueryText)(e,rr),Module._ExplainPropertyText=(e,rr,ir)=>(Module._ExplainPropertyText=wasmExports.ExplainPropertyText)(e,rr,ir),Module._ExplainQueryParameters=(e,rr,ir)=>(Module._ExplainQueryParameters=wasmExports.ExplainQueryParameters)(e,rr,ir),Module._get_func_namespace=e=>(Module._get_func_namespace=wasmExports.get_func_namespace)(e),Module._get_rel_type_id=e=>(Module._get_rel_type_id=wasmExports.get_rel_type_id)(e),Module._set_config_option=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._set_config_option=wasmExports.set_config_option)(e,rr,ir,lr,dr,fr,mr,hr),Module._pg_any_to_server=(e,rr,ir)=>(Module._pg_any_to_server=wasmExports.pg_any_to_server)(e,rr,ir),Module._DirectFunctionCall4Coll=(e,rr,ir,lr,dr,fr)=>(Module._DirectFunctionCall4Coll=wasmExports.DirectFunctionCall4Coll)(e,rr,ir,lr,dr,fr),Module._list_delete_cell=(e,rr)=>(Module._list_delete_cell=wasmExports.list_delete_cell)(e,rr),Module._GetForeignDataWrapper=e=>(Module._GetForeignDataWrapper=wasmExports.GetForeignDataWrapper)(e),Module._CreateExprContext=e=>(Module._CreateExprContext=wasmExports.CreateExprContext)(e),Module._EnsurePortalSnapshotExists=()=>(Module._EnsurePortalSnapshotExists=wasmExports.EnsurePortalSnapshotExists)(),Module._CheckIndexCompatible=(e,rr,ir,lr)=>(Module._CheckIndexCompatible=wasmExports.CheckIndexCompatible)(e,rr,ir,lr),Module._pgstat_count_truncate=e=>(Module._pgstat_count_truncate=wasmExports.pgstat_count_truncate)(e),Module._SPI_connect=()=>(Module._SPI_connect=wasmExports.SPI_connect)(),Module._SPI_exec=(e,rr)=>(Module._SPI_exec=wasmExports.SPI_exec)(e,rr),Module._SPI_execute=(e,rr,ir)=>(Module._SPI_execute=wasmExports.SPI_execute)(e,rr,ir),Module._SPI_getvalue=(e,rr,ir)=>(Module._SPI_getvalue=wasmExports.SPI_getvalue)(e,rr,ir),Module._generate_operator_clause=(e,rr,ir,lr,dr,fr)=>(Module._generate_operator_clause=wasmExports.generate_operator_clause)(e,rr,ir,lr,dr,fr),Module._SPI_finish=()=>(Module._SPI_finish=wasmExports.SPI_finish)(),Module._CreateTransientRelDestReceiver=e=>(Module._CreateTransientRelDestReceiver=wasmExports.CreateTransientRelDestReceiver)(e),Module._MemoryContextSetIdentifier=(e,rr)=>(Module._MemoryContextSetIdentifier=wasmExports.MemoryContextSetIdentifier)(e,rr),Module._checkExprHasSubLink=e=>(Module._checkExprHasSubLink=wasmExports.checkExprHasSubLink)(e),Module._SetTuplestoreDestReceiverParams=(e,rr,ir,lr,dr,fr)=>(Module._SetTuplestoreDestReceiverParams=wasmExports.SetTuplestoreDestReceiverParams)(e,rr,ir,lr,dr,fr),Module._tuplestore_rescan=e=>(Module._tuplestore_rescan=wasmExports.tuplestore_rescan)(e),Module._MemoryContextDeleteChildren=e=>(Module._MemoryContextDeleteChildren=wasmExports.MemoryContextDeleteChildren)(e),Module._ReleaseCachedPlan=(e,rr)=>(Module._ReleaseCachedPlan=wasmExports.ReleaseCachedPlan)(e,rr),Module._bms_equal=(e,rr)=>(Module._bms_equal=wasmExports.bms_equal)(e,rr),Module._nextval=e=>(Module._nextval=wasmExports.nextval)(e),Module._textToQualifiedNameList=e=>(Module._textToQualifiedNameList=wasmExports.textToQualifiedNameList)(e),Module._defGetStreamingMode=e=>(Module._defGetStreamingMode=wasmExports.defGetStreamingMode)(e),Module._pg_lsn_in=e=>(Module._pg_lsn_in=wasmExports.pg_lsn_in)(e),Module._tuplestore_gettupleslot=(e,rr,ir,lr)=>(Module._tuplestore_gettupleslot=wasmExports.tuplestore_gettupleslot)(e,rr,ir,lr),Module._list_delete=(e,rr)=>(Module._list_delete=wasmExports.list_delete)(e,rr),Module._tuplestore_end=e=>(Module._tuplestore_end=wasmExports.tuplestore_end)(e),Module._quote_literal_cstr=e=>(Module._quote_literal_cstr=wasmExports.quote_literal_cstr)(e),Module._contain_mutable_functions=e=>(Module._contain_mutable_functions=wasmExports.contain_mutable_functions)(e),Module._ExecuteTruncateGuts=(e,rr,ir,lr,dr,fr)=>(Module._ExecuteTruncateGuts=wasmExports.ExecuteTruncateGuts)(e,rr,ir,lr,dr,fr),Module._bms_make_singleton=e=>(Module._bms_make_singleton=wasmExports.bms_make_singleton)(e),Module._tuplestore_puttupleslot=(e,rr)=>(Module._tuplestore_puttupleslot=wasmExports.tuplestore_puttupleslot)(e,rr),Module._tuplestore_begin_heap=(e,rr,ir)=>(Module._tuplestore_begin_heap=wasmExports.tuplestore_begin_heap)(e,rr,ir),Module._ExecForceStoreHeapTuple=(e,rr,ir)=>(Module._ExecForceStoreHeapTuple=wasmExports.ExecForceStoreHeapTuple)(e,rr,ir),Module._strtod=(e,rr)=>(Module._strtod=wasmExports.strtod)(e,rr),Module._plain_crypt_verify=(e,rr,ir,lr)=>(Module._plain_crypt_verify=wasmExports.plain_crypt_verify)(e,rr,ir,lr),Module._ProcessConfigFile=e=>(Module._ProcessConfigFile=wasmExports.ProcessConfigFile)(e),Module._ExecReScan=e=>(Module._ExecReScan=wasmExports.ExecReScan)(e),Module._ExecAsyncResponse=e=>(Module._ExecAsyncResponse=wasmExports.ExecAsyncResponse)(e),Module._ExecAsyncRequestDone=(e,rr)=>(Module._ExecAsyncRequestDone=wasmExports.ExecAsyncRequestDone)(e,rr),Module._ExecAsyncRequestPending=e=>(Module._ExecAsyncRequestPending=wasmExports.ExecAsyncRequestPending)(e),Module._ExprEvalPushStep=(e,rr)=>(Module._ExprEvalPushStep=wasmExports.ExprEvalPushStep)(e,rr),Module._ExecInitExprWithParams=(e,rr)=>(Module._ExecInitExprWithParams=wasmExports.ExecInitExprWithParams)(e,rr),Module._ExecInitExprList=(e,rr)=>(Module._ExecInitExprList=wasmExports.ExecInitExprList)(e,rr),Module._MakeExpandedObjectReadOnlyInternal=e=>(Module._MakeExpandedObjectReadOnlyInternal=wasmExports.MakeExpandedObjectReadOnlyInternal)(e),Module._tuplesort_puttupleslot=(e,rr)=>(Module._tuplesort_puttupleslot=wasmExports.tuplesort_puttupleslot)(e,rr),Module._ArrayGetNItems=(e,rr)=>(Module._ArrayGetNItems=wasmExports.ArrayGetNItems)(e,rr),Module._expanded_record_fetch_tupdesc=e=>(Module._expanded_record_fetch_tupdesc=wasmExports.expanded_record_fetch_tupdesc)(e),Module._expanded_record_fetch_field=(e,rr,ir)=>(Module._expanded_record_fetch_field=wasmExports.expanded_record_fetch_field)(e,rr,ir),Module._JsonbValueToJsonb=e=>(Module._JsonbValueToJsonb=wasmExports.JsonbValueToJsonb)(e),Module._boolout=e=>(Module._boolout=wasmExports.boolout)(e),Module._lookup_rowtype_tupdesc_domain=(e,rr,ir)=>(Module._lookup_rowtype_tupdesc_domain=wasmExports.lookup_rowtype_tupdesc_domain)(e,rr,ir),Module._MemoryContextGetParent=e=>(Module._MemoryContextGetParent=wasmExports.MemoryContextGetParent)(e),Module._DeleteExpandedObject=e=>(Module._DeleteExpandedObject=wasmExports.DeleteExpandedObject)(e),Module._ExecFindJunkAttributeInTlist=(e,rr)=>(Module._ExecFindJunkAttributeInTlist=wasmExports.ExecFindJunkAttributeInTlist)(e,rr),Module._standard_ExecutorStart=(e,rr)=>(Module._standard_ExecutorStart=wasmExports.standard_ExecutorStart)(e,rr),Module._standard_ExecutorRun=(e,rr,ir,lr)=>(Module._standard_ExecutorRun=wasmExports.standard_ExecutorRun)(e,rr,ir,lr),Module._standard_ExecutorFinish=e=>(Module._standard_ExecutorFinish=wasmExports.standard_ExecutorFinish)(e),Module._standard_ExecutorEnd=e=>(Module._standard_ExecutorEnd=wasmExports.standard_ExecutorEnd)(e),Module._InstrAlloc=(e,rr,ir)=>(Module._InstrAlloc=wasmExports.InstrAlloc)(e,rr,ir),Module._MakeTupleTableSlot=(e,rr)=>(Module._MakeTupleTableSlot=wasmExports.MakeTupleTableSlot)(e,rr),Module._get_typlenbyval=(e,rr,ir)=>(Module._get_typlenbyval=wasmExports.get_typlenbyval)(e,rr,ir),Module._bms_num_members=e=>(Module._bms_num_members=wasmExports.bms_num_members)(e),Module._InputFunctionCall=(e,rr,ir,lr)=>(Module._InputFunctionCall=wasmExports.InputFunctionCall)(e,rr,ir,lr),Module._FreeExprContext=(e,rr)=>(Module._FreeExprContext=wasmExports.FreeExprContext)(e,rr),Module._ExecOpenScanRelation=(e,rr,ir)=>(Module._ExecOpenScanRelation=wasmExports.ExecOpenScanRelation)(e,rr,ir),Module._bms_intersect=(e,rr)=>(Module._bms_intersect=wasmExports.bms_intersect)(e,rr),Module._ExecGetReturningSlot=(e,rr)=>(Module._ExecGetReturningSlot=wasmExports.ExecGetReturningSlot)(e,rr),Module._ExecGetResultRelCheckAsUser=(e,rr)=>(Module._ExecGetResultRelCheckAsUser=wasmExports.ExecGetResultRelCheckAsUser)(e,rr),Module._get_call_expr_argtype=(e,rr)=>(Module._get_call_expr_argtype=wasmExports.get_call_expr_argtype)(e,rr),Module._tuplestore_clear=e=>(Module._tuplestore_clear=wasmExports.tuplestore_clear)(e),Module._InstrUpdateTupleCount=(e,rr)=>(Module._InstrUpdateTupleCount=wasmExports.InstrUpdateTupleCount)(e,rr),Module._tuplesort_begin_heap=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._tuplesort_begin_heap=wasmExports.tuplesort_begin_heap)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._tuplesort_gettupleslot=(e,rr,ir,lr,dr)=>(Module._tuplesort_gettupleslot=wasmExports.tuplesort_gettupleslot)(e,rr,ir,lr,dr),Module._AddWaitEventToSet=(e,rr,ir,lr,dr)=>(Module._AddWaitEventToSet=wasmExports.AddWaitEventToSet)(e,rr,ir,lr,dr),Module._GetNumRegisteredWaitEvents=e=>(Module._GetNumRegisteredWaitEvents=wasmExports.GetNumRegisteredWaitEvents)(e),Module._get_attstatsslot=(e,rr,ir,lr,dr)=>(Module._get_attstatsslot=wasmExports.get_attstatsslot)(e,rr,ir,lr,dr),Module._free_attstatsslot=e=>(Module._free_attstatsslot=wasmExports.free_attstatsslot)(e),Module._tuplesort_reset=e=>(Module._tuplesort_reset=wasmExports.tuplesort_reset)(e),Module._pairingheap_first=e=>(Module._pairingheap_first=wasmExports.pairingheap_first)(e),Module._bms_nonempty_difference=(e,rr)=>(Module._bms_nonempty_difference=wasmExports.bms_nonempty_difference)(e,rr),Module._SPI_connect_ext=e=>(Module._SPI_connect_ext=wasmExports.SPI_connect_ext)(e),Module._SPI_commit=()=>(Module._SPI_commit=wasmExports.SPI_commit)(),Module._CopyErrorData=()=>(Module._CopyErrorData=wasmExports.CopyErrorData)(),Module._ReThrowError=e=>(Module._ReThrowError=wasmExports.ReThrowError)(e),Module._SPI_commit_and_chain=()=>(Module._SPI_commit_and_chain=wasmExports.SPI_commit_and_chain)(),Module._SPI_rollback=()=>(Module._SPI_rollback=wasmExports.SPI_rollback)(),Module._SPI_rollback_and_chain=()=>(Module._SPI_rollback_and_chain=wasmExports.SPI_rollback_and_chain)(),Module._SPI_freetuptable=e=>(Module._SPI_freetuptable=wasmExports.SPI_freetuptable)(e),Module._SPI_execute_extended=(e,rr)=>(Module._SPI_execute_extended=wasmExports.SPI_execute_extended)(e,rr),Module._SPI_execute_plan=(e,rr,ir,lr,dr)=>(Module._SPI_execute_plan=wasmExports.SPI_execute_plan)(e,rr,ir,lr,dr),Module._SPI_execp=(e,rr,ir,lr)=>(Module._SPI_execp=wasmExports.SPI_execp)(e,rr,ir,lr),Module._SPI_execute_plan_extended=(e,rr)=>(Module._SPI_execute_plan_extended=wasmExports.SPI_execute_plan_extended)(e,rr),Module._SPI_execute_plan_with_paramlist=(e,rr,ir,lr)=>(Module._SPI_execute_plan_with_paramlist=wasmExports.SPI_execute_plan_with_paramlist)(e,rr,ir,lr),Module._SPI_prepare=(e,rr,ir)=>(Module._SPI_prepare=wasmExports.SPI_prepare)(e,rr,ir),Module._SPI_prepare_extended=(e,rr)=>(Module._SPI_prepare_extended=wasmExports.SPI_prepare_extended)(e,rr),Module._SPI_keepplan=e=>(Module._SPI_keepplan=wasmExports.SPI_keepplan)(e),Module._SPI_freeplan=e=>(Module._SPI_freeplan=wasmExports.SPI_freeplan)(e),Module._SPI_copytuple=e=>(Module._SPI_copytuple=wasmExports.SPI_copytuple)(e),Module._SPI_returntuple=(e,rr)=>(Module._SPI_returntuple=wasmExports.SPI_returntuple)(e,rr),Module._SPI_fnumber=(e,rr)=>(Module._SPI_fnumber=wasmExports.SPI_fnumber)(e,rr),Module._SPI_fname=(e,rr)=>(Module._SPI_fname=wasmExports.SPI_fname)(e,rr),Module._SPI_getbinval=(e,rr,ir,lr)=>(Module._SPI_getbinval=wasmExports.SPI_getbinval)(e,rr,ir,lr),Module._SPI_gettype=(e,rr)=>(Module._SPI_gettype=wasmExports.SPI_gettype)(e,rr),Module._SPI_gettypeid=(e,rr)=>(Module._SPI_gettypeid=wasmExports.SPI_gettypeid)(e,rr),Module._SPI_getrelname=e=>(Module._SPI_getrelname=wasmExports.SPI_getrelname)(e),Module._SPI_palloc=e=>(Module._SPI_palloc=wasmExports.SPI_palloc)(e),Module._SPI_datumTransfer=(e,rr,ir)=>(Module._SPI_datumTransfer=wasmExports.SPI_datumTransfer)(e,rr,ir),Module._datumTransfer=(e,rr,ir)=>(Module._datumTransfer=wasmExports.datumTransfer)(e,rr,ir),Module._SPI_cursor_open_with_paramlist=(e,rr,ir,lr)=>(Module._SPI_cursor_open_with_paramlist=wasmExports.SPI_cursor_open_with_paramlist)(e,rr,ir,lr),Module._SPI_cursor_parse_open=(e,rr,ir)=>(Module._SPI_cursor_parse_open=wasmExports.SPI_cursor_parse_open)(e,rr,ir),Module._SPI_cursor_find=e=>(Module._SPI_cursor_find=wasmExports.SPI_cursor_find)(e),Module._SPI_cursor_fetch=(e,rr,ir)=>(Module._SPI_cursor_fetch=wasmExports.SPI_cursor_fetch)(e,rr,ir),Module._SPI_scroll_cursor_fetch=(e,rr,ir)=>(Module._SPI_scroll_cursor_fetch=wasmExports.SPI_scroll_cursor_fetch)(e,rr,ir),Module._SPI_scroll_cursor_move=(e,rr,ir)=>(Module._SPI_scroll_cursor_move=wasmExports.SPI_scroll_cursor_move)(e,rr,ir),Module._SPI_cursor_close=e=>(Module._SPI_cursor_close=wasmExports.SPI_cursor_close)(e),Module._SPI_plan_is_valid=e=>(Module._SPI_plan_is_valid=wasmExports.SPI_plan_is_valid)(e),Module._SPI_result_code_string=e=>(Module._SPI_result_code_string=wasmExports.SPI_result_code_string)(e),Module._SPI_plan_get_plan_sources=e=>(Module._SPI_plan_get_plan_sources=wasmExports.SPI_plan_get_plan_sources)(e),Module._SPI_plan_get_cached_plan=e=>(Module._SPI_plan_get_cached_plan=wasmExports.SPI_plan_get_cached_plan)(e),Module._SPI_register_relation=e=>(Module._SPI_register_relation=wasmExports.SPI_register_relation)(e),Module._create_queryEnv=()=>(Module._create_queryEnv=wasmExports.create_queryEnv)(),Module._register_ENR=(e,rr)=>(Module._register_ENR=wasmExports.register_ENR)(e,rr),Module._SPI_register_trigger_data=e=>(Module._SPI_register_trigger_data=wasmExports.SPI_register_trigger_data)(e),Module._tuplestore_tuple_count=e=>(Module._tuplestore_tuple_count=wasmExports.tuplestore_tuple_count)(e),Module._GetUserMapping=(e,rr)=>(Module._GetUserMapping=wasmExports.GetUserMapping)(e,rr),Module._GetForeignTable=e=>(Module._GetForeignTable=wasmExports.GetForeignTable)(e),Module._GetForeignColumnOptions=(e,rr)=>(Module._GetForeignColumnOptions=wasmExports.GetForeignColumnOptions)(e,rr),Module._initClosestMatch=(e,rr,ir)=>(Module._initClosestMatch=wasmExports.initClosestMatch)(e,rr,ir),Module._updateClosestMatch=(e,rr)=>(Module._updateClosestMatch=wasmExports.updateClosestMatch)(e,rr),Module._getClosestMatch=e=>(Module._getClosestMatch=wasmExports.getClosestMatch)(e),Module._GetExistingLocalJoinPath=e=>(Module._GetExistingLocalJoinPath=wasmExports.GetExistingLocalJoinPath)(e),Module._bloom_create=(e,rr,ir)=>(Module._bloom_create=wasmExports.bloom_create)(e,rr,ir),Module._bloom_free=e=>(Module._bloom_free=wasmExports.bloom_free)(e),Module._bloom_add_element=(e,rr,ir)=>(Module._bloom_add_element=wasmExports.bloom_add_element)(e,rr,ir),Module._bloom_lacks_element=(e,rr,ir)=>(Module._bloom_lacks_element=wasmExports.bloom_lacks_element)(e,rr,ir),Module._bloom_prop_bits_set=e=>(Module._bloom_prop_bits_set=wasmExports.bloom_prop_bits_set)(e),Module._gai_strerror=e=>(Module._gai_strerror=wasmExports.gai_strerror)(e),Module._socket=(e,rr,ir)=>(Module._socket=wasmExports.socket)(e,rr,ir),Module._bind=(e,rr,ir)=>(Module._bind=wasmExports.bind)(e,rr,ir),Module._connect=(e,rr,ir)=>(Module._connect=wasmExports.connect)(e,rr,ir),Module._send=(e,rr,ir,lr)=>(Module._send=wasmExports.send)(e,rr,ir,lr),Module._recv=(e,rr,ir,lr)=>(Module._recv=wasmExports.recv)(e,rr,ir,lr),Module._sendto=(e,rr,ir,lr,dr,fr)=>(Module._sendto=wasmExports.sendto)(e,rr,ir,lr,dr,fr),Module._recvfrom=(e,rr,ir,lr,dr,fr)=>(Module._recvfrom=wasmExports.recvfrom)(e,rr,ir,lr,dr,fr),Module._be_lo_unlink=e=>(Module._be_lo_unlink=wasmExports.be_lo_unlink)(e),Module._text_to_cstring_buffer=(e,rr,ir)=>(Module._text_to_cstring_buffer=wasmExports.text_to_cstring_buffer)(e,rr,ir),Module._feof=e=>(Module._feof=wasmExports.feof)(e),Module._pg_mb2wchar_with_len=(e,rr,ir)=>(Module._pg_mb2wchar_with_len=wasmExports.pg_mb2wchar_with_len)(e,rr,ir),Module._pg_regcomp=(e,rr,ir,lr,dr)=>(Module._pg_regcomp=wasmExports.pg_regcomp)(e,rr,ir,lr,dr),Module._pg_regerror=(e,rr,ir,lr)=>(Module._pg_regerror=wasmExports.pg_regerror)(e,rr,ir,lr),Module._strcat=(e,rr)=>(Module._strcat=wasmExports.strcat)(e,rr),Module._setsockopt=(e,rr,ir,lr,dr)=>(Module._setsockopt=wasmExports.setsockopt)(e,rr,ir,lr,dr),Module._listen=(e,rr)=>(Module._listen=wasmExports.listen)(e,rr),Module._accept=(e,rr,ir)=>(Module._accept=wasmExports.accept)(e,rr,ir),Module._getsockopt=(e,rr,ir,lr,dr)=>(Module._getsockopt=wasmExports.getsockopt)(e,rr,ir,lr,dr),Module._pq_sendtext=(e,rr,ir)=>(Module._pq_sendtext=wasmExports.pq_sendtext)(e,rr,ir),Module._pq_sendfloat4=(e,rr)=>(Module._pq_sendfloat4=wasmExports.pq_sendfloat4)(e,rr),Module._pq_sendfloat8=(e,rr)=>(Module._pq_sendfloat8=wasmExports.pq_sendfloat8)(e,rr),Module._pq_begintypsend=e=>(Module._pq_begintypsend=wasmExports.pq_begintypsend)(e),Module._pq_endtypsend=e=>(Module._pq_endtypsend=wasmExports.pq_endtypsend)(e),Module._pq_getmsgfloat4=e=>(Module._pq_getmsgfloat4=wasmExports.pq_getmsgfloat4)(e),Module._pq_getmsgfloat8=e=>(Module._pq_getmsgfloat8=wasmExports.pq_getmsgfloat8)(e),Module._pq_getmsgtext=(e,rr,ir)=>(Module._pq_getmsgtext=wasmExports.pq_getmsgtext)(e,rr,ir),Module._pg_strtoint32=e=>(Module._pg_strtoint32=wasmExports.pg_strtoint32)(e),Module._bms_membership=e=>(Module._bms_membership=wasmExports.bms_membership)(e),Module._list_make5_impl=(e,rr,ir,lr,dr,fr)=>(Module._list_make5_impl=wasmExports.list_make5_impl)(e,rr,ir,lr,dr,fr),Module._lappend_xid=(e,rr)=>(Module._lappend_xid=wasmExports.lappend_xid)(e,rr),Module._list_insert_nth=(e,rr,ir)=>(Module._list_insert_nth=wasmExports.list_insert_nth)(e,rr,ir),Module._list_member_ptr=(e,rr)=>(Module._list_member_ptr=wasmExports.list_member_ptr)(e,rr),Module._list_member_xid=(e,rr)=>(Module._list_member_xid=wasmExports.list_member_xid)(e,rr),Module._list_append_unique_ptr=(e,rr)=>(Module._list_append_unique_ptr=wasmExports.list_append_unique_ptr)(e,rr),Module._make_opclause=(e,rr,ir,lr,dr,fr,mr)=>(Module._make_opclause=wasmExports.make_opclause)(e,rr,ir,lr,dr,fr,mr),Module._exprIsLengthCoercion=(e,rr)=>(Module._exprIsLengthCoercion=wasmExports.exprIsLengthCoercion)(e,rr),Module._fix_opfuncids=e=>(Module._fix_opfuncids=wasmExports.fix_opfuncids)(e),Module._CleanQuerytext=(e,rr,ir)=>(Module._CleanQuerytext=wasmExports.CleanQuerytext)(e,rr,ir),Module._EnableQueryId=()=>(Module._EnableQueryId=wasmExports.EnableQueryId)(),Module._find_base_rel=(e,rr)=>(Module._find_base_rel=wasmExports.find_base_rel)(e,rr),Module._add_path=(e,rr)=>(Module._add_path=wasmExports.add_path)(e,rr),Module._pathkeys_contained_in=(e,rr)=>(Module._pathkeys_contained_in=wasmExports.pathkeys_contained_in)(e,rr),Module._create_sort_path=(e,rr,ir,lr,dr)=>(Module._create_sort_path=wasmExports.create_sort_path)(e,rr,ir,lr,dr),Module._set_baserel_size_estimates=(e,rr)=>(Module._set_baserel_size_estimates=wasmExports.set_baserel_size_estimates)(e,rr),Module._clauselist_selectivity=(e,rr,ir,lr,dr)=>(Module._clauselist_selectivity=wasmExports.clauselist_selectivity)(e,rr,ir,lr,dr),Module._get_tablespace_page_costs=(e,rr,ir)=>(Module._get_tablespace_page_costs=wasmExports.get_tablespace_page_costs)(e,rr,ir),Module._cost_qual_eval=(e,rr,ir)=>(Module._cost_qual_eval=wasmExports.cost_qual_eval)(e,rr,ir),Module._estimate_num_groups=(e,rr,ir,lr,dr)=>(Module._estimate_num_groups=wasmExports.estimate_num_groups)(e,rr,ir,lr,dr),Module._cost_sort=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._cost_sort=wasmExports.cost_sort)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._get_sortgrouplist_exprs=(e,rr)=>(Module._get_sortgrouplist_exprs=wasmExports.get_sortgrouplist_exprs)(e,rr),Module._make_restrictinfo=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr)=>(Module._make_restrictinfo=wasmExports.make_restrictinfo)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr),Module._generate_implied_equalities_for_column=(e,rr,ir,lr,dr)=>(Module._generate_implied_equalities_for_column=wasmExports.generate_implied_equalities_for_column)(e,rr,ir,lr,dr),Module._eclass_useful_for_merging=(e,rr,ir)=>(Module._eclass_useful_for_merging=wasmExports.eclass_useful_for_merging)(e,rr,ir),Module._join_clause_is_movable_to=(e,rr)=>(Module._join_clause_is_movable_to=wasmExports.join_clause_is_movable_to)(e,rr),Module._get_plan_rowmark=(e,rr)=>(Module._get_plan_rowmark=wasmExports.get_plan_rowmark)(e,rr),Module._update_mergeclause_eclasses=(e,rr)=>(Module._update_mergeclause_eclasses=wasmExports.update_mergeclause_eclasses)(e,rr),Module._find_join_rel=(e,rr)=>(Module._find_join_rel=wasmExports.find_join_rel)(e,rr),Module._make_canonical_pathkey=(e,rr,ir,lr,dr)=>(Module._make_canonical_pathkey=wasmExports.make_canonical_pathkey)(e,rr,ir,lr,dr),Module._get_sortgroupref_clause_noerr=(e,rr)=>(Module._get_sortgroupref_clause_noerr=wasmExports.get_sortgroupref_clause_noerr)(e,rr),Module._extract_actual_clauses=(e,rr)=>(Module._extract_actual_clauses=wasmExports.extract_actual_clauses)(e,rr),Module._change_plan_targetlist=(e,rr,ir)=>(Module._change_plan_targetlist=wasmExports.change_plan_targetlist)(e,rr,ir),Module._make_foreignscan=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._make_foreignscan=wasmExports.make_foreignscan)(e,rr,ir,lr,dr,fr,mr,hr),Module._tlist_member=(e,rr)=>(Module._tlist_member=wasmExports.tlist_member)(e,rr),Module._pull_vars_of_level=(e,rr)=>(Module._pull_vars_of_level=wasmExports.pull_vars_of_level)(e,rr),Module._IncrementVarSublevelsUp=(e,rr,ir)=>(Module._IncrementVarSublevelsUp=wasmExports.IncrementVarSublevelsUp)(e,rr,ir),Module._standard_planner=(e,rr,ir,lr)=>(Module._standard_planner=wasmExports.standard_planner)(e,rr,ir,lr),Module._get_relids_in_jointree=(e,rr,ir)=>(Module._get_relids_in_jointree=wasmExports.get_relids_in_jointree)(e,rr,ir),Module._add_new_columns_to_pathtarget=(e,rr)=>(Module._add_new_columns_to_pathtarget=wasmExports.add_new_columns_to_pathtarget)(e,rr),Module._get_agg_clause_costs=(e,rr,ir)=>(Module._get_agg_clause_costs=wasmExports.get_agg_clause_costs)(e,rr,ir),Module._grouping_is_sortable=e=>(Module._grouping_is_sortable=wasmExports.grouping_is_sortable)(e),Module._copy_pathtarget=e=>(Module._copy_pathtarget=wasmExports.copy_pathtarget)(e),Module._create_projection_path=(e,rr,ir,lr)=>(Module._create_projection_path=wasmExports.create_projection_path)(e,rr,ir,lr),Module._GetSysCacheHashValue=(e,rr,ir,lr,dr)=>(Module._GetSysCacheHashValue=wasmExports.GetSysCacheHashValue)(e,rr,ir,lr,dr),Module._get_translated_update_targetlist=(e,rr,ir,lr)=>(Module._get_translated_update_targetlist=wasmExports.get_translated_update_targetlist)(e,rr,ir,lr),Module._add_row_identity_var=(e,rr,ir,lr)=>(Module._add_row_identity_var=wasmExports.add_row_identity_var)(e,rr,ir,lr),Module._get_rel_all_updated_cols=(e,rr)=>(Module._get_rel_all_updated_cols=wasmExports.get_rel_all_updated_cols)(e,rr),Module._get_baserel_parampathinfo=(e,rr,ir)=>(Module._get_baserel_parampathinfo=wasmExports.get_baserel_parampathinfo)(e,rr,ir),Module._create_foreignscan_path=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r)=>(Module._create_foreignscan_path=wasmExports.create_foreignscan_path)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r),Module._create_foreign_join_path=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r)=>(Module._create_foreign_join_path=wasmExports.create_foreign_join_path)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r),Module._create_foreign_upper_path=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr)=>(Module._create_foreign_upper_path=wasmExports.create_foreign_upper_path)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr),Module._adjust_limit_rows_costs=(e,rr,ir,lr,dr)=>(Module._adjust_limit_rows_costs=wasmExports.adjust_limit_rows_costs)(e,rr,ir,lr,dr),Module._add_to_flat_tlist=(e,rr)=>(Module._add_to_flat_tlist=wasmExports.add_to_flat_tlist)(e,rr),Module._get_fn_expr_argtype=(e,rr)=>(Module._get_fn_expr_argtype=wasmExports.get_fn_expr_argtype)(e,rr),Module._on_shmem_exit=(e,rr)=>(Module._on_shmem_exit=wasmExports.on_shmem_exit)(e,rr),Module._mmap=(e,rr,ir,lr,dr,fr)=>(Module._mmap=wasmExports.mmap)(e,rr,ir,lr,dr,fr),Module._munmap=(e,rr)=>(Module._munmap=wasmExports.munmap)(e,rr),Module._SignalHandlerForConfigReload=e=>(Module._SignalHandlerForConfigReload=wasmExports.SignalHandlerForConfigReload)(e),Module._SignalHandlerForShutdownRequest=e=>(Module._SignalHandlerForShutdownRequest=wasmExports.SignalHandlerForShutdownRequest)(e),Module._procsignal_sigusr1_handler=e=>(Module._procsignal_sigusr1_handler=wasmExports.procsignal_sigusr1_handler)(e),Module._RegisterBackgroundWorker=e=>(Module._RegisterBackgroundWorker=wasmExports.RegisterBackgroundWorker)(e),Module._WaitForBackgroundWorkerStartup=(e,rr)=>(Module._WaitForBackgroundWorkerStartup=wasmExports.WaitForBackgroundWorkerStartup)(e,rr),Module._GetConfigOption=(e,rr,ir)=>(Module._GetConfigOption=wasmExports.GetConfigOption)(e,rr,ir),Module._fputc=(e,rr)=>(Module._fputc=wasmExports.fputc)(e,rr),Module._toupper=e=>(Module._toupper=wasmExports.toupper)(e),Module._pg_reg_getinitialstate=e=>(Module._pg_reg_getinitialstate=wasmExports.pg_reg_getinitialstate)(e),Module._pg_reg_getfinalstate=e=>(Module._pg_reg_getfinalstate=wasmExports.pg_reg_getfinalstate)(e),Module._pg_reg_getnumoutarcs=(e,rr)=>(Module._pg_reg_getnumoutarcs=wasmExports.pg_reg_getnumoutarcs)(e,rr),Module._pg_reg_getoutarcs=(e,rr,ir,lr)=>(Module._pg_reg_getoutarcs=wasmExports.pg_reg_getoutarcs)(e,rr,ir,lr),Module._pg_reg_getnumcolors=e=>(Module._pg_reg_getnumcolors=wasmExports.pg_reg_getnumcolors)(e),Module._pg_reg_colorisbegin=(e,rr)=>(Module._pg_reg_colorisbegin=wasmExports.pg_reg_colorisbegin)(e,rr),Module._pg_reg_colorisend=(e,rr)=>(Module._pg_reg_colorisend=wasmExports.pg_reg_colorisend)(e,rr),Module._pg_reg_getnumcharacters=(e,rr)=>(Module._pg_reg_getnumcharacters=wasmExports.pg_reg_getnumcharacters)(e,rr),Module._pg_reg_getcharacters=(e,rr,ir,lr)=>(Module._pg_reg_getcharacters=wasmExports.pg_reg_getcharacters)(e,rr,ir,lr),Module._OutputPluginPrepareWrite=(e,rr)=>(Module._OutputPluginPrepareWrite=wasmExports.OutputPluginPrepareWrite)(e,rr),Module._OutputPluginWrite=(e,rr)=>(Module._OutputPluginWrite=wasmExports.OutputPluginWrite)(e,rr),Module._OutputPluginUpdateProgress=(e,rr)=>(Module._OutputPluginUpdateProgress=wasmExports.OutputPluginUpdateProgress)(e,rr),Module._array_contains_nulls=e=>(Module._array_contains_nulls=wasmExports.array_contains_nulls)(e),Module._replorigin_by_oid=(e,rr,ir)=>(Module._replorigin_by_oid=wasmExports.replorigin_by_oid)(e,rr,ir),Module._logicalrep_write_begin=(e,rr)=>(Module._logicalrep_write_begin=wasmExports.logicalrep_write_begin)(e,rr),Module._logicalrep_write_commit=(e,rr,ir)=>(Module._logicalrep_write_commit=wasmExports.logicalrep_write_commit)(e,rr,ir),Module._logicalrep_write_begin_prepare=(e,rr)=>(Module._logicalrep_write_begin_prepare=wasmExports.logicalrep_write_begin_prepare)(e,rr),Module._logicalrep_write_prepare=(e,rr,ir)=>(Module._logicalrep_write_prepare=wasmExports.logicalrep_write_prepare)(e,rr,ir),Module._logicalrep_write_commit_prepared=(e,rr,ir)=>(Module._logicalrep_write_commit_prepared=wasmExports.logicalrep_write_commit_prepared)(e,rr,ir),Module._logicalrep_write_rollback_prepared=(e,rr,ir,lr)=>(Module._logicalrep_write_rollback_prepared=wasmExports.logicalrep_write_rollback_prepared)(e,rr,ir,lr),Module._logicalrep_write_stream_prepare=(e,rr,ir)=>(Module._logicalrep_write_stream_prepare=wasmExports.logicalrep_write_stream_prepare)(e,rr,ir),Module._logicalrep_write_origin=(e,rr,ir)=>(Module._logicalrep_write_origin=wasmExports.logicalrep_write_origin)(e,rr,ir),Module._logicalrep_write_insert=(e,rr,ir,lr,dr,fr)=>(Module._logicalrep_write_insert=wasmExports.logicalrep_write_insert)(e,rr,ir,lr,dr,fr),Module._logicalrep_write_update=(e,rr,ir,lr,dr,fr,mr)=>(Module._logicalrep_write_update=wasmExports.logicalrep_write_update)(e,rr,ir,lr,dr,fr,mr),Module._logicalrep_write_delete=(e,rr,ir,lr,dr,fr)=>(Module._logicalrep_write_delete=wasmExports.logicalrep_write_delete)(e,rr,ir,lr,dr,fr),Module._logicalrep_write_truncate=(e,rr,ir,lr,dr,fr)=>(Module._logicalrep_write_truncate=wasmExports.logicalrep_write_truncate)(e,rr,ir,lr,dr,fr),Module._logicalrep_write_message=(e,rr,ir,lr,dr,fr,mr)=>(Module._logicalrep_write_message=wasmExports.logicalrep_write_message)(e,rr,ir,lr,dr,fr,mr),Module._logicalrep_write_rel=(e,rr,ir,lr)=>(Module._logicalrep_write_rel=wasmExports.logicalrep_write_rel)(e,rr,ir,lr),Module._logicalrep_write_typ=(e,rr,ir)=>(Module._logicalrep_write_typ=wasmExports.logicalrep_write_typ)(e,rr,ir),Module._logicalrep_write_stream_start=(e,rr,ir)=>(Module._logicalrep_write_stream_start=wasmExports.logicalrep_write_stream_start)(e,rr,ir),Module._logicalrep_write_stream_stop=e=>(Module._logicalrep_write_stream_stop=wasmExports.logicalrep_write_stream_stop)(e),Module._logicalrep_write_stream_commit=(e,rr,ir)=>(Module._logicalrep_write_stream_commit=wasmExports.logicalrep_write_stream_commit)(e,rr,ir),Module._logicalrep_write_stream_abort=(e,rr,ir,lr,dr,fr)=>(Module._logicalrep_write_stream_abort=wasmExports.logicalrep_write_stream_abort)(e,rr,ir,lr,dr,fr),Module._CacheRegisterRelcacheCallback=(e,rr)=>(Module._CacheRegisterRelcacheCallback=wasmExports.CacheRegisterRelcacheCallback)(e,rr),Module._hash_seq_term=e=>(Module._hash_seq_term=wasmExports.hash_seq_term)(e),Module._FreeErrorData=e=>(Module._FreeErrorData=wasmExports.FreeErrorData)(e),Module._RelidByRelfilenumber=(e,rr)=>(Module._RelidByRelfilenumber=wasmExports.RelidByRelfilenumber)(e,rr),Module._WaitLatchOrSocket=(e,rr,ir,lr,dr)=>(Module._WaitLatchOrSocket=wasmExports.WaitLatchOrSocket)(e,rr,ir,lr,dr),Module._ProcessWalRcvInterrupts=()=>(Module._ProcessWalRcvInterrupts=wasmExports.ProcessWalRcvInterrupts)(),Module._get_row_security_policies=(e,rr,ir,lr,dr,fr,mr)=>(Module._get_row_security_policies=wasmExports.get_row_security_policies)(e,rr,ir,lr,dr,fr,mr),Module._hash_estimate_size=(e,rr)=>(Module._hash_estimate_size=wasmExports.hash_estimate_size)(e,rr),Module._ShmemInitHash=(e,rr,ir,lr,dr)=>(Module._ShmemInitHash=wasmExports.ShmemInitHash)(e,rr,ir,lr,dr),Module._LockBufHdr=e=>(Module._LockBufHdr=wasmExports.LockBufHdr)(e),Module._EvictUnpinnedBuffer=e=>(Module._EvictUnpinnedBuffer=wasmExports.EvictUnpinnedBuffer)(e),Module._have_free_buffer=()=>(Module._have_free_buffer=wasmExports.have_free_buffer)(),Module._copy_file=(e,rr)=>(Module._copy_file=wasmExports.copy_file)(e,rr),Module._AcquireExternalFD=()=>(Module._AcquireExternalFD=wasmExports.AcquireExternalFD)(),Module._GetNamedDSMSegment=(e,rr,ir,lr)=>(Module._GetNamedDSMSegment=wasmExports.GetNamedDSMSegment)(e,rr,ir,lr),Module._RequestAddinShmemSpace=e=>(Module._RequestAddinShmemSpace=wasmExports.RequestAddinShmemSpace)(e),Module._poll=(e,rr,ir)=>(Module._poll=wasmExports.poll)(e,rr,ir),Module._GetRunningTransactionData=()=>(Module._GetRunningTransactionData=wasmExports.GetRunningTransactionData)(),Module._BackendXidGetPid=e=>(Module._BackendXidGetPid=wasmExports.BackendXidGetPid)(e),Module._LWLockRegisterTranche=(e,rr)=>(Module._LWLockRegisterTranche=wasmExports.LWLockRegisterTranche)(e,rr),Module._GetNamedLWLockTranche=e=>(Module._GetNamedLWLockTranche=wasmExports.GetNamedLWLockTranche)(e),Module._LWLockNewTrancheId=()=>(Module._LWLockNewTrancheId=wasmExports.LWLockNewTrancheId)(),Module._RequestNamedLWLockTranche=(e,rr)=>(Module._RequestNamedLWLockTranche=wasmExports.RequestNamedLWLockTranche)(e,rr),Module._standard_ProcessUtility=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._standard_ProcessUtility=wasmExports.standard_ProcessUtility)(e,rr,ir,lr,dr,fr,mr,hr),Module._lookup_ts_dictionary_cache=e=>(Module._lookup_ts_dictionary_cache=wasmExports.lookup_ts_dictionary_cache)(e),Module._get_tsearch_config_filename=(e,rr)=>(Module._get_tsearch_config_filename=wasmExports.get_tsearch_config_filename)(e,rr),Module._lowerstr=e=>(Module._lowerstr=wasmExports.lowerstr)(e),Module._readstoplist=(e,rr,ir)=>(Module._readstoplist=wasmExports.readstoplist)(e,rr,ir),Module._lowerstr_with_len=(e,rr)=>(Module._lowerstr_with_len=wasmExports.lowerstr_with_len)(e,rr),Module._searchstoplist=(e,rr)=>(Module._searchstoplist=wasmExports.searchstoplist)(e,rr),Module._tsearch_readline_begin=(e,rr)=>(Module._tsearch_readline_begin=wasmExports.tsearch_readline_begin)(e,rr),Module._tsearch_readline=e=>(Module._tsearch_readline=wasmExports.tsearch_readline)(e),Module._t_isspace=e=>(Module._t_isspace=wasmExports.t_isspace)(e),Module._tsearch_readline_end=e=>(Module._tsearch_readline_end=wasmExports.tsearch_readline_end)(e),Module._stringToQualifiedNameList=(e,rr)=>(Module._stringToQualifiedNameList=wasmExports.stringToQualifiedNameList)(e,rr),Module._t_isdigit=e=>(Module._t_isdigit=wasmExports.t_isdigit)(e),Module._t_isalnum=e=>(Module._t_isalnum=wasmExports.t_isalnum)(e),Module._get_restriction_variable=(e,rr,ir,lr,dr,fr)=>(Module._get_restriction_variable=wasmExports.get_restriction_variable)(e,rr,ir,lr,dr,fr),Module._MemoryContextAllocHuge=(e,rr)=>(Module._MemoryContextAllocHuge=wasmExports.MemoryContextAllocHuge)(e,rr),Module._WaitEventExtensionNew=e=>(Module._WaitEventExtensionNew=wasmExports.WaitEventExtensionNew)(e),Module._expand_array=(e,rr,ir)=>(Module._expand_array=wasmExports.expand_array)(e,rr,ir),Module._arraycontsel=e=>(Module._arraycontsel=wasmExports.arraycontsel)(e),Module._arraycontjoinsel=e=>(Module._arraycontjoinsel=wasmExports.arraycontjoinsel)(e),Module._initArrayResult=(e,rr,ir)=>(Module._initArrayResult=wasmExports.initArrayResult)(e,rr,ir),Module._array_create_iterator=(e,rr,ir)=>(Module._array_create_iterator=wasmExports.array_create_iterator)(e,rr,ir),Module._array_iterate=(e,rr,ir)=>(Module._array_iterate=wasmExports.array_iterate)(e,rr,ir),Module._ArrayGetIntegerTypmods=(e,rr)=>(Module._ArrayGetIntegerTypmods=wasmExports.ArrayGetIntegerTypmods)(e,rr),Module._boolin=e=>(Module._boolin=wasmExports.boolin)(e),Module._cash_cmp=e=>(Module._cash_cmp=wasmExports.cash_cmp)(e),Module._int64_to_numeric=e=>(Module._int64_to_numeric=wasmExports.int64_to_numeric)(e),Module._numeric_div=e=>(Module._numeric_div=wasmExports.numeric_div)(e),Module._date_eq=e=>(Module._date_eq=wasmExports.date_eq)(e),Module._date_lt=e=>(Module._date_lt=wasmExports.date_lt)(e),Module._date_le=e=>(Module._date_le=wasmExports.date_le)(e),Module._date_gt=e=>(Module._date_gt=wasmExports.date_gt)(e),Module._date_ge=e=>(Module._date_ge=wasmExports.date_ge)(e),Module._date_cmp=e=>(Module._date_cmp=wasmExports.date_cmp)(e),Module._date_mi=e=>(Module._date_mi=wasmExports.date_mi)(e),Module._time_eq=e=>(Module._time_eq=wasmExports.time_eq)(e),Module._time_lt=e=>(Module._time_lt=wasmExports.time_lt)(e),Module._time_le=e=>(Module._time_le=wasmExports.time_le)(e),Module._time_gt=e=>(Module._time_gt=wasmExports.time_gt)(e),Module._time_ge=e=>(Module._time_ge=wasmExports.time_ge)(e),Module._time_cmp=e=>(Module._time_cmp=wasmExports.time_cmp)(e),Module._time_mi_time=e=>(Module._time_mi_time=wasmExports.time_mi_time)(e),Module._timetz_cmp=e=>(Module._timetz_cmp=wasmExports.timetz_cmp)(e),Module._TransferExpandedObject=(e,rr)=>(Module._TransferExpandedObject=wasmExports.TransferExpandedObject)(e,rr),Module._numeric_lt=e=>(Module._numeric_lt=wasmExports.numeric_lt)(e),Module._numeric_ge=e=>(Module._numeric_ge=wasmExports.numeric_ge)(e),Module._err_generic_string=(e,rr)=>(Module._err_generic_string=wasmExports.err_generic_string)(e,rr),Module._domain_check=(e,rr,ir,lr,dr)=>(Module._domain_check=wasmExports.domain_check)(e,rr,ir,lr,dr),Module._enum_lt=e=>(Module._enum_lt=wasmExports.enum_lt)(e),Module._enum_le=e=>(Module._enum_le=wasmExports.enum_le)(e),Module._enum_ge=e=>(Module._enum_ge=wasmExports.enum_ge)(e),Module._enum_gt=e=>(Module._enum_gt=wasmExports.enum_gt)(e),Module._enum_cmp=e=>(Module._enum_cmp=wasmExports.enum_cmp)(e),Module._make_expanded_record_from_typeid=(e,rr,ir)=>(Module._make_expanded_record_from_typeid=wasmExports.make_expanded_record_from_typeid)(e,rr,ir),Module._MemoryContextRegisterResetCallback=(e,rr)=>(Module._MemoryContextRegisterResetCallback=wasmExports.MemoryContextRegisterResetCallback)(e,rr),Module._make_expanded_record_from_tupdesc=(e,rr)=>(Module._make_expanded_record_from_tupdesc=wasmExports.make_expanded_record_from_tupdesc)(e,rr),Module._make_expanded_record_from_exprecord=(e,rr)=>(Module._make_expanded_record_from_exprecord=wasmExports.make_expanded_record_from_exprecord)(e,rr),Module._expanded_record_set_tuple=(e,rr,ir,lr)=>(Module._expanded_record_set_tuple=wasmExports.expanded_record_set_tuple)(e,rr,ir,lr),Module._expanded_record_get_tuple=e=>(Module._expanded_record_get_tuple=wasmExports.expanded_record_get_tuple)(e),Module._deconstruct_expanded_record=e=>(Module._deconstruct_expanded_record=wasmExports.deconstruct_expanded_record)(e),Module._expanded_record_lookup_field=(e,rr,ir)=>(Module._expanded_record_lookup_field=wasmExports.expanded_record_lookup_field)(e,rr,ir),Module._expanded_record_set_field_internal=(e,rr,ir,lr,dr,fr)=>(Module._expanded_record_set_field_internal=wasmExports.expanded_record_set_field_internal)(e,rr,ir,lr,dr,fr),Module._expanded_record_set_fields=(e,rr,ir,lr)=>(Module._expanded_record_set_fields=wasmExports.expanded_record_set_fields)(e,rr,ir,lr),Module._float4in_internal=(e,rr,ir,lr,dr)=>(Module._float4in_internal=wasmExports.float4in_internal)(e,rr,ir,lr,dr),Module._strtof=(e,rr)=>(Module._strtof=wasmExports.strtof)(e,rr),Module._float8in_internal=(e,rr,ir,lr,dr)=>(Module._float8in_internal=wasmExports.float8in_internal)(e,rr,ir,lr,dr),Module._float8out_internal=e=>(Module._float8out_internal=wasmExports.float8out_internal)(e),Module._btfloat4cmp=e=>(Module._btfloat4cmp=wasmExports.btfloat4cmp)(e),Module._btfloat8cmp=e=>(Module._btfloat8cmp=wasmExports.btfloat8cmp)(e),Module._log10=e=>(Module._log10=wasmExports.log10)(e),Module._acos=e=>(Module._acos=wasmExports.acos)(e),Module._asin=e=>(Module._asin=wasmExports.asin)(e),Module._cos=e=>(Module._cos=wasmExports.cos)(e),Module._fmod=(e,rr)=>(Module._fmod=wasmExports.fmod)(e,rr),Module._str_tolower=(e,rr,ir)=>(Module._str_tolower=wasmExports.str_tolower)(e,rr,ir),Module._pushJsonbValue=(e,rr,ir)=>(Module._pushJsonbValue=wasmExports.pushJsonbValue)(e,rr,ir),Module._numeric_float4=e=>(Module._numeric_float4=wasmExports.numeric_float4)(e),Module._numeric_cmp=e=>(Module._numeric_cmp=wasmExports.numeric_cmp)(e),Module._numeric_eq=e=>(Module._numeric_eq=wasmExports.numeric_eq)(e),Module._numeric_is_nan=e=>(Module._numeric_is_nan=wasmExports.numeric_is_nan)(e),Module._timestamp_cmp=e=>(Module._timestamp_cmp=wasmExports.timestamp_cmp)(e),Module._macaddr_cmp=e=>(Module._macaddr_cmp=wasmExports.macaddr_cmp)(e),Module._macaddr_lt=e=>(Module._macaddr_lt=wasmExports.macaddr_lt)(e),Module._macaddr_le=e=>(Module._macaddr_le=wasmExports.macaddr_le)(e),Module._macaddr_eq=e=>(Module._macaddr_eq=wasmExports.macaddr_eq)(e),Module._macaddr_ge=e=>(Module._macaddr_ge=wasmExports.macaddr_ge)(e),Module._macaddr_gt=e=>(Module._macaddr_gt=wasmExports.macaddr_gt)(e),Module._macaddr8_cmp=e=>(Module._macaddr8_cmp=wasmExports.macaddr8_cmp)(e),Module._macaddr8_lt=e=>(Module._macaddr8_lt=wasmExports.macaddr8_lt)(e),Module._macaddr8_le=e=>(Module._macaddr8_le=wasmExports.macaddr8_le)(e),Module._macaddr8_eq=e=>(Module._macaddr8_eq=wasmExports.macaddr8_eq)(e),Module._macaddr8_ge=e=>(Module._macaddr8_ge=wasmExports.macaddr8_ge)(e),Module._macaddr8_gt=e=>(Module._macaddr8_gt=wasmExports.macaddr8_gt)(e),Module._current_query=e=>(Module._current_query=wasmExports.current_query)(e),Module._unpack_sql_state=e=>(Module._unpack_sql_state=wasmExports.unpack_sql_state)(e),Module._get_fn_expr_rettype=e=>(Module._get_fn_expr_rettype=wasmExports.get_fn_expr_rettype)(e),Module._btnamecmp=e=>(Module._btnamecmp=wasmExports.btnamecmp)(e),Module._inet_in=e=>(Module._inet_in=wasmExports.inet_in)(e),Module._network_cmp=e=>(Module._network_cmp=wasmExports.network_cmp)(e),Module._convert_network_to_scalar=(e,rr,ir)=>(Module._convert_network_to_scalar=wasmExports.convert_network_to_scalar)(e,rr,ir),Module._numeric_gt=e=>(Module._numeric_gt=wasmExports.numeric_gt)(e),Module._numeric_le=e=>(Module._numeric_le=wasmExports.numeric_le)(e),Module._numeric_float8_no_overflow=e=>(Module._numeric_float8_no_overflow=wasmExports.numeric_float8_no_overflow)(e),Module._oidout=e=>(Module._oidout=wasmExports.oidout)(e),Module._interval_mi=e=>(Module._interval_mi=wasmExports.interval_mi)(e),Module._localtime=e=>(Module._localtime=wasmExports.localtime)(e),Module._newlocale=(e,rr,ir)=>(Module._newlocale=wasmExports.newlocale)(e,rr,ir),Module._quote_ident=e=>(Module._quote_ident=wasmExports.quote_ident)(e),Module._pg_wchar2mb_with_len=(e,rr,ir)=>(Module._pg_wchar2mb_with_len=wasmExports.pg_wchar2mb_with_len)(e,rr,ir),Module._pg_get_indexdef_columns_extended=(e,rr)=>(Module._pg_get_indexdef_columns_extended=wasmExports.pg_get_indexdef_columns_extended)(e,rr),Module._pg_get_querydef=(e,rr)=>(Module._pg_get_querydef=wasmExports.pg_get_querydef)(e,rr),Module._strcspn=(e,rr)=>(Module._strcspn=wasmExports.strcspn)(e,rr),Module._generic_restriction_selectivity=(e,rr,ir,lr,dr,fr)=>(Module._generic_restriction_selectivity=wasmExports.generic_restriction_selectivity)(e,rr,ir,lr,dr,fr),Module._genericcostestimate=(e,rr,ir,lr)=>(Module._genericcostestimate=wasmExports.genericcostestimate)(e,rr,ir,lr),Module._tidin=e=>(Module._tidin=wasmExports.tidin)(e),Module._tidout=e=>(Module._tidout=wasmExports.tidout)(e),Module._timestamp_in=e=>(Module._timestamp_in=wasmExports.timestamp_in)(e),Module._timestamp_eq=e=>(Module._timestamp_eq=wasmExports.timestamp_eq)(e),Module._timestamp_lt=e=>(Module._timestamp_lt=wasmExports.timestamp_lt)(e),Module._timestamp_gt=e=>(Module._timestamp_gt=wasmExports.timestamp_gt)(e),Module._timestamp_le=e=>(Module._timestamp_le=wasmExports.timestamp_le)(e),Module._timestamp_ge=e=>(Module._timestamp_ge=wasmExports.timestamp_ge)(e),Module._interval_eq=e=>(Module._interval_eq=wasmExports.interval_eq)(e),Module._interval_lt=e=>(Module._interval_lt=wasmExports.interval_lt)(e),Module._interval_gt=e=>(Module._interval_gt=wasmExports.interval_gt)(e),Module._interval_le=e=>(Module._interval_le=wasmExports.interval_le)(e),Module._interval_ge=e=>(Module._interval_ge=wasmExports.interval_ge)(e),Module._interval_cmp=e=>(Module._interval_cmp=wasmExports.interval_cmp)(e),Module._timestamp_mi=e=>(Module._timestamp_mi=wasmExports.timestamp_mi)(e),Module._interval_um=e=>(Module._interval_um=wasmExports.interval_um)(e),Module._has_fn_opclass_options=e=>(Module._has_fn_opclass_options=wasmExports.has_fn_opclass_options)(e),Module._uuid_in=e=>(Module._uuid_in=wasmExports.uuid_in)(e),Module._uuid_out=e=>(Module._uuid_out=wasmExports.uuid_out)(e),Module._uuid_cmp=e=>(Module._uuid_cmp=wasmExports.uuid_cmp)(e),Module._gen_random_uuid=e=>(Module._gen_random_uuid=wasmExports.gen_random_uuid)(e),Module._varbit_in=e=>(Module._varbit_in=wasmExports.varbit_in)(e),Module._biteq=e=>(Module._biteq=wasmExports.biteq)(e),Module._bitlt=e=>(Module._bitlt=wasmExports.bitlt)(e),Module._bitle=e=>(Module._bitle=wasmExports.bitle)(e),Module._bitgt=e=>(Module._bitgt=wasmExports.bitgt)(e),Module._bitge=e=>(Module._bitge=wasmExports.bitge)(e),Module._bitcmp=e=>(Module._bitcmp=wasmExports.bitcmp)(e),Module._bpchareq=e=>(Module._bpchareq=wasmExports.bpchareq)(e),Module._bpcharlt=e=>(Module._bpcharlt=wasmExports.bpcharlt)(e),Module._bpcharle=e=>(Module._bpcharle=wasmExports.bpcharle)(e),Module._bpchargt=e=>(Module._bpchargt=wasmExports.bpchargt)(e),Module._bpcharge=e=>(Module._bpcharge=wasmExports.bpcharge)(e),Module._bpcharcmp=e=>(Module._bpcharcmp=wasmExports.bpcharcmp)(e),Module._texteq=e=>(Module._texteq=wasmExports.texteq)(e),Module._text_lt=e=>(Module._text_lt=wasmExports.text_lt)(e),Module._text_le=e=>(Module._text_le=wasmExports.text_le)(e),Module._text_gt=e=>(Module._text_gt=wasmExports.text_gt)(e),Module._text_ge=e=>(Module._text_ge=wasmExports.text_ge)(e),Module._bttextcmp=e=>(Module._bttextcmp=wasmExports.bttextcmp)(e),Module._byteaeq=e=>(Module._byteaeq=wasmExports.byteaeq)(e),Module._bytealt=e=>(Module._bytealt=wasmExports.bytealt)(e),Module._byteale=e=>(Module._byteale=wasmExports.byteale)(e),Module._byteagt=e=>(Module._byteagt=wasmExports.byteagt)(e),Module._byteage=e=>(Module._byteage=wasmExports.byteage)(e),Module._byteacmp=e=>(Module._byteacmp=wasmExports.byteacmp)(e),Module._to_hex32=e=>(Module._to_hex32=wasmExports.to_hex32)(e),Module._varstr_levenshtein=(e,rr,ir,lr,dr,fr,mr,hr)=>(Module._varstr_levenshtein=wasmExports.varstr_levenshtein)(e,rr,ir,lr,dr,fr,mr,hr),Module._pg_xml_init=e=>(Module._pg_xml_init=wasmExports.pg_xml_init)(e),Module._xmlInitParser=()=>(Module._xmlInitParser=wasmExports.xmlInitParser)(),Module._xml_ereport=(e,rr,ir,lr)=>(Module._xml_ereport=wasmExports.xml_ereport)(e,rr,ir,lr),Module._pg_xml_done=(e,rr)=>(Module._pg_xml_done=wasmExports.pg_xml_done)(e,rr),Module._xmlXPathNewContext=e=>(Module._xmlXPathNewContext=wasmExports.xmlXPathNewContext)(e),Module._xmlXPathFreeContext=e=>(Module._xmlXPathFreeContext=wasmExports.xmlXPathFreeContext)(e),Module._xmlFreeDoc=e=>(Module._xmlFreeDoc=wasmExports.xmlFreeDoc)(e),Module._xmlXPathCtxtCompile=(e,rr)=>(Module._xmlXPathCtxtCompile=wasmExports.xmlXPathCtxtCompile)(e,rr),Module._xmlXPathCompiledEval=(e,rr)=>(Module._xmlXPathCompiledEval=wasmExports.xmlXPathCompiledEval)(e,rr),Module._xmlXPathFreeCompExpr=e=>(Module._xmlXPathFreeCompExpr=wasmExports.xmlXPathFreeCompExpr)(e),Module._pg_do_encoding_conversion=(e,rr,ir,lr)=>(Module._pg_do_encoding_conversion=wasmExports.pg_do_encoding_conversion)(e,rr,ir,lr),Module._xmlStrdup=e=>(Module._xmlStrdup=wasmExports.xmlStrdup)(e),Module._xmlXPathCastNodeToString=e=>(Module._xmlXPathCastNodeToString=wasmExports.xmlXPathCastNodeToString)(e),Module._get_typsubscript=(e,rr)=>(Module._get_typsubscript=wasmExports.get_typsubscript)(e,rr),Module._CachedPlanAllowsSimpleValidityCheck=(e,rr,ir)=>(Module._CachedPlanAllowsSimpleValidityCheck=wasmExports.CachedPlanAllowsSimpleValidityCheck)(e,rr,ir),Module._CachedPlanIsSimplyValid=(e,rr,ir)=>(Module._CachedPlanIsSimplyValid=wasmExports.CachedPlanIsSimplyValid)(e,rr,ir),Module._GetCachedExpression=e=>(Module._GetCachedExpression=wasmExports.GetCachedExpression)(e),Module._FreeCachedExpression=e=>(Module._FreeCachedExpression=wasmExports.FreeCachedExpression)(e),Module._ReleaseAllPlanCacheRefsInOwner=e=>(Module._ReleaseAllPlanCacheRefsInOwner=wasmExports.ReleaseAllPlanCacheRefsInOwner)(e),Module._in_error_recursion_trouble=()=>(Module._in_error_recursion_trouble=wasmExports.in_error_recursion_trouble)(),Module._openlog=(e,rr,ir)=>(Module._openlog=wasmExports.openlog)(e,rr,ir),Module._syslog=(e,rr,ir)=>(Module._syslog=wasmExports.syslog)(e,rr,ir),Module._GetErrorContextStack=()=>(Module._GetErrorContextStack=wasmExports.GetErrorContextStack)(),Module._closelog=()=>(Module._closelog=wasmExports.closelog)(),Module._dlsym=(e,rr)=>(Module._dlsym=wasmExports.dlsym)(e,rr),Module._dlopen=(e,rr)=>(Module._dlopen=wasmExports.dlopen)(e,rr),Module._dlerror=()=>(Module._dlerror=wasmExports.dlerror)(),Module._dlclose=e=>(Module._dlclose=wasmExports.dlclose)(e),Module._find_rendezvous_variable=e=>(Module._find_rendezvous_variable=wasmExports.find_rendezvous_variable)(e),Module._CallerFInfoFunctionCall2=(e,rr,ir,lr,dr)=>(Module._CallerFInfoFunctionCall2=wasmExports.CallerFInfoFunctionCall2)(e,rr,ir,lr,dr),Module._FunctionCall0Coll=(e,rr)=>(Module._FunctionCall0Coll=wasmExports.FunctionCall0Coll)(e,rr),Module._resolve_polymorphic_argtypes=(e,rr,ir,lr)=>(Module._resolve_polymorphic_argtypes=wasmExports.resolve_polymorphic_argtypes)(e,rr,ir,lr),Module._memcpy=(e,rr,ir)=>(Module._memcpy=wasmExports.memcpy)(e,rr,ir),Module._pg_bindtextdomain=e=>(Module._pg_bindtextdomain=wasmExports.pg_bindtextdomain)(e),Module._local2local=(e,rr,ir,lr,dr,fr,mr)=>(Module._local2local=wasmExports.local2local)(e,rr,ir,lr,dr,fr,mr),Module._report_untranslatable_char=(e,rr,ir,lr)=>(Module._report_untranslatable_char=wasmExports.report_untranslatable_char)(e,rr,ir,lr),Module._latin2mic=(e,rr,ir,lr,dr,fr)=>(Module._latin2mic=wasmExports.latin2mic)(e,rr,ir,lr,dr,fr),Module._mic2latin=(e,rr,ir,lr,dr,fr)=>(Module._mic2latin=wasmExports.mic2latin)(e,rr,ir,lr,dr,fr),Module._latin2mic_with_table=(e,rr,ir,lr,dr,fr,mr)=>(Module._latin2mic_with_table=wasmExports.latin2mic_with_table)(e,rr,ir,lr,dr,fr,mr),Module._mic2latin_with_table=(e,rr,ir,lr,dr,fr,mr)=>(Module._mic2latin_with_table=wasmExports.mic2latin_with_table)(e,rr,ir,lr,dr,fr,mr),Module._UtfToLocal=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._UtfToLocal=wasmExports.UtfToLocal)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._LocalToUtf=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._LocalToUtf=wasmExports.LocalToUtf)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._check_encoding_conversion_args=(e,rr,ir,lr,dr)=>(Module._check_encoding_conversion_args=wasmExports.check_encoding_conversion_args)(e,rr,ir,lr,dr),Module._DefineCustomBoolVariable=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr)=>(Module._DefineCustomBoolVariable=wasmExports.DefineCustomBoolVariable)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr),Module._DefineCustomIntVariable=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr)=>(Module._DefineCustomIntVariable=wasmExports.DefineCustomIntVariable)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr),Module._DefineCustomRealVariable=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr)=>(Module._DefineCustomRealVariable=wasmExports.DefineCustomRealVariable)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr),Module._DefineCustomStringVariable=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr)=>(Module._DefineCustomStringVariable=wasmExports.DefineCustomStringVariable)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr),Module._DefineCustomEnumVariable=(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r)=>(Module._DefineCustomEnumVariable=wasmExports.DefineCustomEnumVariable)(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r),Module._MarkGUCPrefixReserved=e=>(Module._MarkGUCPrefixReserved=wasmExports.MarkGUCPrefixReserved)(e),Module._sampler_random_init_state=(e,rr)=>(Module._sampler_random_init_state=wasmExports.sampler_random_init_state)(e,rr),Module._pchomp=e=>(Module._pchomp=wasmExports.pchomp)(e),Module._PinPortal=e=>(Module._PinPortal=wasmExports.PinPortal)(e),Module._UnpinPortal=e=>(Module._UnpinPortal=wasmExports.UnpinPortal)(e),Module._isolat1ToUTF8=(e,rr,ir,lr)=>(Module._isolat1ToUTF8=wasmExports.isolat1ToUTF8)(e,rr,ir,lr),Module._UTF8Toisolat1=(e,rr,ir,lr)=>(Module._UTF8Toisolat1=wasmExports.UTF8Toisolat1)(e,rr,ir,lr),Module._vfprintf=(e,rr,ir)=>(Module._vfprintf=wasmExports.vfprintf)(e,rr,ir),Module._vsnprintf=(e,rr,ir,lr)=>(Module._vsnprintf=wasmExports.vsnprintf)(e,rr,ir,lr),Module._xmlParserValidityWarning=(e,rr,ir)=>(Module._xmlParserValidityWarning=wasmExports.xmlParserValidityWarning)(e,rr,ir),Module._xmlParserValidityError=(e,rr,ir)=>(Module._xmlParserValidityError=wasmExports.xmlParserValidityError)(e,rr,ir),Module._xmlParserError=(e,rr,ir)=>(Module._xmlParserError=wasmExports.xmlParserError)(e,rr,ir),Module._xmlParserWarning=(e,rr,ir)=>(Module._xmlParserWarning=wasmExports.xmlParserWarning)(e,rr,ir),Module._fprintf=(e,rr,ir)=>(Module._fprintf=wasmExports.fprintf)(e,rr,ir),Module.___xmlParserInputBufferCreateFilename=(e,rr)=>(Module.___xmlParserInputBufferCreateFilename=wasmExports.__xmlParserInputBufferCreateFilename)(e,rr),Module.___xmlOutputBufferCreateFilename=(e,rr,ir)=>(Module.___xmlOutputBufferCreateFilename=wasmExports.__xmlOutputBufferCreateFilename)(e,rr,ir),Module._xmlSAX2InternalSubset=(e,rr,ir,lr)=>(Module._xmlSAX2InternalSubset=wasmExports.xmlSAX2InternalSubset)(e,rr,ir,lr),Module._xmlSAX2IsStandalone=e=>(Module._xmlSAX2IsStandalone=wasmExports.xmlSAX2IsStandalone)(e),Module._xmlSAX2HasInternalSubset=e=>(Module._xmlSAX2HasInternalSubset=wasmExports.xmlSAX2HasInternalSubset)(e),Module._xmlSAX2HasExternalSubset=e=>(Module._xmlSAX2HasExternalSubset=wasmExports.xmlSAX2HasExternalSubset)(e),Module._xmlSAX2ResolveEntity=(e,rr,ir)=>(Module._xmlSAX2ResolveEntity=wasmExports.xmlSAX2ResolveEntity)(e,rr,ir),Module._xmlSAX2GetEntity=(e,rr)=>(Module._xmlSAX2GetEntity=wasmExports.xmlSAX2GetEntity)(e,rr),Module._xmlSAX2EntityDecl=(e,rr,ir,lr,dr,fr)=>(Module._xmlSAX2EntityDecl=wasmExports.xmlSAX2EntityDecl)(e,rr,ir,lr,dr,fr),Module._xmlSAX2NotationDecl=(e,rr,ir,lr)=>(Module._xmlSAX2NotationDecl=wasmExports.xmlSAX2NotationDecl)(e,rr,ir,lr),Module._xmlSAX2AttributeDecl=(e,rr,ir,lr,dr,fr,mr)=>(Module._xmlSAX2AttributeDecl=wasmExports.xmlSAX2AttributeDecl)(e,rr,ir,lr,dr,fr,mr),Module._xmlSAX2ElementDecl=(e,rr,ir,lr)=>(Module._xmlSAX2ElementDecl=wasmExports.xmlSAX2ElementDecl)(e,rr,ir,lr),Module._xmlSAX2UnparsedEntityDecl=(e,rr,ir,lr,dr)=>(Module._xmlSAX2UnparsedEntityDecl=wasmExports.xmlSAX2UnparsedEntityDecl)(e,rr,ir,lr,dr),Module._xmlSAX2SetDocumentLocator=(e,rr)=>(Module._xmlSAX2SetDocumentLocator=wasmExports.xmlSAX2SetDocumentLocator)(e,rr),Module._xmlSAX2StartDocument=e=>(Module._xmlSAX2StartDocument=wasmExports.xmlSAX2StartDocument)(e),Module._xmlSAX2EndDocument=e=>(Module._xmlSAX2EndDocument=wasmExports.xmlSAX2EndDocument)(e),Module._xmlSAX2StartElement=(e,rr,ir)=>(Module._xmlSAX2StartElement=wasmExports.xmlSAX2StartElement)(e,rr,ir),Module._xmlSAX2EndElement=(e,rr)=>(Module._xmlSAX2EndElement=wasmExports.xmlSAX2EndElement)(e,rr),Module._xmlSAX2Reference=(e,rr)=>(Module._xmlSAX2Reference=wasmExports.xmlSAX2Reference)(e,rr),Module._xmlSAX2Characters=(e,rr,ir)=>(Module._xmlSAX2Characters=wasmExports.xmlSAX2Characters)(e,rr,ir),Module._xmlSAX2ProcessingInstruction=(e,rr,ir)=>(Module._xmlSAX2ProcessingInstruction=wasmExports.xmlSAX2ProcessingInstruction)(e,rr,ir),Module._xmlSAX2Comment=(e,rr)=>(Module._xmlSAX2Comment=wasmExports.xmlSAX2Comment)(e,rr),Module._xmlSAX2GetParameterEntity=(e,rr)=>(Module._xmlSAX2GetParameterEntity=wasmExports.xmlSAX2GetParameterEntity)(e,rr),Module._xmlSAX2CDataBlock=(e,rr,ir)=>(Module._xmlSAX2CDataBlock=wasmExports.xmlSAX2CDataBlock)(e,rr,ir),Module._xmlSAX2ExternalSubset=(e,rr,ir,lr)=>(Module._xmlSAX2ExternalSubset=wasmExports.xmlSAX2ExternalSubset)(e,rr,ir,lr),Module._xmlSAX2GetPublicId=e=>(Module._xmlSAX2GetPublicId=wasmExports.xmlSAX2GetPublicId)(e),Module._xmlSAX2GetSystemId=e=>(Module._xmlSAX2GetSystemId=wasmExports.xmlSAX2GetSystemId)(e),Module._xmlSAX2GetLineNumber=e=>(Module._xmlSAX2GetLineNumber=wasmExports.xmlSAX2GetLineNumber)(e),Module._xmlSAX2GetColumnNumber=e=>(Module._xmlSAX2GetColumnNumber=wasmExports.xmlSAX2GetColumnNumber)(e),Module._xmlSAX2IgnorableWhitespace=(e,rr,ir)=>(Module._xmlSAX2IgnorableWhitespace=wasmExports.xmlSAX2IgnorableWhitespace)(e,rr,ir),Module._xmlHashDefaultDeallocator=(e,rr)=>(Module._xmlHashDefaultDeallocator=wasmExports.xmlHashDefaultDeallocator)(e,rr),Module._iconv_open=(e,rr)=>(Module._iconv_open=wasmExports.iconv_open)(e,rr),Module._iconv_close=e=>(Module._iconv_close=wasmExports.iconv_close)(e),Module._iconv=(e,rr,ir,lr,dr)=>(Module._iconv=wasmExports.iconv)(e,rr,ir,lr,dr),Module._UTF8ToHtml=(e,rr,ir,lr)=>(Module._UTF8ToHtml=wasmExports.UTF8ToHtml)(e,rr,ir,lr),Module._xmlReadMemory=(e,rr,ir,lr,dr)=>(Module._xmlReadMemory=wasmExports.xmlReadMemory)(e,rr,ir,lr,dr),Module._xmlSAX2StartElementNs=(e,rr,ir,lr,dr,fr,mr,hr,gr)=>(Module._xmlSAX2StartElementNs=wasmExports.xmlSAX2StartElementNs)(e,rr,ir,lr,dr,fr,mr,hr,gr),Module._xmlSAX2EndElementNs=(e,rr,ir,lr)=>(Module._xmlSAX2EndElementNs=wasmExports.xmlSAX2EndElementNs)(e,rr,ir,lr),Module.___cxa_atexit=(e,rr,ir)=>(Module.___cxa_atexit=wasmExports.__cxa_atexit)(e,rr,ir),Module._xmlDocGetRootElement=e=>(Module._xmlDocGetRootElement=wasmExports.xmlDocGetRootElement)(e),Module._xmlFileMatch=e=>(Module._xmlFileMatch=wasmExports.xmlFileMatch)(e),Module._xmlFileOpen=e=>(Module._xmlFileOpen=wasmExports.xmlFileOpen)(e),Module._xmlFileRead=(e,rr,ir)=>(Module._xmlFileRead=wasmExports.xmlFileRead)(e,rr,ir),Module._xmlFileClose=e=>(Module._xmlFileClose=wasmExports.xmlFileClose)(e),Module._gzread=(e,rr,ir)=>(Module._gzread=wasmExports.gzread)(e,rr,ir),Module._gzclose=e=>(Module._gzclose=wasmExports.gzclose)(e),Module._gzdirect=e=>(Module._gzdirect=wasmExports.gzdirect)(e),Module._gzdopen=(e,rr)=>(Module._gzdopen=wasmExports.gzdopen)(e,rr),Module._gzopen=(e,rr)=>(Module._gzopen=wasmExports.gzopen)(e,rr),Module._gzwrite=(e,rr,ir)=>(Module._gzwrite=wasmExports.gzwrite)(e,rr,ir),Module._xmlUCSIsCatNd=e=>(Module._xmlUCSIsCatNd=wasmExports.xmlUCSIsCatNd)(e),Module._xmlUCSIsCatP=e=>(Module._xmlUCSIsCatP=wasmExports.xmlUCSIsCatP)(e),Module._xmlUCSIsCatZ=e=>(Module._xmlUCSIsCatZ=wasmExports.xmlUCSIsCatZ)(e),Module._xmlUCSIsCatC=e=>(Module._xmlUCSIsCatC=wasmExports.xmlUCSIsCatC)(e),Module._xmlUCSIsCatL=e=>(Module._xmlUCSIsCatL=wasmExports.xmlUCSIsCatL)(e),Module._xmlUCSIsCatLu=e=>(Module._xmlUCSIsCatLu=wasmExports.xmlUCSIsCatLu)(e),Module._xmlUCSIsCatLl=e=>(Module._xmlUCSIsCatLl=wasmExports.xmlUCSIsCatLl)(e),Module._xmlUCSIsCatLt=e=>(Module._xmlUCSIsCatLt=wasmExports.xmlUCSIsCatLt)(e),Module._xmlUCSIsCatLm=e=>(Module._xmlUCSIsCatLm=wasmExports.xmlUCSIsCatLm)(e),Module._xmlUCSIsCatLo=e=>(Module._xmlUCSIsCatLo=wasmExports.xmlUCSIsCatLo)(e),Module._xmlUCSIsCatM=e=>(Module._xmlUCSIsCatM=wasmExports.xmlUCSIsCatM)(e),Module._xmlUCSIsCatMn=e=>(Module._xmlUCSIsCatMn=wasmExports.xmlUCSIsCatMn)(e),Module._xmlUCSIsCatMc=e=>(Module._xmlUCSIsCatMc=wasmExports.xmlUCSIsCatMc)(e),Module._xmlUCSIsCatMe=e=>(Module._xmlUCSIsCatMe=wasmExports.xmlUCSIsCatMe)(e),Module._xmlUCSIsCatN=e=>(Module._xmlUCSIsCatN=wasmExports.xmlUCSIsCatN)(e),Module._xmlUCSIsCatNl=e=>(Module._xmlUCSIsCatNl=wasmExports.xmlUCSIsCatNl)(e),Module._xmlUCSIsCatNo=e=>(Module._xmlUCSIsCatNo=wasmExports.xmlUCSIsCatNo)(e),Module._xmlUCSIsCatPc=e=>(Module._xmlUCSIsCatPc=wasmExports.xmlUCSIsCatPc)(e),Module._xmlUCSIsCatPd=e=>(Module._xmlUCSIsCatPd=wasmExports.xmlUCSIsCatPd)(e),Module._xmlUCSIsCatPs=e=>(Module._xmlUCSIsCatPs=wasmExports.xmlUCSIsCatPs)(e),Module._xmlUCSIsCatPe=e=>(Module._xmlUCSIsCatPe=wasmExports.xmlUCSIsCatPe)(e),Module._xmlUCSIsCatPi=e=>(Module._xmlUCSIsCatPi=wasmExports.xmlUCSIsCatPi)(e),Module._xmlUCSIsCatPf=e=>(Module._xmlUCSIsCatPf=wasmExports.xmlUCSIsCatPf)(e),Module._xmlUCSIsCatPo=e=>(Module._xmlUCSIsCatPo=wasmExports.xmlUCSIsCatPo)(e),Module._xmlUCSIsCatZs=e=>(Module._xmlUCSIsCatZs=wasmExports.xmlUCSIsCatZs)(e),Module._xmlUCSIsCatZl=e=>(Module._xmlUCSIsCatZl=wasmExports.xmlUCSIsCatZl)(e),Module._xmlUCSIsCatZp=e=>(Module._xmlUCSIsCatZp=wasmExports.xmlUCSIsCatZp)(e),Module._xmlUCSIsCatS=e=>(Module._xmlUCSIsCatS=wasmExports.xmlUCSIsCatS)(e),Module._xmlUCSIsCatSm=e=>(Module._xmlUCSIsCatSm=wasmExports.xmlUCSIsCatSm)(e),Module._xmlUCSIsCatSc=e=>(Module._xmlUCSIsCatSc=wasmExports.xmlUCSIsCatSc)(e),Module._xmlUCSIsCatSk=e=>(Module._xmlUCSIsCatSk=wasmExports.xmlUCSIsCatSk)(e),Module._xmlUCSIsCatSo=e=>(Module._xmlUCSIsCatSo=wasmExports.xmlUCSIsCatSo)(e),Module._xmlUCSIsCatCc=e=>(Module._xmlUCSIsCatCc=wasmExports.xmlUCSIsCatCc)(e),Module._xmlUCSIsCatCf=e=>(Module._xmlUCSIsCatCf=wasmExports.xmlUCSIsCatCf)(e),Module._xmlUCSIsCatCo=e=>(Module._xmlUCSIsCatCo=wasmExports.xmlUCSIsCatCo)(e),Module._xmlUCSIsAegeanNumbers=e=>(Module._xmlUCSIsAegeanNumbers=wasmExports.xmlUCSIsAegeanNumbers)(e),Module._xmlUCSIsAlphabeticPresentationForms=e=>(Module._xmlUCSIsAlphabeticPresentationForms=wasmExports.xmlUCSIsAlphabeticPresentationForms)(e),Module._xmlUCSIsArabic=e=>(Module._xmlUCSIsArabic=wasmExports.xmlUCSIsArabic)(e),Module._xmlUCSIsArabicPresentationFormsA=e=>(Module._xmlUCSIsArabicPresentationFormsA=wasmExports.xmlUCSIsArabicPresentationFormsA)(e),Module._xmlUCSIsArabicPresentationFormsB=e=>(Module._xmlUCSIsArabicPresentationFormsB=wasmExports.xmlUCSIsArabicPresentationFormsB)(e),Module._xmlUCSIsArmenian=e=>(Module._xmlUCSIsArmenian=wasmExports.xmlUCSIsArmenian)(e),Module._xmlUCSIsArrows=e=>(Module._xmlUCSIsArrows=wasmExports.xmlUCSIsArrows)(e),Module._xmlUCSIsBasicLatin=e=>(Module._xmlUCSIsBasicLatin=wasmExports.xmlUCSIsBasicLatin)(e),Module._xmlUCSIsBengali=e=>(Module._xmlUCSIsBengali=wasmExports.xmlUCSIsBengali)(e),Module._xmlUCSIsBlockElements=e=>(Module._xmlUCSIsBlockElements=wasmExports.xmlUCSIsBlockElements)(e),Module._xmlUCSIsBopomofo=e=>(Module._xmlUCSIsBopomofo=wasmExports.xmlUCSIsBopomofo)(e),Module._xmlUCSIsBopomofoExtended=e=>(Module._xmlUCSIsBopomofoExtended=wasmExports.xmlUCSIsBopomofoExtended)(e),Module._xmlUCSIsBoxDrawing=e=>(Module._xmlUCSIsBoxDrawing=wasmExports.xmlUCSIsBoxDrawing)(e),Module._xmlUCSIsBraillePatterns=e=>(Module._xmlUCSIsBraillePatterns=wasmExports.xmlUCSIsBraillePatterns)(e),Module._xmlUCSIsBuhid=e=>(Module._xmlUCSIsBuhid=wasmExports.xmlUCSIsBuhid)(e),Module._xmlUCSIsByzantineMusicalSymbols=e=>(Module._xmlUCSIsByzantineMusicalSymbols=wasmExports.xmlUCSIsByzantineMusicalSymbols)(e),Module._xmlUCSIsCJKCompatibility=e=>(Module._xmlUCSIsCJKCompatibility=wasmExports.xmlUCSIsCJKCompatibility)(e),Module._xmlUCSIsCJKCompatibilityForms=e=>(Module._xmlUCSIsCJKCompatibilityForms=wasmExports.xmlUCSIsCJKCompatibilityForms)(e),Module._xmlUCSIsCJKCompatibilityIdeographs=e=>(Module._xmlUCSIsCJKCompatibilityIdeographs=wasmExports.xmlUCSIsCJKCompatibilityIdeographs)(e),Module._xmlUCSIsCJKCompatibilityIdeographsSupplement=e=>(Module._xmlUCSIsCJKCompatibilityIdeographsSupplement=wasmExports.xmlUCSIsCJKCompatibilityIdeographsSupplement)(e),Module._xmlUCSIsCJKRadicalsSupplement=e=>(Module._xmlUCSIsCJKRadicalsSupplement=wasmExports.xmlUCSIsCJKRadicalsSupplement)(e),Module._xmlUCSIsCJKSymbolsandPunctuation=e=>(Module._xmlUCSIsCJKSymbolsandPunctuation=wasmExports.xmlUCSIsCJKSymbolsandPunctuation)(e),Module._xmlUCSIsCJKUnifiedIdeographs=e=>(Module._xmlUCSIsCJKUnifiedIdeographs=wasmExports.xmlUCSIsCJKUnifiedIdeographs)(e),Module._xmlUCSIsCJKUnifiedIdeographsExtensionA=e=>(Module._xmlUCSIsCJKUnifiedIdeographsExtensionA=wasmExports.xmlUCSIsCJKUnifiedIdeographsExtensionA)(e),Module._xmlUCSIsCJKUnifiedIdeographsExtensionB=e=>(Module._xmlUCSIsCJKUnifiedIdeographsExtensionB=wasmExports.xmlUCSIsCJKUnifiedIdeographsExtensionB)(e),Module._xmlUCSIsCherokee=e=>(Module._xmlUCSIsCherokee=wasmExports.xmlUCSIsCherokee)(e),Module._xmlUCSIsCombiningDiacriticalMarks=e=>(Module._xmlUCSIsCombiningDiacriticalMarks=wasmExports.xmlUCSIsCombiningDiacriticalMarks)(e),Module._xmlUCSIsCombiningDiacriticalMarksforSymbols=e=>(Module._xmlUCSIsCombiningDiacriticalMarksforSymbols=wasmExports.xmlUCSIsCombiningDiacriticalMarksforSymbols)(e),Module._xmlUCSIsCombiningHalfMarks=e=>(Module._xmlUCSIsCombiningHalfMarks=wasmExports.xmlUCSIsCombiningHalfMarks)(e),Module._xmlUCSIsCombiningMarksforSymbols=e=>(Module._xmlUCSIsCombiningMarksforSymbols=wasmExports.xmlUCSIsCombiningMarksforSymbols)(e),Module._xmlUCSIsControlPictures=e=>(Module._xmlUCSIsControlPictures=wasmExports.xmlUCSIsControlPictures)(e),Module._xmlUCSIsCurrencySymbols=e=>(Module._xmlUCSIsCurrencySymbols=wasmExports.xmlUCSIsCurrencySymbols)(e),Module._xmlUCSIsCypriotSyllabary=e=>(Module._xmlUCSIsCypriotSyllabary=wasmExports.xmlUCSIsCypriotSyllabary)(e),Module._xmlUCSIsCyrillic=e=>(Module._xmlUCSIsCyrillic=wasmExports.xmlUCSIsCyrillic)(e),Module._xmlUCSIsCyrillicSupplement=e=>(Module._xmlUCSIsCyrillicSupplement=wasmExports.xmlUCSIsCyrillicSupplement)(e),Module._xmlUCSIsDeseret=e=>(Module._xmlUCSIsDeseret=wasmExports.xmlUCSIsDeseret)(e),Module._xmlUCSIsDevanagari=e=>(Module._xmlUCSIsDevanagari=wasmExports.xmlUCSIsDevanagari)(e),Module._xmlUCSIsDingbats=e=>(Module._xmlUCSIsDingbats=wasmExports.xmlUCSIsDingbats)(e),Module._xmlUCSIsEnclosedAlphanumerics=e=>(Module._xmlUCSIsEnclosedAlphanumerics=wasmExports.xmlUCSIsEnclosedAlphanumerics)(e),Module._xmlUCSIsEnclosedCJKLettersandMonths=e=>(Module._xmlUCSIsEnclosedCJKLettersandMonths=wasmExports.xmlUCSIsEnclosedCJKLettersandMonths)(e),Module._xmlUCSIsEthiopic=e=>(Module._xmlUCSIsEthiopic=wasmExports.xmlUCSIsEthiopic)(e),Module._xmlUCSIsGeneralPunctuation=e=>(Module._xmlUCSIsGeneralPunctuation=wasmExports.xmlUCSIsGeneralPunctuation)(e),Module._xmlUCSIsGeometricShapes=e=>(Module._xmlUCSIsGeometricShapes=wasmExports.xmlUCSIsGeometricShapes)(e),Module._xmlUCSIsGeorgian=e=>(Module._xmlUCSIsGeorgian=wasmExports.xmlUCSIsGeorgian)(e),Module._xmlUCSIsGothic=e=>(Module._xmlUCSIsGothic=wasmExports.xmlUCSIsGothic)(e),Module._xmlUCSIsGreek=e=>(Module._xmlUCSIsGreek=wasmExports.xmlUCSIsGreek)(e),Module._xmlUCSIsGreekExtended=e=>(Module._xmlUCSIsGreekExtended=wasmExports.xmlUCSIsGreekExtended)(e),Module._xmlUCSIsGreekandCoptic=e=>(Module._xmlUCSIsGreekandCoptic=wasmExports.xmlUCSIsGreekandCoptic)(e),Module._xmlUCSIsGujarati=e=>(Module._xmlUCSIsGujarati=wasmExports.xmlUCSIsGujarati)(e),Module._xmlUCSIsGurmukhi=e=>(Module._xmlUCSIsGurmukhi=wasmExports.xmlUCSIsGurmukhi)(e),Module._xmlUCSIsHalfwidthandFullwidthForms=e=>(Module._xmlUCSIsHalfwidthandFullwidthForms=wasmExports.xmlUCSIsHalfwidthandFullwidthForms)(e),Module._xmlUCSIsHangulCompatibilityJamo=e=>(Module._xmlUCSIsHangulCompatibilityJamo=wasmExports.xmlUCSIsHangulCompatibilityJamo)(e),Module._xmlUCSIsHangulJamo=e=>(Module._xmlUCSIsHangulJamo=wasmExports.xmlUCSIsHangulJamo)(e),Module._xmlUCSIsHangulSyllables=e=>(Module._xmlUCSIsHangulSyllables=wasmExports.xmlUCSIsHangulSyllables)(e),Module._xmlUCSIsHanunoo=e=>(Module._xmlUCSIsHanunoo=wasmExports.xmlUCSIsHanunoo)(e),Module._xmlUCSIsHebrew=e=>(Module._xmlUCSIsHebrew=wasmExports.xmlUCSIsHebrew)(e),Module._xmlUCSIsHighPrivateUseSurrogates=e=>(Module._xmlUCSIsHighPrivateUseSurrogates=wasmExports.xmlUCSIsHighPrivateUseSurrogates)(e),Module._xmlUCSIsHighSurrogates=e=>(Module._xmlUCSIsHighSurrogates=wasmExports.xmlUCSIsHighSurrogates)(e),Module._xmlUCSIsHiragana=e=>(Module._xmlUCSIsHiragana=wasmExports.xmlUCSIsHiragana)(e),Module._xmlUCSIsIPAExtensions=e=>(Module._xmlUCSIsIPAExtensions=wasmExports.xmlUCSIsIPAExtensions)(e),Module._xmlUCSIsIdeographicDescriptionCharacters=e=>(Module._xmlUCSIsIdeographicDescriptionCharacters=wasmExports.xmlUCSIsIdeographicDescriptionCharacters)(e),Module._xmlUCSIsKanbun=e=>(Module._xmlUCSIsKanbun=wasmExports.xmlUCSIsKanbun)(e),Module._xmlUCSIsKangxiRadicals=e=>(Module._xmlUCSIsKangxiRadicals=wasmExports.xmlUCSIsKangxiRadicals)(e),Module._xmlUCSIsKannada=e=>(Module._xmlUCSIsKannada=wasmExports.xmlUCSIsKannada)(e),Module._xmlUCSIsKatakana=e=>(Module._xmlUCSIsKatakana=wasmExports.xmlUCSIsKatakana)(e),Module._xmlUCSIsKatakanaPhoneticExtensions=e=>(Module._xmlUCSIsKatakanaPhoneticExtensions=wasmExports.xmlUCSIsKatakanaPhoneticExtensions)(e),Module._xmlUCSIsKhmer=e=>(Module._xmlUCSIsKhmer=wasmExports.xmlUCSIsKhmer)(e),Module._xmlUCSIsKhmerSymbols=e=>(Module._xmlUCSIsKhmerSymbols=wasmExports.xmlUCSIsKhmerSymbols)(e),Module._xmlUCSIsLao=e=>(Module._xmlUCSIsLao=wasmExports.xmlUCSIsLao)(e),Module._xmlUCSIsLatin1Supplement=e=>(Module._xmlUCSIsLatin1Supplement=wasmExports.xmlUCSIsLatin1Supplement)(e),Module._xmlUCSIsLatinExtendedA=e=>(Module._xmlUCSIsLatinExtendedA=wasmExports.xmlUCSIsLatinExtendedA)(e),Module._xmlUCSIsLatinExtendedB=e=>(Module._xmlUCSIsLatinExtendedB=wasmExports.xmlUCSIsLatinExtendedB)(e),Module._xmlUCSIsLatinExtendedAdditional=e=>(Module._xmlUCSIsLatinExtendedAdditional=wasmExports.xmlUCSIsLatinExtendedAdditional)(e),Module._xmlUCSIsLetterlikeSymbols=e=>(Module._xmlUCSIsLetterlikeSymbols=wasmExports.xmlUCSIsLetterlikeSymbols)(e),Module._xmlUCSIsLimbu=e=>(Module._xmlUCSIsLimbu=wasmExports.xmlUCSIsLimbu)(e),Module._xmlUCSIsLinearBIdeograms=e=>(Module._xmlUCSIsLinearBIdeograms=wasmExports.xmlUCSIsLinearBIdeograms)(e),Module._xmlUCSIsLinearBSyllabary=e=>(Module._xmlUCSIsLinearBSyllabary=wasmExports.xmlUCSIsLinearBSyllabary)(e),Module._xmlUCSIsLowSurrogates=e=>(Module._xmlUCSIsLowSurrogates=wasmExports.xmlUCSIsLowSurrogates)(e),Module._xmlUCSIsMalayalam=e=>(Module._xmlUCSIsMalayalam=wasmExports.xmlUCSIsMalayalam)(e),Module._xmlUCSIsMathematicalAlphanumericSymbols=e=>(Module._xmlUCSIsMathematicalAlphanumericSymbols=wasmExports.xmlUCSIsMathematicalAlphanumericSymbols)(e),Module._xmlUCSIsMathematicalOperators=e=>(Module._xmlUCSIsMathematicalOperators=wasmExports.xmlUCSIsMathematicalOperators)(e),Module._xmlUCSIsMiscellaneousMathematicalSymbolsA=e=>(Module._xmlUCSIsMiscellaneousMathematicalSymbolsA=wasmExports.xmlUCSIsMiscellaneousMathematicalSymbolsA)(e),Module._xmlUCSIsMiscellaneousMathematicalSymbolsB=e=>(Module._xmlUCSIsMiscellaneousMathematicalSymbolsB=wasmExports.xmlUCSIsMiscellaneousMathematicalSymbolsB)(e),Module._xmlUCSIsMiscellaneousSymbols=e=>(Module._xmlUCSIsMiscellaneousSymbols=wasmExports.xmlUCSIsMiscellaneousSymbols)(e),Module._xmlUCSIsMiscellaneousSymbolsandArrows=e=>(Module._xmlUCSIsMiscellaneousSymbolsandArrows=wasmExports.xmlUCSIsMiscellaneousSymbolsandArrows)(e),Module._xmlUCSIsMiscellaneousTechnical=e=>(Module._xmlUCSIsMiscellaneousTechnical=wasmExports.xmlUCSIsMiscellaneousTechnical)(e),Module._xmlUCSIsMongolian=e=>(Module._xmlUCSIsMongolian=wasmExports.xmlUCSIsMongolian)(e),Module._xmlUCSIsMusicalSymbols=e=>(Module._xmlUCSIsMusicalSymbols=wasmExports.xmlUCSIsMusicalSymbols)(e),Module._xmlUCSIsMyanmar=e=>(Module._xmlUCSIsMyanmar=wasmExports.xmlUCSIsMyanmar)(e),Module._xmlUCSIsNumberForms=e=>(Module._xmlUCSIsNumberForms=wasmExports.xmlUCSIsNumberForms)(e),Module._xmlUCSIsOgham=e=>(Module._xmlUCSIsOgham=wasmExports.xmlUCSIsOgham)(e),Module._xmlUCSIsOldItalic=e=>(Module._xmlUCSIsOldItalic=wasmExports.xmlUCSIsOldItalic)(e),Module._xmlUCSIsOpticalCharacterRecognition=e=>(Module._xmlUCSIsOpticalCharacterRecognition=wasmExports.xmlUCSIsOpticalCharacterRecognition)(e),Module._xmlUCSIsOriya=e=>(Module._xmlUCSIsOriya=wasmExports.xmlUCSIsOriya)(e),Module._xmlUCSIsOsmanya=e=>(Module._xmlUCSIsOsmanya=wasmExports.xmlUCSIsOsmanya)(e),Module._xmlUCSIsPhoneticExtensions=e=>(Module._xmlUCSIsPhoneticExtensions=wasmExports.xmlUCSIsPhoneticExtensions)(e),Module._xmlUCSIsPrivateUse=e=>(Module._xmlUCSIsPrivateUse=wasmExports.xmlUCSIsPrivateUse)(e),Module._xmlUCSIsPrivateUseArea=e=>(Module._xmlUCSIsPrivateUseArea=wasmExports.xmlUCSIsPrivateUseArea)(e),Module._xmlUCSIsRunic=e=>(Module._xmlUCSIsRunic=wasmExports.xmlUCSIsRunic)(e),Module._xmlUCSIsShavian=e=>(Module._xmlUCSIsShavian=wasmExports.xmlUCSIsShavian)(e),Module._xmlUCSIsSinhala=e=>(Module._xmlUCSIsSinhala=wasmExports.xmlUCSIsSinhala)(e),Module._xmlUCSIsSmallFormVariants=e=>(Module._xmlUCSIsSmallFormVariants=wasmExports.xmlUCSIsSmallFormVariants)(e),Module._xmlUCSIsSpacingModifierLetters=e=>(Module._xmlUCSIsSpacingModifierLetters=wasmExports.xmlUCSIsSpacingModifierLetters)(e),Module._xmlUCSIsSpecials=e=>(Module._xmlUCSIsSpecials=wasmExports.xmlUCSIsSpecials)(e),Module._xmlUCSIsSuperscriptsandSubscripts=e=>(Module._xmlUCSIsSuperscriptsandSubscripts=wasmExports.xmlUCSIsSuperscriptsandSubscripts)(e),Module._xmlUCSIsSupplementalArrowsA=e=>(Module._xmlUCSIsSupplementalArrowsA=wasmExports.xmlUCSIsSupplementalArrowsA)(e),Module._xmlUCSIsSupplementalArrowsB=e=>(Module._xmlUCSIsSupplementalArrowsB=wasmExports.xmlUCSIsSupplementalArrowsB)(e),Module._xmlUCSIsSupplementalMathematicalOperators=e=>(Module._xmlUCSIsSupplementalMathematicalOperators=wasmExports.xmlUCSIsSupplementalMathematicalOperators)(e),Module._xmlUCSIsSupplementaryPrivateUseAreaA=e=>(Module._xmlUCSIsSupplementaryPrivateUseAreaA=wasmExports.xmlUCSIsSupplementaryPrivateUseAreaA)(e),Module._xmlUCSIsSupplementaryPrivateUseAreaB=e=>(Module._xmlUCSIsSupplementaryPrivateUseAreaB=wasmExports.xmlUCSIsSupplementaryPrivateUseAreaB)(e),Module._xmlUCSIsSyriac=e=>(Module._xmlUCSIsSyriac=wasmExports.xmlUCSIsSyriac)(e),Module._xmlUCSIsTagalog=e=>(Module._xmlUCSIsTagalog=wasmExports.xmlUCSIsTagalog)(e),Module._xmlUCSIsTagbanwa=e=>(Module._xmlUCSIsTagbanwa=wasmExports.xmlUCSIsTagbanwa)(e),Module._xmlUCSIsTags=e=>(Module._xmlUCSIsTags=wasmExports.xmlUCSIsTags)(e),Module._xmlUCSIsTaiLe=e=>(Module._xmlUCSIsTaiLe=wasmExports.xmlUCSIsTaiLe)(e),Module._xmlUCSIsTaiXuanJingSymbols=e=>(Module._xmlUCSIsTaiXuanJingSymbols=wasmExports.xmlUCSIsTaiXuanJingSymbols)(e),Module._xmlUCSIsTamil=e=>(Module._xmlUCSIsTamil=wasmExports.xmlUCSIsTamil)(e),Module._xmlUCSIsTelugu=e=>(Module._xmlUCSIsTelugu=wasmExports.xmlUCSIsTelugu)(e),Module._xmlUCSIsThaana=e=>(Module._xmlUCSIsThaana=wasmExports.xmlUCSIsThaana)(e),Module._xmlUCSIsThai=e=>(Module._xmlUCSIsThai=wasmExports.xmlUCSIsThai)(e),Module._xmlUCSIsTibetan=e=>(Module._xmlUCSIsTibetan=wasmExports.xmlUCSIsTibetan)(e),Module._xmlUCSIsUgaritic=e=>(Module._xmlUCSIsUgaritic=wasmExports.xmlUCSIsUgaritic)(e),Module._xmlUCSIsUnifiedCanadianAboriginalSyllabics=e=>(Module._xmlUCSIsUnifiedCanadianAboriginalSyllabics=wasmExports.xmlUCSIsUnifiedCanadianAboriginalSyllabics)(e),Module._xmlUCSIsVariationSelectors=e=>(Module._xmlUCSIsVariationSelectors=wasmExports.xmlUCSIsVariationSelectors)(e),Module._xmlUCSIsVariationSelectorsSupplement=e=>(Module._xmlUCSIsVariationSelectorsSupplement=wasmExports.xmlUCSIsVariationSelectorsSupplement)(e),Module._xmlUCSIsYiRadicals=e=>(Module._xmlUCSIsYiRadicals=wasmExports.xmlUCSIsYiRadicals)(e),Module._xmlUCSIsYiSyllables=e=>(Module._xmlUCSIsYiSyllables=wasmExports.xmlUCSIsYiSyllables)(e),Module._xmlUCSIsYijingHexagramSymbols=e=>(Module._xmlUCSIsYijingHexagramSymbols=wasmExports.xmlUCSIsYijingHexagramSymbols)(e),Module._xmlUCSIsCatCs=e=>(Module._xmlUCSIsCatCs=wasmExports.xmlUCSIsCatCs)(e),Module.___small_fprintf=(e,rr,ir)=>(Module.___small_fprintf=wasmExports.__small_fprintf)(e,rr,ir),Module._xmlXPathBooleanFunction=(e,rr)=>(Module._xmlXPathBooleanFunction=wasmExports.xmlXPathBooleanFunction)(e,rr),Module._xmlXPathCeilingFunction=(e,rr)=>(Module._xmlXPathCeilingFunction=wasmExports.xmlXPathCeilingFunction)(e,rr),Module._xmlXPathCountFunction=(e,rr)=>(Module._xmlXPathCountFunction=wasmExports.xmlXPathCountFunction)(e,rr),Module._xmlXPathConcatFunction=(e,rr)=>(Module._xmlXPathConcatFunction=wasmExports.xmlXPathConcatFunction)(e,rr),Module._xmlXPathContainsFunction=(e,rr)=>(Module._xmlXPathContainsFunction=wasmExports.xmlXPathContainsFunction)(e,rr),Module._xmlXPathIdFunction=(e,rr)=>(Module._xmlXPathIdFunction=wasmExports.xmlXPathIdFunction)(e,rr),Module._xmlXPathFalseFunction=(e,rr)=>(Module._xmlXPathFalseFunction=wasmExports.xmlXPathFalseFunction)(e,rr),Module._xmlXPathFloorFunction=(e,rr)=>(Module._xmlXPathFloorFunction=wasmExports.xmlXPathFloorFunction)(e,rr),Module._xmlXPathLastFunction=(e,rr)=>(Module._xmlXPathLastFunction=wasmExports.xmlXPathLastFunction)(e,rr),Module._xmlXPathLangFunction=(e,rr)=>(Module._xmlXPathLangFunction=wasmExports.xmlXPathLangFunction)(e,rr),Module._xmlXPathLocalNameFunction=(e,rr)=>(Module._xmlXPathLocalNameFunction=wasmExports.xmlXPathLocalNameFunction)(e,rr),Module._xmlXPathNotFunction=(e,rr)=>(Module._xmlXPathNotFunction=wasmExports.xmlXPathNotFunction)(e,rr),Module._xmlXPathNamespaceURIFunction=(e,rr)=>(Module._xmlXPathNamespaceURIFunction=wasmExports.xmlXPathNamespaceURIFunction)(e,rr),Module._xmlXPathNormalizeFunction=(e,rr)=>(Module._xmlXPathNormalizeFunction=wasmExports.xmlXPathNormalizeFunction)(e,rr),Module._xmlXPathNumberFunction=(e,rr)=>(Module._xmlXPathNumberFunction=wasmExports.xmlXPathNumberFunction)(e,rr),Module._xmlXPathPositionFunction=(e,rr)=>(Module._xmlXPathPositionFunction=wasmExports.xmlXPathPositionFunction)(e,rr),Module._xmlXPathRoundFunction=(e,rr)=>(Module._xmlXPathRoundFunction=wasmExports.xmlXPathRoundFunction)(e,rr),Module._xmlXPathStringFunction=(e,rr)=>(Module._xmlXPathStringFunction=wasmExports.xmlXPathStringFunction)(e,rr),Module._xmlXPathStringLengthFunction=(e,rr)=>(Module._xmlXPathStringLengthFunction=wasmExports.xmlXPathStringLengthFunction)(e,rr),Module._xmlXPathStartsWithFunction=(e,rr)=>(Module._xmlXPathStartsWithFunction=wasmExports.xmlXPathStartsWithFunction)(e,rr),Module._xmlXPathSubstringFunction=(e,rr)=>(Module._xmlXPathSubstringFunction=wasmExports.xmlXPathSubstringFunction)(e,rr),Module._xmlXPathSubstringBeforeFunction=(e,rr)=>(Module._xmlXPathSubstringBeforeFunction=wasmExports.xmlXPathSubstringBeforeFunction)(e,rr),Module._xmlXPathSubstringAfterFunction=(e,rr)=>(Module._xmlXPathSubstringAfterFunction=wasmExports.xmlXPathSubstringAfterFunction)(e,rr),Module._xmlXPathSumFunction=(e,rr)=>(Module._xmlXPathSumFunction=wasmExports.xmlXPathSumFunction)(e,rr),Module._xmlXPathTrueFunction=(e,rr)=>(Module._xmlXPathTrueFunction=wasmExports.xmlXPathTrueFunction)(e,rr),Module._xmlXPathTranslateFunction=(e,rr)=>(Module._xmlXPathTranslateFunction=wasmExports.xmlXPathTranslateFunction)(e,rr),Module._xmlXPathNextSelf=(e,rr)=>(Module._xmlXPathNextSelf=wasmExports.xmlXPathNextSelf)(e,rr),Module._xmlXPathNextChild=(e,rr)=>(Module._xmlXPathNextChild=wasmExports.xmlXPathNextChild)(e,rr),Module._xmlXPathNextDescendant=(e,rr)=>(Module._xmlXPathNextDescendant=wasmExports.xmlXPathNextDescendant)(e,rr),Module._xmlXPathNextDescendantOrSelf=(e,rr)=>(Module._xmlXPathNextDescendantOrSelf=wasmExports.xmlXPathNextDescendantOrSelf)(e,rr),Module._xmlXPathNextParent=(e,rr)=>(Module._xmlXPathNextParent=wasmExports.xmlXPathNextParent)(e,rr),Module._xmlXPathNextAncestor=(e,rr)=>(Module._xmlXPathNextAncestor=wasmExports.xmlXPathNextAncestor)(e,rr),Module._xmlXPathNextAncestorOrSelf=(e,rr)=>(Module._xmlXPathNextAncestorOrSelf=wasmExports.xmlXPathNextAncestorOrSelf)(e,rr),Module._xmlXPathNextFollowingSibling=(e,rr)=>(Module._xmlXPathNextFollowingSibling=wasmExports.xmlXPathNextFollowingSibling)(e,rr),Module._xmlXPathNextPrecedingSibling=(e,rr)=>(Module._xmlXPathNextPrecedingSibling=wasmExports.xmlXPathNextPrecedingSibling)(e,rr),Module._xmlXPathNextFollowing=(e,rr)=>(Module._xmlXPathNextFollowing=wasmExports.xmlXPathNextFollowing)(e,rr),Module._xmlXPathNextNamespace=(e,rr)=>(Module._xmlXPathNextNamespace=wasmExports.xmlXPathNextNamespace)(e,rr),Module._xmlXPathNextAttribute=(e,rr)=>(Module._xmlXPathNextAttribute=wasmExports.xmlXPathNextAttribute)(e,rr),Module._zcalloc=(e,rr,ir)=>(Module._zcalloc=wasmExports.zcalloc)(e,rr,ir),Module._zcfree=(e,rr)=>(Module._zcfree=wasmExports.zcfree)(e,rr),Module._memset=(e,rr,ir)=>(Module._memset=wasmExports.memset)(e,rr,ir),Module._strerror=e=>(Module._strerror=wasmExports.strerror)(e),Module._memmove=(e,rr,ir)=>(Module._memmove=wasmExports.memmove)(e,rr,ir),Module._sysconf=e=>(Module._sysconf=wasmExports.sysconf)(e),Module.___multf3=(e,rr,ir,lr,dr)=>(Module.___multf3=wasmExports.__multf3)(e,rr,ir,lr,dr),Module.___subtf3=(e,rr,ir,lr,dr)=>(Module.___subtf3=wasmExports.__subtf3)(e,rr,ir,lr,dr),Module.___lttf2=(e,rr,ir,lr)=>(Module.___lttf2=wasmExports.__lttf2)(e,rr,ir,lr),Module.___fixtfsi=(e,rr)=>(Module.___fixtfsi=wasmExports.__fixtfsi)(e,rr),Module.___floatsitf=(e,rr)=>(Module.___floatsitf=wasmExports.__floatsitf)(e,rr),Module.___extenddftf2=(e,rr)=>(Module.___extenddftf2=wasmExports.__extenddftf2)(e,rr),Module.___getf2=(e,rr,ir,lr)=>(Module.___getf2=wasmExports.__getf2)(e,rr,ir,lr),Module._pthread_mutex_lock=e=>(Module._pthread_mutex_lock=wasmExports.pthread_mutex_lock)(e),Module._pthread_mutex_unlock=e=>(Module._pthread_mutex_unlock=wasmExports.pthread_mutex_unlock)(e),Module._strcasecmp=(e,rr)=>(Module._strcasecmp=wasmExports.strcasecmp)(e,rr);var ___dl_seterr=(e,rr)=>(___dl_seterr=wasmExports.__dl_seterr)(e,rr),_emscripten_builtin_memalign=(e,rr)=>(_emscripten_builtin_memalign=wasmExports.emscripten_builtin_memalign)(e,rr),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)();Module._perror=e=>(Module._perror=wasmExports.perror)(e),Module._putc=(e,rr)=>(Module._putc=wasmExports.putc)(e,rr),Module.___letf2=(e,rr,ir,lr)=>(Module.___letf2=wasmExports.__letf2)(e,rr,ir,lr),Module._pthread_sigmask=(e,rr,ir)=>(Module._pthread_sigmask=wasmExports.pthread_sigmask)(e,rr,ir),Module._freelocale=e=>(Module._freelocale=wasmExports.freelocale)(e),Module._getentropy=(e,rr)=>(Module._getentropy=wasmExports.getentropy)(e,rr),Module._getgid=()=>(Module._getgid=wasmExports.getgid)();var _htons=e=>(_htons=wasmExports.htons)(e),_ntohs=Module._ntohs=e=>(_ntohs=Module._ntohs=wasmExports.ntohs)(e);Module._getuid=()=>(Module._getuid=wasmExports.getuid)(),Module._qsort=(e,rr,ir,lr)=>(Module._qsort=wasmExports.qsort)(e,rr,ir,lr),Module._gmtime=e=>(Module._gmtime=wasmExports.gmtime)(e);var _htonl=e=>(_htonl=wasmExports.htonl)(e);Module._ioctl=(e,rr,ir)=>(Module._ioctl=wasmExports.ioctl)(e,rr,ir),Module._pthread_getspecific=e=>(Module._pthread_getspecific=wasmExports.pthread_getspecific)(e),Module._pthread_setspecific=(e,rr)=>(Module._pthread_setspecific=wasmExports.pthread_setspecific)(e,rr),Module._pthread_atfork=(e,rr,ir)=>(Module._pthread_atfork=wasmExports.pthread_atfork)(e,rr,ir),Module._pthread_rwlock_init=(e,rr)=>(Module._pthread_rwlock_init=wasmExports.pthread_rwlock_init)(e,rr),Module._pthread_rwlock_destroy=e=>(Module._pthread_rwlock_destroy=wasmExports.pthread_rwlock_destroy)(e),Module._pthread_rwlock_rdlock=e=>(Module._pthread_rwlock_rdlock=wasmExports.pthread_rwlock_rdlock)(e),Module._pthread_rwlock_wrlock=e=>(Module._pthread_rwlock_wrlock=wasmExports.pthread_rwlock_wrlock)(e),Module._pthread_rwlock_unlock=e=>(Module._pthread_rwlock_unlock=wasmExports.pthread_rwlock_unlock)(e),Module._pthread_key_delete=e=>(Module._pthread_key_delete=wasmExports.pthread_key_delete)(e),Module._pthread_key_create=(e,rr)=>(Module._pthread_key_create=wasmExports.pthread_key_create)(e,rr),Module._pthread_once=(e,rr)=>(Module._pthread_once=wasmExports.pthread_once)(e,rr),Module._madvise=(e,rr,ir)=>(Module._madvise=wasmExports.madvise)(e,rr,ir),Module._gmtime_r=(e,rr)=>(Module._gmtime_r=wasmExports.gmtime_r)(e,rr),Module._mlock=(e,rr)=>(Module._mlock=wasmExports.mlock)(e,rr),Module._mprotect=(e,rr,ir)=>(Module._mprotect=wasmExports.mprotect)(e,rr,ir),Module._tcsetattr=(e,rr,ir)=>(Module._tcsetattr=wasmExports.tcsetattr)(e,rr,ir),Module._pthread_self=()=>(Module._pthread_self=wasmExports.pthread_self)(),Module._sigismember=(e,rr)=>(Module._sigismember=wasmExports.sigismember)(e,rr),Module._sigpending=e=>(Module._sigpending=wasmExports.sigpending)(e),Module._srand=e=>(Module._srand=wasmExports.srand)(e),Module._rand=()=>(Module._rand=wasmExports.rand)(),Module._setbuf=(e,rr)=>(Module._setbuf=wasmExports.setbuf)(e,rr);var __emscripten_timeout=(e,rr)=>(__emscripten_timeout=wasmExports._emscripten_timeout)(e,rr);Module._signal=(e,rr)=>(Module._signal=wasmExports.signal)(e,rr),Module._sigwait=(e,rr)=>(Module._sigwait=wasmExports.sigwait)(e,rr),Module._strncasecmp=(e,rr,ir)=>(Module._strncasecmp=wasmExports.strncasecmp)(e,rr,ir),Module._strncat=(e,rr,ir)=>(Module._strncat=wasmExports.strncat)(e,rr,ir),Module._strxfrm_l=(e,rr,ir,lr)=>(Module._strxfrm_l=wasmExports.strxfrm_l)(e,rr,ir,lr),Module._tcgetattr=(e,rr)=>(Module._tcgetattr=wasmExports.tcgetattr)(e,rr);var _setThrew=(e,rr)=>(_setThrew=wasmExports.setThrew)(e,rr),__emscripten_tempret_set=e=>(__emscripten_tempret_set=wasmExports._emscripten_tempret_set)(e),__emscripten_tempret_get=()=>(__emscripten_tempret_get=wasmExports._emscripten_tempret_get)(),__emscripten_stack_restore=e=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(e),__emscripten_stack_alloc=e=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(e);Module._gethostbyname=e=>(Module._gethostbyname=wasmExports.gethostbyname)(e),Module._getsockname=(e,rr,ir)=>(Module._getsockname=wasmExports.getsockname)(e,rr,ir),Module._shutdown=(e,rr)=>(Module._shutdown=wasmExports.shutdown)(e,rr),Module._stderr=15161616,Module._InterruptPending=15306048,Module._MyLatch=15306236,Module._CritSectionCount=15306100,Module._MyProc=15275852,Module._pg_global_prng_state=15252432,Module._error_context_stack=15304344,Module._GUC_check_errdetail_string=15309996,Module._IsUnderPostmaster=15306129,Module._CurrentMemoryContext=15311424,Module._stdout=15161920,Module._debug_query_string=15166860,Module._MyProcPort=15306224,Module.___THREW__=15331188,Module.___threwValue=15331192,Module._MyDatabaseId=15306108,Module._TopMemoryContext=15311428,Module._PG_exception_stack=15304348,Module._MyProcPid=15306200,Module._stdin=15161768,Module._ScanKeywords=14994472,Module._pg_number_of_ones=13560256,Module._LocalBufferBlockPointers=15272428,Module._BufferBlocks=15267164,Module._wal_level=15008352,Module._SnapshotAnyData=15094528,Module._maintenance_work_mem=15042008,Module._ParallelWorkerNumber=14999912,Module._MainLWLockArray=15274036,Module._CurrentResourceOwner=15311472,Module._work_mem=15041992,Module._NBuffers=15042016,Module._bsysscan=15253668,Module._CheckXidAlive=15253664,Module._RecentXmin=15094620,Module._TTSOpsHeapTuple=15012092,Module._XactIsoLevel=15008216,Module._pgWalUsage=15257136,Module._pgBufferUsage=15257008,Module._TTSOpsVirtual=15012040,Module._TransamVariables=15253656,Module._TopTransactionContext=15311448,Module._RmgrTable=14999936,Module._process_shared_preload_libraries_in_progress=15309392,Module._wal_segment_size=15008372,Module._TopTransactionResourceOwner=15311480,Module._arch_module_check_errdetail_string=15266548,Module._object_access_hook=15255776,Module._InvalidObjectAddress=14155804,Module._check_function_bodies=15042182,Module._post_parse_analyze_hook=15255816,Module._ScanKeywordTokens=14186880,Module._SPI_processed=15257160,Module._SPI_tuptable=15257168,Module._CacheMemoryContext=15311440,Module._WalReceiverFunctions=15266940,Module._TTSOpsMinimalTuple=15012144,Module._check_password_hook=15256084,Module._ConfigReloadPending=15266536,Module._max_parallel_maintenance_workers=15042012,Module._DateStyle=15041980,Module._ExecutorStart_hook=15256984,Module._ExecutorRun_hook=15256988,Module._ExecutorFinish_hook=15256992,Module._ExecutorEnd_hook=15256996,Module._SPI_result=15257172,Module._ClientAuthentication_hook=15257344,Module._cpu_tuple_cost=15012600,Module._cpu_operator_cost=15012616,Module._seq_page_cost=15012584,Module._planner_hook=15266232,Module._ShutdownRequestPending=15266540,Module._MyStartTime=15306208,Module._cluster_name=15042232,Module._application_name=15310220,Module._BufferDescriptors=15267160,Module._shmem_startup_hook=15273108,Module._ProcessUtility_hook=15275940,Module._IntervalStyle=15306132,Module._extra_float_digits=15032408,Module._pg_crc32_table=14747456,Module._xmlFree=15143832,Module._xmlStructuredError=15312996,Module._xmlStructuredErrorContext=15313004,Module._xmlGenericErrorContext=15313e3,Module._xmlGenericError=15143868,Module._xmlIsBaseCharGroup=15143232,Module._xmlIsDigitGroup=15143264,Module._xmlIsCombiningGroup=15143248,Module._xmlIsExtenderGroup=15143280,Module._ErrorContext=15311432,Module._shmem_request_hook=15309396,Module._xmlIsPubidChar_tab=14788752,Module._xmlMalloc=15143836,Module._xmlRealloc=15143844,Module._xmlGetWarningsDefaultValue=15143860,Module._xmlLastError=15313016,Module._xmlMallocAtomic=15143840,Module._xmlMemStrdup=15143848,Module._xmlBufferAllocScheme=15143852,Module._xmlDefaultBufferSize=15143856,Module._xmlParserDebugEntities=15312956,Module._xmlDoValidityCheckingDefaultValue=15312960,Module._xmlLoadExtDtdDefaultValue=15312964,Module._xmlPedanticParserDefaultValue=15312968,Module._xmlLineNumbersDefaultValue=15312972,Module._xmlKeepBlanksDefaultValue=15143864,Module._xmlSubstituteEntitiesDefaultValue=15312976,Module._xmlRegisterNodeDefaultValue=15312980,Module._xmlDeregisterNodeDefaultValue=15312984,Module._xmlParserInputBufferCreateFilenameValue=15312988,Module._xmlOutputBufferCreateFilenameValue=15312992,Module._xmlIndentTreeOutput=15143872,Module._xmlTreeIndentString=15143876,Module._xmlSaveNoEmptyTags=15313008,Module._xmlDefaultSAXHandler=15143880,Module._xmlDefaultSAXLocator=15143992,Module._xmlParserMaxDepth=15144260,Module._xmlStringText=14790560,Module._xmlStringComment=14790575,Module._xmlStringTextNoenc=14790565,Module._xmlXPathNAN=15313672,Module._xmlXPathNINF=15313688,Module._xmlXPathPINF=15313680,Module._z_errmsg=15160816,Module.__length_code=14810224,Module.__dist_code=14809712;function invoke_iii(e,rr,ir){var lr=stackSave();try{return getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;_setThrew(1,0)}}function invoke_viiii(e,rr,ir,lr,dr){var fr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr)}catch(mr){if(stackRestore(fr),mr!==mr+0)throw mr;_setThrew(1,0)}}function invoke_vi(e,rr){var ir=stackSave();try{getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_v(e){var rr=stackSave();try{getWasmTableEntry(e)()}catch(ir){if(stackRestore(rr),ir!==ir+0)throw ir;_setThrew(1,0)}}function invoke_j(e){var rr=stackSave();try{return getWasmTableEntry(e)()}catch(ir){if(stackRestore(rr),ir!==ir+0)throw ir;return _setThrew(1,0),0n}}function invoke_viiiiii(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;_setThrew(1,0)}}function invoke_vii(e,rr,ir){var lr=stackSave();try{getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;_setThrew(1,0)}}function invoke_iiiiii(e,rr,ir,lr,dr,fr){var mr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr)}catch(hr){if(stackRestore(mr),hr!==hr+0)throw hr;_setThrew(1,0)}}function invoke_i(e){var rr=stackSave();try{return getWasmTableEntry(e)()}catch(ir){if(stackRestore(rr),ir!==ir+0)throw ir;_setThrew(1,0)}}function invoke_ii(e,rr){var ir=stackSave();try{return getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_viii(e,rr,ir,lr){var dr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_iiii(e,rr,ir,lr){var dr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_vji(e,rr,ir){var lr=stackSave();try{getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;_setThrew(1,0)}}function invoke_iiiiiiii(e,rr,ir,lr,dr,fr,mr,hr){var gr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr)}catch(xr){if(stackRestore(gr),xr!==xr+0)throw xr;_setThrew(1,0)}}function invoke_iiiii(e,rr,ir,lr,dr){var fr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr)}catch(mr){if(stackRestore(fr),mr!==mr+0)throw mr;_setThrew(1,0)}}function invoke_viiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr){var _r=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr)}catch(yr){if(stackRestore(_r),yr!==yr+0)throw yr;_setThrew(1,0)}}function invoke_viiiii(e,rr,ir,lr,dr,fr){var mr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr)}catch(hr){if(stackRestore(mr),hr!==hr+0)throw hr;_setThrew(1,0)}}function invoke_jii(e,rr,ir){var lr=stackSave();try{return getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;return _setThrew(1,0),0n}}function invoke_ji(e,rr){var ir=stackSave();try{return getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;return _setThrew(1,0),0n}}function invoke_jiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr){var _r=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr)}catch(yr){if(stackRestore(_r),yr!==yr+0)throw yr;return _setThrew(1,0),0n}}function invoke_jiiiiii(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;return _setThrew(1,0),0n}}function invoke_iiiiiiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br){var Sr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br)}catch(wr){if(stackRestore(Sr),wr!==wr+0)throw wr;_setThrew(1,0)}}function invoke_iiiijii(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;_setThrew(1,0)}}function invoke_vijiji(e,rr,ir,lr,dr,fr){var mr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr)}catch(hr){if(stackRestore(mr),hr!==hr+0)throw hr;_setThrew(1,0)}}function invoke_viji(e,rr,ir,lr){var dr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_iiji(e,rr,ir,lr){var dr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_iiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr){var xr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr)}catch(_r){if(stackRestore(xr),_r!==_r+0)throw _r;_setThrew(1,0)}}function invoke_iiiiiiiiiiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br,Sr,wr,Mr,kr){var Ar=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br,Sr,wr,Mr,kr)}catch(Ir){if(stackRestore(Ar),Ir!==Ir+0)throw Ir;_setThrew(1,0)}}function invoke_iiiij(e,rr,ir,lr,dr){var fr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr)}catch(mr){if(stackRestore(fr),mr!==mr+0)throw mr;_setThrew(1,0)}}function invoke_iiiiiii(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;_setThrew(1,0)}}function invoke_vj(e,rr){var ir=stackSave();try{getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_iiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr){var _r=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr)}catch(yr){if(stackRestore(_r),yr!==yr+0)throw yr;_setThrew(1,0)}}function invoke_viiji(e,rr,ir,lr,dr){var fr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr)}catch(mr){if(stackRestore(fr),mr!==mr+0)throw mr;_setThrew(1,0)}}function invoke_viiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr){var xr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr)}catch(_r){if(stackRestore(xr),_r!==_r+0)throw _r;_setThrew(1,0)}}function invoke_vij(e,rr,ir){var lr=stackSave();try{getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;_setThrew(1,0)}}function invoke_ij(e,rr){var ir=stackSave();try{return getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_viiiiiii(e,rr,ir,lr,dr,fr,mr,hr){var gr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr)}catch(xr){if(stackRestore(gr),xr!==xr+0)throw xr;_setThrew(1,0)}}function invoke_viiiji(e,rr,ir,lr,dr,fr){var mr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr)}catch(hr){if(stackRestore(mr),hr!==hr+0)throw hr;_setThrew(1,0)}}function invoke_iiij(e,rr,ir,lr){var dr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_vid(e,rr,ir){var lr=stackSave();try{getWasmTableEntry(e)(rr,ir)}catch(dr){if(stackRestore(lr),dr!==dr+0)throw dr;_setThrew(1,0)}}function invoke_ijiiiiii(e,rr,ir,lr,dr,fr,mr,hr){var gr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr)}catch(xr){if(stackRestore(gr),xr!==xr+0)throw xr;_setThrew(1,0)}}function invoke_viijii(e,rr,ir,lr,dr,fr){var mr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr)}catch(hr){if(stackRestore(mr),hr!==hr+0)throw hr;_setThrew(1,0)}}function invoke_iiiiiji(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;_setThrew(1,0)}}function invoke_viijiiii(e,rr,ir,lr,dr,fr,mr,hr){var gr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr)}catch(xr){if(stackRestore(gr),xr!==xr+0)throw xr;_setThrew(1,0)}}function invoke_viij(e,rr,ir,lr){var dr=stackSave();try{getWasmTableEntry(e)(rr,ir,lr)}catch(fr){if(stackRestore(dr),fr!==fr+0)throw fr;_setThrew(1,0)}}function invoke_jiiii(e,rr,ir,lr,dr){var fr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr)}catch(mr){if(stackRestore(fr),mr!==mr+0)throw mr;return _setThrew(1,0),0n}}function invoke_viiiiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr){var br=stackSave();try{getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr)}catch(Sr){if(stackRestore(br),Sr!==Sr+0)throw Sr;_setThrew(1,0)}}function invoke_di(e,rr){var ir=stackSave();try{return getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_id(e,rr){var ir=stackSave();try{return getWasmTableEntry(e)(rr)}catch(lr){if(stackRestore(ir),lr!==lr+0)throw lr;_setThrew(1,0)}}function invoke_ijiiiii(e,rr,ir,lr,dr,fr,mr){var hr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr)}catch(gr){if(stackRestore(hr),gr!==gr+0)throw gr;_setThrew(1,0)}}function invoke_iiiiiiiiiii(e,rr,ir,lr,dr,fr,mr,hr,gr,xr,_r){var yr=stackSave();try{return getWasmTableEntry(e)(rr,ir,lr,dr,fr,mr,hr,gr,xr,_r)}catch(vr){if(stackRestore(yr),vr!==vr+0)throw vr;_setThrew(1,0)}}Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.getTempRet0=getTempRet0,Module.setTempRet0=setTempRet0,Module.setValue=setValue,Module.getValue=getValue,Module.UTF8ToString=UTF8ToString,Module.stringToNewUTF8=stringToNewUTF8,Module.stringToUTF8OnStack=stringToUTF8OnStack,Module.FS_createPreloadedFile=FS_createPreloadedFile,Module.FS_unlink=FS_unlink,Module.FS_createPath=FS_createPath,Module.FS_createDevice=FS_createDevice,Module.FS=FS,Module.FS_createDataFile=FS_createDataFile,Module.FS_createLazyFile=FS_createLazyFile,Module.MEMFS=MEMFS,Module.IDBFS=IDBFS;var calledRun;dependenciesFulfilled=function e(){calledRun||run(),calledRun||(dependenciesFulfilled=e)};function callMain(e=[]){var rr=resolveGlobalSymbol("main").sym;if(rr){e.unshift(thisProgram);var ir=e.length,lr=stackAlloc((ir+1)*4),dr=lr;e.forEach(mr=>{HEAPU32[dr>>2]=stringToUTF8OnStack(mr),dr+=4}),HEAPU32[dr>>2]=0;try{var fr=rr(ir,lr);return exitJS(fr,!0),fr}catch(mr){return handleException(mr)}}}function run(e=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function rr(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),readyPromiseResolve(Module),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(e),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Module.setStatus(""),1),rr()},1)):rr()}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;return Module.noInitialRun&&(shouldRunNow=!1),run(),moduleRtn=readyPromise,moduleRtn}})(),Ue=Ze,Re=Ue,J,j$1,V,Q$1,$$1,ie$1,me,pe,de$1,Z$1,ae$1,oe,se$1,le$1,K,H$1,A,Y$1,T,De$1,re,ze,Ne,ue=class ho extends F$1{constructor(rr={},ir={}){super(),R$1(this,T),R$1(this,J,!1),R$1(this,j$1,!1),R$1(this,V,!1),R$1(this,Q$1,!1),R$1(this,$$1,!1),R$1(this,ie$1,new X),R$1(this,me,new X),R$1(this,pe,new X),R$1(this,de$1,new X),R$1(this,Z$1,!1),R$1(this,ae$1,"cma"),this.debug=0,R$1(this,oe),R$1(this,se$1,[]),R$1(this,le$1,new ye),R$1(this,K),R$1(this,H$1),R$1(this,A,new Map),R$1(this,Y$1,new Set),typeof rr=="string"?ir={dataDir:rr,...ir}:ir=rr,this.dataDir=ir.dataDir,ir.parsers!==void 0&&(this.parsers={...this.parsers,...ir.parsers}),ir.serializers!==void 0&&(this.serializers={...this.serializers,...ir.serializers}),ir?.debug!==void 0&&(this.debug=ir.debug),ir?.relaxedDurability!==void 0&&x$3(this,$$1,ir.relaxedDurability),ir?.defaultDataTransferContainer!==void 0&&x$3(this,ae$1,ir.defaultDataTransferContainer),x$3(this,oe,ir.extensions??{}),this.waitReady=T$1(this,T,De$1).call(this,ir??{})}static async create(rr,ir){let lr=typeof rr=="string"?{dataDir:rr,...ir??{}}:rr??{},dr=new ho(lr);return await dr.waitReady,dr}get Module(){return this.mod}get ready(){return h$1(this,J)&&!h$1(this,j$1)&&!h$1(this,V)}get closed(){return h$1(this,V)}async close(){await this._checkReady(),x$3(this,j$1,!0);for(let rr of h$1(this,se$1))await rr();try{await this.execProtocol(O$1.end()),this.mod._pgl_shutdown()}catch(rr){let ir=rr;if(!(ir.name==="ExitStatus"&&ir.status===0))throw rr}await this.fs.closeFs(),x$3(this,V,!0),x$3(this,j$1,!1)}async[Symbol.asyncDispose](){await this.close()}async _handleBlob(rr){x$3(this,K,rr?await rr.arrayBuffer():void 0)}async _cleanupBlob(){x$3(this,K,void 0)}async _getWrittenBlob(){if(!h$1(this,H$1))return;let rr=new Blob(h$1(this,H$1));return x$3(this,H$1,void 0),rr}async _checkReady(){if(h$1(this,j$1))throw new Error("PGlite is closing");if(h$1(this,V))throw new Error("PGlite is closed");h$1(this,J)||await this.waitReady}execProtocolRawSync(rr,ir={}){let lr,dr=this.mod;dr._use_wire(1);let fr=rr.length,mr=ir.dataTransferContainer??h$1(this,ae$1);switch(rr.length>=dr.FD_BUFFER_MAX&&(mr="file"),mr){case"cma":{dr._interactive_write(rr.length),dr.HEAPU8.set(rr,1);break}case"file":{let gr="/tmp/pglite/base/.s.PGSQL.5432.lck.in";dr._interactive_write(0),dr.FS.writeFile(gr,rr),dr.FS.rename(gr,"/tmp/pglite/base/.s.PGSQL.5432.in");break}default:throw new Error(`Unknown data transfer container: ${mr}`)}dr._interactive_one();let hr=dr._get_channel();switch(hr<0&&(mr="file"),hr>0&&(mr="cma"),mr){case"cma":{let gr=fr+2,xr=gr+dr._interactive_read();lr=dr.HEAPU8.subarray(gr,xr);break}case"file":{let gr="/tmp/pglite/base/.s.PGSQL.5432.out";try{let xr=dr.FS.stat(gr),_r=dr.FS.open(gr,"r");lr=new Uint8Array(xr.size),dr.FS.read(_r,lr,0,xr.size,0),dr.FS.unlink(gr)}catch{lr=new Uint8Array(0)}break}default:throw new Error(`Unknown data transfer container: ${mr}`)}return lr}async execProtocolRaw(rr,{syncToFs:ir=!0,dataTransferContainer:lr}={}){let dr=this.execProtocolRawSync(rr,{dataTransferContainer:lr});return ir&&await this.syncToFs(),dr}async execProtocol(rr,{syncToFs:ir=!0,throwOnError:lr=!0,onNotice:dr}={}){let fr=await this.execProtocolRaw(rr,{syncToFs:ir}),mr=[];return h$1(this,le$1).parse(fr,hr=>{if(hr instanceof E$1){if(x$3(this,le$1,new ye),lr)throw hr}else if(hr instanceof te$2)this.debug>0&&console.warn(hr),dr&&dr(hr);else if(hr instanceof Z$2)switch(hr.text){case"BEGIN":x$3(this,Q$1,!0);break;case"COMMIT":case"ROLLBACK":x$3(this,Q$1,!1);break}else if(hr instanceof J$1){let gr=h$1(this,A).get(hr.channel);gr&&gr.forEach(xr=>{queueMicrotask(()=>xr(hr.payload))}),h$1(this,Y$1).forEach(xr=>{queueMicrotask(()=>xr(hr.channel,hr.payload))})}mr.push(hr)}),{messages:mr,data:fr}}isInTransaction(){return h$1(this,Q$1)}async syncToFs(){if(h$1(this,Z$1))return;x$3(this,Z$1,!0);let rr=async()=>{await h$1(this,de$1).runExclusive(async()=>{x$3(this,Z$1,!1),await this.fs.syncToFs(h$1(this,$$1))})};h$1(this,$$1)?rr():await rr()}async listen(rr,ir,lr){return this._runExclusiveListen(()=>T$1(this,T,ze).call(this,rr,ir,lr))}async unlisten(rr,ir,lr){return this._runExclusiveListen(()=>T$1(this,T,Ne).call(this,rr,ir,lr))}onNotification(rr){return h$1(this,Y$1).add(rr),()=>{h$1(this,Y$1).delete(rr)}}offNotification(rr){h$1(this,Y$1).delete(rr)}async dumpDataDir(rr){await this._checkReady();let ir=this.dataDir?.split("/").pop()??"pgdata";return this.fs.dumpTar(ir,rr)}_runExclusiveQuery(rr){return h$1(this,ie$1).runExclusive(rr)}_runExclusiveTransaction(rr){return h$1(this,me).runExclusive(rr)}async clone(){let rr=await this.dumpDataDir("none");return ho.create({loadDataDir:rr})}_runExclusiveListen(rr){return h$1(this,pe).runExclusive(rr)}};J=new WeakMap,j$1=new WeakMap,V=new WeakMap,Q$1=new WeakMap,$$1=new WeakMap,ie$1=new WeakMap,me=new WeakMap,pe=new WeakMap,de$1=new WeakMap,Z$1=new WeakMap,ae$1=new WeakMap,oe=new WeakMap,se$1=new WeakMap,le$1=new WeakMap,K=new WeakMap,H$1=new WeakMap,A=new WeakMap,Y$1=new WeakMap,T=new WeakSet,De$1=async function(e){if(e.fs)this.fs=e.fs;else{let{dataDir:xr,fsType:_r}=Ae(e.dataDir);this.fs=await Te(xr,_r)}let rr={},ir=[],lr=[`PGDATA=${C}`,`PREFIX=${Vr}`,`PGUSER=${e.username??"postgres"}`,`PGDATABASE=${e.database??"template1"}`,"MODE=REACT","REPL=N",...this.debug?["-d",this.debug.toString()]:[]];e.wasmModule||Rr();let dr=e.fsBundle?e.fsBundle.arrayBuffer():Er(),fr;dr.then(xr=>{fr=xr});let mr={WASM_PREFIX:Vr,arguments:lr,INITIAL_MEMORY:e.initialMemory,noExitRuntime:!0,...this.debug>0?{print:console.info,printErr:console.error}:{print:()=>{},printErr:()=>{}},instantiateWasm:(xr,_r)=>(Tr(xr,e.wasmModule).then(({instance:yr,module:vr})=>{_r(yr,vr)}),{}),getPreloadedPackage:(xr,_r)=>{if(xr==="pglite.data"){if(fr.byteLength!==_r)throw new Error(`Invalid FS bundle size: ${fr.byteLength} !== ${_r}`);return fr}throw new Error(`Unknown package: ${xr}`)},preRun:[xr=>{let _r=xr.FS.makedev(64,0),yr={open:vr=>{},close:vr=>{},read:(vr,br,Sr,wr,Mr)=>{let kr=h$1(this,K);if(!kr)throw new Error("No /dev/blob File or Blob provided to read from");let Ar=new Uint8Array(kr);if(Mr>=Ar.length)return 0;let Ir=Math.min(Ar.length-Mr,wr);for(let $r=0;$r<Ir;$r++)br[Sr+$r]=Ar[Mr+$r];return Ir},write:(vr,br,Sr,wr,Mr)=>(h$1(this,H$1)??x$3(this,H$1,[]),h$1(this,H$1).push(br.slice(Sr,Sr+wr)),wr),llseek:(vr,br,Sr)=>{let wr=h$1(this,K);if(!wr)throw new Error("No /dev/blob File or Blob provided to llseek");let Mr=br;if(Sr===1?Mr+=vr.position:Sr===2&&(Mr=new Uint8Array(wr).length),Mr<0)throw new xr.FS.ErrnoError(28);return Mr}};xr.FS.registerDevice(_r,yr),xr.FS.mkdev("/dev/blob",_r)}]},{emscriptenOpts:hr}=await this.fs.init(this,mr);mr=hr;for(let[xr,_r]of Object.entries(h$1(this,oe)))if(_r instanceof URL)rr[xr]=xe(_r);else{let yr=await _r.setup(this,mr);if(yr.emscriptenOpts&&(mr=yr.emscriptenOpts),yr.namespaceObj){let vr=this;vr[xr]=yr.namespaceObj}yr.bundlePath&&(rr[xr]=xe(yr.bundlePath)),yr.init&&ir.push(yr.init),yr.close&&h$1(this,se$1).push(yr.close)}if(mr.pg_extensions=rr,await dr,this.mod=await Re(mr),await this.fs.initialSyncFs(),e.loadDataDir){if(this.mod.FS.analyzePath(C+"/PG_VERSION").exists)throw new Error("Database already exists, cannot load from tarball");T$1(this,T,re).call(this,"pglite: loading data from tarball"),await ce(this.mod.FS,e.loadDataDir,C)}this.mod.FS.analyzePath(C+"/PG_VERSION").exists?T$1(this,T,re).call(this,"pglite: found DB, resuming"):T$1(this,T,re).call(this,"pglite: no db"),await ke(this.mod,(...xr)=>T$1(this,T,re).call(this,...xr));let gr=this.mod._pgl_initdb();if(!gr)throw new Error("INITDB failed to return value");if(gr&1)throw new Error("INITDB: failed to execute");if(gr&2){let xr=e.username??"postgres",_r=e.database??"template1";if(gr&4){if(!(gr&12))throw new Error(`INITDB: Invalid db ${_r}/user ${xr} combination`)}else if(_r!=="template1"&&xr!=="postgres")throw new Error(`INITDB: created a new datadir ${C}, but an alternative db ${_r}/user ${xr} was requested`)}this.mod._pgl_backend(),await this.syncToFs(),x$3(this,J,!0),await this.exec("SET search_path TO public;"),await this._initArrayTypes();for(let xr of ir)await xr()},re=function(...e){this.debug>0&&console.log(...e)},ze=async function(e,rr,ir){let lr=Nr(e),dr=ir??this;h$1(this,A).has(lr)||h$1(this,A).set(lr,new Set),h$1(this,A).get(lr).add(rr);try{await dr.exec(`LISTEN ${e}`)}catch(fr){throw h$1(this,A).get(lr).delete(rr),h$1(this,A).get(lr)?.size===0&&h$1(this,A).delete(lr),fr}return async fr=>{await this.unlisten(lr,rr,fr)}},Ne=async function(e,rr,ir){let lr=Nr(e),dr=ir??this,fr=async()=>{await dr.exec(`UNLISTEN ${e}`),h$1(this,A).get(lr)?.size===0&&h$1(this,A).delete(lr)};rr?(h$1(this,A).get(lr)?.delete(rr),h$1(this,A).get(lr)?.size===0&&await fr()):await fr()};var qe=ue;u();u();var M=5,U=async(e,rr)=>{let ir=new Set,lr={async query(dr,fr,mr){let hr,gr,xr;if(typeof dr!="string"&&(hr=dr.signal,fr=dr.params,mr=dr.callback,gr=dr.offset,xr=dr.limit,dr=dr.query),gr===void 0!=(xr===void 0))throw new Error("offset and limit must be provided together");let _r=gr!==void 0&&xr!==void 0,yr;if(_r&&(typeof gr!="number"||isNaN(gr)||typeof xr!="number"||isNaN(xr)))throw new Error("offset and limit must be numbers");let vr=mr?[mr]:[],br=Cr().replace(/-/g,""),Sr=!1,wr,Mr,kr,Ar=async()=>{await e.transaction(async Or=>{let Fr=fr&&fr.length>0?await Pr(e,dr,fr,Or):dr;await Or.exec(`CREATE OR REPLACE TEMP VIEW live_query_${br}_view AS ${Fr}`),Mr=await q(Or,`live_query_${br}_view`),await F(Or,Mr,ir),_r?(await Or.exec(`
              PREPARE live_query_${br}_get(int, int) AS
              SELECT * FROM live_query_${br}_view
              LIMIT $1 OFFSET $2;
            `),await Or.exec(`
              PREPARE live_query_${br}_get_total_count AS
              SELECT COUNT(*) FROM live_query_${br}_view;
            `),yr=(await Or.query(`EXECUTE live_query_${br}_get_total_count;`)).rows[0].count,wr={...await Or.query(`EXECUTE live_query_${br}_get(${xr}, ${gr});`),offset:gr,limit:xr,totalCount:yr}):(await Or.exec(`
              PREPARE live_query_${br}_get AS
              SELECT * FROM live_query_${br}_view;
            `),wr=await Or.query(`EXECUTE live_query_${br}_get;`)),kr=await Promise.all(Mr.map(Lr=>Or.listen(`"table_change__${Lr.schema_name}__${Lr.table_name}"`,async()=>{Ir()})))})};await Ar();let Ir=Ur(async({offset:Or,limit:Fr}={})=>{if(!_r&&(Or!==void 0||Fr!==void 0))throw new Error("offset and limit cannot be provided for non-windowed queries");if(Or&&(typeof Or!="number"||isNaN(Or))||Fr&&(typeof Fr!="number"||isNaN(Fr)))throw new Error("offset and limit must be numbers");gr=Or??gr,xr=Fr??xr;let Lr=async(zr=0)=>{if(vr.length!==0){try{_r?wr={...await e.query(`EXECUTE live_query_${br}_get(${xr}, ${gr});`),offset:gr,limit:xr,totalCount:yr}:wr=await e.query(`EXECUTE live_query_${br}_get;`)}catch(Gr){let Jr=Gr.message;if(Jr.startsWith(`prepared statement "live_query_${br}`)&&Jr.endsWith("does not exist")){if(zr>M)throw Gr;await Ar(),Lr(zr+1)}else throw Gr}if(S(vr,wr),_r){let Gr=(await e.query(`EXECUTE live_query_${br}_get_total_count;`)).rows[0].count;Gr!==yr&&(yr=Gr,Ir())}}};await Lr()}),$r=Or=>{if(Sr)throw new Error("Live query is no longer active and cannot be subscribed to");vr.push(Or)},Dr=async Or=>{Or?vr=vr.filter(Fr=>Fr!==Fr):vr=[],vr.length===0&&!Sr&&(Sr=!0,await e.transaction(async Fr=>{await Promise.all(kr.map(Lr=>Lr(Fr))),await Fr.exec(`
              DROP VIEW IF EXISTS live_query_${br}_view;
              DEALLOCATE live_query_${br}_get;
            `)}))};return hr?.aborted?await Dr():hr?.addEventListener("abort",()=>{Dr()},{once:!0}),S(vr,wr),{initialResults:wr,subscribe:$r,unsubscribe:Dr,refresh:Ir}},async changes(dr,fr,mr,hr){let gr;if(typeof dr!="string"&&(gr=dr.signal,fr=dr.params,mr=dr.key,hr=dr.callback,dr=dr.query),!mr)throw new Error("key is required for changes queries");let xr=hr?[hr]:[],_r=Cr().replace(/-/g,""),yr=!1,vr,br=1,Sr,wr,Mr=async()=>{await e.transaction(async $r=>{let Dr=await Pr(e,dr,fr,$r);await $r.query(`CREATE OR REPLACE TEMP VIEW live_query_${_r}_view AS ${Dr}`),vr=await q($r,`live_query_${_r}_view`),await F($r,vr,ir);let Or=[...(await $r.query(`
                SELECT column_name, data_type, udt_name
                FROM information_schema.columns 
                WHERE table_name = 'live_query_${_r}_view'
              `)).rows,{column_name:"__after__",data_type:"integer"}];await $r.exec(`
            CREATE TEMP TABLE live_query_${_r}_state1 (LIKE live_query_${_r}_view INCLUDING ALL);
            CREATE TEMP TABLE live_query_${_r}_state2 (LIKE live_query_${_r}_view INCLUDING ALL);
          `);for(let Fr of[1,2]){let Lr=Fr===1?2:1;await $r.exec(`
              PREPARE live_query_${_r}_diff${Fr} AS
              WITH
                prev AS (SELECT LAG("${mr}") OVER () as __after__, * FROM live_query_${_r}_state${Lr}),
                curr AS (SELECT LAG("${mr}") OVER () as __after__, * FROM live_query_${_r}_state${Fr}),
                data_diff AS (
                  -- INSERT operations: Include all columns
                  SELECT 
                    'INSERT' AS __op__,
                    ${Or.map(({column_name:zr})=>`curr."${zr}" AS "${zr}"`).join(`,
`)},
                    ARRAY[]::text[] AS __changed_columns__
                  FROM curr
                  LEFT JOIN prev ON curr.${mr} = prev.${mr}
                  WHERE prev.${mr} IS NULL
                UNION ALL
                  -- DELETE operations: Include only the primary key
                  SELECT 
                    'DELETE' AS __op__,
                    ${Or.map(({column_name:zr,data_type:Gr,udt_name:Jr})=>zr===mr?`prev."${zr}" AS "${zr}"`:`NULL${Gr==="USER-DEFINED"?`::${Jr}`:""} AS "${zr}"`).join(`,
`)},
                      ARRAY[]::text[] AS __changed_columns__
                  FROM prev
                  LEFT JOIN curr ON prev.${mr} = curr.${mr}
                  WHERE curr.${mr} IS NULL
                UNION ALL
                  -- UPDATE operations: Include only changed columns
                  SELECT 
                    'UPDATE' AS __op__,
                    ${Or.map(({column_name:zr,data_type:Gr,udt_name:Jr})=>zr===mr?`curr."${zr}" AS "${zr}"`:`CASE 
                              WHEN curr."${zr}" IS DISTINCT FROM prev."${zr}" 
                              THEN curr."${zr}"
                              ELSE NULL${Gr==="USER-DEFINED"?`::${Jr}`:""}
                              END AS "${zr}"`).join(`,
`)},
                      ARRAY(SELECT unnest FROM unnest(ARRAY[${Or.filter(({column_name:zr})=>zr!==mr).map(({column_name:zr})=>`CASE
                              WHEN curr."${zr}" IS DISTINCT FROM prev."${zr}" 
                              THEN '${zr}' 
                              ELSE NULL 
                              END`).join(", ")}]) WHERE unnest IS NOT NULL) AS __changed_columns__
                  FROM curr
                  INNER JOIN prev ON curr.${mr} = prev.${mr}
                  WHERE NOT (curr IS NOT DISTINCT FROM prev)
                )
              SELECT * FROM data_diff;
            `)}wr=await Promise.all(vr.map(Fr=>$r.listen(`"table_change__${Fr.schema_name}__${Fr.table_name}"`,async()=>{kr()})))})};await Mr();let kr=Ur(async()=>{if(xr.length===0&&Sr)return;let $r=!1;for(let Dr=0;Dr<5;Dr++)try{await e.transaction(async Or=>{await Or.exec(`
                INSERT INTO live_query_${_r}_state${br} 
                  SELECT * FROM live_query_${_r}_view;
              `),Sr=await Or.query(`EXECUTE live_query_${_r}_diff${br};`),br=br===1?2:1,await Or.exec(`
                TRUNCATE live_query_${_r}_state${br};
              `)});break}catch(Or){if(Or.message===`relation "live_query_${_r}_state${br}" does not exist`){$r=!0,await Mr();continue}else throw Or}D$1(xr,[...$r?[{__op__:"RESET"}]:[],...Sr.rows])}),Ar=$r=>{if(yr)throw new Error("Live query is no longer active and cannot be subscribed to");xr.push($r)},Ir=async $r=>{$r?xr=xr.filter(Dr=>Dr!==Dr):xr=[],xr.length===0&&!yr&&(yr=!0,await e.transaction(async Dr=>{await Promise.all(wr.map(Or=>Or(Dr))),await Dr.exec(`
              DROP VIEW IF EXISTS live_query_${_r}_view;
              DROP TABLE IF EXISTS live_query_${_r}_state1;
              DROP TABLE IF EXISTS live_query_${_r}_state2;
              DEALLOCATE live_query_${_r}_diff1;
              DEALLOCATE live_query_${_r}_diff2;
            `)}))};return gr?.aborted?await Ir():gr?.addEventListener("abort",()=>{Ir()},{once:!0}),await kr(),{fields:Sr.fields.filter($r=>!["__after__","__op__","__changed_columns__"].includes($r.name)),initialChanges:Sr.rows,subscribe:Ar,unsubscribe:Ir,refresh:kr}},async incrementalQuery(dr,fr,mr,hr){let gr;if(typeof dr!="string"&&(gr=dr.signal,fr=dr.params,mr=dr.key,hr=dr.callback,dr=dr.query),!mr)throw new Error("key is required for incremental queries");let xr=hr?[hr]:[],_r=new Map,yr=new Map,vr=[],br=!0,{fields:Sr,unsubscribe:wr,refresh:Mr}=await lr.changes(dr,fr,mr,Ir=>{for(let Or of Ir){let{__op__:Fr,__changed_columns__:Lr,...zr}=Or;switch(Fr){case"RESET":_r.clear(),yr.clear();break;case"INSERT":_r.set(zr[mr],zr),yr.set(zr.__after__,zr[mr]);break;case"DELETE":{let Gr=_r.get(zr[mr]);_r.delete(zr[mr]),Gr.__after__!==null&&yr.delete(Gr.__after__);break}case"UPDATE":{let Gr={..._r.get(zr[mr])??{}};for(let Jr of Lr)Gr[Jr]=zr[Jr],Jr==="__after__"&&yr.set(zr.__after__,zr[mr]);_r.set(zr[mr],Gr);break}}}let $r=[],Dr=null;for(let Or=0;Or<_r.size;Or++){let Fr=yr.get(Dr),Lr=_r.get(Fr);if(!Lr)break;let zr={...Lr};delete zr.__after__,$r.push(zr),Dr=Fr}vr=$r,br||S(xr,{rows:$r,fields:Sr})});br=!1,S(xr,{rows:vr,fields:Sr});let kr=Ir=>{xr.push(Ir)},Ar=async Ir=>{Ir?xr=xr.filter($r=>$r!==$r):xr=[],xr.length===0&&await wr()};return gr?.aborted?await Ar():gr?.addEventListener("abort",()=>{Ar()},{once:!0}),{initialResults:{rows:vr,fields:Sr},subscribe:kr,unsubscribe:Ar,refresh:Mr}}};return{namespaceObj:lr}},j={name:"Live Queries",setup:U};async function q(e,rr){return(await e.query(`
      WITH RECURSIVE view_dependencies AS (
        -- Base case: Get the initial view's dependencies
        SELECT DISTINCT
          cl.relname AS dependent_name,
          n.nspname AS schema_name,
          cl.relkind = 'v' AS is_view
        FROM pg_rewrite r
        JOIN pg_depend d ON r.oid = d.objid
        JOIN pg_class cl ON d.refobjid = cl.oid
        JOIN pg_namespace n ON cl.relnamespace = n.oid
        WHERE
          r.ev_class = (
              SELECT oid FROM pg_class WHERE relname = $1 AND relkind = 'v'
          )
          AND d.deptype = 'n'

        UNION ALL

        -- Recursive case: Traverse dependencies for views
        SELECT DISTINCT
          cl.relname AS dependent_name,
          n.nspname AS schema_name,
          cl.relkind = 'v' AS is_view
        FROM view_dependencies vd
        JOIN pg_rewrite r ON vd.dependent_name = (
          SELECT relname FROM pg_class WHERE oid = r.ev_class AND relkind = 'v'
        )
        JOIN pg_depend d ON r.oid = d.objid
        JOIN pg_class cl ON d.refobjid = cl.oid
        JOIN pg_namespace n ON cl.relnamespace = n.oid
        WHERE d.deptype = 'n'
      )
      SELECT DISTINCT
        dependent_name AS table_name,
        schema_name
      FROM view_dependencies
      WHERE NOT is_view; -- Exclude intermediate views
    `,[rr])).rows.map(ir=>({table_name:ir.table_name,schema_name:ir.schema_name}))}async function F(e,rr,ir){let lr=rr.filter(dr=>!ir.has(`${dr.schema_name}_${dr.table_name}`)).map(dr=>`
      CREATE OR REPLACE FUNCTION "_notify_${dr.schema_name}_${dr.table_name}"() RETURNS TRIGGER AS $$
      BEGIN
        PERFORM pg_notify('table_change__${dr.schema_name}__${dr.table_name}', '');
        RETURN NULL;
      END;
      $$ LANGUAGE plpgsql;
      CREATE OR REPLACE TRIGGER "_notify_trigger_${dr.schema_name}_${dr.table_name}"
      AFTER INSERT OR UPDATE OR DELETE ON "${dr.schema_name}"."${dr.table_name}"
      FOR EACH STATEMENT EXECUTE FUNCTION "_notify_${dr.schema_name}_${dr.table_name}"();
      `).join(`
`);lr.trim()!==""&&await e.exec(lr),rr.map(dr=>ir.add(`${dr.schema_name}_${dr.table_name}`))}var S=(e,rr)=>{for(let ir of e)ir(rr)},D$1=(e,rr)=>{for(let ir of e)ir(rr)};function Q(){let e=reactExports.createContext(void 0);return{usePGlite:rr=>{let ir=reactExports.useContext(e);if(rr!==void 0)return rr;if(!ir)throw new Error("No PGlite instance found, use PGliteProvider to provide one");return ir},PGliteProvider:({children:rr,db:ir})=>jsxRuntimeExports.jsx(e.Provider,{value:ir,children:rr})}}var{PGliteProvider:W,usePGlite:y}=Q();const COMMON_MIME_TYPES=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function toFileWithPath(e,rr,ir){const lr=withMimeType(e),{webkitRelativePath:dr}=e,fr=typeof rr=="string"?rr:typeof dr=="string"&&dr.length>0?dr:`./${e.name}`;return typeof lr.path!="string"&&setObjProp(lr,"path",fr),setObjProp(lr,"relativePath",fr),lr}function withMimeType(e){const{name:rr}=e;if(rr&&rr.lastIndexOf(".")!==-1&&!e.type){const lr=rr.split(".").pop().toLowerCase(),dr=COMMON_MIME_TYPES.get(lr);dr&&Object.defineProperty(e,"type",{value:dr,writable:!1,configurable:!1,enumerable:!0})}return e}function setObjProp(e,rr,ir){Object.defineProperty(e,rr,{value:ir,writable:!1,configurable:!1,enumerable:!0})}const FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(e){return __awaiter$8(this,void 0,void 0,function*(){return isObject$2(e)&&isDataTransfer(e.dataTransfer)?getDataTransferFiles(e.dataTransfer,e.type):isChangeEvt(e)?getInputFiles(e):Array.isArray(e)&&e.every(rr=>"getFile"in rr&&typeof rr.getFile=="function")?getFsHandleFiles(e):[]})}function isDataTransfer(e){return isObject$2(e)}function isChangeEvt(e){return isObject$2(e)&&isObject$2(e.target)}function isObject$2(e){return typeof e=="object"&&e!==null}function getInputFiles(e){return fromList(e.target.files).map(rr=>toFileWithPath(rr))}function getFsHandleFiles(e){return __awaiter$8(this,void 0,void 0,function*(){return(yield Promise.all(e.map(ir=>ir.getFile()))).map(ir=>toFileWithPath(ir))})}function getDataTransferFiles(e,rr){return __awaiter$8(this,void 0,void 0,function*(){if(e.items){const ir=fromList(e.items).filter(dr=>dr.kind==="file");if(rr!=="drop")return ir;const lr=yield Promise.all(ir.map(toFilePromises));return noIgnoredFiles(flatten(lr))}return noIgnoredFiles(fromList(e.files).map(ir=>toFileWithPath(ir)))})}function noIgnoredFiles(e){return e.filter(rr=>FILES_TO_IGNORE.indexOf(rr.name)===-1)}function fromList(e){if(e===null)return[];const rr=[];for(let ir=0;ir<e.length;ir++){const lr=e[ir];rr.push(lr)}return rr}function toFilePromises(e){if(typeof e.webkitGetAsEntry!="function")return fromDataTransferItem(e);const rr=e.webkitGetAsEntry();return rr&&rr.isDirectory?fromDirEntry(rr):fromDataTransferItem(e,rr)}function flatten(e){return e.reduce((rr,ir)=>[...rr,...Array.isArray(ir)?flatten(ir):[ir]],[])}function fromDataTransferItem(e,rr){return __awaiter$8(this,void 0,void 0,function*(){var ir;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const fr=yield e.getAsFileSystemHandle();if(fr===null)throw new Error(`${e} is not a File`);if(fr!==void 0){const mr=yield fr.getFile();return mr.handle=fr,toFileWithPath(mr)}}const lr=e.getAsFile();if(!lr)throw new Error(`${e} is not a File`);return toFileWithPath(lr,(ir=rr?.fullPath)!==null&&ir!==void 0?ir:void 0)})}function fromEntry(e){return __awaiter$8(this,void 0,void 0,function*(){return e.isDirectory?fromDirEntry(e):fromFileEntry(e)})}function fromDirEntry(e){const rr=e.createReader();return new Promise((ir,lr)=>{const dr=[];function fr(){rr.readEntries(mr=>__awaiter$8(this,void 0,void 0,function*(){if(mr.length){const hr=Promise.all(mr.map(fromEntry));dr.push(hr),fr()}else try{const hr=yield Promise.all(dr);ir(hr)}catch(hr){lr(hr)}}),mr=>{lr(mr)})}fr()})}function fromFileEntry(e){return __awaiter$8(this,void 0,void 0,function*(){return new Promise((rr,ir)=>{e.file(lr=>{const dr=toFileWithPath(lr,e.fullPath);rr(dr)},lr=>{ir(lr)})})})}var _default=function(e,rr){if(e&&rr){var ir=Array.isArray(rr)?rr:rr.split(",");if(ir.length===0)return!0;var lr=e.name||"",dr=(e.type||"").toLowerCase(),fr=dr.replace(/\/.*$/,"");return ir.some(function(mr){var hr=mr.trim().toLowerCase();return hr.charAt(0)==="."?lr.toLowerCase().endsWith(hr):hr.endsWith("/*")?fr===hr.replace(/\/.*$/,""):dr===hr})}return!0};function _toConsumableArray$1(e){return _arrayWithoutHoles$1(e)||_iterableToArray$1(e)||_unsupportedIterableToArray$2(e)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles$1(e){if(Array.isArray(e))return _arrayLikeToArray$2(e)}function ownKeys$3(e,rr){var ir=Object.keys(e);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(e);rr&&(lr=lr.filter(function(dr){return Object.getOwnPropertyDescriptor(e,dr).enumerable})),ir.push.apply(ir,lr)}return ir}function _objectSpread$1(e){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr]!=null?arguments[rr]:{};rr%2?ownKeys$3(Object(ir),!0).forEach(function(lr){_defineProperty$3(e,lr,ir[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(ir)):ownKeys$3(Object(ir)).forEach(function(lr){Object.defineProperty(e,lr,Object.getOwnPropertyDescriptor(ir,lr))})}return e}function _defineProperty$3(e,rr,ir){return rr in e?Object.defineProperty(e,rr,{value:ir,enumerable:!0,configurable:!0,writable:!0}):e[rr]=ir,e}function _slicedToArray$2(e,rr){return _arrayWithHoles$2(e)||_iterableToArrayLimit$2(e,rr)||_unsupportedIterableToArray$2(e,rr)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(e,rr){if(e){if(typeof e=="string")return _arrayLikeToArray$2(e,rr);var ir=Object.prototype.toString.call(e).slice(8,-1);if(ir==="Object"&&e.constructor&&(ir=e.constructor.name),ir==="Map"||ir==="Set")return Array.from(e);if(ir==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ir))return _arrayLikeToArray$2(e,rr)}}function _arrayLikeToArray$2(e,rr){(rr==null||rr>e.length)&&(rr=e.length);for(var ir=0,lr=new Array(rr);ir<rr;ir++)lr[ir]=e[ir];return lr}function _iterableToArrayLimit$2(e,rr){var ir=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(ir!=null){var lr=[],dr=!0,fr=!1,mr,hr;try{for(ir=ir.call(e);!(dr=(mr=ir.next()).done)&&(lr.push(mr.value),!(rr&&lr.length===rr));dr=!0);}catch(gr){fr=!0,hr=gr}finally{try{!dr&&ir.return!=null&&ir.return()}finally{if(fr)throw hr}}return lr}}function _arrayWithHoles$2(e){if(Array.isArray(e))return e}var accepts=typeof _default=="function"?_default:_default.default,FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function e(){var rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ir=rr.split(","),lr=ir.length>1?"one of ".concat(ir.join(", ")):ir[0];return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(lr)}},getTooLargeRejectionErr=function e(rr){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(rr," ").concat(rr===1?"byte":"bytes")}},getTooSmallRejectionErr=function e(rr){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(rr," ").concat(rr===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(e,rr){var ir=e.type==="application/x-moz-file"||accepts(e,rr);return[ir,ir?null:getInvalidTypeRejectionErr(rr)]}function fileMatchSize(e,rr,ir){if(isDefined(e.size))if(isDefined(rr)&&isDefined(ir)){if(e.size>ir)return[!1,getTooLargeRejectionErr(ir)];if(e.size<rr)return[!1,getTooSmallRejectionErr(rr)]}else{if(isDefined(rr)&&e.size<rr)return[!1,getTooSmallRejectionErr(rr)];if(isDefined(ir)&&e.size>ir)return[!1,getTooLargeRejectionErr(ir)]}return[!0,null]}function isDefined(e){return e!=null}function allFilesAccepted(e){var rr=e.files,ir=e.accept,lr=e.minSize,dr=e.maxSize,fr=e.multiple,mr=e.maxFiles,hr=e.validator;return!fr&&rr.length>1||fr&&mr>=1&&rr.length>mr?!1:rr.every(function(gr){var xr=fileAccepted(gr,ir),_r=_slicedToArray$2(xr,1),yr=_r[0],vr=fileMatchSize(gr,lr,dr),br=_slicedToArray$2(vr,1),Sr=br[0],wr=hr?hr(gr):null;return yr&&Sr&&!wr})}function isPropagationStopped(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function isEvtWithFiles(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(rr){return rr==="Files"||rr==="application/x-moz-file"}):!!e.target&&!!e.target.files}function onDocumentDragOver(e){e.preventDefault()}function isIe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function isEdge(e){return e.indexOf("Edge/")!==-1}function isIeOrEdge(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(e)||isEdge(e)}function composeEventHandlers(){for(var e=arguments.length,rr=new Array(e),ir=0;ir<e;ir++)rr[ir]=arguments[ir];return function(lr){for(var dr=arguments.length,fr=new Array(dr>1?dr-1:0),mr=1;mr<dr;mr++)fr[mr-1]=arguments[mr];return rr.some(function(hr){return!isPropagationStopped(lr)&&hr&&hr.apply(void 0,[lr].concat(fr)),isPropagationStopped(lr)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(e){if(isDefined(e)){var rr=Object.entries(e).filter(function(ir){var lr=_slicedToArray$2(ir,2),dr=lr[0],fr=lr[1],mr=!0;return isMIMEType(dr)||(console.warn('Skipped "'.concat(dr,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),mr=!1),(!Array.isArray(fr)||!fr.every(isExt))&&(console.warn('Skipped "'.concat(dr,'" because an invalid file extension was provided.')),mr=!1),mr}).reduce(function(ir,lr){var dr=_slicedToArray$2(lr,2),fr=dr[0],mr=dr[1];return _objectSpread$1(_objectSpread$1({},ir),{},_defineProperty$3({},fr,mr))},{});return[{description:"Files",accept:rr}]}return e}function acceptPropAsAcceptAttr(e){if(isDefined(e))return Object.entries(e).reduce(function(rr,ir){var lr=_slicedToArray$2(ir,2),dr=lr[0],fr=lr[1];return[].concat(_toConsumableArray$1(rr),[dr],_toConsumableArray$1(fr))},[]).filter(function(rr){return isMIMEType(rr)||isExt(rr)}).join(",")}function isAbort(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function isSecurityError(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function isMIMEType(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function isExt(e){return/^.*\.[\w]+$/.test(e)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray$1(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray$1(e)}function _slicedToArray$1(e,rr){return _arrayWithHoles$1(e)||_iterableToArrayLimit$1(e,rr)||_unsupportedIterableToArray$1(e,rr)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(e,rr){if(e){if(typeof e=="string")return _arrayLikeToArray$1(e,rr);var ir=Object.prototype.toString.call(e).slice(8,-1);if(ir==="Object"&&e.constructor&&(ir=e.constructor.name),ir==="Map"||ir==="Set")return Array.from(e);if(ir==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ir))return _arrayLikeToArray$1(e,rr)}}function _arrayLikeToArray$1(e,rr){(rr==null||rr>e.length)&&(rr=e.length);for(var ir=0,lr=new Array(rr);ir<rr;ir++)lr[ir]=e[ir];return lr}function _iterableToArrayLimit$1(e,rr){var ir=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(ir!=null){var lr=[],dr=!0,fr=!1,mr,hr;try{for(ir=ir.call(e);!(dr=(mr=ir.next()).done)&&(lr.push(mr.value),!(rr&&lr.length===rr));dr=!0);}catch(gr){fr=!0,hr=gr}finally{try{!dr&&ir.return!=null&&ir.return()}finally{if(fr)throw hr}}return lr}}function _arrayWithHoles$1(e){if(Array.isArray(e))return e}function ownKeys$2(e,rr){var ir=Object.keys(e);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(e);rr&&(lr=lr.filter(function(dr){return Object.getOwnPropertyDescriptor(e,dr).enumerable})),ir.push.apply(ir,lr)}return ir}function _objectSpread(e){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr]!=null?arguments[rr]:{};rr%2?ownKeys$2(Object(ir),!0).forEach(function(lr){_defineProperty$2(e,lr,ir[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(ir)):ownKeys$2(Object(ir)).forEach(function(lr){Object.defineProperty(e,lr,Object.getOwnPropertyDescriptor(ir,lr))})}return e}function _defineProperty$2(e,rr,ir){return rr in e?Object.defineProperty(e,rr,{value:ir,enumerable:!0,configurable:!0,writable:!0}):e[rr]=ir,e}function _objectWithoutProperties$1(e,rr){if(e==null)return{};var ir=_objectWithoutPropertiesLoose$1(e,rr),lr,dr;if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(e);for(dr=0;dr<fr.length;dr++)lr=fr[dr],!(rr.indexOf(lr)>=0)&&Object.prototype.propertyIsEnumerable.call(e,lr)&&(ir[lr]=e[lr])}return ir}function _objectWithoutPropertiesLoose$1(e,rr){if(e==null)return{};var ir={},lr=Object.keys(e),dr,fr;for(fr=0;fr<lr.length;fr++)dr=lr[fr],!(rr.indexOf(dr)>=0)&&(ir[dr]=e[dr]);return ir}var Dropzone$2=reactExports.forwardRef(function(e,rr){var ir=e.children,lr=_objectWithoutProperties$1(e,_excluded),dr=useDropzone(lr),fr=dr.open,mr=_objectWithoutProperties$1(dr,_excluded2);return reactExports.useImperativeHandle(rr,function(){return{open:fr}},[fr]),React$2.createElement(reactExports.Fragment,null,ir(_objectSpread(_objectSpread({},mr),{},{open:fr})))});Dropzone$2.displayName="Dropzone";var defaultProps$l={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Dropzone$2.defaultProps=defaultProps$l;Dropzone$2.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rr=_objectSpread(_objectSpread({},defaultProps$l),e),ir=rr.accept,lr=rr.disabled,dr=rr.getFilesFromEvent,fr=rr.maxSize,mr=rr.minSize,hr=rr.multiple,gr=rr.maxFiles,xr=rr.onDragEnter,_r=rr.onDragLeave,yr=rr.onDragOver,vr=rr.onDrop,br=rr.onDropAccepted,Sr=rr.onDropRejected,wr=rr.onFileDialogCancel,Mr=rr.onFileDialogOpen,kr=rr.useFsAccessApi,Ar=rr.autoFocus,Ir=rr.preventDropOnDocument,$r=rr.noClick,Dr=rr.noKeyboard,Or=rr.noDrag,Fr=rr.noDragEventsBubbling,Lr=rr.onError,zr=rr.validator,Gr=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(ir)},[ir]),Jr=reactExports.useMemo(function(){return pickerOptionsFromAccept(ir)},[ir]),Yn=reactExports.useMemo(function(){return typeof Mr=="function"?Mr:noop$1},[Mr]),Jn=reactExports.useMemo(function(){return typeof wr=="function"?wr:noop$1},[wr]),Zn=reactExports.useRef(null),Hn=reactExports.useRef(null),Kn=reactExports.useReducer(reducer$1,initialState),qn=_slicedToArray$1(Kn,2),Qr=qn[0],$n=qn[1],es=Qr.isFocused,Xn=Qr.isFileDialogActive,rs=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&kr&&canUseFileSystemAccessAPI()),ns=function(){!rs.current&&Xn&&setTimeout(function(){if(Hn.current){var bs=Hn.current.files;bs.length||($n({type:"closeDialog"}),Jn())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",ns,!1),function(){window.removeEventListener("focus",ns,!1)}},[Hn,Xn,Jn,rs]);var ls=reactExports.useRef([]),ss=function(bs){Zn.current&&Zn.current.contains(bs.target)||(bs.preventDefault(),ls.current=[])};reactExports.useEffect(function(){return Ir&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",ss,!1)),function(){Ir&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",ss))}},[Zn,Ir]),reactExports.useEffect(function(){return!lr&&Ar&&Zn.current&&Zn.current.focus(),function(){}},[Zn,Ar,lr]);var as=reactExports.useCallback(function(cs){Lr?Lr(cs):console.error(cs)},[Lr]),us=reactExports.useCallback(function(cs){cs.preventDefault(),cs.persist(),Cs(cs),ls.current=[].concat(_toConsumableArray(ls.current),[cs.target]),isEvtWithFiles(cs)&&Promise.resolve(dr(cs)).then(function(bs){if(!(isPropagationStopped(cs)&&!Fr)){var Ts=bs.length,Ps=Ts>0&&allFilesAccepted({files:bs,accept:Gr,minSize:mr,maxSize:fr,multiple:hr,maxFiles:gr,validator:zr}),Is=Ts>0&&!Ps;$n({isDragAccept:Ps,isDragReject:Is,isDragActive:!0,type:"setDraggedFiles"}),xr&&xr(cs)}}).catch(function(bs){return as(bs)})},[dr,xr,as,Fr,Gr,mr,fr,hr,gr,zr]),hs=reactExports.useCallback(function(cs){cs.preventDefault(),cs.persist(),Cs(cs);var bs=isEvtWithFiles(cs);if(bs&&cs.dataTransfer)try{cs.dataTransfer.dropEffect="copy"}catch{}return bs&&yr&&yr(cs),!1},[yr,Fr]),gs=reactExports.useCallback(function(cs){cs.preventDefault(),cs.persist(),Cs(cs);var bs=ls.current.filter(function(Ps){return Zn.current&&Zn.current.contains(Ps)}),Ts=bs.indexOf(cs.target);Ts!==-1&&bs.splice(Ts,1),ls.current=bs,!(bs.length>0)&&($n({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(cs)&&_r&&_r(cs))},[Zn,_r,Fr]),xs=reactExports.useCallback(function(cs,bs){var Ts=[],Ps=[];cs.forEach(function(Is){var js=fileAccepted(Is,Gr),Ds=_slicedToArray$1(js,2),$s=Ds[0],Fs=Ds[1],As=fileMatchSize(Is,mr,fr),qs=_slicedToArray$1(As,2),zs=qs[0],Bs=qs[1],Us=zr?zr(Is):null;if($s&&zs&&!Us)Ts.push(Is);else{var Ws=[Fs,Bs];Us&&(Ws=Ws.concat(Us)),Ps.push({file:Is,errors:Ws.filter(function(eo){return eo})})}}),(!hr&&Ts.length>1||hr&&gr>=1&&Ts.length>gr)&&(Ts.forEach(function(Is){Ps.push({file:Is,errors:[TOO_MANY_FILES_REJECTION]})}),Ts.splice(0)),$n({acceptedFiles:Ts,fileRejections:Ps,isDragReject:Ps.length>0,type:"setFiles"}),vr&&vr(Ts,Ps,bs),Ps.length>0&&Sr&&Sr(Ps,bs),Ts.length>0&&br&&br(Ts,bs)},[$n,hr,Gr,mr,fr,gr,vr,br,Sr,zr]),ms=reactExports.useCallback(function(cs){cs.preventDefault(),cs.persist(),Cs(cs),ls.current=[],isEvtWithFiles(cs)&&Promise.resolve(dr(cs)).then(function(bs){isPropagationStopped(cs)&&!Fr||xs(bs,cs)}).catch(function(bs){return as(bs)}),$n({type:"reset"})},[dr,xs,as,Fr]),_s=reactExports.useCallback(function(){if(rs.current){$n({type:"openDialog"}),Yn();var cs={multiple:hr,types:Jr};window.showOpenFilePicker(cs).then(function(bs){return dr(bs)}).then(function(bs){xs(bs,null),$n({type:"closeDialog"})}).catch(function(bs){isAbort(bs)?(Jn(bs),$n({type:"closeDialog"})):isSecurityError(bs)?(rs.current=!1,Hn.current?(Hn.current.value=null,Hn.current.click()):as(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):as(bs)});return}Hn.current&&($n({type:"openDialog"}),Yn(),Hn.current.value=null,Hn.current.click())},[$n,Yn,Jn,kr,xs,as,Jr,hr]),Es=reactExports.useCallback(function(cs){!Zn.current||!Zn.current.isEqualNode(cs.target)||(cs.key===" "||cs.key==="Enter"||cs.keyCode===32||cs.keyCode===13)&&(cs.preventDefault(),_s())},[Zn,_s]),vs=reactExports.useCallback(function(){$n({type:"focus"})},[]),ws=reactExports.useCallback(function(){$n({type:"blur"})},[]),Rs=reactExports.useCallback(function(){$r||(isIeOrEdge()?setTimeout(_s,0):_s())},[$r,_s]),Ss=function(bs){return lr?null:bs},ps=function(bs){return Dr?null:Ss(bs)},ys=function(bs){return Or?null:Ss(bs)},Cs=function(bs){Fr&&bs.stopPropagation()},Ms=reactExports.useMemo(function(){return function(){var cs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},bs=cs.refKey,Ts=bs===void 0?"ref":bs,Ps=cs.role,Is=cs.onKeyDown,js=cs.onFocus,Ds=cs.onBlur,$s=cs.onClick,Fs=cs.onDragEnter,As=cs.onDragOver,qs=cs.onDragLeave,zs=cs.onDrop,Bs=_objectWithoutProperties$1(cs,_excluded3);return _objectSpread(_objectSpread(_defineProperty$2({onKeyDown:ps(composeEventHandlers(Is,Es)),onFocus:ps(composeEventHandlers(js,vs)),onBlur:ps(composeEventHandlers(Ds,ws)),onClick:Ss(composeEventHandlers($s,Rs)),onDragEnter:ys(composeEventHandlers(Fs,us)),onDragOver:ys(composeEventHandlers(As,hs)),onDragLeave:ys(composeEventHandlers(qs,gs)),onDrop:ys(composeEventHandlers(zs,ms)),role:typeof Ps=="string"&&Ps!==""?Ps:"presentation"},Ts,Zn),!lr&&!Dr?{tabIndex:0}:{}),Bs)}},[Zn,Es,vs,ws,Rs,us,hs,gs,ms,Dr,Or,lr]),ds=reactExports.useCallback(function(cs){cs.stopPropagation()},[]),ks=reactExports.useMemo(function(){return function(){var cs=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},bs=cs.refKey,Ts=bs===void 0?"ref":bs,Ps=cs.onChange,Is=cs.onClick,js=_objectWithoutProperties$1(cs,_excluded4),Ds=_defineProperty$2({accept:Gr,multiple:hr,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ss(composeEventHandlers(Ps,ms)),onClick:Ss(composeEventHandlers(Is,ds)),tabIndex:-1},Ts,Hn);return _objectSpread(_objectSpread({},Ds),js)}},[Hn,ir,hr,ms,lr]);return _objectSpread(_objectSpread({},Qr),{},{isFocused:es&&!lr,getRootProps:Ms,getInputProps:ks,rootRef:Zn,inputRef:Hn,open:Ss(_s)})}function reducer$1(e,rr){switch(rr.type){case"focus":return _objectSpread(_objectSpread({},e),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},e),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},e),{},{isDragActive:rr.isDragActive,isDragAccept:rr.isDragAccept,isDragReject:rr.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},e),{},{acceptedFiles:rr.acceptedFiles,fileRejections:rr.fileRejections,isDragReject:rr.isDragReject});case"reset":return _objectSpread({},initialState);default:return e}}function noop$1(){}const[DropzoneProvider,useDropzoneContext]=createSafeContext("Dropzone component was not found in tree");function createDropzoneStatus(e){const rr=ir=>{const{children:lr,...dr}=useProps(`Dropzone${upperFirst(e)}`,{},ir),fr=useDropzoneContext(),mr=isElement$1(lr)?lr:jsxRuntimeExports.jsx("span",{children:lr});return fr[e]?reactExports.cloneElement(mr,dr):null};return rr.displayName=`@mantine/dropzone/${upperFirst(e)}`,rr}const DropzoneAccept=createDropzoneStatus("accept"),DropzoneReject=createDropzoneStatus("reject"),DropzoneIdle=createDropzoneStatus("idle");var classes$c={root:"m_d46a4834",inner:"m_b85f7144",fullScreen:"m_96f6e9ad",dropzone:"m_7946116d"};const defaultProps$k={multiple:!0,maxSize:1/0,activateOnClick:!0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,useFsAccessApi:!0,variant:"light",rejectColor:"red"},varsResolver$7=(e,{radius:rr,variant:ir,acceptColor:lr,rejectColor:dr})=>{const fr=e.variantColorResolver({color:lr||e.primaryColor,theme:e,variant:ir}),mr=e.variantColorResolver({color:dr||"red",theme:e,variant:ir});return{root:{"--dropzone-radius":getRadius(rr),"--dropzone-accept-color":fr.color,"--dropzone-accept-bg":fr.background,"--dropzone-reject-color":mr.color,"--dropzone-reject-bg":mr.background}}},Dropzone$1=factory((e,rr)=>{const ir=useProps("Dropzone",defaultProps$k,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,radius:xr,disabled:_r,loading:yr,multiple:vr,maxSize:br,accept:Sr,children:wr,onDropAny:Mr,onDrop:kr,onReject:Ar,openRef:Ir,name:$r,maxFiles:Dr,autoFocus:Or,activateOnClick:Fr,activateOnDrag:Lr,dragEventsBubbling:zr,activateOnKeyboard:Gr,onDragEnter:Jr,onDragLeave:Yn,onDragOver:Jn,onFileDialogCancel:Zn,onFileDialogOpen:Hn,preventDropOnDocument:Kn,useFsAccessApi:qn,getFilesFromEvent:Qr,validator:$n,rejectColor:es,acceptColor:Xn,enablePointerEvents:rs,loaderProps:ns,inputProps:ls,mod:ss,...as}=ir,us=useStyles({name:"Dropzone",classes:classes$c,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$7}),{getRootProps:hs,getInputProps:gs,isDragAccept:xs,isDragReject:ms,isDragActive:_s,open:Es}=useDropzone({onDrop:Mr,onDropAccepted:kr,onDropRejected:Ar,disabled:_r||yr,accept:Array.isArray(Sr)?Sr.reduce((Ss,ps)=>({...Ss,[ps]:[]}),{}):Sr,multiple:vr,maxSize:br,maxFiles:Dr,autoFocus:Or,noClick:!Fr,noDrag:!Lr,noDragEventsBubbling:!zr,noKeyboard:!Gr,onDragEnter:Jr,onDragLeave:Yn,onDragOver:Jn,onFileDialogCancel:Zn,onFileDialogOpen:Hn,preventDropOnDocument:Kn,useFsAccessApi:qn,validator:$n,...Qr?{getFilesFromEvent:Qr}:null});assignRef(Ir,Es);const vs=_s&&xs,ws=_s&&ms,Rs=!vs&&!ws;return jsxRuntimeExports.jsx(DropzoneProvider,{value:{accept:vs,reject:ws,idle:Rs},children:jsxRuntimeExports.jsxs(Box,{...hs(),...us("root",{focusable:!0}),...as,mod:[{accept:vs,reject:ws,idle:Rs,disabled:_r,loading:yr,"activate-on-click":Fr},ss],children:[jsxRuntimeExports.jsx(LoadingOverlay,{visible:yr,overlayProps:{radius:xr},unstyled:hr,loaderProps:ns}),jsxRuntimeExports.jsx("input",{...gs(ls),name:$r}),jsxRuntimeExports.jsx("div",{...us("inner"),ref:rr,"data-enable-pointer-events":rs||void 0,children:wr})]})})});Dropzone$1.classes=classes$c;Dropzone$1.displayName="@mantine/dropzone/Dropzone";Dropzone$1.Accept=DropzoneAccept;Dropzone$1.Idle=DropzoneIdle;Dropzone$1.Reject=DropzoneReject;const defaultProps$j={maxSize:1/0,activateOnDrag:!0,dragEventsBubbling:!0,activateOnKeyboard:!0,active:!0,zIndex:getDefaultZIndex("max"),withinPortal:!0},DropzoneFullScreen=factory((e,rr)=>{const ir=useProps("DropzoneFullScreen",defaultProps$j,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,active:xr,onDrop:_r,onReject:yr,zIndex:vr,withinPortal:br,portalProps:Sr,...wr}=ir,Mr=useStyles({name:"DropzoneFullScreen",classes:classes$c,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,rootSelector:"fullScreen"}),{resolvedClassNames:kr,resolvedStyles:Ar}=useResolvedStylesApi({classNames:lr,styles:mr,props:ir}),[Ir,$r]=reactExports.useState(0),[Dr,{open:Or,close:Fr}]=useDisclosure(!1),Lr=Gr=>{Gr.dataTransfer?.types.includes("Files")&&($r(Jr=>Jr+1),Or())},zr=()=>{$r(Gr=>Gr-1)};return reactExports.useEffect(()=>{Ir===0&&Fr()},[Ir]),reactExports.useEffect(()=>{if(xr)return document.addEventListener("dragenter",Lr,!1),document.addEventListener("dragleave",zr,!1),()=>{document.removeEventListener("dragenter",Lr,!1),document.removeEventListener("dragleave",zr,!1)}},[xr]),jsxRuntimeExports.jsx(OptionalPortal,{...Sr,withinPortal:br,children:jsxRuntimeExports.jsx(Box,{ref:rr,...Mr("fullScreen",{style:{opacity:Dr?1:0,pointerEvents:Dr?"all":"none",zIndex:vr}}),children:jsxRuntimeExports.jsx(Dropzone$1,{activateOnClick:!1,...wr,classNames:kr,styles:Ar,unstyled:hr,className:classes$c.dropzone,onDrop:Gr=>{_r?.(Gr),Fr(),$r(0)},onReject:Gr=>{yr?.(Gr),Fr(),$r(0)}})})})});DropzoneFullScreen.classes=classes$c;DropzoneFullScreen.displayName="@mantine/dropzone/DropzoneFullScreen";const MIME_TYPES={csv:"text/csv"};Dropzone$1.FullScreen=DropzoneFullScreen;const Dropzone=Dropzone$1;function DropCSV(e){return jsxRuntimeExports.jsx(Dropzone,{onReject:rr=>{showErrorNotification({title:"File Upload Error",message:rr[0].errors[0].message})},...e,children:jsxRuntimeExports.jsxs(Group,{justify:"center",gap:"xl",style:{pointerEvents:"none"},children:[jsxRuntimeExports.jsx(Dropzone.Accept,{children:jsxRuntimeExports.jsx(IconUpload,{size:52,color:"var(--mantine-color-blue-6)",stroke:1.5})}),jsxRuntimeExports.jsx(Dropzone.Reject,{children:jsxRuntimeExports.jsx(IconX,{size:52,color:"var(--mantine-color-red-6)",stroke:1.5})}),jsxRuntimeExports.jsx(Dropzone.Idle,{children:jsxRuntimeExports.jsx(IconFile,{size:52,color:"var(--mantine-color-dimmed)",stroke:1.5})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Text$2,{size:"xl",inline:!0,children:"Drag and drop CSV files here, or click to select files"}),jsxRuntimeExports.jsx(Text$2,{size:"sm",c:"dimmed",inline:!0,mt:7,children:"Attach one CSV file at a time."})]})]})})}const createStoreImpl=e=>{let rr;const ir=new Set,lr=(xr,_r)=>{const yr=typeof xr=="function"?xr(rr):xr;if(!Object.is(yr,rr)){const vr=rr;rr=_r??(typeof yr!="object"||yr===null)?yr:Object.assign({},rr,yr),ir.forEach(br=>br(rr,vr))}},dr=()=>rr,hr={setState:lr,getState:dr,getInitialState:()=>gr,subscribe:xr=>(ir.add(xr),()=>ir.delete(xr))},gr=rr=e(lr,dr,hr);return hr},createStore=e=>e?createStoreImpl(e):createStoreImpl,identity=e=>e;function useStore(e,rr=identity){const ir=React$2.useSyncExternalStore(e.subscribe,React$2.useCallback(()=>rr(e.getState()),[e,rr]),React$2.useCallback(()=>rr(e.getInitialState()),[e,rr]));return React$2.useDebugValue(ir),ir}const createImpl=e=>{const rr=createStore(e),ir=lr=>useStore(rr,lr);return Object.assign(ir,rr),ir},create$1=e=>createImpl,subscribeWithSelectorImpl=e=>(rr,ir,lr)=>{const dr=lr.subscribe;return lr.subscribe=(mr,hr,gr)=>{let xr=mr;if(hr){const _r=gr?.equalityFn||Object.is;let yr=mr(lr.getState());xr=vr=>{const br=mr(vr);if(!_r(yr,br)){const Sr=yr;hr(yr=br,Sr)}},gr?.fireImmediately&&hr(yr,yr)}return dr(xr)},e(rr,ir,lr)},subscribeWithSelector=subscribeWithSelectorImpl,DIALECTS=["postgres","mysql","sqlite","sqlserver","oracle"],DATA_TYPES=["integer","number","string","boolean","date","datetime","time","yearmonth","year","duration"];class TypeMappingError extends Error{constructor(rr,ir,lr){super(`Unsupported type mapping: '${ir}' for dialect '${rr}'${lr?` in ${lr}`:""}`),this.dialect=rr,this.dataType=ir,this.context=lr,this.name="TypeMappingError"}}const SQL_TYPE_MAP={postgres:{integer:"INTEGER",number:"NUMERIC",string:"TEXT",boolean:"BOOLEAN",date:"DATE",datetime:"TIMESTAMP WITHOUT TIME ZONE",time:"TIME WITHOUT TIME ZONE",yearmonth:"DATE",year:"SMALLINT",duration:"INTERVAL"},mysql:{integer:"INT",number:"DOUBLE",string:"TEXT",boolean:"TINYINT(1)",date:"DATE",datetime:"DATETIME",time:"TIME",yearmonth:"CHAR(7)",year:"YEAR",duration:"BIGINT"},sqlite:{integer:"INTEGER",number:"REAL",string:"TEXT",boolean:"INTEGER",date:"TEXT",datetime:"TEXT",time:"TEXT",yearmonth:"TEXT",year:"INTEGER",duration:"TEXT"},sqlserver:{integer:"INT",number:"FLOAT",string:"NVARCHAR(MAX)",boolean:"BIT",date:"DATE",datetime:"DATETIME2",time:"TIME",yearmonth:"CHAR(7)",year:"SMALLINT",duration:"BIGINT"},oracle:{integer:"NUMBER(38)",number:"BINARY_DOUBLE",string:"CLOB",boolean:"NUMBER(1)",date:"DATE",datetime:"TIMESTAMP",time:"TIMESTAMP",yearmonth:"VARCHAR2(7)",year:"NUMBER(4)",duration:"INTERVAL DAY TO SECOND"}};function isValidDataType(e){return DATA_TYPES.includes(e)}function getSqlType(e,rr){if(!isValidDataType(rr))throw new TypeMappingError(e,rr,"getSqlType");const lr=SQL_TYPE_MAP[e][rr];if(!lr)throw new TypeMappingError(e,rr,"getSqlType");return lr}function sortTablesByDependencies(e){const rr=[],ir=[...e],lr=new Set(e.map(dr=>dr.tableName));for(;ir.length>0;){const dr=ir.length;for(let fr=ir.length-1;fr>=0;fr--){const mr=ir[fr];mr.relations.some(gr=>lr.has(gr.foreignTableName)&&!rr.some(xr=>xr.tableName===gr.foreignTableName))||(rr.push(mr),ir.splice(fr,1))}if(ir.length===dr){console.warn(" Circular dependencies detected or missing foreign tables. Creating remaining tables in original order."),rr.push(...ir);break}}return rr}async function dropAllTables(e,rr){try{console.info(" Dropping tables...");const ir=mr=>mr.replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase();let lr;if(rr&&rr.length>0||(lr=(await e.query(`
        SELECT table_name 
        FROM information_schema.tables 
        WHERE table_schema = 'public' AND table_type = 'BASE TABLE'
      `)).rows.map(hr=>ir(hr.table_name))),lr=Array.from(new Set(lr)),lr.length===0){console.info(" No tables to drop");return}console.info(` Tables to drop (normalized): ${lr.join(", ")}`);const dr=[];for(const mr of lr)try{await e.query(`DROP TABLE IF EXISTS ${mr} CASCADE`),(await e.query("SELECT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_name = $1) AS exists",[mr])).rows[0].exists?console.warn(` Table '${mr}' still exists after DROP attempt (case / quoting mismatch?)`):(console.info(` Dropped table: ${mr}`),dr.push(mr))}catch(hr){console.warn(` Failed to drop table '${mr}':`,hr)}const fr=lr.filter(mr=>!dr.includes(mr));return fr.length?console.warn(` Remaining tables not dropped: ${fr.join(", ")}`):console.info(` Successfully dropped all ${String(dr.length)} requested tables`),{droppedTables:dr,remainingTables:fr}}catch(ir){throw console.error(" Failed to drop tables:",ir),showErrorNotification({title:"Failed to drop tables",message:ir instanceof Error?ir.message:"Unknown error"}),new Error("Failed to drop tables")}}async function createTablesColumns(e,rr,ir){try{if((await e.query(`SELECT EXISTS (
        SELECT 1 FROM information_schema.tables 
        WHERE table_name = $1
      ) AS exists`,[rr])).rows[0].exists){console.info(` Table '${rr}' already exists, skipping creation`);return}}catch(fr){console.warn(` Could not check if table '${rr}' exists, proceeding with creation:`,fr)}const lr=ir.map(fr=>`${fr.column} ${getSqlType("postgres",fr.type)} ${fr.isPrimaryKey?"PRIMARY KEY":""}`).join(", "),dr=`CREATE TABLE ${rr} (${lr});`;try{console.info(`Creating table '${rr}' with SQL:`,dr),await e.query(dr),console.info(` Successfully created table: ${rr}`)}catch(fr){throw console.error(` Failed to create table '${rr}':`,fr),showErrorNotification({title:`Failed to create table '${rr}'`,message:fr instanceof Error?fr.message:"Unknown error"}),new Error(`Failed to create table '${rr}'`)}}async function seedTableData(e,rr,ir,lr){const dr=ir.length;if(dr===0){console.warn("No data to insert, skipping seeding");return}const fr=500;let mr=0;for(let hr=0;hr<dr;hr+=fr){const gr=ir.slice(hr,hr+fr),xr=[];for(const _r of gr){const yr=[];Object.values(_r).forEach((vr,br)=>{if(vr==null){yr.push("NULL");return}const Sr=getSqlType("postgres",lr[br].type);if(Sr==="TEXT"){const wr=String(vr).replace(/'/g,"''");yr.push(`'${wr}'`)}else if(Sr==="BOOLEAN")yr.push(vr?"TRUE":"FALSE");else if(Sr==="INTEGER"||Sr==="NUMERIC")yr.push(String(vr));else{const wr=String(vr).replace(/'/g,"''");yr.push(`'${wr}'`)}}),xr.push(`(${yr.join(", ")})`)}try{const _r=lr.map(vr=>vr.column).join(", "),yr=`INSERT INTO ${rr} (${_r}) VALUES ${xr.join(", ")}`;console.info(`Inserting chunk of ${gr.length} rows...`),await e.query(yr),mr+=gr.length}catch(_r){throw console.error(` Failed to insert chunk starting at row ${hr}:`,_r),showErrorNotification({title:"Failed to insert data",message:_r instanceof Error?_r.message:"Unknown error"}),new Error(`Failed to insert data at chunk ${hr}`)}}console.info(` Successfully inserted ${mr} rows into ${rr}`)}async function ensureForeignTableExists(e,rr){if((await e.query(`SELECT EXISTS (
      SELECT 1 FROM information_schema.tables 
      WHERE table_name = $1
    ) AS exists`,[rr])).rows[0].exists)return;const{data:dr,error:fr}=await supabase.from("user_problem_tables").select("table_name, column_types").eq("table_name",rr).single();if(fr)throw new Error(`Foreign table '${rr}' not found in database or metadata`);const mr=dr.column_types;await createTablesColumns(e,rr,mr),console.info(` Created foreign table: ${rr}`)}async function setRelations(e,rr,ir){if(ir.length===0){console.warn("No relations to set, skipping");return}const lr=[];for(const dr of ir){const{baseColumnName:fr,foreignTableName:mr,foreignTableColumn:hr}=dr;try{await ensureForeignTableExists(e,mr);const gr=`fk_${fr}_${mr}`;if((await e.query(`SELECT EXISTS (
          SELECT 1 FROM information_schema.table_constraints 
          WHERE table_name = $1 AND constraint_name = $2 AND constraint_type = 'FOREIGN KEY'
        ) AS exists`,[rr,gr])).rows[0].exists){console.info(` Foreign key constraint '${gr}' already exists, skipping`);continue}const yr=`
        ALTER TABLE ${rr}
        ADD CONSTRAINT ${gr}
        FOREIGN KEY (${fr})
        REFERENCES ${mr}(${hr})
        ON DELETE CASCADE;
      `;console.info(`Setting relation: ${rr}.${fr} -> ${mr}.${hr}`),await e.query(yr),console.info(` Successfully created foreign key constraint: ${gr}`)}catch(gr){const xr=gr instanceof Error?gr.message:"Unknown error";if(xr.includes("already exists")){console.info(` Foreign key constraint already exists, skipping: ${rr}.${fr} -> ${mr}.${hr}`);continue}const _r=`Failed to set relation ${rr}.${fr} -> ${mr}.${hr}: ${xr}`;console.error(` ${_r}`),lr.push(_r)}}if(lr.length>0){const dr=lr.length===1?lr[0]:`Failed to set ${lr.length} relation(s):
${lr.map(fr=>` ${fr}`).join(`
`)}`;throw showErrorNotification({title:"Relation Setup Failed",message:dr}),new Error(`Failed to set ${lr.length} relation(s)`)}console.info(` Successfully set ${ir.length} relation(s) for table: ${rr}`)}const useCsvImportStore=create$1()(subscribeWithSelector((e,rr)=>({isOpen:!1,step:0,fileName:void 0,tableId:void 0,initialColumns:[],rawData:[],filteredColumns:[],columnTypes:[],relations:[],description:"",isLoading:!1,mode:"create",open:({fileName:ir,columns:lr,rawData:dr})=>{e({isOpen:!0,fileName:ir,initialColumns:lr,rawData:dr,filteredColumns:lr,columnTypes:[],relations:[],description:"",mode:"create"})},openExisting:({tableId:ir,fileName:lr,columns:dr,rawData:fr,columnTypes:mr,relations:hr,description:gr,tableMetadata:xr})=>{e({isOpen:!0,fileName:lr,initialColumns:dr,rawData:fr,filteredColumns:dr,columnTypes:mr,relations:hr,description:gr,mode:"edit",tableMetadata:xr,tableId:ir})},reset:()=>{e({isOpen:!1,step:0,fileName:void 0,initialColumns:[],rawData:[],filteredColumns:[],columnTypes:[],relations:[],description:"",isLoading:!1})},close:()=>{e({isOpen:!1})},next:()=>{e(ir=>({step:Math.min(ir.step+1,1)}))},setFilteredColumns:ir=>e({filteredColumns:ir}),setColumnTypes:ir=>e({columnTypes:ir}),addRelation:ir=>{e(lr=>({relations:[...lr.relations,{baseTableName:lr.fileName??"",baseColumnName:"",baseColumnType:"",foreignTableName:ir,foreignTableColumn:"",foreignTableType:""}]}))},removeRelation:ir=>{e(lr=>({relations:lr.relations.filter((dr,fr)=>fr!==ir)}))},updateRelation:(ir,lr,dr,fr)=>{const mr=dr?rr().columnTypes.find(hr=>hr.column===lr):fr.find(hr=>hr.column===lr);mr&&e(hr=>({relations:hr.relations.map((gr,xr)=>xr===ir?{...gr,...dr?{baseColumnName:lr,baseColumnType:mr.type}:{foreignTableColumn:lr,foreignTableType:mr.type}}:gr)}))},cleanRelations:()=>{const ir=rr().relations.filter(lr=>lr.baseColumnName&&lr.foreignTableName&&lr.foreignTableColumn&&lr.baseColumnName.trim()!==""&&lr.foreignTableName.trim()!==""&&lr.foreignTableColumn.trim()!=="");return e({relations:ir}),ir},setDescription:ir=>e({description:ir}),setLoading:ir=>e({isLoading:ir}),setTableMetadata:ir=>{e({tableMetadata:ir})},getFilteredData:()=>{const ir=rr().filteredColumns,lr=rr().initialColumns,dr=rr().rawData;return ir.length===lr.length?dr:dr.map(fr=>{const mr=Object.entries(fr).filter(([hr])=>ir.includes(hr));return Object.fromEntries(mr)})},save:async ir=>{const lr=rr().getFilteredData(),dr=rr().columnTypes,fr=rr().fileName,mr=rr().mode;if(!fr)throw new Error("File name is required to create tables");const hr=async(gr,xr,_r,yr)=>{await createTablesColumns(ir,gr,xr),_r&&_r.length>0&&await setRelations(ir,gr,_r),await seedTableData(ir,gr,yr,xr)};if(mr==="edit"){console.info(` Edit mode: Recreating table '${fr}' with updated schema`),await dropAllTables(ir);const gr=sortTablesByDependencies(rr().tableMetadata??[]);for(const xr of gr)if(xr.tableName!==fr){console.info(` Ensuring dependent table '${xr.tableName}' exists`);const _r=await downloadAndParseCsvSafe(xr.dataPath,"tables",{},xr.tableName);if(!_r){console.error(`Failed to download/parse CSV for table: ${xr.tableName}`);continue}await hr(xr.tableName,xr.columnTypes,xr.relations,_r.data),console.info(` Dependent table '${xr.tableName}' is ready`)}else{const _r=rr().cleanRelations();await hr(fr,dr,_r,lr)}console.info(` Successfully recreated table '${fr}' with updated schema`)}else{console.info(` Create mode: Creating table '${fr}'`);const gr=rr().cleanRelations();await hr(fr,dr,gr,lr),console.info(` Successfully created table '${fr}'`)}}})));function TableManager(){const e=useCsvImportStore(ir=>ir.open),rr=ir=>{const lr=ir[0];papaparse_minExports.parse(lr,{header:!0,skipEmptyLines:!0,complete:dr=>{const fr=lr.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase();e({fileName:fr,columns:dr.meta.fields??[],rawData:dr.data})},error:dr=>{console.error("CSV parse error:",dr),showErrorNotification({title:"Failed to parse CSV file",message:dr.message})},transformHeader:dr=>dr.toLowerCase().replace(/\s+/g,"_")})};return jsxRuntimeExports.jsx(DropCSV,{onDrop:rr,accept:[MIME_TYPES.csv],maxFiles:1})}function ToggleButton({label:e,onToggle:rr,defaultSelected:ir=!0,isSelected:lr,index:dr,...fr}){const[mr,hr]=reactExports.useState(ir),gr=lr??mr,xr=()=>{const _r=!gr;hr(_r),rr(e,_r,dr)};return jsxRuntimeExports.jsx(Button$1,{...fr,variant:gr?"filled":"outline",color:gr?"blue":"gray",onClick:xr,size:"xs",children:e})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(e){let rr=e.length;for(;--rr>=0;)e[rr]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(e,rr,ir,lr,dr){this.static_tree=e,this.extra_bits=rr,this.extra_base=ir,this.elems=lr,this.max_length=dr,this.has_stree=e&&e.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(e,rr){this.dyn_tree=e,this.max_code=0,this.stat_desc=rr}const d_code=e=>e<256?_dist_code[e]:_dist_code[256+(e>>>7)],put_short=(e,rr)=>{e.pending_buf[e.pending++]=rr&255,e.pending_buf[e.pending++]=rr>>>8&255},send_bits=(e,rr,ir)=>{e.bi_valid>Buf_size-ir?(e.bi_buf|=rr<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=rr>>Buf_size-e.bi_valid,e.bi_valid+=ir-Buf_size):(e.bi_buf|=rr<<e.bi_valid&65535,e.bi_valid+=ir)},send_code=(e,rr,ir)=>{send_bits(e,ir[rr*2],ir[rr*2+1])},bi_reverse=(e,rr)=>{let ir=0;do ir|=e&1,e>>>=1,ir<<=1;while(--rr>0);return ir>>>1},bi_flush=e=>{e.bi_valid===16?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},gen_bitlen=(e,rr)=>{const ir=rr.dyn_tree,lr=rr.max_code,dr=rr.stat_desc.static_tree,fr=rr.stat_desc.has_stree,mr=rr.stat_desc.extra_bits,hr=rr.stat_desc.extra_base,gr=rr.stat_desc.max_length;let xr,_r,yr,vr,br,Sr,wr=0;for(vr=0;vr<=MAX_BITS$1;vr++)e.bl_count[vr]=0;for(ir[e.heap[e.heap_max]*2+1]=0,xr=e.heap_max+1;xr<HEAP_SIZE$1;xr++)_r=e.heap[xr],vr=ir[ir[_r*2+1]*2+1]+1,vr>gr&&(vr=gr,wr++),ir[_r*2+1]=vr,!(_r>lr)&&(e.bl_count[vr]++,br=0,_r>=hr&&(br=mr[_r-hr]),Sr=ir[_r*2],e.opt_len+=Sr*(vr+br),fr&&(e.static_len+=Sr*(dr[_r*2+1]+br)));if(wr!==0){do{for(vr=gr-1;e.bl_count[vr]===0;)vr--;e.bl_count[vr]--,e.bl_count[vr+1]+=2,e.bl_count[gr]--,wr-=2}while(wr>0);for(vr=gr;vr!==0;vr--)for(_r=e.bl_count[vr];_r!==0;)yr=e.heap[--xr],!(yr>lr)&&(ir[yr*2+1]!==vr&&(e.opt_len+=(vr-ir[yr*2+1])*ir[yr*2],ir[yr*2+1]=vr),_r--)}},gen_codes=(e,rr,ir)=>{const lr=new Array(MAX_BITS$1+1);let dr=0,fr,mr;for(fr=1;fr<=MAX_BITS$1;fr++)dr=dr+ir[fr-1]<<1,lr[fr]=dr;for(mr=0;mr<=rr;mr++){let hr=e[mr*2+1];hr!==0&&(e[mr*2]=bi_reverse(lr[hr]++,hr))}},tr_static_init=()=>{let e,rr,ir,lr,dr;const fr=new Array(MAX_BITS$1+1);for(ir=0,lr=0;lr<LENGTH_CODES$1-1;lr++)for(base_length[lr]=ir,e=0;e<1<<extra_lbits[lr];e++)_length_code[ir++]=lr;for(_length_code[ir-1]=lr,dr=0,lr=0;lr<16;lr++)for(base_dist[lr]=dr,e=0;e<1<<extra_dbits[lr];e++)_dist_code[dr++]=lr;for(dr>>=7;lr<D_CODES$1;lr++)for(base_dist[lr]=dr<<7,e=0;e<1<<extra_dbits[lr]-7;e++)_dist_code[256+dr++]=lr;for(rr=0;rr<=MAX_BITS$1;rr++)fr[rr]=0;for(e=0;e<=143;)static_ltree[e*2+1]=8,e++,fr[8]++;for(;e<=255;)static_ltree[e*2+1]=9,e++,fr[9]++;for(;e<=279;)static_ltree[e*2+1]=7,e++,fr[7]++;for(;e<=287;)static_ltree[e*2+1]=8,e++,fr[8]++;for(gen_codes(static_ltree,L_CODES$1+1,fr),e=0;e<D_CODES$1;e++)static_dtree[e*2+1]=5,static_dtree[e*2]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=e=>{let rr;for(rr=0;rr<L_CODES$1;rr++)e.dyn_ltree[rr*2]=0;for(rr=0;rr<D_CODES$1;rr++)e.dyn_dtree[rr*2]=0;for(rr=0;rr<BL_CODES$1;rr++)e.bl_tree[rr*2]=0;e.dyn_ltree[END_BLOCK*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},smaller=(e,rr,ir,lr)=>{const dr=rr*2,fr=ir*2;return e[dr]<e[fr]||e[dr]===e[fr]&&lr[rr]<=lr[ir]},pqdownheap=(e,rr,ir)=>{const lr=e.heap[ir];let dr=ir<<1;for(;dr<=e.heap_len&&(dr<e.heap_len&&smaller(rr,e.heap[dr+1],e.heap[dr],e.depth)&&dr++,!smaller(rr,lr,e.heap[dr],e.depth));)e.heap[ir]=e.heap[dr],ir=dr,dr<<=1;e.heap[ir]=lr},compress_block=(e,rr,ir)=>{let lr,dr,fr=0,mr,hr;if(e.sym_next!==0)do lr=e.pending_buf[e.sym_buf+fr++]&255,lr+=(e.pending_buf[e.sym_buf+fr++]&255)<<8,dr=e.pending_buf[e.sym_buf+fr++],lr===0?send_code(e,dr,rr):(mr=_length_code[dr],send_code(e,mr+LITERALS$1+1,rr),hr=extra_lbits[mr],hr!==0&&(dr-=base_length[mr],send_bits(e,dr,hr)),lr--,mr=d_code(lr),send_code(e,mr,ir),hr=extra_dbits[mr],hr!==0&&(lr-=base_dist[mr],send_bits(e,lr,hr)));while(fr<e.sym_next);send_code(e,END_BLOCK,rr)},build_tree=(e,rr)=>{const ir=rr.dyn_tree,lr=rr.stat_desc.static_tree,dr=rr.stat_desc.has_stree,fr=rr.stat_desc.elems;let mr,hr,gr=-1,xr;for(e.heap_len=0,e.heap_max=HEAP_SIZE$1,mr=0;mr<fr;mr++)ir[mr*2]!==0?(e.heap[++e.heap_len]=gr=mr,e.depth[mr]=0):ir[mr*2+1]=0;for(;e.heap_len<2;)xr=e.heap[++e.heap_len]=gr<2?++gr:0,ir[xr*2]=1,e.depth[xr]=0,e.opt_len--,dr&&(e.static_len-=lr[xr*2+1]);for(rr.max_code=gr,mr=e.heap_len>>1;mr>=1;mr--)pqdownheap(e,ir,mr);xr=fr;do mr=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,ir,1),hr=e.heap[1],e.heap[--e.heap_max]=mr,e.heap[--e.heap_max]=hr,ir[xr*2]=ir[mr*2]+ir[hr*2],e.depth[xr]=(e.depth[mr]>=e.depth[hr]?e.depth[mr]:e.depth[hr])+1,ir[mr*2+1]=ir[hr*2+1]=xr,e.heap[1]=xr++,pqdownheap(e,ir,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,rr),gen_codes(ir,gr,e.bl_count)},scan_tree=(e,rr,ir)=>{let lr,dr=-1,fr,mr=rr[0*2+1],hr=0,gr=7,xr=4;for(mr===0&&(gr=138,xr=3),rr[(ir+1)*2+1]=65535,lr=0;lr<=ir;lr++)fr=mr,mr=rr[(lr+1)*2+1],!(++hr<gr&&fr===mr)&&(hr<xr?e.bl_tree[fr*2]+=hr:fr!==0?(fr!==dr&&e.bl_tree[fr*2]++,e.bl_tree[REP_3_6*2]++):hr<=10?e.bl_tree[REPZ_3_10*2]++:e.bl_tree[REPZ_11_138*2]++,hr=0,dr=fr,mr===0?(gr=138,xr=3):fr===mr?(gr=6,xr=3):(gr=7,xr=4))},send_tree=(e,rr,ir)=>{let lr,dr=-1,fr,mr=rr[0*2+1],hr=0,gr=7,xr=4;for(mr===0&&(gr=138,xr=3),lr=0;lr<=ir;lr++)if(fr=mr,mr=rr[(lr+1)*2+1],!(++hr<gr&&fr===mr)){if(hr<xr)do send_code(e,fr,e.bl_tree);while(--hr!==0);else fr!==0?(fr!==dr&&(send_code(e,fr,e.bl_tree),hr--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,hr-3,2)):hr<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,hr-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,hr-11,7));hr=0,dr=fr,mr===0?(gr=138,xr=3):fr===mr?(gr=6,xr=3):(gr=7,xr=4)}},build_bl_tree=e=>{let rr;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),rr=BL_CODES$1-1;rr>=3&&e.bl_tree[bl_order[rr]*2+1]===0;rr--);return e.opt_len+=3*(rr+1)+5+5+4,rr},send_all_trees=(e,rr,ir,lr)=>{let dr;for(send_bits(e,rr-257,5),send_bits(e,ir-1,5),send_bits(e,lr-4,4),dr=0;dr<lr;dr++)send_bits(e,e.bl_tree[bl_order[dr]*2+1],3);send_tree(e,e.dyn_ltree,rr-1),send_tree(e,e.dyn_dtree,ir-1)},detect_data_type=e=>{let rr=4093624447,ir;for(ir=0;ir<=31;ir++,rr>>>=1)if(rr&1&&e.dyn_ltree[ir*2]!==0)return Z_BINARY;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Z_TEXT;for(ir=32;ir<LITERALS$1;ir++)if(e.dyn_ltree[ir*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=e=>{static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block$1=(e,rr,ir,lr)=>{send_bits(e,(STORED_BLOCK<<1)+(lr?1:0),3),bi_windup(e),put_short(e,ir),put_short(e,~ir),ir&&e.pending_buf.set(e.window.subarray(rr,rr+ir),e.pending),e.pending+=ir},_tr_align$1=e=>{send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)},_tr_flush_block$1=(e,rr,ir,lr)=>{let dr,fr,mr=0;e.level>0?(e.strm.data_type===Z_UNKNOWN$1&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),mr=build_bl_tree(e),dr=e.opt_len+3+7>>>3,fr=e.static_len+3+7>>>3,fr<=dr&&(dr=fr)):dr=fr=ir+5,ir+4<=dr&&rr!==-1?_tr_stored_block$1(e,rr,ir,lr):e.strategy===Z_FIXED$1||fr===dr?(send_bits(e,(STATIC_TREES<<1)+(lr?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(lr?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,mr+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),lr&&bi_windup(e)},_tr_tally$1=(e,rr,ir)=>(e.pending_buf[e.sym_buf+e.sym_next++]=rr,e.pending_buf[e.sym_buf+e.sym_next++]=rr>>8,e.pending_buf[e.sym_buf+e.sym_next++]=ir,rr===0?e.dyn_ltree[ir*2]++:(e.matches++,rr--,e.dyn_ltree[(_length_code[ir]+LITERALS$1+1)*2]++,e.dyn_dtree[d_code(rr)*2]++),e.sym_next===e.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(e,rr,ir,lr)=>{let dr=e&65535|0,fr=e>>>16&65535|0,mr=0;for(;ir!==0;){mr=ir>2e3?2e3:ir,ir-=mr;do dr=dr+rr[lr++]|0,fr=fr+dr|0;while(--mr);dr%=65521,fr%=65521}return dr|fr<<16|0};var adler32_1=adler32;const makeTable=()=>{let e,rr=[];for(var ir=0;ir<256;ir++){e=ir;for(var lr=0;lr<8;lr++)e=e&1?3988292384^e>>>1:e>>>1;rr[ir]=e}return rr},crcTable=new Uint32Array(makeTable()),crc32=(e,rr,ir,lr)=>{const dr=crcTable,fr=lr+ir;e^=-1;for(let mr=lr;mr<fr;mr++)e=e>>>8^dr[(e^rr[mr])&255];return e^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(e,rr)=>(e.msg=messages[rr],rr),rank=e=>e*2-(e>4?9:0),zero=e=>{let rr=e.length;for(;--rr>=0;)e[rr]=0},slide_hash=e=>{let rr,ir,lr,dr=e.w_size;rr=e.hash_size,lr=rr;do ir=e.head[--lr],e.head[lr]=ir>=dr?ir-dr:0;while(--rr);rr=dr,lr=rr;do ir=e.prev[--lr],e.prev[lr]=ir>=dr?ir-dr:0;while(--rr)};let HASH_ZLIB=(e,rr,ir)=>(rr<<e.hash_shift^ir)&e.hash_mask,HASH=HASH_ZLIB;const flush_pending=e=>{const rr=e.state;let ir=rr.pending;ir>e.avail_out&&(ir=e.avail_out),ir!==0&&(e.output.set(rr.pending_buf.subarray(rr.pending_out,rr.pending_out+ir),e.next_out),e.next_out+=ir,rr.pending_out+=ir,e.total_out+=ir,e.avail_out-=ir,rr.pending-=ir,rr.pending===0&&(rr.pending_out=0))},flush_block_only=(e,rr)=>{_tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,rr),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,rr)=>{e.pending_buf[e.pending++]=rr},putShortMSB=(e,rr)=>{e.pending_buf[e.pending++]=rr>>>8&255,e.pending_buf[e.pending++]=rr&255},read_buf=(e,rr,ir,lr)=>{let dr=e.avail_in;return dr>lr&&(dr=lr),dr===0?0:(e.avail_in-=dr,rr.set(e.input.subarray(e.next_in,e.next_in+dr),ir),e.state.wrap===1?e.adler=adler32_1(e.adler,rr,dr,ir):e.state.wrap===2&&(e.adler=crc32_1(e.adler,rr,dr,ir)),e.next_in+=dr,e.total_in+=dr,dr)},longest_match=(e,rr)=>{let ir=e.max_chain_length,lr=e.strstart,dr,fr,mr=e.prev_length,hr=e.nice_match;const gr=e.strstart>e.w_size-MIN_LOOKAHEAD?e.strstart-(e.w_size-MIN_LOOKAHEAD):0,xr=e.window,_r=e.w_mask,yr=e.prev,vr=e.strstart+MAX_MATCH;let br=xr[lr+mr-1],Sr=xr[lr+mr];e.prev_length>=e.good_match&&(ir>>=2),hr>e.lookahead&&(hr=e.lookahead);do if(dr=rr,!(xr[dr+mr]!==Sr||xr[dr+mr-1]!==br||xr[dr]!==xr[lr]||xr[++dr]!==xr[lr+1])){lr+=2,dr++;do;while(xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&xr[++lr]===xr[++dr]&&lr<vr);if(fr=MAX_MATCH-(vr-lr),lr=vr-MAX_MATCH,fr>mr){if(e.match_start=rr,mr=fr,fr>=hr)break;br=xr[lr+mr-1],Sr=xr[lr+mr]}}while((rr=yr[rr&_r])>gr&&--ir!==0);return mr<=e.lookahead?mr:e.lookahead},fill_window=e=>{const rr=e.w_size;let ir,lr,dr;do{if(lr=e.window_size-e.lookahead-e.strstart,e.strstart>=rr+(rr-MIN_LOOKAHEAD)&&(e.window.set(e.window.subarray(rr,rr+rr-lr),0),e.match_start-=rr,e.strstart-=rr,e.block_start-=rr,e.insert>e.strstart&&(e.insert=e.strstart),slide_hash(e),lr+=rr),e.strm.avail_in===0)break;if(ir=read_buf(e.strm,e.window,e.strstart+e.lookahead,lr),e.lookahead+=ir,e.lookahead+e.insert>=MIN_MATCH)for(dr=e.strstart-e.insert,e.ins_h=e.window[dr],e.ins_h=HASH(e,e.ins_h,e.window[dr+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[dr+MIN_MATCH-1]),e.prev[dr&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=dr,dr++,e.insert--,!(e.lookahead+e.insert<MIN_MATCH)););}while(e.lookahead<MIN_LOOKAHEAD&&e.strm.avail_in!==0)},deflate_stored=(e,rr)=>{let ir=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,lr,dr,fr,mr=0,hr=e.strm.avail_in;do{if(lr=65535,fr=e.bi_valid+42>>3,e.strm.avail_out<fr||(fr=e.strm.avail_out-fr,dr=e.strstart-e.block_start,lr>dr+e.strm.avail_in&&(lr=dr+e.strm.avail_in),lr>fr&&(lr=fr),lr<ir&&(lr===0&&rr!==Z_FINISH$3||rr===Z_NO_FLUSH$2||lr!==dr+e.strm.avail_in)))break;mr=rr===Z_FINISH$3&&lr===dr+e.strm.avail_in?1:0,_tr_stored_block(e,0,0,mr),e.pending_buf[e.pending-4]=lr,e.pending_buf[e.pending-3]=lr>>8,e.pending_buf[e.pending-2]=~lr,e.pending_buf[e.pending-1]=~lr>>8,flush_pending(e.strm),dr&&(dr>lr&&(dr=lr),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+dr),e.strm.next_out),e.strm.next_out+=dr,e.strm.avail_out-=dr,e.strm.total_out+=dr,e.block_start+=dr,lr-=dr),lr&&(read_buf(e.strm,e.strm.output,e.strm.next_out,lr),e.strm.next_out+=lr,e.strm.avail_out-=lr,e.strm.total_out+=lr)}while(mr===0);return hr-=e.strm.avail_in,hr&&(hr>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=hr&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-hr,e.strm.next_in),e.strstart),e.strstart+=hr,e.insert+=hr>e.w_size-e.insert?e.w_size-e.insert:hr),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),mr?BS_FINISH_DONE:rr!==Z_NO_FLUSH$2&&rr!==Z_FINISH$3&&e.strm.avail_in===0&&e.strstart===e.block_start?BS_BLOCK_DONE:(fr=e.window_size-e.strstart,e.strm.avail_in>fr&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,fr+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),fr>e.strm.avail_in&&(fr=e.strm.avail_in),fr&&(read_buf(e.strm,e.window,e.strstart,fr),e.strstart+=fr,e.insert+=fr>e.w_size-e.insert?e.w_size-e.insert:fr),e.high_water<e.strstart&&(e.high_water=e.strstart),fr=e.bi_valid+42>>3,fr=e.pending_buf_size-fr>65535?65535:e.pending_buf_size-fr,ir=fr>e.w_size?e.w_size:fr,dr=e.strstart-e.block_start,(dr>=ir||(dr||rr===Z_FINISH$3)&&rr!==Z_NO_FLUSH$2&&e.strm.avail_in===0&&dr<=fr)&&(lr=dr>fr?fr:dr,mr=rr===Z_FINISH$3&&e.strm.avail_in===0&&lr===dr?1:0,_tr_stored_block(e,e.block_start,lr,mr),e.block_start+=lr,flush_pending(e.strm)),mr?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(e,rr)=>{let ir,lr;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&rr===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(ir=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),ir=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),ir!==0&&e.strstart-ir<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,ir)),e.match_length>=MIN_MATCH)if(lr=_tr_tally(e,e.strstart-e.match_start,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=MIN_MATCH){e.match_length--;do e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),ir=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else lr=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(lr&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,rr===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(e,rr)=>{let ir,lr,dr;for(;;){if(e.lookahead<MIN_LOOKAHEAD){if(fill_window(e),e.lookahead<MIN_LOOKAHEAD&&rr===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(ir=0,e.lookahead>=MIN_MATCH&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),ir=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=MIN_MATCH-1,ir!==0&&e.prev_length<e.max_lazy_match&&e.strstart-ir<=e.w_size-MIN_LOOKAHEAD&&(e.match_length=longest_match(e,ir),e.match_length<=5&&(e.strategy===Z_FILTERED||e.match_length===MIN_MATCH&&e.strstart-e.match_start>4096)&&(e.match_length=MIN_MATCH-1)),e.prev_length>=MIN_MATCH&&e.match_length<=e.prev_length){dr=e.strstart+e.lookahead-MIN_MATCH,lr=_tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-MIN_MATCH),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=dr&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+MIN_MATCH-1]),ir=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=MIN_MATCH-1,e.strstart++,lr&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}else if(e.match_available){if(lr=_tr_tally(e,0,e.window[e.strstart-1]),lr&&flush_block_only(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return BS_NEED_MORE}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(lr=_tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<MIN_MATCH-1?e.strstart:MIN_MATCH-1,rr===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(e,rr)=>{let ir,lr,dr,fr;const mr=e.window;for(;;){if(e.lookahead<=MAX_MATCH){if(fill_window(e),e.lookahead<=MAX_MATCH&&rr===Z_NO_FLUSH$2)return BS_NEED_MORE;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=MIN_MATCH&&e.strstart>0&&(dr=e.strstart-1,lr=mr[dr],lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr])){fr=e.strstart+MAX_MATCH;do;while(lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&lr===mr[++dr]&&dr<fr);e.match_length=MAX_MATCH-(fr-dr),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=MIN_MATCH?(ir=_tr_tally(e,1,e.match_length-MIN_MATCH),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(ir=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),ir&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,rr===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(e,rr)=>{let ir;for(;;){if(e.lookahead===0&&(fill_window(e),e.lookahead===0)){if(rr===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(e.match_length=0,ir=_tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,ir&&(flush_block_only(e,!1),e.strm.avail_out===0))return BS_NEED_MORE}return e.insert=0,rr===Z_FINISH$3?(flush_block_only(e,!0),e.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):e.sym_next&&(flush_block_only(e,!1),e.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(e,rr,ir,lr,dr){this.good_length=e,this.max_lazy=rr,this.nice_length=ir,this.max_chain=lr,this.func=dr}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=e=>{e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=configuration_table[e.level].max_lazy,e.good_match=configuration_table[e.level].good_length,e.nice_match=configuration_table[e.level].nice_length,e.max_chain_length=configuration_table[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=MIN_MATCH-1,e.match_available=0,e.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=e=>{if(!e)return 1;const rr=e.state;return!rr||rr.strm!==e||rr.status!==INIT_STATE&&rr.status!==GZIP_STATE&&rr.status!==EXTRA_STATE&&rr.status!==NAME_STATE&&rr.status!==COMMENT_STATE&&rr.status!==HCRC_STATE&&rr.status!==BUSY_STATE&&rr.status!==FINISH_STATE?1:0},deflateResetKeep=e=>{if(deflateStateCheck(e))return err(e,Z_STREAM_ERROR$2);e.total_in=e.total_out=0,e.data_type=Z_UNKNOWN;const rr=e.state;return rr.pending=0,rr.pending_out=0,rr.wrap<0&&(rr.wrap=-rr.wrap),rr.status=rr.wrap===2?GZIP_STATE:rr.wrap?INIT_STATE:BUSY_STATE,e.adler=rr.wrap===2?0:1,rr.last_flush=-2,_tr_init(rr),Z_OK$3},deflateReset=e=>{const rr=deflateResetKeep(e);return rr===Z_OK$3&&lm_init(e.state),rr},deflateSetHeader=(e,rr)=>deflateStateCheck(e)||e.state.wrap!==2?Z_STREAM_ERROR$2:(e.state.gzhead=rr,Z_OK$3),deflateInit2=(e,rr,ir,lr,dr,fr)=>{if(!e)return Z_STREAM_ERROR$2;let mr=1;if(rr===Z_DEFAULT_COMPRESSION$1&&(rr=6),lr<0?(mr=0,lr=-lr):lr>15&&(mr=2,lr-=16),dr<1||dr>MAX_MEM_LEVEL||ir!==Z_DEFLATED$2||lr<8||lr>15||rr<0||rr>9||fr<0||fr>Z_FIXED||lr===8&&mr!==1)return err(e,Z_STREAM_ERROR$2);lr===8&&(lr=9);const hr=new DeflateState;return e.state=hr,hr.strm=e,hr.status=INIT_STATE,hr.wrap=mr,hr.gzhead=null,hr.w_bits=lr,hr.w_size=1<<hr.w_bits,hr.w_mask=hr.w_size-1,hr.hash_bits=dr+7,hr.hash_size=1<<hr.hash_bits,hr.hash_mask=hr.hash_size-1,hr.hash_shift=~~((hr.hash_bits+MIN_MATCH-1)/MIN_MATCH),hr.window=new Uint8Array(hr.w_size*2),hr.head=new Uint16Array(hr.hash_size),hr.prev=new Uint16Array(hr.w_size),hr.lit_bufsize=1<<dr+6,hr.pending_buf_size=hr.lit_bufsize*4,hr.pending_buf=new Uint8Array(hr.pending_buf_size),hr.sym_buf=hr.lit_bufsize,hr.sym_end=(hr.lit_bufsize-1)*3,hr.level=rr,hr.strategy=fr,hr.method=ir,deflateReset(e)},deflateInit=(e,rr)=>deflateInit2(e,rr,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(e,rr)=>{if(deflateStateCheck(e)||rr>Z_BLOCK$1||rr<0)return e?err(e,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const ir=e.state;if(!e.output||e.avail_in!==0&&!e.input||ir.status===FINISH_STATE&&rr!==Z_FINISH$3)return err(e,e.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const lr=ir.last_flush;if(ir.last_flush=rr,ir.pending!==0){if(flush_pending(e),e.avail_out===0)return ir.last_flush=-1,Z_OK$3}else if(e.avail_in===0&&rank(rr)<=rank(lr)&&rr!==Z_FINISH$3)return err(e,Z_BUF_ERROR$1);if(ir.status===FINISH_STATE&&e.avail_in!==0)return err(e,Z_BUF_ERROR$1);if(ir.status===INIT_STATE&&ir.wrap===0&&(ir.status=BUSY_STATE),ir.status===INIT_STATE){let dr=Z_DEFLATED$2+(ir.w_bits-8<<4)<<8,fr=-1;if(ir.strategy>=Z_HUFFMAN_ONLY||ir.level<2?fr=0:ir.level<6?fr=1:ir.level===6?fr=2:fr=3,dr|=fr<<6,ir.strstart!==0&&(dr|=PRESET_DICT),dr+=31-dr%31,putShortMSB(ir,dr),ir.strstart!==0&&(putShortMSB(ir,e.adler>>>16),putShortMSB(ir,e.adler&65535)),e.adler=1,ir.status=BUSY_STATE,flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3}if(ir.status===GZIP_STATE){if(e.adler=0,put_byte(ir,31),put_byte(ir,139),put_byte(ir,8),ir.gzhead)put_byte(ir,(ir.gzhead.text?1:0)+(ir.gzhead.hcrc?2:0)+(ir.gzhead.extra?4:0)+(ir.gzhead.name?8:0)+(ir.gzhead.comment?16:0)),put_byte(ir,ir.gzhead.time&255),put_byte(ir,ir.gzhead.time>>8&255),put_byte(ir,ir.gzhead.time>>16&255),put_byte(ir,ir.gzhead.time>>24&255),put_byte(ir,ir.level===9?2:ir.strategy>=Z_HUFFMAN_ONLY||ir.level<2?4:0),put_byte(ir,ir.gzhead.os&255),ir.gzhead.extra&&ir.gzhead.extra.length&&(put_byte(ir,ir.gzhead.extra.length&255),put_byte(ir,ir.gzhead.extra.length>>8&255)),ir.gzhead.hcrc&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending,0)),ir.gzindex=0,ir.status=EXTRA_STATE;else if(put_byte(ir,0),put_byte(ir,0),put_byte(ir,0),put_byte(ir,0),put_byte(ir,0),put_byte(ir,ir.level===9?2:ir.strategy>=Z_HUFFMAN_ONLY||ir.level<2?4:0),put_byte(ir,OS_CODE),ir.status=BUSY_STATE,flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3}if(ir.status===EXTRA_STATE){if(ir.gzhead.extra){let dr=ir.pending,fr=(ir.gzhead.extra.length&65535)-ir.gzindex;for(;ir.pending+fr>ir.pending_buf_size;){let hr=ir.pending_buf_size-ir.pending;if(ir.pending_buf.set(ir.gzhead.extra.subarray(ir.gzindex,ir.gzindex+hr),ir.pending),ir.pending=ir.pending_buf_size,ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr)),ir.gzindex+=hr,flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3;dr=0,fr-=hr}let mr=new Uint8Array(ir.gzhead.extra);ir.pending_buf.set(mr.subarray(ir.gzindex,ir.gzindex+fr),ir.pending),ir.pending+=fr,ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr)),ir.gzindex=0}ir.status=NAME_STATE}if(ir.status===NAME_STATE){if(ir.gzhead.name){let dr=ir.pending,fr;do{if(ir.pending===ir.pending_buf_size){if(ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr)),flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3;dr=0}ir.gzindex<ir.gzhead.name.length?fr=ir.gzhead.name.charCodeAt(ir.gzindex++)&255:fr=0,put_byte(ir,fr)}while(fr!==0);ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr)),ir.gzindex=0}ir.status=COMMENT_STATE}if(ir.status===COMMENT_STATE){if(ir.gzhead.comment){let dr=ir.pending,fr;do{if(ir.pending===ir.pending_buf_size){if(ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr)),flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3;dr=0}ir.gzindex<ir.gzhead.comment.length?fr=ir.gzhead.comment.charCodeAt(ir.gzindex++)&255:fr=0,put_byte(ir,fr)}while(fr!==0);ir.gzhead.hcrc&&ir.pending>dr&&(e.adler=crc32_1(e.adler,ir.pending_buf,ir.pending-dr,dr))}ir.status=HCRC_STATE}if(ir.status===HCRC_STATE){if(ir.gzhead.hcrc){if(ir.pending+2>ir.pending_buf_size&&(flush_pending(e),ir.pending!==0))return ir.last_flush=-1,Z_OK$3;put_byte(ir,e.adler&255),put_byte(ir,e.adler>>8&255),e.adler=0}if(ir.status=BUSY_STATE,flush_pending(e),ir.pending!==0)return ir.last_flush=-1,Z_OK$3}if(e.avail_in!==0||ir.lookahead!==0||rr!==Z_NO_FLUSH$2&&ir.status!==FINISH_STATE){let dr=ir.level===0?deflate_stored(ir,rr):ir.strategy===Z_HUFFMAN_ONLY?deflate_huff(ir,rr):ir.strategy===Z_RLE?deflate_rle(ir,rr):configuration_table[ir.level].func(ir,rr);if((dr===BS_FINISH_STARTED||dr===BS_FINISH_DONE)&&(ir.status=FINISH_STATE),dr===BS_NEED_MORE||dr===BS_FINISH_STARTED)return e.avail_out===0&&(ir.last_flush=-1),Z_OK$3;if(dr===BS_BLOCK_DONE&&(rr===Z_PARTIAL_FLUSH?_tr_align(ir):rr!==Z_BLOCK$1&&(_tr_stored_block(ir,0,0,!1),rr===Z_FULL_FLUSH$1&&(zero(ir.head),ir.lookahead===0&&(ir.strstart=0,ir.block_start=0,ir.insert=0))),flush_pending(e),e.avail_out===0))return ir.last_flush=-1,Z_OK$3}return rr!==Z_FINISH$3?Z_OK$3:ir.wrap<=0?Z_STREAM_END$3:(ir.wrap===2?(put_byte(ir,e.adler&255),put_byte(ir,e.adler>>8&255),put_byte(ir,e.adler>>16&255),put_byte(ir,e.adler>>24&255),put_byte(ir,e.total_in&255),put_byte(ir,e.total_in>>8&255),put_byte(ir,e.total_in>>16&255),put_byte(ir,e.total_in>>24&255)):(putShortMSB(ir,e.adler>>>16),putShortMSB(ir,e.adler&65535)),flush_pending(e),ir.wrap>0&&(ir.wrap=-ir.wrap),ir.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=e=>{if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const rr=e.state.status;return e.state=null,rr===BUSY_STATE?err(e,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(e,rr)=>{let ir=rr.length;if(deflateStateCheck(e))return Z_STREAM_ERROR$2;const lr=e.state,dr=lr.wrap;if(dr===2||dr===1&&lr.status!==INIT_STATE||lr.lookahead)return Z_STREAM_ERROR$2;if(dr===1&&(e.adler=adler32_1(e.adler,rr,ir,0)),lr.wrap=0,ir>=lr.w_size){dr===0&&(zero(lr.head),lr.strstart=0,lr.block_start=0,lr.insert=0);let gr=new Uint8Array(lr.w_size);gr.set(rr.subarray(ir-lr.w_size,ir),0),rr=gr,ir=lr.w_size}const fr=e.avail_in,mr=e.next_in,hr=e.input;for(e.avail_in=ir,e.next_in=0,e.input=rr,fill_window(lr);lr.lookahead>=MIN_MATCH;){let gr=lr.strstart,xr=lr.lookahead-(MIN_MATCH-1);do lr.ins_h=HASH(lr,lr.ins_h,lr.window[gr+MIN_MATCH-1]),lr.prev[gr&lr.w_mask]=lr.head[lr.ins_h],lr.head[lr.ins_h]=gr,gr++;while(--xr);lr.strstart=gr,lr.lookahead=MIN_MATCH-1,fill_window(lr)}return lr.strstart+=lr.lookahead,lr.block_start=lr.strstart,lr.insert=lr.lookahead,lr.lookahead=0,lr.match_length=lr.prev_length=MIN_MATCH-1,lr.match_available=0,e.next_in=mr,e.input=hr,e.avail_in=fr,lr.wrap=dr,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(e,rr)=>Object.prototype.hasOwnProperty.call(e,rr);var assign=function(e){const rr=Array.prototype.slice.call(arguments,1);for(;rr.length;){const ir=rr.shift();if(ir){if(typeof ir!="object")throw new TypeError(ir+"must be non-object");for(const lr in ir)_has(ir,lr)&&(e[lr]=ir[lr])}}return e},flattenChunks=e=>{let rr=0;for(let lr=0,dr=e.length;lr<dr;lr++)rr+=e[lr].length;const ir=new Uint8Array(rr);for(let lr=0,dr=0,fr=e.length;lr<fr;lr++){let mr=e[lr];ir.set(mr,dr),dr+=mr.length}return ir},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let e=0;e<256;e++)_utf8len[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let rr,ir,lr,dr,fr,mr=e.length,hr=0;for(dr=0;dr<mr;dr++)ir=e.charCodeAt(dr),(ir&64512)===55296&&dr+1<mr&&(lr=e.charCodeAt(dr+1),(lr&64512)===56320&&(ir=65536+(ir-55296<<10)+(lr-56320),dr++)),hr+=ir<128?1:ir<2048?2:ir<65536?3:4;for(rr=new Uint8Array(hr),fr=0,dr=0;fr<hr;dr++)ir=e.charCodeAt(dr),(ir&64512)===55296&&dr+1<mr&&(lr=e.charCodeAt(dr+1),(lr&64512)===56320&&(ir=65536+(ir-55296<<10)+(lr-56320),dr++)),ir<128?rr[fr++]=ir:ir<2048?(rr[fr++]=192|ir>>>6,rr[fr++]=128|ir&63):ir<65536?(rr[fr++]=224|ir>>>12,rr[fr++]=128|ir>>>6&63,rr[fr++]=128|ir&63):(rr[fr++]=240|ir>>>18,rr[fr++]=128|ir>>>12&63,rr[fr++]=128|ir>>>6&63,rr[fr++]=128|ir&63);return rr};const buf2binstring=(e,rr)=>{if(rr<65534&&e.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,e.length===rr?e:e.subarray(0,rr));let ir="";for(let lr=0;lr<rr;lr++)ir+=String.fromCharCode(e[lr]);return ir};var buf2string=(e,rr)=>{const ir=rr||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,rr));let lr,dr;const fr=new Array(ir*2);for(dr=0,lr=0;lr<ir;){let mr=e[lr++];if(mr<128){fr[dr++]=mr;continue}let hr=_utf8len[mr];if(hr>4){fr[dr++]=65533,lr+=hr-1;continue}for(mr&=hr===2?31:hr===3?15:7;hr>1&&lr<ir;)mr=mr<<6|e[lr++]&63,hr--;if(hr>1){fr[dr++]=65533;continue}mr<65536?fr[dr++]=mr:(mr-=65536,fr[dr++]=55296|mr>>10&1023,fr[dr++]=56320|mr&1023)}return buf2binstring(fr,dr)},utf8border=(e,rr)=>{rr=rr||e.length,rr>e.length&&(rr=e.length);let ir=rr-1;for(;ir>=0&&(e[ir]&192)===128;)ir--;return ir<0||ir===0?rr:ir+_utf8len[e[ir]]>rr?ir:rr},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(e){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},e||{});let rr=this.options;rr.raw&&rr.windowBits>0?rr.windowBits=-rr.windowBits:rr.gzip&&rr.windowBits>0&&rr.windowBits<16&&(rr.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let ir=deflate_1$2.deflateInit2(this.strm,rr.level,rr.method,rr.windowBits,rr.memLevel,rr.strategy);if(ir!==Z_OK$2)throw new Error(messages[ir]);if(rr.header&&deflate_1$2.deflateSetHeader(this.strm,rr.header),rr.dictionary){let lr;if(typeof rr.dictionary=="string"?lr=strings.string2buf(rr.dictionary):toString$1.call(rr.dictionary)==="[object ArrayBuffer]"?lr=new Uint8Array(rr.dictionary):lr=rr.dictionary,ir=deflate_1$2.deflateSetDictionary(this.strm,lr),ir!==Z_OK$2)throw new Error(messages[ir]);this._dict_set=!0}}Deflate$1.prototype.push=function(e,rr){const ir=this.strm,lr=this.options.chunkSize;let dr,fr;if(this.ended)return!1;for(rr===~~rr?fr=rr:fr=rr===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof e=="string"?ir.input=strings.string2buf(e):toString$1.call(e)==="[object ArrayBuffer]"?ir.input=new Uint8Array(e):ir.input=e,ir.next_in=0,ir.avail_in=ir.input.length;;){if(ir.avail_out===0&&(ir.output=new Uint8Array(lr),ir.next_out=0,ir.avail_out=lr),(fr===Z_SYNC_FLUSH||fr===Z_FULL_FLUSH)&&ir.avail_out<=6){this.onData(ir.output.subarray(0,ir.next_out)),ir.avail_out=0;continue}if(dr=deflate_1$2.deflate(ir,fr),dr===Z_STREAM_END$2)return ir.next_out>0&&this.onData(ir.output.subarray(0,ir.next_out)),dr=deflate_1$2.deflateEnd(this.strm),this.onEnd(dr),this.ended=!0,dr===Z_OK$2;if(ir.avail_out===0){this.onData(ir.output);continue}if(fr>0&&ir.next_out>0){this.onData(ir.output.subarray(0,ir.next_out)),ir.avail_out=0;continue}if(ir.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(e){this.chunks.push(e)};Deflate$1.prototype.onEnd=function(e){e===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function deflate$1(e,rr){const ir=new Deflate$1(rr);if(ir.push(e,!0),ir.err)throw ir.msg||messages[ir.err];return ir.result}function deflateRaw$1(e,rr){return rr=rr||{},rr.raw=!0,deflate$1(e,rr)}function gzip$1(e,rr){return rr=rr||{},rr.gzip=!0,deflate$1(e,rr)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1};const BAD$1=16209,TYPE$1=16191;var inffast=function e(rr,ir){let lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br,Sr,wr,Mr,kr,Ar,Ir,$r,Dr,Or,Fr,Lr,zr,Gr;const Jr=rr.state;lr=rr.next_in,zr=rr.input,dr=lr+(rr.avail_in-5),fr=rr.next_out,Gr=rr.output,mr=fr-(ir-rr.avail_out),hr=fr+(rr.avail_out-257),gr=Jr.dmax,xr=Jr.wsize,_r=Jr.whave,yr=Jr.wnext,vr=Jr.window,br=Jr.hold,Sr=Jr.bits,wr=Jr.lencode,Mr=Jr.distcode,kr=(1<<Jr.lenbits)-1,Ar=(1<<Jr.distbits)-1;e:do{Sr<15&&(br+=zr[lr++]<<Sr,Sr+=8,br+=zr[lr++]<<Sr,Sr+=8),Ir=wr[br&kr];t:for(;;){if($r=Ir>>>24,br>>>=$r,Sr-=$r,$r=Ir>>>16&255,$r===0)Gr[fr++]=Ir&65535;else if($r&16){Dr=Ir&65535,$r&=15,$r&&(Sr<$r&&(br+=zr[lr++]<<Sr,Sr+=8),Dr+=br&(1<<$r)-1,br>>>=$r,Sr-=$r),Sr<15&&(br+=zr[lr++]<<Sr,Sr+=8,br+=zr[lr++]<<Sr,Sr+=8),Ir=Mr[br&Ar];r:for(;;){if($r=Ir>>>24,br>>>=$r,Sr-=$r,$r=Ir>>>16&255,$r&16){if(Or=Ir&65535,$r&=15,Sr<$r&&(br+=zr[lr++]<<Sr,Sr+=8,Sr<$r&&(br+=zr[lr++]<<Sr,Sr+=8)),Or+=br&(1<<$r)-1,Or>gr){rr.msg="invalid distance too far back",Jr.mode=BAD$1;break e}if(br>>>=$r,Sr-=$r,$r=fr-mr,Or>$r){if($r=Or-$r,$r>_r&&Jr.sane){rr.msg="invalid distance too far back",Jr.mode=BAD$1;break e}if(Fr=0,Lr=vr,yr===0){if(Fr+=xr-$r,$r<Dr){Dr-=$r;do Gr[fr++]=vr[Fr++];while(--$r);Fr=fr-Or,Lr=Gr}}else if(yr<$r){if(Fr+=xr+yr-$r,$r-=yr,$r<Dr){Dr-=$r;do Gr[fr++]=vr[Fr++];while(--$r);if(Fr=0,yr<Dr){$r=yr,Dr-=$r;do Gr[fr++]=vr[Fr++];while(--$r);Fr=fr-Or,Lr=Gr}}}else if(Fr+=yr-$r,$r<Dr){Dr-=$r;do Gr[fr++]=vr[Fr++];while(--$r);Fr=fr-Or,Lr=Gr}for(;Dr>2;)Gr[fr++]=Lr[Fr++],Gr[fr++]=Lr[Fr++],Gr[fr++]=Lr[Fr++],Dr-=3;Dr&&(Gr[fr++]=Lr[Fr++],Dr>1&&(Gr[fr++]=Lr[Fr++]))}else{Fr=fr-Or;do Gr[fr++]=Gr[Fr++],Gr[fr++]=Gr[Fr++],Gr[fr++]=Gr[Fr++],Dr-=3;while(Dr>2);Dr&&(Gr[fr++]=Gr[Fr++],Dr>1&&(Gr[fr++]=Gr[Fr++]))}}else if($r&64){rr.msg="invalid distance code",Jr.mode=BAD$1;break e}else{Ir=Mr[(Ir&65535)+(br&(1<<$r)-1)];continue r}break}}else if($r&64)if($r&32){Jr.mode=TYPE$1;break e}else{rr.msg="invalid literal/length code",Jr.mode=BAD$1;break e}else{Ir=wr[(Ir&65535)+(br&(1<<$r)-1)];continue t}break}}while(lr<dr&&fr<hr);Dr=Sr>>3,lr-=Dr,Sr-=Dr<<3,br&=(1<<Sr)-1,rr.next_in=lr,rr.next_out=fr,rr.avail_in=lr<dr?5+(dr-lr):5-(lr-dr),rr.avail_out=fr<hr?257+(hr-fr):257-(fr-hr),Jr.hold=br,Jr.bits=Sr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(e,rr,ir,lr,dr,fr,mr,hr)=>{const gr=hr.bits;let xr=0,_r=0,yr=0,vr=0,br=0,Sr=0,wr=0,Mr=0,kr=0,Ar=0,Ir,$r,Dr,Or,Fr,Lr=null,zr;const Gr=new Uint16Array(MAXBITS+1),Jr=new Uint16Array(MAXBITS+1);let Yn=null,Jn,Zn,Hn;for(xr=0;xr<=MAXBITS;xr++)Gr[xr]=0;for(_r=0;_r<lr;_r++)Gr[rr[ir+_r]]++;for(br=gr,vr=MAXBITS;vr>=1&&Gr[vr]===0;vr--);if(br>vr&&(br=vr),vr===0)return dr[fr++]=1<<24|64<<16|0,dr[fr++]=1<<24|64<<16|0,hr.bits=1,0;for(yr=1;yr<vr&&Gr[yr]===0;yr++);for(br<yr&&(br=yr),Mr=1,xr=1;xr<=MAXBITS;xr++)if(Mr<<=1,Mr-=Gr[xr],Mr<0)return-1;if(Mr>0&&(e===CODES$1||vr!==1))return-1;for(Jr[1]=0,xr=1;xr<MAXBITS;xr++)Jr[xr+1]=Jr[xr]+Gr[xr];for(_r=0;_r<lr;_r++)rr[ir+_r]!==0&&(mr[Jr[rr[ir+_r]]++]=_r);if(e===CODES$1?(Lr=Yn=mr,zr=20):e===LENS$1?(Lr=lbase,Yn=lext,zr=257):(Lr=dbase,Yn=dext,zr=0),Ar=0,_r=0,xr=yr,Fr=fr,Sr=br,wr=0,Dr=-1,kr=1<<br,Or=kr-1,e===LENS$1&&kr>ENOUGH_LENS$1||e===DISTS$1&&kr>ENOUGH_DISTS$1)return 1;for(;;){Jn=xr-wr,mr[_r]+1<zr?(Zn=0,Hn=mr[_r]):mr[_r]>=zr?(Zn=Yn[mr[_r]-zr],Hn=Lr[mr[_r]-zr]):(Zn=96,Hn=0),Ir=1<<xr-wr,$r=1<<Sr,yr=$r;do $r-=Ir,dr[Fr+(Ar>>wr)+$r]=Jn<<24|Zn<<16|Hn|0;while($r!==0);for(Ir=1<<xr-1;Ar&Ir;)Ir>>=1;if(Ir!==0?(Ar&=Ir-1,Ar+=Ir):Ar=0,_r++,--Gr[xr]===0){if(xr===vr)break;xr=rr[ir+mr[_r]]}if(xr>br&&(Ar&Or)!==Dr){for(wr===0&&(wr=br),Fr+=yr,Sr=xr-wr,Mr=1<<Sr;Sr+wr<vr&&(Mr-=Gr[Sr+wr],!(Mr<=0));)Sr++,Mr<<=1;if(kr+=1<<Sr,e===LENS$1&&kr>ENOUGH_LENS$1||e===DISTS$1&&kr>ENOUGH_DISTS$1)return 1;Dr=Ar&Or,dr[Dr]=br<<24|Sr<<16|Fr-fr|0}}return Ar!==0&&(dr[Fr+Ar]=xr-wr<<24|64<<16|0),hr.bits=br,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=e=>{if(!e)return 1;const rr=e.state;return!rr||rr.strm!==e||rr.mode<HEAD||rr.mode>SYNC?1:0},inflateResetKeep=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const rr=e.state;return e.total_in=e.total_out=rr.total=0,e.msg="",rr.wrap&&(e.adler=rr.wrap&1),rr.mode=HEAD,rr.last=0,rr.havedict=0,rr.flags=-1,rr.dmax=32768,rr.head=null,rr.hold=0,rr.bits=0,rr.lencode=rr.lendyn=new Int32Array(ENOUGH_LENS),rr.distcode=rr.distdyn=new Int32Array(ENOUGH_DISTS),rr.sane=1,rr.back=-1,Z_OK$1},inflateReset=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const rr=e.state;return rr.wsize=0,rr.whave=0,rr.wnext=0,inflateResetKeep(e)},inflateReset2=(e,rr)=>{let ir;if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const lr=e.state;return rr<0?(ir=0,rr=-rr):(ir=(rr>>4)+5,rr<48&&(rr&=15)),rr&&(rr<8||rr>15)?Z_STREAM_ERROR$1:(lr.window!==null&&lr.wbits!==rr&&(lr.window=null),lr.wrap=ir,lr.wbits=rr,inflateReset(e))},inflateInit2=(e,rr)=>{if(!e)return Z_STREAM_ERROR$1;const ir=new InflateState;e.state=ir,ir.strm=e,ir.window=null,ir.mode=HEAD;const lr=inflateReset2(e,rr);return lr!==Z_OK$1&&(e.state=null),lr},inflateInit=e=>inflateInit2(e,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=e=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let rr=0;for(;rr<144;)e.lens[rr++]=8;for(;rr<256;)e.lens[rr++]=9;for(;rr<280;)e.lens[rr++]=7;for(;rr<288;)e.lens[rr++]=8;for(inftrees(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),rr=0;rr<32;)e.lens[rr++]=5;inftrees(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5},updatewindow=(e,rr,ir,lr)=>{let dr;const fr=e.state;return fr.window===null&&(fr.wsize=1<<fr.wbits,fr.wnext=0,fr.whave=0,fr.window=new Uint8Array(fr.wsize)),lr>=fr.wsize?(fr.window.set(rr.subarray(ir-fr.wsize,ir),0),fr.wnext=0,fr.whave=fr.wsize):(dr=fr.wsize-fr.wnext,dr>lr&&(dr=lr),fr.window.set(rr.subarray(ir-lr,ir-lr+dr),fr.wnext),lr-=dr,lr?(fr.window.set(rr.subarray(ir-lr,ir),0),fr.wnext=lr,fr.whave=fr.wsize):(fr.wnext+=dr,fr.wnext===fr.wsize&&(fr.wnext=0),fr.whave<fr.wsize&&(fr.whave+=dr))),0},inflate$2=(e,rr)=>{let ir,lr,dr,fr,mr,hr,gr,xr,_r,yr,vr,br,Sr,wr,Mr=0,kr,Ar,Ir,$r,Dr,Or,Fr,Lr;const zr=new Uint8Array(4);let Gr,Jr;const Yn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&e.avail_in!==0)return Z_STREAM_ERROR$1;ir=e.state,ir.mode===TYPE&&(ir.mode=TYPEDO),mr=e.next_out,dr=e.output,gr=e.avail_out,fr=e.next_in,lr=e.input,hr=e.avail_in,xr=ir.hold,_r=ir.bits,yr=hr,vr=gr,Lr=Z_OK$1;e:for(;;)switch(ir.mode){case HEAD:if(ir.wrap===0){ir.mode=TYPEDO;break}for(;_r<16;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(ir.wrap&2&&xr===35615){ir.wbits===0&&(ir.wbits=15),ir.check=0,zr[0]=xr&255,zr[1]=xr>>>8&255,ir.check=crc32_1(ir.check,zr,2,0),xr=0,_r=0,ir.mode=FLAGS;break}if(ir.head&&(ir.head.done=!1),!(ir.wrap&1)||(((xr&255)<<8)+(xr>>8))%31){e.msg="incorrect header check",ir.mode=BAD;break}if((xr&15)!==Z_DEFLATED){e.msg="unknown compression method",ir.mode=BAD;break}if(xr>>>=4,_r-=4,Fr=(xr&15)+8,ir.wbits===0&&(ir.wbits=Fr),Fr>15||Fr>ir.wbits){e.msg="invalid window size",ir.mode=BAD;break}ir.dmax=1<<ir.wbits,ir.flags=0,e.adler=ir.check=1,ir.mode=xr&512?DICTID:TYPE,xr=0,_r=0;break;case FLAGS:for(;_r<16;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(ir.flags=xr,(ir.flags&255)!==Z_DEFLATED){e.msg="unknown compression method",ir.mode=BAD;break}if(ir.flags&57344){e.msg="unknown header flags set",ir.mode=BAD;break}ir.head&&(ir.head.text=xr>>8&1),ir.flags&512&&ir.wrap&4&&(zr[0]=xr&255,zr[1]=xr>>>8&255,ir.check=crc32_1(ir.check,zr,2,0)),xr=0,_r=0,ir.mode=TIME;case TIME:for(;_r<32;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.head&&(ir.head.time=xr),ir.flags&512&&ir.wrap&4&&(zr[0]=xr&255,zr[1]=xr>>>8&255,zr[2]=xr>>>16&255,zr[3]=xr>>>24&255,ir.check=crc32_1(ir.check,zr,4,0)),xr=0,_r=0,ir.mode=OS;case OS:for(;_r<16;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.head&&(ir.head.xflags=xr&255,ir.head.os=xr>>8),ir.flags&512&&ir.wrap&4&&(zr[0]=xr&255,zr[1]=xr>>>8&255,ir.check=crc32_1(ir.check,zr,2,0)),xr=0,_r=0,ir.mode=EXLEN;case EXLEN:if(ir.flags&1024){for(;_r<16;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.length=xr,ir.head&&(ir.head.extra_len=xr),ir.flags&512&&ir.wrap&4&&(zr[0]=xr&255,zr[1]=xr>>>8&255,ir.check=crc32_1(ir.check,zr,2,0)),xr=0,_r=0}else ir.head&&(ir.head.extra=null);ir.mode=EXTRA;case EXTRA:if(ir.flags&1024&&(br=ir.length,br>hr&&(br=hr),br&&(ir.head&&(Fr=ir.head.extra_len-ir.length,ir.head.extra||(ir.head.extra=new Uint8Array(ir.head.extra_len)),ir.head.extra.set(lr.subarray(fr,fr+br),Fr)),ir.flags&512&&ir.wrap&4&&(ir.check=crc32_1(ir.check,lr,br,fr)),hr-=br,fr+=br,ir.length-=br),ir.length))break e;ir.length=0,ir.mode=NAME;case NAME:if(ir.flags&2048){if(hr===0)break e;br=0;do Fr=lr[fr+br++],ir.head&&Fr&&ir.length<65536&&(ir.head.name+=String.fromCharCode(Fr));while(Fr&&br<hr);if(ir.flags&512&&ir.wrap&4&&(ir.check=crc32_1(ir.check,lr,br,fr)),hr-=br,fr+=br,Fr)break e}else ir.head&&(ir.head.name=null);ir.length=0,ir.mode=COMMENT;case COMMENT:if(ir.flags&4096){if(hr===0)break e;br=0;do Fr=lr[fr+br++],ir.head&&Fr&&ir.length<65536&&(ir.head.comment+=String.fromCharCode(Fr));while(Fr&&br<hr);if(ir.flags&512&&ir.wrap&4&&(ir.check=crc32_1(ir.check,lr,br,fr)),hr-=br,fr+=br,Fr)break e}else ir.head&&(ir.head.comment=null);ir.mode=HCRC;case HCRC:if(ir.flags&512){for(;_r<16;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(ir.wrap&4&&xr!==(ir.check&65535)){e.msg="header crc mismatch",ir.mode=BAD;break}xr=0,_r=0}ir.head&&(ir.head.hcrc=ir.flags>>9&1,ir.head.done=!0),e.adler=ir.check=0,ir.mode=TYPE;break;case DICTID:for(;_r<32;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}e.adler=ir.check=zswap32(xr),xr=0,_r=0,ir.mode=DICT;case DICT:if(ir.havedict===0)return e.next_out=mr,e.avail_out=gr,e.next_in=fr,e.avail_in=hr,ir.hold=xr,ir.bits=_r,Z_NEED_DICT$1;e.adler=ir.check=1,ir.mode=TYPE;case TYPE:if(rr===Z_BLOCK||rr===Z_TREES)break e;case TYPEDO:if(ir.last){xr>>>=_r&7,_r-=_r&7,ir.mode=CHECK;break}for(;_r<3;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}switch(ir.last=xr&1,xr>>>=1,_r-=1,xr&3){case 0:ir.mode=STORED;break;case 1:if(fixedtables(ir),ir.mode=LEN_,rr===Z_TREES){xr>>>=2,_r-=2;break e}break;case 2:ir.mode=TABLE;break;case 3:e.msg="invalid block type",ir.mode=BAD}xr>>>=2,_r-=2;break;case STORED:for(xr>>>=_r&7,_r-=_r&7;_r<32;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if((xr&65535)!==(xr>>>16^65535)){e.msg="invalid stored block lengths",ir.mode=BAD;break}if(ir.length=xr&65535,xr=0,_r=0,ir.mode=COPY_,rr===Z_TREES)break e;case COPY_:ir.mode=COPY;case COPY:if(br=ir.length,br){if(br>hr&&(br=hr),br>gr&&(br=gr),br===0)break e;dr.set(lr.subarray(fr,fr+br),mr),hr-=br,fr+=br,gr-=br,mr+=br,ir.length-=br;break}ir.mode=TYPE;break;case TABLE:for(;_r<14;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(ir.nlen=(xr&31)+257,xr>>>=5,_r-=5,ir.ndist=(xr&31)+1,xr>>>=5,_r-=5,ir.ncode=(xr&15)+4,xr>>>=4,_r-=4,ir.nlen>286||ir.ndist>30){e.msg="too many length or distance symbols",ir.mode=BAD;break}ir.have=0,ir.mode=LENLENS;case LENLENS:for(;ir.have<ir.ncode;){for(;_r<3;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.lens[Yn[ir.have++]]=xr&7,xr>>>=3,_r-=3}for(;ir.have<19;)ir.lens[Yn[ir.have++]]=0;if(ir.lencode=ir.lendyn,ir.lenbits=7,Gr={bits:ir.lenbits},Lr=inftrees(CODES,ir.lens,0,19,ir.lencode,0,ir.work,Gr),ir.lenbits=Gr.bits,Lr){e.msg="invalid code lengths set",ir.mode=BAD;break}ir.have=0,ir.mode=CODELENS;case CODELENS:for(;ir.have<ir.nlen+ir.ndist;){for(;Mr=ir.lencode[xr&(1<<ir.lenbits)-1],kr=Mr>>>24,Ar=Mr>>>16&255,Ir=Mr&65535,!(kr<=_r);){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(Ir<16)xr>>>=kr,_r-=kr,ir.lens[ir.have++]=Ir;else{if(Ir===16){for(Jr=kr+2;_r<Jr;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(xr>>>=kr,_r-=kr,ir.have===0){e.msg="invalid bit length repeat",ir.mode=BAD;break}Fr=ir.lens[ir.have-1],br=3+(xr&3),xr>>>=2,_r-=2}else if(Ir===17){for(Jr=kr+3;_r<Jr;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}xr>>>=kr,_r-=kr,Fr=0,br=3+(xr&7),xr>>>=3,_r-=3}else{for(Jr=kr+7;_r<Jr;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}xr>>>=kr,_r-=kr,Fr=0,br=11+(xr&127),xr>>>=7,_r-=7}if(ir.have+br>ir.nlen+ir.ndist){e.msg="invalid bit length repeat",ir.mode=BAD;break}for(;br--;)ir.lens[ir.have++]=Fr}}if(ir.mode===BAD)break;if(ir.lens[256]===0){e.msg="invalid code -- missing end-of-block",ir.mode=BAD;break}if(ir.lenbits=9,Gr={bits:ir.lenbits},Lr=inftrees(LENS,ir.lens,0,ir.nlen,ir.lencode,0,ir.work,Gr),ir.lenbits=Gr.bits,Lr){e.msg="invalid literal/lengths set",ir.mode=BAD;break}if(ir.distbits=6,ir.distcode=ir.distdyn,Gr={bits:ir.distbits},Lr=inftrees(DISTS,ir.lens,ir.nlen,ir.ndist,ir.distcode,0,ir.work,Gr),ir.distbits=Gr.bits,Lr){e.msg="invalid distances set",ir.mode=BAD;break}if(ir.mode=LEN_,rr===Z_TREES)break e;case LEN_:ir.mode=LEN;case LEN:if(hr>=6&&gr>=258){e.next_out=mr,e.avail_out=gr,e.next_in=fr,e.avail_in=hr,ir.hold=xr,ir.bits=_r,inffast(e,vr),mr=e.next_out,dr=e.output,gr=e.avail_out,fr=e.next_in,lr=e.input,hr=e.avail_in,xr=ir.hold,_r=ir.bits,ir.mode===TYPE&&(ir.back=-1);break}for(ir.back=0;Mr=ir.lencode[xr&(1<<ir.lenbits)-1],kr=Mr>>>24,Ar=Mr>>>16&255,Ir=Mr&65535,!(kr<=_r);){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(Ar&&!(Ar&240)){for($r=kr,Dr=Ar,Or=Ir;Mr=ir.lencode[Or+((xr&(1<<$r+Dr)-1)>>$r)],kr=Mr>>>24,Ar=Mr>>>16&255,Ir=Mr&65535,!($r+kr<=_r);){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}xr>>>=$r,_r-=$r,ir.back+=$r}if(xr>>>=kr,_r-=kr,ir.back+=kr,ir.length=Ir,Ar===0){ir.mode=LIT;break}if(Ar&32){ir.back=-1,ir.mode=TYPE;break}if(Ar&64){e.msg="invalid literal/length code",ir.mode=BAD;break}ir.extra=Ar&15,ir.mode=LENEXT;case LENEXT:if(ir.extra){for(Jr=ir.extra;_r<Jr;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.length+=xr&(1<<ir.extra)-1,xr>>>=ir.extra,_r-=ir.extra,ir.back+=ir.extra}ir.was=ir.length,ir.mode=DIST;case DIST:for(;Mr=ir.distcode[xr&(1<<ir.distbits)-1],kr=Mr>>>24,Ar=Mr>>>16&255,Ir=Mr&65535,!(kr<=_r);){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(!(Ar&240)){for($r=kr,Dr=Ar,Or=Ir;Mr=ir.distcode[Or+((xr&(1<<$r+Dr)-1)>>$r)],kr=Mr>>>24,Ar=Mr>>>16&255,Ir=Mr&65535,!($r+kr<=_r);){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}xr>>>=$r,_r-=$r,ir.back+=$r}if(xr>>>=kr,_r-=kr,ir.back+=kr,Ar&64){e.msg="invalid distance code",ir.mode=BAD;break}ir.offset=Ir,ir.extra=Ar&15,ir.mode=DISTEXT;case DISTEXT:if(ir.extra){for(Jr=ir.extra;_r<Jr;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}ir.offset+=xr&(1<<ir.extra)-1,xr>>>=ir.extra,_r-=ir.extra,ir.back+=ir.extra}if(ir.offset>ir.dmax){e.msg="invalid distance too far back",ir.mode=BAD;break}ir.mode=MATCH;case MATCH:if(gr===0)break e;if(br=vr-gr,ir.offset>br){if(br=ir.offset-br,br>ir.whave&&ir.sane){e.msg="invalid distance too far back",ir.mode=BAD;break}br>ir.wnext?(br-=ir.wnext,Sr=ir.wsize-br):Sr=ir.wnext-br,br>ir.length&&(br=ir.length),wr=ir.window}else wr=dr,Sr=mr-ir.offset,br=ir.length;br>gr&&(br=gr),gr-=br,ir.length-=br;do dr[mr++]=wr[Sr++];while(--br);ir.length===0&&(ir.mode=LEN);break;case LIT:if(gr===0)break e;dr[mr++]=ir.length,gr--,ir.mode=LEN;break;case CHECK:if(ir.wrap){for(;_r<32;){if(hr===0)break e;hr--,xr|=lr[fr++]<<_r,_r+=8}if(vr-=gr,e.total_out+=vr,ir.total+=vr,ir.wrap&4&&vr&&(e.adler=ir.check=ir.flags?crc32_1(ir.check,dr,vr,mr-vr):adler32_1(ir.check,dr,vr,mr-vr)),vr=gr,ir.wrap&4&&(ir.flags?xr:zswap32(xr))!==ir.check){e.msg="incorrect data check",ir.mode=BAD;break}xr=0,_r=0}ir.mode=LENGTH;case LENGTH:if(ir.wrap&&ir.flags){for(;_r<32;){if(hr===0)break e;hr--,xr+=lr[fr++]<<_r,_r+=8}if(ir.wrap&4&&xr!==(ir.total&4294967295)){e.msg="incorrect length check",ir.mode=BAD;break}xr=0,_r=0}ir.mode=DONE;case DONE:Lr=Z_STREAM_END$1;break e;case BAD:Lr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return e.next_out=mr,e.avail_out=gr,e.next_in=fr,e.avail_in=hr,ir.hold=xr,ir.bits=_r,(ir.wsize||vr!==e.avail_out&&ir.mode<BAD&&(ir.mode<CHECK||rr!==Z_FINISH$1))&&updatewindow(e,e.output,e.next_out,vr-e.avail_out),yr-=e.avail_in,vr-=e.avail_out,e.total_in+=yr,e.total_out+=vr,ir.total+=vr,ir.wrap&4&&vr&&(e.adler=ir.check=ir.flags?crc32_1(ir.check,dr,vr,e.next_out-vr):adler32_1(ir.check,dr,vr,e.next_out-vr)),e.data_type=ir.bits+(ir.last?64:0)+(ir.mode===TYPE?128:0)+(ir.mode===LEN_||ir.mode===COPY_?256:0),(yr===0&&vr===0||rr===Z_FINISH$1)&&Lr===Z_OK$1&&(Lr=Z_BUF_ERROR),Lr},inflateEnd=e=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;let rr=e.state;return rr.window&&(rr.window=null),e.state=null,Z_OK$1},inflateGetHeader=(e,rr)=>{if(inflateStateCheck(e))return Z_STREAM_ERROR$1;const ir=e.state;return ir.wrap&2?(ir.head=rr,rr.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(e,rr)=>{const ir=rr.length;let lr,dr,fr;return inflateStateCheck(e)||(lr=e.state,lr.wrap!==0&&lr.mode!==DICT)?Z_STREAM_ERROR$1:lr.mode===DICT&&(dr=1,dr=adler32_1(dr,rr,ir,0),dr!==lr.check)?Z_DATA_ERROR$1:(fr=updatewindow(e,rr,ir,ir),fr?(lr.mode=MEM,Z_MEM_ERROR$1):(lr.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(e){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const rr=this.options;rr.raw&&rr.windowBits>=0&&rr.windowBits<16&&(rr.windowBits=-rr.windowBits,rr.windowBits===0&&(rr.windowBits=-15)),rr.windowBits>=0&&rr.windowBits<16&&!(e&&e.windowBits)&&(rr.windowBits+=32),rr.windowBits>15&&rr.windowBits<48&&(rr.windowBits&15||(rr.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let ir=inflate_1$2.inflateInit2(this.strm,rr.windowBits);if(ir!==Z_OK)throw new Error(messages[ir]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),rr.dictionary&&(typeof rr.dictionary=="string"?rr.dictionary=strings.string2buf(rr.dictionary):toString.call(rr.dictionary)==="[object ArrayBuffer]"&&(rr.dictionary=new Uint8Array(rr.dictionary)),rr.raw&&(ir=inflate_1$2.inflateSetDictionary(this.strm,rr.dictionary),ir!==Z_OK)))throw new Error(messages[ir])}Inflate$1.prototype.push=function(e,rr){const ir=this.strm,lr=this.options.chunkSize,dr=this.options.dictionary;let fr,mr,hr;if(this.ended)return!1;for(rr===~~rr?mr=rr:mr=rr===!0?Z_FINISH:Z_NO_FLUSH,toString.call(e)==="[object ArrayBuffer]"?ir.input=new Uint8Array(e):ir.input=e,ir.next_in=0,ir.avail_in=ir.input.length;;){for(ir.avail_out===0&&(ir.output=new Uint8Array(lr),ir.next_out=0,ir.avail_out=lr),fr=inflate_1$2.inflate(ir,mr),fr===Z_NEED_DICT&&dr&&(fr=inflate_1$2.inflateSetDictionary(ir,dr),fr===Z_OK?fr=inflate_1$2.inflate(ir,mr):fr===Z_DATA_ERROR&&(fr=Z_NEED_DICT));ir.avail_in>0&&fr===Z_STREAM_END&&ir.state.wrap>0&&e[ir.next_in]!==0;)inflate_1$2.inflateReset(ir),fr=inflate_1$2.inflate(ir,mr);switch(fr){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(fr),this.ended=!0,!1}if(hr=ir.avail_out,ir.next_out&&(ir.avail_out===0||fr===Z_STREAM_END))if(this.options.to==="string"){let gr=strings.utf8border(ir.output,ir.next_out),xr=ir.next_out-gr,_r=strings.buf2string(ir.output,gr);ir.next_out=xr,ir.avail_out=lr-xr,xr&&ir.output.set(ir.output.subarray(gr,gr+xr),0),this.onData(_r)}else this.onData(ir.output.length===ir.next_out?ir.output:ir.output.subarray(0,ir.next_out));if(!(fr===Z_OK&&hr===0)){if(fr===Z_STREAM_END)return fr=inflate_1$2.inflateEnd(this.strm),this.onEnd(fr),this.ended=!0,!0;if(ir.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(e){this.chunks.push(e)};Inflate$1.prototype.onEnd=function(e){e===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function inflate$1(e,rr){const ir=new Inflate$1(rr);if(ir.push(e),ir.err)throw ir.msg||messages[ir.err];return ir.result}function inflateRaw$1(e,rr){return rr=rr||{},rr.raw=!0,inflate$1(e,rr)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1};const{Deflate,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var Deflate_1=Deflate,deflate_1=deflate,deflateRaw_1=deflateRaw,gzip_1=gzip,Inflate_1=Inflate,inflate_1=inflate,inflateRaw_1=inflateRaw,ungzip_1=ungzip,constants_1=constants$2,pako={Deflate:Deflate_1,deflate:deflate_1,deflateRaw:deflateRaw_1,gzip:gzip_1,Inflate:Inflate_1,inflate:inflate_1,inflateRaw:inflateRaw_1,ungzip:ungzip_1,constants:constants_1};async function generateSchema({csvString:e}){try{const ir=new TextEncoder().encode(e),lr=pako.gzip(ir),dr=new Blob([new Uint8Array(lr)],{type:"application/octet-stream"}),fr=await fetch("/api/python/schema",{method:"POST",body:dr,headers:{...await getAuthHeaders(),"Content-Encoding":"gzip","Content-Type":"application/octet-stream"}});if(!fr.ok)throw new Error(`HTTP error! status: ${fr.status}`);return await fr.json()}catch(rr){throw console.error("Error generating schema:",rr),rr}}const useInferSchemaMutation=()=>useMutation({mutationFn:generateSchema});function sampleRows(e,rr=200){if(e.length<=rr)return e;const ir=Math.ceil(e.length/rr);return e.filter((lr,dr)=>dr%ir===0).slice(0,rr)}function DataConfig(){const e=useCsvImportStore(kr=>kr.fileName),rr=useCsvImportStore(kr=>kr.initialColumns),ir=useCsvImportStore(kr=>kr.rawData),lr=useCsvImportStore(kr=>kr.columnTypes),dr=useCsvImportStore.getState().setColumnTypes,fr=useCsvImportStore.getState().setFilteredColumns,mr=useCsvImportStore.getState().getFilteredData,hr=useCsvImportStore.getState().close,gr=useCsvImportStore.getState().reset,xr=useCsvImportStore.getState().next,{mutateAsync:_r}=useInferSchemaMutation(),yr=()=>{gr(),hr()},[vr,br]=reactExports.useState([]),Sr=rr.filter(kr=>!vr.includes(kr)),wr=async()=>{fr(Sr);const Ar=mr(),Ir=sampleRows(Ar,200),$r=papaparse_minExports.unparse(Ir,{header:!0}),Or=(await _r({csvString:$r},{onError:Fr=>{showErrorNotification({title:"Failed to infer schema",message:Fr instanceof Error?Fr.message:"An unexpected error occurred while inferring the schema."})}})).map(Fr=>{const Lr=lr.find(zr=>zr.column===Fr.column);return{...Fr,isPrimaryKey:Lr?.isPrimaryKey??!1}});dr(Or),xr()},Mr=(kr,Ar)=>{br(Ar?Ir=>Ir.filter($r=>$r!==kr):Ir=>[...Ir,kr])};return jsxRuntimeExports.jsx(ModalBody,{p:0,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",children:"Upload a CSV file. The first row should be the heads of the table, and your headers should not include any special characters other then hyphens (-) and underscores (_)."}),jsxRuntimeExports.jsx(Text$2,{size:"sm",children:"Tip: Datetime columns should be formated as YYYY-MM-DD HH:mm:ss."}),jsxRuntimeExports.jsxs(Stack,{justify:"center",align:"center",p:30,className:"border rounded-sm border-dotted",children:[jsxRuntimeExports.jsxs(Group,{gap:5,children:[jsxRuntimeExports.jsx(IconFileTypeCsv,{size:24}),jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:"bold",children:e})]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:yr,children:"Remove File"})]})]}),jsxRuntimeExports.jsxs(Accordion,{multiple:!0,styles:{control:{paddingLeft:0,paddingRight:0},content:{paddingLeft:0,paddingRight:0}},children:[jsxRuntimeExports.jsxs(Accordion.Item,{value:"import-data",children:[jsxRuntimeExports.jsx(Accordion.Control,{children:jsxRuntimeExports.jsx(Title,{order:5,children:"Configure import data"})}),jsxRuntimeExports.jsx(Accordion.Panel,{children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Select which columns to import. ",jsxRuntimeExports.jsx("br",{}),"Here is a preview of the data that will be added (up to the first 20 columns and first 20 rows)."]}),jsxRuntimeExports.jsx(Group,{gap:"xs",wrap:"wrap",children:rr.map(kr=>jsxRuntimeExports.jsx(ToggleButton,{label:kr,onToggle:Mr},kr))})]})})]}),jsxRuntimeExports.jsxs(Accordion.Item,{value:"Preview data",children:[jsxRuntimeExports.jsx(Accordion.Control,{children:jsxRuntimeExports.jsx(Title,{order:5,children:"Preview data to be imported"})}),jsxRuntimeExports.jsx(Accordion.Panel,{children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",children:"Here is a preview of the data that will be added."}),jsxRuntimeExports.jsx("div",{style:{overflowX:"auto",overflowY:"auto",maxHeight:"400px",border:"1px solid #e0e0e0",borderRadius:"4px"},children:jsxRuntimeExports.jsxs(Table,{withColumnBorders:!0,highlightOnHover:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsx(Table.Tr,{children:Sr.map(kr=>jsxRuntimeExports.jsx(Table.Th,{style:{minWidth:"120px",whiteSpace:"nowrap"},children:kr},kr))})}),jsxRuntimeExports.jsx(Table.Tbody,{children:ir.slice(0,20).map((kr,Ar)=>jsxRuntimeExports.jsx(Table.Tr,{children:Sr.map(Ir=>jsxRuntimeExports.jsx(Table.Td,{style:{minWidth:"120px",whiteSpace:"nowrap"},children:kr[Ir]!==void 0?String(kr[Ir]):""},Ir))},Ar))})]})})]})})]})]}),jsxRuntimeExports.jsx(Flex,{justify:"flex-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:wr,children:"Continue"})})]})})}const useFetchColumnConfig=(e,rr)=>useSuspenseQuery({queryKey:["columnConfig",e,rr],queryFn:async()=>{const{data:ir,error:lr}=await supabase.from("user_problem_tables").select("column_types").eq("user_problem_id",e).eq("id",rr).single();if(lr)throw new Error(lr.message);return ir}}),useFetchUserProblemTables=e=>useSuspenseQuery({queryKey:userProblemTableKeys.basicByProblemId(e),queryFn:async()=>{const{data:rr,error:ir}=await supabase.from("user_problem_tables").select("tableId:id, tableName:table_name").eq("user_problem_id",e);if(ir)throw new Error(ir.message);return rr}}),useDataStorage=()=>{const e=useQueryClient(),rr=async({problemId:fr,tableName:mr})=>{try{const hr=await api.problems["init-upload"].$post({json:{problemId:fr,tableName:mr}});if(!hr.ok){const gr=await hr.text();throw new Error(`Failed to initialize upload: ${gr}`)}return await hr.json()}catch(hr){throw console.error("Error initializing upload:",hr),showErrorNotification({title:"Failed to initialize upload",message:hr instanceof Error?hr.message:"An unexpected error occurred."}),new Error(hr instanceof Error?hr.message:"Failed to initialize upload")}},lr=useMutation({mutationFn:async({tableId:fr,csvString:mr,tableName:hr,problemId:gr,columnTypes:xr,numberOfRows:_r,description:yr,relations:vr})=>{const{token:br,path:Sr}=await rr({problemId:gr,tableName:hr}),wr=new File([mr],hr,{type:"text/csv"}),{error:Mr}=await supabase.storage.from("tables").uploadToSignedUrl(Sr,br,wr);if(Mr)throw new Error(`Upload failed: ${Mr.message}`);const kr={...fr&&{id:fr},user_problem_id:gr,data_path:Sr,table_name:hr,column_types:xr,number_of_rows:_r,description:yr,relations:vr},{error:Ar,data:Ir}=await supabase.from("user_problem_tables").upsert(kr,{onConflict:"id",ignoreDuplicates:!1}).select();if(Ar)throw console.error("Upsert failed",Ar,{problemId:gr,tableName:hr}),new Error(`Database upsert failed: ${Ar.message}`);return{success:!0,filePath:Sr,token:br,upserted:Ir}},onSettled:(fr,mr,hr)=>{e.invalidateQueries({queryKey:userProblemTableKeys.basicByProblemId(hr.problemId)}),e.invalidateQueries({queryKey:userProblemTableKeys.metadataByProblemId(hr.problemId)}),e.invalidateQueries({queryKey:userProblemTableKeys.columnTypes(hr.problemId)}),e.invalidateQueries({queryKey:userProblemTableKeys.relationsByProblemId(hr.problemId)})}}),dr=useMutation({mutationFn:async({problemId:fr,tableName:mr})=>await rr({problemId:fr,tableName:mr}),onError:fr=>{showErrorNotification({title:"Failed to initialize upload",message:fr.message})},onSuccess:(fr,mr)=>{e.invalidateQueries({queryKey:userProblemTableKeys.columnTypes(mr.problemId)})}});return{uploadFile:lr.mutateAsync,isUploadLoading:lr.isPending,uploadError:lr.error,initializeUpload:dr.mutateAsync,isInitLoading:dr.isPending,initError:dr.error,isLoading:lr.isPending||dr.isPending}};function buildCsvString(e,rr){return papaparse_minExports.unparse(e,{header:!0,columns:rr})}function togglePrimaryKey(e,rr){const ir=[...e];return ir[rr]={...ir[rr],isPrimaryKey:!ir[rr].isPrimaryKey},ir}function useColumnConfigUpload(){const{uploadFile:e}=useDataStorage(),{id:rr}=useParams({from:"/_admin/admin/problem/$id/database"}),ir=useCsvImportStore(vr=>vr.fileName),lr=useCsvImportStore(vr=>vr.filteredColumns),dr=useCsvImportStore(vr=>vr.columnTypes),fr=useCsvImportStore.getState().getFilteredData,mr=useCsvImportStore(vr=>vr.description),hr=useCsvImportStore(vr=>vr.relations),gr=useCsvImportStore(vr=>vr.tableId),xr=useCsvImportStore.getState().reset,_r=useCsvImportStore.getState().close;return{finalizeUpload:()=>{if(!ir)return;const vr=fr(),br=vr.length,Sr=buildCsvString(vr,lr);e({tableId:gr,csvString:Sr,tableName:ir,problemId:rr,columnTypes:dr,numberOfRows:br,description:mr,relations:hr},{onSuccess:()=>{showSuccessNotification({title:"Save successful",message:`Table ${ir} has been saved successfully.`}),xr(),_r()},onError:wr=>{showErrorNotification({title:"Save failed",message:wr.message})}})}}}const PrimaryKeyConfigurator=reactExports.memo(({columnTypes:e,onToggle:rr})=>jsxRuntimeExports.jsxs(SimpleGrid,{cols:3,verticalSpacing:"xs",children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:400,children:"Name"}),jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:400,children:"Type"}),jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:400,children:"Primary"}),e.map((ir,lr)=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(TextInput,{size:"sm",value:ir.column,readOnly:!0,rightSection:jsxRuntimeExports.jsx(ActionIcon,{variant:"light",c:"indigo",size:"sm",children:jsxRuntimeExports.jsx(IconLink,{})})}),jsxRuntimeExports.jsx(TextInput,{size:"sm",value:ir.type,readOnly:!0}),jsxRuntimeExports.jsx(Stack,{justify:"center",align:"flex-start",children:jsxRuntimeExports.jsx(Checkbox,{size:"sm",checked:!!ir.isPrimaryKey,onChange:()=>rr(lr)})})]},ir.column))]}));PrimaryKeyConfigurator.displayName="PrimaryKeyConfigurator";const ForeignTableSelector=({problemId:e})=>{const[rr,ir]=reactExports.useState(),lr=useCsvImportStore(gr=>gr.fileName),{data:dr}=useFetchUserProblemTables(e),fr=dr.map(gr=>({value:gr.tableId,label:gr.tableName})).filter(gr=>gr.label!==lr),mr=gr=>{ir(gr??void 0)},hr=gr=>{const xr=dr.find(_r=>_r.tableId===gr);return xr?xr.tableName:gr};return jsxRuntimeExports.jsx(AccordionPanel,{children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Select,{label:"Select a table",data:fr,placeholder:fr.length>0?"Select a table":"No tables available",disabled:fr.length===0,onChange:mr,clearable:!0}),rr&&jsxRuntimeExports.jsx(RelationConfig,{foreignTableId:rr,foreignTableName:hr(rr),problemId:e})]})})},RelationConfig=reactExports.memo(({foreignTableId:e,foreignTableName:rr,problemId:ir})=>{const{data:lr}=useFetchColumnConfig(ir,e),{column_types:dr}=lr,fr=useCsvImportStore(br=>br.columnTypes),mr=useCsvImportStore(br=>br.relations),hr=useCsvImportStore(br=>br.addRelation),gr=useCsvImportStore(br=>br.removeRelation),xr=useCsvImportStore(br=>br.updateRelation),_r=reactExports.useMemo(()=>fr.map(br=>({value:br.column,label:br.column,disabled:mr.some(Sr=>Sr.baseColumnName===br.column)})),[fr,mr]),yr=reactExports.useCallback(br=>{const{option:Sr}=br,wr=dr.find(Mr=>Mr.column===Sr.value);return jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",children:Sr.label}),jsxRuntimeExports.jsx(Code$1,{children:wr?.type})]})},[dr]),vr=reactExports.useCallback(br=>{const{option:Sr}=br,wr=fr.find(Mr=>Mr.column===Sr.value);return jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",children:Sr.label}),jsxRuntimeExports.jsx(Code$1,{children:wr?.type})]})},[fr]);return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Select columns from ",jsxRuntimeExports.jsx(Code$1,{children:rr})," to reference"]}),jsxRuntimeExports.jsxs(Stack,{gap:"xs",children:[jsxRuntimeExports.jsxs(Grid,{children:[jsxRuntimeExports.jsx(Grid.Col,{span:5,children:jsxRuntimeExports.jsx(Text$2,{size:"xs",fw:400,children:"Base Column"})}),jsxRuntimeExports.jsx(Grid.Col,{span:1}),jsxRuntimeExports.jsx(Grid.Col,{span:5,children:jsxRuntimeExports.jsx(Group,{justify:"flex-end",children:jsxRuntimeExports.jsx(Text$2,{size:"xs",fw:400,children:"Foreign Column"})})}),jsxRuntimeExports.jsx(Grid.Col,{span:1})]}),mr.map((br,Sr)=>jsxRuntimeExports.jsxs(Grid,{justify:"center",align:"center",children:[jsxRuntimeExports.jsx(Grid.Col,{span:5,children:jsxRuntimeExports.jsx(Select,{data:_r,renderOption:vr,placeholder:"Select base column",value:br.baseColumnName,onChange:wr=>xr(Sr,wr??"",!0,dr)})}),jsxRuntimeExports.jsx(Grid.Col,{span:1,children:jsxRuntimeExports.jsx(IconArrowRight,{})}),jsxRuntimeExports.jsx(Grid.Col,{span:5,children:jsxRuntimeExports.jsx(Select,{data:dr.map(wr=>wr.column),renderOption:yr,placeholder:"Select foreign column",value:br.foreignTableColumn,onChange:wr=>xr(Sr,wr??"",!1,dr)})}),jsxRuntimeExports.jsx(Grid.Col,{span:1,children:jsxRuntimeExports.jsx(ActionIcon,{variant:"light",color:"red",size:"sm",onClick:()=>gr(Sr),children:jsxRuntimeExports.jsx(IconTrash,{})})})]},Sr)),jsxRuntimeExports.jsx(Group,{justify:"space-between",children:jsxRuntimeExports.jsx(Button$1,{variant:"light",size:"sm",onClick:()=>hr(rr),leftSection:jsxRuntimeExports.jsx(IconLink,{size:16}),children:"Add Relation"})})]})]})});RelationConfig.displayName="RelationConfig";function ColumnConfig(){const e=y(),rr=useCsvImportStore(kr=>kr.rawData.length),ir=useCsvImportStore(kr=>kr.filteredColumns),lr=useCsvImportStore(kr=>kr.columnTypes),dr=useCsvImportStore.getState().setColumnTypes,fr=useCsvImportStore(kr=>kr.columnTypes.some(Ar=>Ar.isPrimaryKey)),mr=useCsvImportStore(kr=>kr.fileName),hr=useCsvImportStore(kr=>kr.description),gr=useCsvImportStore(kr=>kr.setDescription),xr=useCsvImportStore.getState().close,_r=useCsvImportStore.getState().reset,yr=useCsvImportStore.getState().save,{id:vr}=useParams({from:"/_admin/admin/problem/$id/database"}),{finalizeUpload:br}=useColumnConfigUpload(),Sr=reactExports.useCallback(()=>{_r(),xr()},[_r,xr]),wr=reactExports.useCallback(kr=>{dr(togglePrimaryKey(lr,kr))},[lr,dr]),Mr=async()=>{try{await yr(e),br()}catch{}};return jsxRuntimeExports.jsx(ModalBody,{p:0,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Your table will be created with ",rr," rows and the following"," ",ir.length," columns."]}),!fr&&jsxRuntimeExports.jsx(Alert,{icon:jsxRuntimeExports.jsx(IconAlertCircle,{}),color:"red",title:"Warning: No Primary Key Selected",children:"Tables should have at least one column as the primary key to identify each row."}),jsxRuntimeExports.jsx(Textarea,{label:"Table Description",value:hr,onChange:kr=>gr(kr.currentTarget.value),placeholder:"Set table description"}),jsxRuntimeExports.jsxs(Accordion,{multiple:!0,styles:{control:{paddingLeft:0,paddingRight:0},content:{paddingLeft:0,paddingRight:0}},defaultValue:["column-config"],children:[jsxRuntimeExports.jsxs(Accordion.Item,{value:"column-config",children:[jsxRuntimeExports.jsx(Accordion.Control,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:500,children:"Configure Columns"})}),jsxRuntimeExports.jsx(Accordion.Panel,{children:jsxRuntimeExports.jsx(PrimaryKeyConfigurator,{columnTypes:lr,onToggle:wr})})]}),jsxRuntimeExports.jsxs(Accordion.Item,{value:"foreign-keys",children:[jsxRuntimeExports.jsx(Accordion.Control,{children:jsxRuntimeExports.jsx(Text$2,{size:"sm",fw:500,children:"Configure Foreign Keys"})}),jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(LoadingOverlay,{}),children:jsxRuntimeExports.jsx(ForeignTableSelector,{problemId:vr})})]})]}),jsxRuntimeExports.jsxs(Flex,{gap:"sm",justify:"flex-end",children:[jsxRuntimeExports.jsx(Button$1,{onClick:Mr,disabled:!mr||!fr,children:"Save"}),jsxRuntimeExports.jsx(Button$1,{variant:"subtle",color:"red",onClick:Sr,children:"Cancel"})]})]})})}function CSVModal(){const e=useCsvImportStore().isOpen,rr=()=>{useCsvImportStore.getState().reset(),useCsvImportStore.getState().close()},ir=useCsvImportStore().step;return jsxRuntimeExports.jsxs(Modal,{opened:e,onClose:rr,size:ir===0?"xl":"lg",title:ir===0?"Add content to new table":"Configure Columns",children:[ir===0&&jsxRuntimeExports.jsx(DataConfig,{}),ir===1&&jsxRuntimeExports.jsx(ColumnConfig,{})]})}function ProblemDatabase(){const{id:e}=useParams({from:"/_admin/admin/problem/$id/database"}),{data:rr}=useFetchUserProblemTablesColumnTypes(e),ir=useNavigate(),lr=()=>{ir({to:"/admin/problem/$id/create",params:{id:e}})};return jsxRuntimeExports.jsxs(Paper,{p:20,children:[jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Group,{justify:"space-between",align:"center",children:jsxRuntimeExports.jsx(Title,{children:"Database Tables"})}),jsxRuntimeExports.jsx(TableManager,{}),jsxRuntimeExports.jsx(DatabaseTable,{tableMetadata:rr})]}),jsxRuntimeExports.jsx(Group,{justify:"flex-end",align:"center",mt:20,children:jsxRuntimeExports.jsx(Button$1,{color:"blue",onClick:lr,children:"Next Step"})}),jsxRuntimeExports.jsx(CSVModal,{})]})}function DatabaseTable({tableMetadata:e}){const rr=useParams({from:"/_admin/admin/problem/$id/database"}),[ir,{open:lr,close:dr}]=useDisclosure(),[fr,{open:mr,close:hr}]=useDisclosure(),[gr,xr]=reactExports.useState({tableName:"",columnTypes:[],relations:[]}),_r=($r,Dr,Or)=>{Dr&&(xr({tableName:$r,columnTypes:Dr,relations:Or}),mr())},yr=()=>{hr(),xr({tableName:"",columnTypes:[],relations:[]})},{mutate:vr}=useFetchUserProblemTableDataMutation(),{mutate:br}=useDeleteUserProblemTableMutation(),Sr=$r=>{const Dr=$r.tableId;vr(Dr,{onSuccess:Or=>{useCsvImportStore.getState().openExisting({tableId:Dr,fileName:Or.table_name,columns:$r.columnTypes.map(Fr=>Fr.column),rawData:Or.rawData,columnTypes:$r.columnTypes,relations:Or.relations,description:$r.description,tableMetadata:e})}})},[wr,Mr]=reactExports.useState(null),kr=$r=>{Mr($r),lr()},Ar=()=>{wr&&br({tableId:wr,problemId:rr.id},{onError:$r=>{showErrorNotification({title:"Failed to delete table",message:$r.message})},onSuccess:()=>{dr(),Mr(null)}})},Ir=()=>{dr(),Mr(null)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Table,{withTableBorder:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Table Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Description"}),jsxRuntimeExports.jsx(Table.Th,{children:"Rows"}),jsxRuntimeExports.jsx(Table.Th,{children:"Columns"}),jsxRuntimeExports.jsx(Table.Th,{children:"Action"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{bg:"hf-grey",children:e.map($r=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:$r.tableName}),jsxRuntimeExports.jsx(Table.Td,{children:$r.description||"Table Description"}),jsxRuntimeExports.jsx(Table.Td,{children:$r.numberOfRows||"N/A"}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsxs(Button$1,{variant:"gradient",onClick:()=>_r($r.tableName,$r.columnTypes,$r.relations),disabled:!$r.columnTypes,children:[$r.columnTypes.length>0?$r.columnTypes.length:0," Columns"]})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsxs(Group,{justify:"space-between",w:"5rem",children:[jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",onClick:()=>Sr($r),children:jsxRuntimeExports.jsx(IconEdit,{})}),jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",onClick:()=>kr($r.tableId),c:"red",children:jsxRuntimeExports.jsx(IconTrash,{})})]})})]},$r.tableName))})]}),jsxRuntimeExports.jsx(DeleteConfirmationModal,{isOpened:ir,onClose:Ir,onConfirm:Ar}),jsxRuntimeExports.jsx(ColumnMetadataDrawer,{tableName:gr.tableName,columnTypes:gr.columnTypes,relations:gr.relations,opened:fr,onClose:yr})]})}function DeleteConfirmationModal({isOpened:e,onClose:rr,onConfirm:ir}){return jsxRuntimeExports.jsx(Modal,{opened:e,onClose:rr,title:"Confirm Deletion",centered:!0,children:jsxRuntimeExports.jsx(Modal.Body,{p:"0",children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx("p",{children:"Are you sure you want to delete this table? This action cannot be undone."}),jsxRuntimeExports.jsxs(Group,{justify:"flex-end",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:rr,children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{color:"red",onClick:ir,children:"Delete"})]})]})})})}function ColumnMetadataDrawer({tableName:e,columnTypes:rr,relations:ir,opened:lr,onClose:dr}){return jsxRuntimeExports.jsx(Drawer,{title:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Column Metadata for ",jsxRuntimeExports.jsx(Code$1,{children:e})]}),opened:lr,onClose:dr,position:"right",size:"lg",children:jsxRuntimeExports.jsx(Drawer.Body,{children:rr.length===0?jsxRuntimeExports.jsx("p",{children:"No columns to display."}):jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Table,{withTableBorder:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Column Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Data Type"}),jsxRuntimeExports.jsx(Table.Th,{children:"Primary Key"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{bg:"hf-grey",children:rr.map(fr=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:fr.column}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Code$1,{children:fr.type})}),jsxRuntimeExports.jsx(Table.Td,{children:fr.isPrimaryKey?jsxRuntimeExports.jsx(IconCheck,{}):jsxRuntimeExports.jsx(IconX,{})})]},fr.column))})]}),ir.length>0&&jsxRuntimeExports.jsx(Paper,{children:ir.map((fr,mr)=>jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsxs(Code$1,{children:[fr.baseTableName,".",fr.baseColumnName]}),jsxRuntimeExports.jsx(IconArrowRight,{}),jsxRuntimeExports.jsxs(Code$1,{children:[fr.foreignTableName,".",fr.foreignTableColumn]})]},mr))})]})})})}function ProblemDatabasePending(){return jsxRuntimeExports.jsxs(Table,{withTableBorder:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Th,{children:"Table Name"}),jsxRuntimeExports.jsx(Table.Th,{children:"Description"}),jsxRuntimeExports.jsx(Table.Th,{children:"Rows"}),jsxRuntimeExports.jsx(Table.Th,{children:"Columns"}),jsxRuntimeExports.jsx(Table.Th,{children:"Action"})]})}),jsxRuntimeExports.jsx(Table.Tbody,{bg:"hf-grey",children:Array.from({length:3}).map((e,rr)=>jsxRuntimeExports.jsxs(Table.Tr,{children:[jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"80%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"90%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:20,width:"50%"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:32,width:"120px"})}),jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Skeleton,{height:32,width:32})})]},rr))})]})}function ProblemDatabaseError({error:e,onRetry:rr}){return jsxRuntimeExports.jsx(Paper,{p:20,withBorder:!0,children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsx(Title,{children:"Database Setup"}),jsxRuntimeExports.jsxs(Alert,{icon:jsxRuntimeExports.jsx(IconAlertCircle,{size:16}),title:"Error Loading Database",color:"red",variant:"light",children:[jsxRuntimeExports.jsx(Text$2,{size:"sm",mb:"md",children:e.message||"Failed to load database configuration. Please try again."}),rr&&jsxRuntimeExports.jsx(Group,{children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",leftSection:jsxRuntimeExports.jsx(IconRefresh,{size:14}),onClick:rr,children:"Retry"})})]}),jsxRuntimeExports.jsxs(Stack,{gap:"md",opacity:.3,children:[jsxRuntimeExports.jsx(Title,{order:3,children:"Foreign keys"}),jsxRuntimeExports.jsx(Text$2,{c:"dimmed",size:"sm",children:"Configure table relationships once the data loads successfully."})]})]})})}const db=await qe.create({extensions:{live:j}}),Route$2=createFileRoute("/_admin/admin/problem/$id/database")({loader:async({context:{queryClient:e},params:rr})=>{await e.ensureQueryData(userProblemTablesColumnTypesQueryOptions(rr.id))},pendingComponent:ProblemDatabasePending,errorComponent:ProblemDatabaseErrorComponent,component:RouteComponent$2});function ProblemDatabaseErrorComponent({error:e,reset:rr}){return jsxRuntimeExports.jsx(ProblemDatabaseError,{error:e,onRetry:rr})}function RouteComponent$2(){return jsxRuntimeExports.jsx(W,{db,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(ProblemDatabasePending,{}),children:jsxRuntimeExports.jsx(ProblemDatabase,{})})})}const PanelGroupContext=reactExports.createContext(null);PanelGroupContext.displayName="PanelGroupContext";const DATA_ATTRIBUTES={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},PRECISION=10,useIsomorphicLayoutEffect$1=reactExports.useLayoutEffect,useId=React$3.useId,wrappedUseId=typeof useId=="function"?useId:()=>null;let counter=0;function useUniqueId$1(e=null){const rr=wrappedUseId(),ir=reactExports.useRef(e||rr||null);return ir.current===null&&(ir.current=""+counter++),e??ir.current}function PanelWithForwardedRef({children:e,className:rr="",collapsedSize:ir,collapsible:lr,defaultSize:dr,forwardedRef:fr,id:mr,maxSize:hr,minSize:gr,onCollapse:xr,onExpand:_r,onResize:yr,order:vr,style:br,tagName:Sr="div",...wr}){const Mr=reactExports.useContext(PanelGroupContext);if(Mr===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:kr,expandPanel:Ar,getPanelSize:Ir,getPanelStyle:$r,groupId:Dr,isPanelCollapsed:Or,reevaluatePanelConstraints:Fr,registerPanel:Lr,resizePanel:zr,unregisterPanel:Gr}=Mr,Jr=useUniqueId$1(mr),Yn=reactExports.useRef({callbacks:{onCollapse:xr,onExpand:_r,onResize:yr},constraints:{collapsedSize:ir,collapsible:lr,defaultSize:dr,maxSize:hr,minSize:gr},id:Jr,idIsFromProps:mr!==void 0,order:vr});reactExports.useRef({didLogMissingDefaultSizeWarning:!1}),useIsomorphicLayoutEffect$1(()=>{const{callbacks:Zn,constraints:Hn}=Yn.current,Kn={...Hn};Yn.current.id=Jr,Yn.current.idIsFromProps=mr!==void 0,Yn.current.order=vr,Zn.onCollapse=xr,Zn.onExpand=_r,Zn.onResize=yr,Hn.collapsedSize=ir,Hn.collapsible=lr,Hn.defaultSize=dr,Hn.maxSize=hr,Hn.minSize=gr,(Kn.collapsedSize!==Hn.collapsedSize||Kn.collapsible!==Hn.collapsible||Kn.maxSize!==Hn.maxSize||Kn.minSize!==Hn.minSize)&&Fr(Yn.current,Kn)}),useIsomorphicLayoutEffect$1(()=>{const Zn=Yn.current;return Lr(Zn),()=>{Gr(Zn)}},[vr,Jr,Lr,Gr]),reactExports.useImperativeHandle(fr,()=>({collapse:()=>{kr(Yn.current)},expand:Zn=>{Ar(Yn.current,Zn)},getId(){return Jr},getSize(){return Ir(Yn.current)},isCollapsed(){return Or(Yn.current)},isExpanded(){return!Or(Yn.current)},resize:Zn=>{zr(Yn.current,Zn)}}),[kr,Ar,Ir,Or,Jr,zr]);const Jn=$r(Yn.current,dr);return reactExports.createElement(Sr,{...wr,children:e,className:rr,id:Jr,style:{...Jn,...br},[DATA_ATTRIBUTES.groupId]:Dr,[DATA_ATTRIBUTES.panel]:"",[DATA_ATTRIBUTES.panelCollapsible]:lr||void 0,[DATA_ATTRIBUTES.panelId]:Jr,[DATA_ATTRIBUTES.panelSize]:parseFloat(""+Jn.flexGrow).toFixed(1)})}const Panel=reactExports.forwardRef((e,rr)=>reactExports.createElement(PanelWithForwardedRef,{...e,forwardedRef:rr}));PanelWithForwardedRef.displayName="Panel";Panel.displayName="forwardRef(Panel)";let currentCursorStyle=null,prevRuleIndex=-1,styleElement=null;function getCursorStyle(e,rr){if(rr){const ir=(rr&EXCEEDED_HORIZONTAL_MIN)!==0,lr=(rr&EXCEEDED_HORIZONTAL_MAX)!==0,dr=(rr&EXCEEDED_VERTICAL_MIN)!==0,fr=(rr&EXCEEDED_VERTICAL_MAX)!==0;if(ir)return dr?"se-resize":fr?"ne-resize":"e-resize";if(lr)return dr?"sw-resize":fr?"nw-resize":"w-resize";if(dr)return"s-resize";if(fr)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function resetGlobalCursorStyle(){styleElement!==null&&(document.head.removeChild(styleElement),currentCursorStyle=null,styleElement=null,prevRuleIndex=-1)}function setGlobalCursorStyle(e,rr){var ir,lr;const dr=getCursorStyle(e,rr);if(currentCursorStyle!==dr){if(currentCursorStyle=dr,styleElement===null&&(styleElement=document.createElement("style"),document.head.appendChild(styleElement)),prevRuleIndex>=0){var fr;(fr=styleElement.sheet)===null||fr===void 0||fr.removeRule(prevRuleIndex)}prevRuleIndex=(ir=(lr=styleElement.sheet)===null||lr===void 0?void 0:lr.insertRule(`*{cursor: ${dr} !important;}`))!==null&&ir!==void 0?ir:-1}}function isKeyDown(e){return e.type==="keydown"}function isPointerEvent(e){return e.type.startsWith("pointer")}function isMouseEvent(e){return e.type.startsWith("mouse")}function getResizeEventCoordinates(e){if(isPointerEvent(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(isMouseEvent(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function getInputType(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function intersects(e,rr,ir){return e.x<rr.x+rr.width&&e.x+e.width>rr.x&&e.y<rr.y+rr.height&&e.y+e.height>rr.y}function compare(e,rr){if(e===rr)throw new Error("Cannot compare node with itself");const ir={a:get_ancestors(e),b:get_ancestors(rr)};let lr;for(;ir.a.at(-1)===ir.b.at(-1);)e=ir.a.pop(),rr=ir.b.pop(),lr=e;assert(lr,"Stacking order can only be calculated for elements with a common ancestor");const dr={a:get_z_index(find_stacking_context(ir.a)),b:get_z_index(find_stacking_context(ir.b))};if(dr.a===dr.b){const fr=lr.childNodes,mr={a:ir.a.at(-1),b:ir.b.at(-1)};let hr=fr.length;for(;hr--;){const gr=fr[hr];if(gr===mr.a)return 1;if(gr===mr.b)return-1}}return Math.sign(dr.a-dr.b)}const props=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function is_flex_item(e){var rr;const ir=getComputedStyle((rr=get_parent(e))!==null&&rr!==void 0?rr:e).display;return ir==="flex"||ir==="inline-flex"}function creates_stacking_context(e){const rr=getComputedStyle(e);return!!(rr.position==="fixed"||rr.zIndex!=="auto"&&(rr.position!=="static"||is_flex_item(e))||+rr.opacity<1||"transform"in rr&&rr.transform!=="none"||"webkitTransform"in rr&&rr.webkitTransform!=="none"||"mixBlendMode"in rr&&rr.mixBlendMode!=="normal"||"filter"in rr&&rr.filter!=="none"||"webkitFilter"in rr&&rr.webkitFilter!=="none"||"isolation"in rr&&rr.isolation==="isolate"||props.test(rr.willChange)||rr.webkitOverflowScrolling==="touch")}function find_stacking_context(e){let rr=e.length;for(;rr--;){const ir=e[rr];if(assert(ir,"Missing node"),creates_stacking_context(ir))return ir}return null}function get_z_index(e){return e&&Number(getComputedStyle(e).zIndex)||0}function get_ancestors(e){const rr=[];for(;e;)rr.push(e),e=get_parent(e);return rr}function get_parent(e){const{parentNode:rr}=e;return rr&&rr instanceof ShadowRoot?rr.host:rr}const EXCEEDED_HORIZONTAL_MIN=1,EXCEEDED_HORIZONTAL_MAX=2,EXCEEDED_VERTICAL_MIN=4,EXCEEDED_VERTICAL_MAX=8,isCoarsePointer=getInputType()==="coarse";let intersectingHandles=[],isPointerDown=!1,ownerDocumentCounts=new Map,panelConstraintFlags=new Map;const registeredResizeHandlers=new Set;function registerResizeHandle(e,rr,ir,lr,dr){var fr;const{ownerDocument:mr}=rr,hr={direction:ir,element:rr,hitAreaMargins:lr,setResizeHandlerState:dr},gr=(fr=ownerDocumentCounts.get(mr))!==null&&fr!==void 0?fr:0;return ownerDocumentCounts.set(mr,gr+1),registeredResizeHandlers.add(hr),updateListeners(),function(){var _r;panelConstraintFlags.delete(e),registeredResizeHandlers.delete(hr);const yr=(_r=ownerDocumentCounts.get(mr))!==null&&_r!==void 0?_r:1;if(ownerDocumentCounts.set(mr,yr-1),updateListeners(),yr===1&&ownerDocumentCounts.delete(mr),intersectingHandles.includes(hr)){const vr=intersectingHandles.indexOf(hr);vr>=0&&intersectingHandles.splice(vr,1),updateCursor(),dr("up",!0,null)}}}function handlePointerDown(e){const{target:rr}=e,{x:ir,y:lr}=getResizeEventCoordinates(e);isPointerDown=!0,recalculateIntersectingHandles({target:rr,x:ir,y:lr}),updateListeners(),intersectingHandles.length>0&&(updateResizeHandlerStates("down",e),e.preventDefault(),isWithinResizeHandle(rr)||e.stopImmediatePropagation())}function handlePointerMove(e){const{x:rr,y:ir}=getResizeEventCoordinates(e);if(isPointerDown&&e.buttons===0&&(isPointerDown=!1,updateResizeHandlerStates("up",e)),!isPointerDown){const{target:lr}=e;recalculateIntersectingHandles({target:lr,x:rr,y:ir})}updateResizeHandlerStates("move",e),updateCursor(),intersectingHandles.length>0&&e.preventDefault()}function handlePointerUp(e){const{target:rr}=e,{x:ir,y:lr}=getResizeEventCoordinates(e);panelConstraintFlags.clear(),isPointerDown=!1,intersectingHandles.length>0&&(e.preventDefault(),isWithinResizeHandle(rr)||e.stopImmediatePropagation()),updateResizeHandlerStates("up",e),recalculateIntersectingHandles({target:rr,x:ir,y:lr}),updateCursor(),updateListeners()}function isWithinResizeHandle(e){let rr=e;for(;rr;){if(rr.hasAttribute(DATA_ATTRIBUTES.resizeHandle))return!0;rr=rr.parentElement}return!1}function recalculateIntersectingHandles({target:e,x:rr,y:ir}){intersectingHandles.splice(0);let lr=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(lr=e),registeredResizeHandlers.forEach(dr=>{const{element:fr,hitAreaMargins:mr}=dr,hr=fr.getBoundingClientRect(),{bottom:gr,left:xr,right:_r,top:yr}=hr,vr=isCoarsePointer?mr.coarse:mr.fine;if(rr>=xr-vr&&rr<=_r+vr&&ir>=yr-vr&&ir<=gr+vr){if(lr!==null&&document.contains(lr)&&fr!==lr&&!fr.contains(lr)&&!lr.contains(fr)&&compare(lr,fr)>0){let Sr=lr,wr=!1;for(;Sr&&!Sr.contains(fr);){if(intersects(Sr.getBoundingClientRect(),hr)){wr=!0;break}Sr=Sr.parentElement}if(wr)return}intersectingHandles.push(dr)}})}function reportConstraintsViolation(e,rr){panelConstraintFlags.set(e,rr)}function updateCursor(){let e=!1,rr=!1;intersectingHandles.forEach(lr=>{const{direction:dr}=lr;dr==="horizontal"?e=!0:rr=!0});let ir=0;panelConstraintFlags.forEach(lr=>{ir|=lr}),e&&rr?setGlobalCursorStyle("intersection",ir):e?setGlobalCursorStyle("horizontal",ir):rr?setGlobalCursorStyle("vertical",ir):resetGlobalCursorStyle()}let listenersAbortController=new AbortController;function updateListeners(){listenersAbortController.abort(),listenersAbortController=new AbortController;const e={capture:!0,signal:listenersAbortController.signal};registeredResizeHandlers.size&&(isPointerDown?(intersectingHandles.length>0&&ownerDocumentCounts.forEach((rr,ir)=>{const{body:lr}=ir;rr>0&&(lr.addEventListener("contextmenu",handlePointerUp,e),lr.addEventListener("pointerleave",handlePointerMove,e),lr.addEventListener("pointermove",handlePointerMove,e))}),window.addEventListener("pointerup",handlePointerUp,e),window.addEventListener("pointercancel",handlePointerUp,e)):ownerDocumentCounts.forEach((rr,ir)=>{const{body:lr}=ir;rr>0&&(lr.addEventListener("pointerdown",handlePointerDown,e),lr.addEventListener("pointermove",handlePointerMove,e))}))}function updateResizeHandlerStates(e,rr){registeredResizeHandlers.forEach(ir=>{const{setResizeHandlerState:lr}=ir,dr=intersectingHandles.includes(ir);lr(e,dr,rr)})}function useForceUpdate(){const[e,rr]=reactExports.useState(0);return reactExports.useCallback(()=>rr(ir=>ir+1),[])}function assert(e,rr){if(!e)throw console.error(rr),Error(rr)}function fuzzyCompareNumbers(e,rr,ir=PRECISION){return e.toFixed(ir)===rr.toFixed(ir)?0:e>rr?1:-1}function fuzzyNumbersEqual$1(e,rr,ir=PRECISION){return fuzzyCompareNumbers(e,rr,ir)===0}function fuzzyNumbersEqual(e,rr,ir){return fuzzyCompareNumbers(e,rr,ir)===0}function fuzzyLayoutsEqual(e,rr,ir){if(e.length!==rr.length)return!1;for(let lr=0;lr<e.length;lr++){const dr=e[lr],fr=rr[lr];if(!fuzzyNumbersEqual(dr,fr,ir))return!1}return!0}function resizePanel({panelConstraints:e,panelIndex:rr,size:ir}){const lr=e[rr];assert(lr!=null,`Panel constraints not found for index ${rr}`);let{collapsedSize:dr=0,collapsible:fr,maxSize:mr=100,minSize:hr=0}=lr;if(fuzzyCompareNumbers(ir,hr)<0)if(fr){const gr=(dr+hr)/2;fuzzyCompareNumbers(ir,gr)<0?ir=dr:ir=hr}else ir=hr;return ir=Math.min(mr,ir),ir=parseFloat(ir.toFixed(PRECISION)),ir}function adjustLayoutByDelta({delta:e,initialLayout:rr,panelConstraints:ir,pivotIndices:lr,prevLayout:dr,trigger:fr}){if(fuzzyNumbersEqual(e,0))return rr;const mr=[...rr],[hr,gr]=lr;assert(hr!=null,"Invalid first pivot index"),assert(gr!=null,"Invalid second pivot index");let xr=0;if(fr==="keyboard"){{const yr=e<0?gr:hr,vr=ir[yr];assert(vr,`Panel constraints not found for index ${yr}`);const{collapsedSize:br=0,collapsible:Sr,minSize:wr=0}=vr;if(Sr){const Mr=rr[yr];if(assert(Mr!=null,`Previous layout not found for panel index ${yr}`),fuzzyNumbersEqual(Mr,br)){const kr=wr-Mr;fuzzyCompareNumbers(kr,Math.abs(e))>0&&(e=e<0?0-kr:kr)}}}{const yr=e<0?hr:gr,vr=ir[yr];assert(vr,`No panel constraints found for index ${yr}`);const{collapsedSize:br=0,collapsible:Sr,minSize:wr=0}=vr;if(Sr){const Mr=rr[yr];if(assert(Mr!=null,`Previous layout not found for panel index ${yr}`),fuzzyNumbersEqual(Mr,wr)){const kr=Mr-br;fuzzyCompareNumbers(kr,Math.abs(e))>0&&(e=e<0?0-kr:kr)}}}}{const yr=e<0?1:-1;let vr=e<0?gr:hr,br=0;for(;;){const wr=rr[vr];assert(wr!=null,`Previous layout not found for panel index ${vr}`);const kr=resizePanel({panelConstraints:ir,panelIndex:vr,size:100})-wr;if(br+=kr,vr+=yr,vr<0||vr>=ir.length)break}const Sr=Math.min(Math.abs(e),Math.abs(br));e=e<0?0-Sr:Sr}{let vr=e<0?hr:gr;for(;vr>=0&&vr<ir.length;){const br=Math.abs(e)-Math.abs(xr),Sr=rr[vr];assert(Sr!=null,`Previous layout not found for panel index ${vr}`);const wr=Sr-br,Mr=resizePanel({panelConstraints:ir,panelIndex:vr,size:wr});if(!fuzzyNumbersEqual(Sr,Mr)&&(xr+=Sr-Mr,mr[vr]=Mr,xr.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?vr--:vr++}}if(fuzzyLayoutsEqual(dr,mr))return dr;{const yr=e<0?gr:hr,vr=rr[yr];assert(vr!=null,`Previous layout not found for panel index ${yr}`);const br=vr+xr,Sr=resizePanel({panelConstraints:ir,panelIndex:yr,size:br});if(mr[yr]=Sr,!fuzzyNumbersEqual(Sr,br)){let wr=br-Sr,kr=e<0?gr:hr;for(;kr>=0&&kr<ir.length;){const Ar=mr[kr];assert(Ar!=null,`Previous layout not found for panel index ${kr}`);const Ir=Ar+wr,$r=resizePanel({panelConstraints:ir,panelIndex:kr,size:Ir});if(fuzzyNumbersEqual(Ar,$r)||(wr-=$r-Ar,mr[kr]=$r),fuzzyNumbersEqual(wr,0))break;e>0?kr--:kr++}}}const _r=mr.reduce((yr,vr)=>vr+yr,0);return fuzzyNumbersEqual(_r,100)?mr:dr}function calculateAriaValues({layout:e,panelsArray:rr,pivotIndices:ir}){let lr=0,dr=100,fr=0,mr=0;const hr=ir[0];assert(hr!=null,"No pivot index found"),rr.forEach((yr,vr)=>{const{constraints:br}=yr,{maxSize:Sr=100,minSize:wr=0}=br;vr===hr?(lr=wr,dr=Sr):(fr+=wr,mr+=Sr)});const gr=Math.min(dr,100-fr),xr=Math.max(lr,100-mr),_r=e[hr];return{valueMax:gr,valueMin:xr,valueNow:_r}}function getResizeHandleElementsForGroup(e,rr=document){return Array.from(rr.querySelectorAll(`[${DATA_ATTRIBUTES.resizeHandleId}][data-panel-group-id="${e}"]`))}function getResizeHandleElementIndex(e,rr,ir=document){const dr=getResizeHandleElementsForGroup(e,ir).findIndex(fr=>fr.getAttribute(DATA_ATTRIBUTES.resizeHandleId)===rr);return dr??null}function determinePivotIndices(e,rr,ir){const lr=getResizeHandleElementIndex(e,rr,ir);return lr!=null?[lr,lr+1]:[-1,-1]}function getPanelGroupElement(e,rr=document){var ir;if(rr instanceof HTMLElement&&(rr==null||(ir=rr.dataset)===null||ir===void 0?void 0:ir.panelGroupId)==e)return rr;const lr=rr.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return lr||null}function getResizeHandleElement(e,rr=document){const ir=rr.querySelector(`[${DATA_ATTRIBUTES.resizeHandleId}="${e}"]`);return ir||null}function getResizeHandlePanelIds(e,rr,ir,lr=document){var dr,fr,mr,hr;const gr=getResizeHandleElement(rr,lr),xr=getResizeHandleElementsForGroup(e,lr),_r=gr?xr.indexOf(gr):-1,yr=(dr=(fr=ir[_r])===null||fr===void 0?void 0:fr.id)!==null&&dr!==void 0?dr:null,vr=(mr=(hr=ir[_r+1])===null||hr===void 0?void 0:hr.id)!==null&&mr!==void 0?mr:null;return[yr,vr]}function useWindowSplitterPanelGroupBehavior({committedValuesRef:e,eagerValuesRef:rr,groupId:ir,layout:lr,panelDataArray:dr,panelGroupElement:fr,setLayout:mr}){reactExports.useRef({didWarnAboutMissingResizeHandle:!1}),useIsomorphicLayoutEffect$1(()=>{if(!fr)return;const hr=getResizeHandleElementsForGroup(ir,fr);for(let gr=0;gr<dr.length-1;gr++){const{valueMax:xr,valueMin:_r,valueNow:yr}=calculateAriaValues({layout:lr,panelsArray:dr,pivotIndices:[gr,gr+1]}),vr=hr[gr];if(vr!=null){const br=dr[gr];assert(br,`No panel data found for index "${gr}"`),vr.setAttribute("aria-controls",br.id),vr.setAttribute("aria-valuemax",""+Math.round(xr)),vr.setAttribute("aria-valuemin",""+Math.round(_r)),vr.setAttribute("aria-valuenow",yr!=null?""+Math.round(yr):"")}}return()=>{hr.forEach((gr,xr)=>{gr.removeAttribute("aria-controls"),gr.removeAttribute("aria-valuemax"),gr.removeAttribute("aria-valuemin"),gr.removeAttribute("aria-valuenow")})}},[ir,lr,dr,fr]),reactExports.useEffect(()=>{if(!fr)return;const hr=rr.current;assert(hr,"Eager values not found");const{panelDataArray:gr}=hr,xr=getPanelGroupElement(ir,fr);assert(xr!=null,`No group found for id "${ir}"`);const _r=getResizeHandleElementsForGroup(ir,fr);assert(_r,`No resize handles found for group id "${ir}"`);const yr=_r.map(vr=>{const br=vr.getAttribute(DATA_ATTRIBUTES.resizeHandleId);assert(br,"Resize handle element has no handle id attribute");const[Sr,wr]=getResizeHandlePanelIds(ir,br,gr,fr);if(Sr==null||wr==null)return()=>{};const Mr=kr=>{if(!kr.defaultPrevented)switch(kr.key){case"Enter":{kr.preventDefault();const Ar=gr.findIndex(Ir=>Ir.id===Sr);if(Ar>=0){const Ir=gr[Ar];assert(Ir,`No panel data found for index ${Ar}`);const $r=lr[Ar],{collapsedSize:Dr=0,collapsible:Or,minSize:Fr=0}=Ir.constraints;if($r!=null&&Or){const Lr=adjustLayoutByDelta({delta:fuzzyNumbersEqual($r,Dr)?Fr-Dr:Dr-$r,initialLayout:lr,panelConstraints:gr.map(zr=>zr.constraints),pivotIndices:determinePivotIndices(ir,br,fr),prevLayout:lr,trigger:"keyboard"});lr!==Lr&&mr(Lr)}}break}}};return vr.addEventListener("keydown",Mr),()=>{vr.removeEventListener("keydown",Mr)}});return()=>{yr.forEach(vr=>vr())}},[fr,e,rr,ir,lr,dr,mr])}function areEqual(e,rr){if(e.length!==rr.length)return!1;for(let ir=0;ir<e.length;ir++)if(e[ir]!==rr[ir])return!1;return!0}function getResizeEventCursorPosition(e,rr){const ir=e==="horizontal",{x:lr,y:dr}=getResizeEventCoordinates(rr);return ir?lr:dr}function calculateDragOffsetPercentage(e,rr,ir,lr,dr){const fr=ir==="horizontal",mr=getResizeHandleElement(rr,dr);assert(mr,`No resize handle element found for id "${rr}"`);const hr=mr.getAttribute(DATA_ATTRIBUTES.groupId);assert(hr,"Resize handle element has no group id attribute");let{initialCursorPosition:gr}=lr;const xr=getResizeEventCursorPosition(ir,e),_r=getPanelGroupElement(hr,dr);assert(_r,`No group element found for id "${hr}"`);const yr=_r.getBoundingClientRect(),vr=fr?yr.width:yr.height;return(xr-gr)/vr*100}function calculateDeltaPercentage(e,rr,ir,lr,dr,fr){if(isKeyDown(e)){const mr=ir==="horizontal";let hr=0;e.shiftKey?hr=100:dr!=null?hr=dr:hr=10;let gr=0;switch(e.key){case"ArrowDown":gr=mr?0:hr;break;case"ArrowLeft":gr=mr?-hr:0;break;case"ArrowRight":gr=mr?hr:0;break;case"ArrowUp":gr=mr?0:-hr;break;case"End":gr=100;break;case"Home":gr=-100;break}return gr}else return lr==null?0:calculateDragOffsetPercentage(e,rr,ir,lr,fr)}function calculateUnsafeDefaultLayout({panelDataArray:e}){const rr=Array(e.length),ir=e.map(fr=>fr.constraints);let lr=0,dr=100;for(let fr=0;fr<e.length;fr++){const mr=ir[fr];assert(mr,`Panel constraints not found for index ${fr}`);const{defaultSize:hr}=mr;hr!=null&&(lr++,rr[fr]=hr,dr-=hr)}for(let fr=0;fr<e.length;fr++){const mr=ir[fr];assert(mr,`Panel constraints not found for index ${fr}`);const{defaultSize:hr}=mr;if(hr!=null)continue;const gr=e.length-lr,xr=dr/gr;lr++,rr[fr]=xr,dr-=xr}return rr}function callPanelCallbacks(e,rr,ir){rr.forEach((lr,dr)=>{const fr=e[dr];assert(fr,`Panel data not found for index ${dr}`);const{callbacks:mr,constraints:hr,id:gr}=fr,{collapsedSize:xr=0,collapsible:_r}=hr,yr=ir[gr];if(yr==null||lr!==yr){ir[gr]=lr;const{onCollapse:vr,onExpand:br,onResize:Sr}=mr;Sr&&Sr(lr,yr),_r&&(vr||br)&&(br&&(yr==null||fuzzyNumbersEqual$1(yr,xr))&&!fuzzyNumbersEqual$1(lr,xr)&&br(),vr&&(yr==null||!fuzzyNumbersEqual$1(yr,xr))&&fuzzyNumbersEqual$1(lr,xr)&&vr())}})}function compareLayouts(e,rr){if(e.length!==rr.length)return!1;for(let ir=0;ir<e.length;ir++)if(e[ir]!=rr[ir])return!1;return!0}function computePanelFlexBoxStyle({defaultSize:e,dragState:rr,layout:ir,panelData:lr,panelIndex:dr,precision:fr=3}){const mr=ir[dr];let hr;return mr==null?hr=e!=null?e.toPrecision(fr):"1":lr.length===1?hr="1":hr=mr.toPrecision(fr),{flexBasis:0,flexGrow:hr,flexShrink:1,overflow:"hidden",pointerEvents:rr!==null?"none":void 0}}function debounce(e,rr=10){let ir=null;return(...dr)=>{ir!==null&&clearTimeout(ir),ir=setTimeout(()=>{e(...dr)},rr)}}function initializeDefaultStorage(e){try{if(typeof localStorage<"u")e.getItem=rr=>localStorage.getItem(rr),e.setItem=(rr,ir)=>{localStorage.setItem(rr,ir)};else throw new Error("localStorage not supported in this environment")}catch(rr){console.error(rr),e.getItem=()=>null,e.setItem=()=>{}}}function getPanelGroupKey(e){return`react-resizable-panels:${e}`}function getPanelKey(e){return e.map(rr=>{const{constraints:ir,id:lr,idIsFromProps:dr,order:fr}=rr;return dr?lr:fr?`${fr}:${JSON.stringify(ir)}`:JSON.stringify(ir)}).sort((rr,ir)=>rr.localeCompare(ir)).join(",")}function loadSerializedPanelGroupState(e,rr){try{const ir=getPanelGroupKey(e),lr=rr.getItem(ir);if(lr){const dr=JSON.parse(lr);if(typeof dr=="object"&&dr!=null)return dr}}catch{}return null}function loadPanelGroupState(e,rr,ir){var lr,dr;const fr=(lr=loadSerializedPanelGroupState(e,ir))!==null&&lr!==void 0?lr:{},mr=getPanelKey(rr);return(dr=fr[mr])!==null&&dr!==void 0?dr:null}function savePanelGroupState(e,rr,ir,lr,dr){var fr;const mr=getPanelGroupKey(e),hr=getPanelKey(rr),gr=(fr=loadSerializedPanelGroupState(e,dr))!==null&&fr!==void 0?fr:{};gr[hr]={expandToSizes:Object.fromEntries(ir.entries()),layout:lr};try{dr.setItem(mr,JSON.stringify(gr))}catch(xr){console.error(xr)}}function validatePanelGroupLayout({layout:e,panelConstraints:rr}){const ir=[...e],lr=ir.reduce((fr,mr)=>fr+mr,0);if(ir.length!==rr.length)throw Error(`Invalid ${rr.length} panel layout: ${ir.map(fr=>`${fr}%`).join(", ")}`);if(!fuzzyNumbersEqual(lr,100)&&ir.length>0)for(let fr=0;fr<rr.length;fr++){const mr=ir[fr];assert(mr!=null,`No layout data found for index ${fr}`);const hr=100/lr*mr;ir[fr]=hr}let dr=0;for(let fr=0;fr<rr.length;fr++){const mr=ir[fr];assert(mr!=null,`No layout data found for index ${fr}`);const hr=resizePanel({panelConstraints:rr,panelIndex:fr,size:mr});mr!=hr&&(dr+=mr-hr,ir[fr]=hr)}if(!fuzzyNumbersEqual(dr,0))for(let fr=0;fr<rr.length;fr++){const mr=ir[fr];assert(mr!=null,`No layout data found for index ${fr}`);const hr=mr+dr,gr=resizePanel({panelConstraints:rr,panelIndex:fr,size:hr});if(mr!==gr&&(dr-=gr-mr,ir[fr]=gr,fuzzyNumbersEqual(dr,0)))break}return ir}const LOCAL_STORAGE_DEBOUNCE_INTERVAL=100,defaultStorage={getItem:e=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(e)),setItem:(e,rr)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(e,rr)}},debounceMap={};function PanelGroupWithForwardedRef({autoSaveId:e=null,children:rr,className:ir="",direction:lr,forwardedRef:dr,id:fr=null,onLayout:mr=null,keyboardResizeBy:hr=null,storage:gr=defaultStorage,style:xr,tagName:_r="div",...yr}){const vr=useUniqueId$1(fr),br=reactExports.useRef(null),[Sr,wr]=reactExports.useState(null),[Mr,kr]=reactExports.useState([]),Ar=useForceUpdate(),Ir=reactExports.useRef({}),$r=reactExports.useRef(new Map),Dr=reactExports.useRef(0),Or=reactExports.useRef({autoSaveId:e,direction:lr,dragState:Sr,id:vr,keyboardResizeBy:hr,onLayout:mr,storage:gr}),Fr=reactExports.useRef({layout:Mr,panelDataArray:[],panelDataArrayChanged:!1});reactExports.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),reactExports.useImperativeHandle(dr,()=>({getId:()=>Or.current.id,getLayout:()=>{const{layout:ns}=Fr.current;return ns},setLayout:ns=>{const{onLayout:ls}=Or.current,{layout:ss,panelDataArray:as}=Fr.current,us=validatePanelGroupLayout({layout:ns,panelConstraints:as.map(hs=>hs.constraints)});areEqual(ss,us)||(kr(us),Fr.current.layout=us,ls&&ls(us),callPanelCallbacks(as,us,Ir.current))}}),[]),useIsomorphicLayoutEffect$1(()=>{Or.current.autoSaveId=e,Or.current.direction=lr,Or.current.dragState=Sr,Or.current.id=vr,Or.current.onLayout=mr,Or.current.storage=gr}),useWindowSplitterPanelGroupBehavior({committedValuesRef:Or,eagerValuesRef:Fr,groupId:vr,layout:Mr,panelDataArray:Fr.current.panelDataArray,setLayout:kr,panelGroupElement:br.current}),reactExports.useEffect(()=>{const{panelDataArray:ns}=Fr.current;if(e){if(Mr.length===0||Mr.length!==ns.length)return;let ls=debounceMap[e];ls==null&&(ls=debounce(savePanelGroupState,LOCAL_STORAGE_DEBOUNCE_INTERVAL),debounceMap[e]=ls);const ss=[...ns],as=new Map($r.current);ls(e,ss,as,Mr,gr)}},[e,Mr,gr]),reactExports.useEffect(()=>{});const Lr=reactExports.useCallback(ns=>{const{onLayout:ls}=Or.current,{layout:ss,panelDataArray:as}=Fr.current;if(ns.constraints.collapsible){const us=as.map(ms=>ms.constraints),{collapsedSize:hs=0,panelSize:gs,pivotIndices:xs}=panelDataHelper(as,ns,ss);if(assert(gs!=null,`Panel size not found for panel "${ns.id}"`),!fuzzyNumbersEqual$1(gs,hs)){$r.current.set(ns.id,gs);const _s=findPanelDataIndex(as,ns)===as.length-1?gs-hs:hs-gs,Es=adjustLayoutByDelta({delta:_s,initialLayout:ss,panelConstraints:us,pivotIndices:xs,prevLayout:ss,trigger:"imperative-api"});compareLayouts(ss,Es)||(kr(Es),Fr.current.layout=Es,ls&&ls(Es),callPanelCallbacks(as,Es,Ir.current))}}},[]),zr=reactExports.useCallback((ns,ls)=>{const{onLayout:ss}=Or.current,{layout:as,panelDataArray:us}=Fr.current;if(ns.constraints.collapsible){const hs=us.map(vs=>vs.constraints),{collapsedSize:gs=0,panelSize:xs=0,minSize:ms=0,pivotIndices:_s}=panelDataHelper(us,ns,as),Es=ls??ms;if(fuzzyNumbersEqual$1(xs,gs)){const vs=$r.current.get(ns.id),ws=vs!=null&&vs>=Es?vs:Es,Ss=findPanelDataIndex(us,ns)===us.length-1?xs-ws:ws-xs,ps=adjustLayoutByDelta({delta:Ss,initialLayout:as,panelConstraints:hs,pivotIndices:_s,prevLayout:as,trigger:"imperative-api"});compareLayouts(as,ps)||(kr(ps),Fr.current.layout=ps,ss&&ss(ps),callPanelCallbacks(us,ps,Ir.current))}}},[]),Gr=reactExports.useCallback(ns=>{const{layout:ls,panelDataArray:ss}=Fr.current,{panelSize:as}=panelDataHelper(ss,ns,ls);return assert(as!=null,`Panel size not found for panel "${ns.id}"`),as},[]),Jr=reactExports.useCallback((ns,ls)=>{const{panelDataArray:ss}=Fr.current,as=findPanelDataIndex(ss,ns);return computePanelFlexBoxStyle({defaultSize:ls,dragState:Sr,layout:Mr,panelData:ss,panelIndex:as})},[Sr,Mr]),Yn=reactExports.useCallback(ns=>{const{layout:ls,panelDataArray:ss}=Fr.current,{collapsedSize:as=0,collapsible:us,panelSize:hs}=panelDataHelper(ss,ns,ls);return assert(hs!=null,`Panel size not found for panel "${ns.id}"`),us===!0&&fuzzyNumbersEqual$1(hs,as)},[]),Jn=reactExports.useCallback(ns=>{const{layout:ls,panelDataArray:ss}=Fr.current,{collapsedSize:as=0,collapsible:us,panelSize:hs}=panelDataHelper(ss,ns,ls);return assert(hs!=null,`Panel size not found for panel "${ns.id}"`),!us||fuzzyCompareNumbers(hs,as)>0},[]),Zn=reactExports.useCallback(ns=>{const{panelDataArray:ls}=Fr.current;ls.push(ns),ls.sort((ss,as)=>{const us=ss.order,hs=as.order;return us==null&&hs==null?0:us==null?-1:hs==null?1:us-hs}),Fr.current.panelDataArrayChanged=!0,Ar()},[Ar]);useIsomorphicLayoutEffect$1(()=>{if(Fr.current.panelDataArrayChanged){Fr.current.panelDataArrayChanged=!1;const{autoSaveId:ns,onLayout:ls,storage:ss}=Or.current,{layout:as,panelDataArray:us}=Fr.current;let hs=null;if(ns){const xs=loadPanelGroupState(ns,us,ss);xs&&($r.current=new Map(Object.entries(xs.expandToSizes)),hs=xs.layout)}hs==null&&(hs=calculateUnsafeDefaultLayout({panelDataArray:us}));const gs=validatePanelGroupLayout({layout:hs,panelConstraints:us.map(xs=>xs.constraints)});areEqual(as,gs)||(kr(gs),Fr.current.layout=gs,ls&&ls(gs),callPanelCallbacks(us,gs,Ir.current))}}),useIsomorphicLayoutEffect$1(()=>{const ns=Fr.current;return()=>{ns.layout=[]}},[]);const Hn=reactExports.useCallback(ns=>{let ls=!1;const ss=br.current;return ss&&window.getComputedStyle(ss,null).getPropertyValue("direction")==="rtl"&&(ls=!0),function(us){us.preventDefault();const hs=br.current;if(!hs)return()=>null;const{direction:gs,dragState:xs,id:ms,keyboardResizeBy:_s,onLayout:Es}=Or.current,{layout:vs,panelDataArray:ws}=Fr.current,{initialLayout:Rs}=xs??{},Ss=determinePivotIndices(ms,ns,hs);let ps=calculateDeltaPercentage(us,ns,gs,xs,_s,hs);const ys=gs==="horizontal";ys&&ls&&(ps=-ps);const Cs=ws.map(ks=>ks.constraints),Ms=adjustLayoutByDelta({delta:ps,initialLayout:Rs??vs,panelConstraints:Cs,pivotIndices:Ss,prevLayout:vs,trigger:isKeyDown(us)?"keyboard":"mouse-or-touch"}),ds=!compareLayouts(vs,Ms);(isPointerEvent(us)||isMouseEvent(us))&&Dr.current!=ps&&(Dr.current=ps,!ds&&ps!==0?ys?reportConstraintsViolation(ns,ps<0?EXCEEDED_HORIZONTAL_MIN:EXCEEDED_HORIZONTAL_MAX):reportConstraintsViolation(ns,ps<0?EXCEEDED_VERTICAL_MIN:EXCEEDED_VERTICAL_MAX):reportConstraintsViolation(ns,0)),ds&&(kr(Ms),Fr.current.layout=Ms,Es&&Es(Ms),callPanelCallbacks(ws,Ms,Ir.current))}},[]),Kn=reactExports.useCallback((ns,ls)=>{const{onLayout:ss}=Or.current,{layout:as,panelDataArray:us}=Fr.current,hs=us.map(vs=>vs.constraints),{panelSize:gs,pivotIndices:xs}=panelDataHelper(us,ns,as);assert(gs!=null,`Panel size not found for panel "${ns.id}"`);const _s=findPanelDataIndex(us,ns)===us.length-1?gs-ls:ls-gs,Es=adjustLayoutByDelta({delta:_s,initialLayout:as,panelConstraints:hs,pivotIndices:xs,prevLayout:as,trigger:"imperative-api"});compareLayouts(as,Es)||(kr(Es),Fr.current.layout=Es,ss&&ss(Es),callPanelCallbacks(us,Es,Ir.current))},[]),qn=reactExports.useCallback((ns,ls)=>{const{layout:ss,panelDataArray:as}=Fr.current,{collapsedSize:us=0,collapsible:hs}=ls,{collapsedSize:gs=0,collapsible:xs,maxSize:ms=100,minSize:_s=0}=ns.constraints,{panelSize:Es}=panelDataHelper(as,ns,ss);Es!=null&&(hs&&xs&&fuzzyNumbersEqual$1(Es,us)?fuzzyNumbersEqual$1(us,gs)||Kn(ns,gs):Es<_s?Kn(ns,_s):Es>ms&&Kn(ns,ms))},[Kn]),Qr=reactExports.useCallback((ns,ls)=>{const{direction:ss}=Or.current,{layout:as}=Fr.current;if(!br.current)return;const us=getResizeHandleElement(ns,br.current);assert(us,`Drag handle element not found for id "${ns}"`);const hs=getResizeEventCursorPosition(ss,ls);wr({dragHandleId:ns,dragHandleRect:us.getBoundingClientRect(),initialCursorPosition:hs,initialLayout:as})},[]),$n=reactExports.useCallback(()=>{wr(null)},[]),es=reactExports.useCallback(ns=>{const{panelDataArray:ls}=Fr.current,ss=findPanelDataIndex(ls,ns);ss>=0&&(ls.splice(ss,1),delete Ir.current[ns.id],Fr.current.panelDataArrayChanged=!0,Ar())},[Ar]),Xn=reactExports.useMemo(()=>({collapsePanel:Lr,direction:lr,dragState:Sr,expandPanel:zr,getPanelSize:Gr,getPanelStyle:Jr,groupId:vr,isPanelCollapsed:Yn,isPanelExpanded:Jn,reevaluatePanelConstraints:qn,registerPanel:Zn,registerResizeHandle:Hn,resizePanel:Kn,startDragging:Qr,stopDragging:$n,unregisterPanel:es,panelGroupElement:br.current}),[Lr,Sr,lr,zr,Gr,Jr,vr,Yn,Jn,qn,Zn,Hn,Kn,Qr,$n,es]),rs={display:"flex",flexDirection:lr==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return reactExports.createElement(PanelGroupContext.Provider,{value:Xn},reactExports.createElement(_r,{...yr,children:rr,className:ir,id:fr,ref:br,style:{...rs,...xr},[DATA_ATTRIBUTES.group]:"",[DATA_ATTRIBUTES.groupDirection]:lr,[DATA_ATTRIBUTES.groupId]:vr}))}const PanelGroup=reactExports.forwardRef((e,rr)=>reactExports.createElement(PanelGroupWithForwardedRef,{...e,forwardedRef:rr}));PanelGroupWithForwardedRef.displayName="PanelGroup";PanelGroup.displayName="forwardRef(PanelGroup)";function findPanelDataIndex(e,rr){return e.findIndex(ir=>ir===rr||ir.id===rr.id)}function panelDataHelper(e,rr,ir){const lr=findPanelDataIndex(e,rr),fr=lr===e.length-1?[lr-1,lr]:[lr,lr+1],mr=ir[lr];return{...rr.constraints,panelSize:mr,pivotIndices:fr}}function useWindowSplitterResizeHandlerBehavior({disabled:e,handleId:rr,resizeHandler:ir,panelGroupElement:lr}){reactExports.useEffect(()=>{if(e||ir==null||lr==null)return;const dr=getResizeHandleElement(rr,lr);if(dr==null)return;const fr=mr=>{if(!mr.defaultPrevented)switch(mr.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{mr.preventDefault(),ir(mr);break}case"F6":{mr.preventDefault();const hr=dr.getAttribute(DATA_ATTRIBUTES.groupId);assert(hr,`No group element found for id "${hr}"`);const gr=getResizeHandleElementsForGroup(hr,lr),xr=getResizeHandleElementIndex(hr,rr,lr);assert(xr!==null,`No resize element found for id "${rr}"`);const _r=mr.shiftKey?xr>0?xr-1:gr.length-1:xr+1<gr.length?xr+1:0;gr[_r].focus();break}}};return dr.addEventListener("keydown",fr),()=>{dr.removeEventListener("keydown",fr)}},[lr,e,rr,ir])}function PanelResizeHandle({children:e=null,className:rr="",disabled:ir=!1,hitAreaMargins:lr,id:dr,onBlur:fr,onClick:mr,onDragging:hr,onFocus:gr,onPointerDown:xr,onPointerUp:_r,style:yr={},tabIndex:vr=0,tagName:br="div",...Sr}){var wr,Mr;const kr=reactExports.useRef(null),Ar=reactExports.useRef({onClick:mr,onDragging:hr,onPointerDown:xr,onPointerUp:_r});reactExports.useEffect(()=>{Ar.current.onClick=mr,Ar.current.onDragging=hr,Ar.current.onPointerDown=xr,Ar.current.onPointerUp=_r});const Ir=reactExports.useContext(PanelGroupContext);if(Ir===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:$r,groupId:Dr,registerResizeHandle:Or,startDragging:Fr,stopDragging:Lr,panelGroupElement:zr}=Ir,Gr=useUniqueId$1(dr),[Jr,Yn]=reactExports.useState("inactive"),[Jn,Zn]=reactExports.useState(!1),[Hn,Kn]=reactExports.useState(null),qn=reactExports.useRef({state:Jr});useIsomorphicLayoutEffect$1(()=>{qn.current.state=Jr}),reactExports.useEffect(()=>{if(ir)Kn(null);else{const Xn=Or(Gr);Kn(()=>Xn)}},[ir,Gr,Or]);const Qr=(wr=lr?.coarse)!==null&&wr!==void 0?wr:15,$n=(Mr=lr?.fine)!==null&&Mr!==void 0?Mr:5;reactExports.useEffect(()=>{if(ir||Hn==null)return;const Xn=kr.current;assert(Xn,"Element ref not attached");let rs=!1;return registerResizeHandle(Gr,Xn,$r,{coarse:Qr,fine:$n},(ls,ss,as)=>{if(!ss){Yn("inactive");return}switch(ls){case"down":{Yn("drag"),rs=!1,assert(as,'Expected event to be defined for "down" action'),Fr(Gr,as);const{onDragging:us,onPointerDown:hs}=Ar.current;us?.(!0),hs?.();break}case"move":{const{state:us}=qn.current;rs=!0,us!=="drag"&&Yn("hover"),assert(as,'Expected event to be defined for "move" action'),Hn(as);break}case"up":{Yn("hover"),Lr();const{onClick:us,onDragging:hs,onPointerUp:gs}=Ar.current;hs?.(!1),gs?.(),rs||us?.();break}}})},[Qr,$r,ir,$n,Or,Gr,Hn,Fr,Lr]),useWindowSplitterResizeHandlerBehavior({disabled:ir,handleId:Gr,resizeHandler:Hn,panelGroupElement:zr});const es={touchAction:"none",userSelect:"none"};return reactExports.createElement(br,{...Sr,children:e,className:rr,id:dr,onBlur:()=>{Zn(!1),fr?.()},onFocus:()=>{Zn(!0),gr?.()},ref:kr,role:"separator",style:{...es,...yr},tabIndex:vr,[DATA_ATTRIBUTES.groupDirection]:$r,[DATA_ATTRIBUTES.groupId]:Dr,[DATA_ATTRIBUTES.resizeHandle]:"",[DATA_ATTRIBUTES.resizeHandleActive]:Jr==="drag"?"pointer":Jn?"keyboard":void 0,[DATA_ATTRIBUTES.resizeHandleEnabled]:!ir,[DATA_ATTRIBUTES.resizeHandleId]:Gr,[DATA_ATTRIBUTES.resizeHandleState]:Jr})}PanelResizeHandle.displayName="PanelResizeHandle";function PendingComponent(){return jsxRuntimeExports.jsxs(PanelGroup,{direction:"horizontal",className:"h-full",children:[jsxRuntimeExports.jsx(Panel,{defaultSize:40,minSize:25,children:jsxRuntimeExports.jsx(Skeleton,{className:"h-full"})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"w-2 bg-gray-300 hover:bg-gray-400 transition-colors",children:jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-1 h-8 bg-gray-500 rounded"})})}),jsxRuntimeExports.jsx(Panel,{defaultSize:60,minSize:40,children:jsxRuntimeExports.jsxs(PanelGroup,{direction:"vertical",className:"h-full",children:[jsxRuntimeExports.jsx(Panel,{defaultSize:60,minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-gray-200",children:[jsxRuntimeExports.jsx(Skeleton,{height:36,width:160}),jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Skeleton,{height:36,width:80}),jsxRuntimeExports.jsx(Skeleton,{height:36,width:120})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0",children:jsxRuntimeExports.jsx(Skeleton,{className:"h-full"})})]})}),jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-2 bg-gray-300 hover:bg-gray-400 transition-colors",children:jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"h-1 w-8 bg-gray-500 rounded"})})}),jsxRuntimeExports.jsx(Panel,{defaultSize:40,minSize:15,children:jsxRuntimeExports.jsxs(Box,{style:{backgroundColor:"#111827",color:"white",display:"flex",flexDirection:"column",overflow:"auto",height:"100%"},children:[jsxRuntimeExports.jsxs(Box,{className:"p-2 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx(Skeleton,{height:20,width:60,variant:"text"}),jsxRuntimeExports.jsx(Skeleton,{height:24,width:24})]}),jsxRuntimeExports.jsxs(Box,{style:{flexGrow:1,overflow:"auto",padding:"8px"},children:[jsxRuntimeExports.jsx(Skeleton,{height:20,width:"100%",mb:"xs"}),jsxRuntimeExports.jsx(Skeleton,{height:20,width:"80%",mb:"xs"}),jsxRuntimeExports.jsx(Skeleton,{height:20,width:"60%",mb:"xs"}),jsxRuntimeExports.jsx(Skeleton,{height:20,width:"90%"})]})]})})]})})]})}function ProblemDescription({description:e,readonly:rr=!0}){return jsxRuntimeExports.jsx(SimpleEditor,{initialContent:e,readonly:rr})}function _defineProperty$1(e,rr,ir){return rr in e?Object.defineProperty(e,rr,{value:ir,enumerable:!0,configurable:!0,writable:!0}):e[rr]=ir,e}function ownKeys$1(e,rr){var ir=Object.keys(e);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(e);rr&&(lr=lr.filter(function(dr){return Object.getOwnPropertyDescriptor(e,dr).enumerable})),ir.push.apply(ir,lr)}return ir}function _objectSpread2$1(e){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr]!=null?arguments[rr]:{};rr%2?ownKeys$1(Object(ir),!0).forEach(function(lr){_defineProperty$1(e,lr,ir[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(ir)):ownKeys$1(Object(ir)).forEach(function(lr){Object.defineProperty(e,lr,Object.getOwnPropertyDescriptor(ir,lr))})}return e}function _objectWithoutPropertiesLoose(e,rr){if(e==null)return{};var ir={},lr=Object.keys(e),dr,fr;for(fr=0;fr<lr.length;fr++)dr=lr[fr],!(rr.indexOf(dr)>=0)&&(ir[dr]=e[dr]);return ir}function _objectWithoutProperties(e,rr){if(e==null)return{};var ir=_objectWithoutPropertiesLoose(e,rr),lr,dr;if(Object.getOwnPropertySymbols){var fr=Object.getOwnPropertySymbols(e);for(dr=0;dr<fr.length;dr++)lr=fr[dr],!(rr.indexOf(lr)>=0)&&Object.prototype.propertyIsEnumerable.call(e,lr)&&(ir[lr]=e[lr])}return ir}function _slicedToArray(e,rr){return _arrayWithHoles(e)||_iterableToArrayLimit(e,rr)||_unsupportedIterableToArray(e,rr)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,rr){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var ir=[],lr=!0,dr=!1,fr=void 0;try{for(var mr=e[Symbol.iterator](),hr;!(lr=(hr=mr.next()).done)&&(ir.push(hr.value),!(rr&&ir.length===rr));lr=!0);}catch(gr){dr=!0,fr=gr}finally{try{!lr&&mr.return!=null&&mr.return()}finally{if(dr)throw fr}}return ir}}function _unsupportedIterableToArray(e,rr){if(e){if(typeof e=="string")return _arrayLikeToArray(e,rr);var ir=Object.prototype.toString.call(e).slice(8,-1);if(ir==="Object"&&e.constructor&&(ir=e.constructor.name),ir==="Map"||ir==="Set")return Array.from(e);if(ir==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ir))return _arrayLikeToArray(e,rr)}}function _arrayLikeToArray(e,rr){(rr==null||rr>e.length)&&(rr=e.length);for(var ir=0,lr=new Array(rr);ir<rr;ir++)lr[ir]=e[ir];return lr}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _defineProperty(e,rr,ir){return rr in e?Object.defineProperty(e,rr,{value:ir,enumerable:!0,configurable:!0,writable:!0}):e[rr]=ir,e}function ownKeys(e,rr){var ir=Object.keys(e);if(Object.getOwnPropertySymbols){var lr=Object.getOwnPropertySymbols(e);rr&&(lr=lr.filter(function(dr){return Object.getOwnPropertyDescriptor(e,dr).enumerable})),ir.push.apply(ir,lr)}return ir}function _objectSpread2(e){for(var rr=1;rr<arguments.length;rr++){var ir=arguments[rr]!=null?arguments[rr]:{};rr%2?ownKeys(Object(ir),!0).forEach(function(lr){_defineProperty(e,lr,ir[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(ir)):ownKeys(Object(ir)).forEach(function(lr){Object.defineProperty(e,lr,Object.getOwnPropertyDescriptor(ir,lr))})}return e}function compose$1(){for(var e=arguments.length,rr=new Array(e),ir=0;ir<e;ir++)rr[ir]=arguments[ir];return function(lr){return rr.reduceRight(function(dr,fr){return fr(dr)},lr)}}function curry$1(e){return function rr(){for(var ir=this,lr=arguments.length,dr=new Array(lr),fr=0;fr<lr;fr++)dr[fr]=arguments[fr];return dr.length>=e.length?e.apply(this,dr):function(){for(var mr=arguments.length,hr=new Array(mr),gr=0;gr<mr;gr++)hr[gr]=arguments[gr];return rr.apply(ir,[].concat(dr,hr))}}}function isObject$1(e){return{}.toString.call(e).includes("Object")}function isEmpty(e){return!Object.keys(e).length}function isFunction(e){return typeof e=="function"}function hasOwnProperty(e,rr){return Object.prototype.hasOwnProperty.call(e,rr)}function validateChanges(e,rr){return isObject$1(rr)||errorHandler$1("changeType"),Object.keys(rr).some(function(ir){return!hasOwnProperty(e,ir)})&&errorHandler$1("changeField"),rr}function validateSelector(e){isFunction(e)||errorHandler$1("selectorType")}function validateHandler(e){isFunction(e)||isObject$1(e)||errorHandler$1("handlerType"),isObject$1(e)&&Object.values(e).some(function(rr){return!isFunction(rr)})&&errorHandler$1("handlersType")}function validateInitial(e){e||errorHandler$1("initialIsRequired"),isObject$1(e)||errorHandler$1("initialType"),isEmpty(e)&&errorHandler$1("initialContent")}function throwError$1(e,rr){throw new Error(e[rr]||e.default)}var errorMessages$1={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},errorHandler$1=curry$1(throwError$1)(errorMessages$1),validators$1={changes:validateChanges,selector:validateSelector,handler:validateHandler,initial:validateInitial};function create(e){var rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};validators$1.initial(e),validators$1.handler(rr);var ir={current:e},lr=curry$1(didStateUpdate)(ir,rr),dr=curry$1(updateState)(ir),fr=curry$1(validators$1.changes)(e),mr=curry$1(extractChanges)(ir);function hr(){var xr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(_r){return _r};return validators$1.selector(xr),xr(ir.current)}function gr(xr){compose$1(lr,dr,fr,mr)(xr)}return[hr,gr]}function extractChanges(e,rr){return isFunction(rr)?rr(e.current):rr}function updateState(e,rr){return e.current=_objectSpread2(_objectSpread2({},e.current),rr),rr}function didStateUpdate(e,rr,ir){return isFunction(rr)?rr(e.current):Object.keys(ir).forEach(function(lr){var dr;return(dr=rr[lr])===null||dr===void 0?void 0:dr.call(rr,e.current[lr])}),ir}var index={create},config$1={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function curry(e){return function rr(){for(var ir=this,lr=arguments.length,dr=new Array(lr),fr=0;fr<lr;fr++)dr[fr]=arguments[fr];return dr.length>=e.length?e.apply(this,dr):function(){for(var mr=arguments.length,hr=new Array(mr),gr=0;gr<mr;gr++)hr[gr]=arguments[gr];return rr.apply(ir,[].concat(dr,hr))}}}function isObject(e){return{}.toString.call(e).includes("Object")}function validateConfig(e){return e||errorHandler("configIsRequired"),isObject(e)||errorHandler("configType"),e.urls?(informAboutDeprecation(),{paths:{vs:e.urls.monacoBase}}):e}function informAboutDeprecation(){console.warn(errorMessages.deprecation)}function throwError(e,rr){throw new Error(e[rr]||e.default)}var errorMessages={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},errorHandler=curry(throwError)(errorMessages),validators={config:validateConfig},compose=function e(){for(var rr=arguments.length,ir=new Array(rr),lr=0;lr<rr;lr++)ir[lr]=arguments[lr];return function(dr){return ir.reduceRight(function(fr,mr){return mr(fr)},dr)}};function merge(e,rr){return Object.keys(rr).forEach(function(ir){rr[ir]instanceof Object&&e[ir]&&Object.assign(rr[ir],merge(e[ir],rr[ir]))}),_objectSpread2$1(_objectSpread2$1({},e),rr)}var CANCELATION_MESSAGE={type:"cancelation",msg:"operation is manually canceled"};function makeCancelable(e){var rr=!1,ir=new Promise(function(lr,dr){e.then(function(fr){return rr?dr(CANCELATION_MESSAGE):lr(fr)}),e.catch(dr)});return ir.cancel=function(){return rr=!0},ir}var _state$create=index.create({config:config$1,isInitialized:!1,resolve:null,reject:null,monaco:null}),_state$create2=_slicedToArray(_state$create,2),getState=_state$create2[0],setState=_state$create2[1];function config(e){var rr=validators.config(e),ir=rr.monaco,lr=_objectWithoutProperties(rr,["monaco"]);setState(function(dr){return{config:merge(dr.config,lr),monaco:ir}})}function init(){var e=getState(function(rr){var ir=rr.monaco,lr=rr.isInitialized,dr=rr.resolve;return{monaco:ir,isInitialized:lr,resolve:dr}});if(!e.isInitialized){if(setState({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),makeCancelable(wrapperPromise);if(window.monaco&&window.monaco.editor)return storeMonacoInstance(window.monaco),e.resolve(window.monaco),makeCancelable(wrapperPromise);compose(injectScripts,getMonacoLoaderScript)(configureLoader)}return makeCancelable(wrapperPromise)}function injectScripts(e){return document.body.appendChild(e)}function createScript(e){var rr=document.createElement("script");return e&&(rr.src=e),rr}function getMonacoLoaderScript(e){var rr=getState(function(lr){var dr=lr.config,fr=lr.reject;return{config:dr,reject:fr}}),ir=createScript("".concat(rr.config.paths.vs,"/loader.js"));return ir.onload=function(){return e()},ir.onerror=rr.reject,ir}function configureLoader(){var e=getState(function(ir){var lr=ir.config,dr=ir.resolve,fr=ir.reject;return{config:lr,resolve:dr,reject:fr}}),rr=window.require;rr.config(e.config),rr(["vs/editor/editor.main"],function(ir){storeMonacoInstance(ir),e.resolve(ir)},function(ir){e.reject(ir)})}function storeMonacoInstance(e){getState().monaco||setState({monaco:e})}function __getMonacoInstance(){return getState(function(e){var rr=e.monaco;return rr})}var wrapperPromise=new Promise(function(e,rr){return setState({resolve:e,reject:rr})}),loader={config,init,__getMonacoInstance},le={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},v=le,ae={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Y=ae;function Me({children:e}){return React$2.createElement("div",{style:Y.container},e)}var Z=Me,$=Z;function Ee({width:e,height:rr,isEditorReady:ir,loading:lr,_ref:dr,className:fr,wrapperProps:mr}){return React$2.createElement("section",{style:{...v.wrapper,width:e,height:rr},...mr},!ir&&React$2.createElement($,null,lr),React$2.createElement("div",{ref:dr,style:{...v.fullWidth,...!ir&&v.hide},className:fr}))}var ee=Ee,H=reactExports.memo(ee);function Ce(e){reactExports.useEffect(e,[])}var k=Ce;function he(e,rr,ir=!0){let lr=reactExports.useRef(!0);reactExports.useEffect(lr.current||!ir?()=>{lr.current=!1}:e,rr)}var l=he;function D(){}function h(e,rr,ir,lr){return De(e,lr)||be(e,rr,ir,lr)}function De(e,rr){return e.editor.getModel(te(e,rr))}function be(e,rr,ir,lr){return e.editor.createModel(rr,ir,lr?te(e,lr):void 0)}function te(e,rr){return e.Uri.parse(rr)}function Oe({original:e,modified:rr,language:ir,originalLanguage:lr,modifiedLanguage:dr,originalModelPath:fr,modifiedModelPath:mr,keepCurrentOriginalModel:hr=!1,keepCurrentModifiedModel:gr=!1,theme:xr="light",loading:_r="Loading...",options:yr={},height:vr="100%",width:br="100%",className:Sr,wrapperProps:wr={},beforeMount:Mr=D,onMount:kr=D}){let[Ar,Ir]=reactExports.useState(!1),[$r,Dr]=reactExports.useState(!0),Or=reactExports.useRef(null),Fr=reactExports.useRef(null),Lr=reactExports.useRef(null),zr=reactExports.useRef(kr),Gr=reactExports.useRef(Mr),Jr=reactExports.useRef(!1);k(()=>{let Hn=loader.init();return Hn.then(Kn=>(Fr.current=Kn)&&Dr(!1)).catch(Kn=>Kn?.type!=="cancelation"&&console.error("Monaco initialization: error:",Kn)),()=>Or.current?Zn():Hn.cancel()}),l(()=>{if(Or.current&&Fr.current){let Hn=Or.current.getOriginalEditor(),Kn=h(Fr.current,e||"",lr||ir||"text",fr||"");Kn!==Hn.getModel()&&Hn.setModel(Kn)}},[fr],Ar),l(()=>{if(Or.current&&Fr.current){let Hn=Or.current.getModifiedEditor(),Kn=h(Fr.current,rr||"",dr||ir||"text",mr||"");Kn!==Hn.getModel()&&Hn.setModel(Kn)}},[mr],Ar),l(()=>{let Hn=Or.current.getModifiedEditor();Hn.getOption(Fr.current.editor.EditorOption.readOnly)?Hn.setValue(rr||""):rr!==Hn.getValue()&&(Hn.executeEdits("",[{range:Hn.getModel().getFullModelRange(),text:rr||"",forceMoveMarkers:!0}]),Hn.pushUndoStop())},[rr],Ar),l(()=>{Or.current?.getModel()?.original.setValue(e||"")},[e],Ar),l(()=>{let{original:Hn,modified:Kn}=Or.current.getModel();Fr.current.editor.setModelLanguage(Hn,lr||ir||"text"),Fr.current.editor.setModelLanguage(Kn,dr||ir||"text")},[ir,lr,dr],Ar),l(()=>{Fr.current?.editor.setTheme(xr)},[xr],Ar),l(()=>{Or.current?.updateOptions(yr)},[yr],Ar);let Yn=reactExports.useCallback(()=>{if(!Fr.current)return;Gr.current(Fr.current);let Hn=h(Fr.current,e||"",lr||ir||"text",fr||""),Kn=h(Fr.current,rr||"",dr||ir||"text",mr||"");Or.current?.setModel({original:Hn,modified:Kn})},[ir,rr,dr,e,lr,fr,mr]),Jn=reactExports.useCallback(()=>{!Jr.current&&Lr.current&&(Or.current=Fr.current.editor.createDiffEditor(Lr.current,{automaticLayout:!0,...yr}),Yn(),Fr.current?.editor.setTheme(xr),Ir(!0),Jr.current=!0)},[yr,xr,Yn]);reactExports.useEffect(()=>{Ar&&zr.current(Or.current,Fr.current)},[Ar]),reactExports.useEffect(()=>{!$r&&!Ar&&Jn()},[$r,Ar,Jn]);function Zn(){let Hn=Or.current?.getModel();hr||Hn?.original?.dispose(),gr||Hn?.modified?.dispose(),Or.current?.dispose()}return React$2.createElement(H,{width:br,height:vr,isEditorReady:Ar,loading:_r,_ref:Lr,className:Sr,wrapperProps:wr})}var ie=Oe;reactExports.memo(ie);function He(e){let rr=reactExports.useRef();return reactExports.useEffect(()=>{rr.current=e},[e]),rr.current}var se=He,_=new Map;function Ve({defaultValue:e,defaultLanguage:rr,defaultPath:ir,value:lr,language:dr,path:fr,theme:mr="light",line:hr,loading:gr="Loading...",options:xr={},overrideServices:_r={},saveViewState:yr=!0,keepCurrentModel:vr=!1,width:br="100%",height:Sr="100%",className:wr,wrapperProps:Mr={},beforeMount:kr=D,onMount:Ar=D,onChange:Ir,onValidate:$r=D}){let[Dr,Or]=reactExports.useState(!1),[Fr,Lr]=reactExports.useState(!0),zr=reactExports.useRef(null),Gr=reactExports.useRef(null),Jr=reactExports.useRef(null),Yn=reactExports.useRef(Ar),Jn=reactExports.useRef(kr),Zn=reactExports.useRef(),Hn=reactExports.useRef(lr),Kn=se(fr),qn=reactExports.useRef(!1),Qr=reactExports.useRef(!1);k(()=>{let Xn=loader.init();return Xn.then(rs=>(zr.current=rs)&&Lr(!1)).catch(rs=>rs?.type!=="cancelation"&&console.error("Monaco initialization: error:",rs)),()=>Gr.current?es():Xn.cancel()}),l(()=>{let Xn=h(zr.current,e||lr||"",rr||dr||"",fr||ir||"");Xn!==Gr.current?.getModel()&&(yr&&_.set(Kn,Gr.current?.saveViewState()),Gr.current?.setModel(Xn),yr&&Gr.current?.restoreViewState(_.get(fr)))},[fr],Dr),l(()=>{Gr.current?.updateOptions(xr)},[xr],Dr),l(()=>{!Gr.current||lr===void 0||(Gr.current.getOption(zr.current.editor.EditorOption.readOnly)?Gr.current.setValue(lr):lr!==Gr.current.getValue()&&(Qr.current=!0,Gr.current.executeEdits("",[{range:Gr.current.getModel().getFullModelRange(),text:lr,forceMoveMarkers:!0}]),Gr.current.pushUndoStop(),Qr.current=!1))},[lr],Dr),l(()=>{let Xn=Gr.current?.getModel();Xn&&dr&&zr.current?.editor.setModelLanguage(Xn,dr)},[dr],Dr),l(()=>{hr!==void 0&&Gr.current?.revealLine(hr)},[hr],Dr),l(()=>{zr.current?.editor.setTheme(mr)},[mr],Dr);let $n=reactExports.useCallback(()=>{if(!(!Jr.current||!zr.current)&&!qn.current){Jn.current(zr.current);let Xn=fr||ir,rs=h(zr.current,lr||e||"",rr||dr||"",Xn||"");Gr.current=zr.current?.editor.create(Jr.current,{model:rs,automaticLayout:!0,...xr},_r),yr&&Gr.current.restoreViewState(_.get(Xn)),zr.current.editor.setTheme(mr),hr!==void 0&&Gr.current.revealLine(hr),Or(!0),qn.current=!0}},[e,rr,ir,lr,dr,fr,xr,_r,yr,mr,hr]);reactExports.useEffect(()=>{Dr&&Yn.current(Gr.current,zr.current)},[Dr]),reactExports.useEffect(()=>{!Fr&&!Dr&&$n()},[Fr,Dr,$n]),Hn.current=lr,reactExports.useEffect(()=>{Dr&&Ir&&(Zn.current?.dispose(),Zn.current=Gr.current?.onDidChangeModelContent(Xn=>{Qr.current||Ir(Gr.current.getValue(),Xn)}))},[Dr,Ir]),reactExports.useEffect(()=>{if(Dr){let Xn=zr.current.editor.onDidChangeMarkers(rs=>{let ns=Gr.current.getModel()?.uri;if(ns&&rs.find(ls=>ls.path===ns.path)){let ls=zr.current.editor.getModelMarkers({resource:ns});$r?.(ls)}});return()=>{Xn?.dispose()}}return()=>{}},[Dr,$r]);function es(){Zn.current?.dispose(),vr?yr&&_.set(fr,Gr.current.saveViewState()):Gr.current.getModel()?.dispose(),Gr.current.dispose()}return React$2.createElement(H,{width:br,height:Sr,isEditorReady:Dr,loading:gr,_ref:Jr,className:wr,wrapperProps:Mr})}var fe=Ve,de=reactExports.memo(fe),Ft=de;const useSaveUserProblemMutation=()=>useMutation({mutationFn:async({problemId:e,answer:rr,saveAsTemplate:ir})=>{const lr=await api.problems["save-user-problem"].$post({json:{problemId:e,answer:rr,saveAsTemplate:ir}});if(!lr.ok){const dr=await lr.text();throw new Error(`Failed to save user problem: ${dr}`)}}}),dialectLabels={postgres:"PostgreSQL",mysql:"MySQL",sqlite:"SQLite",sqlserver:"SQL Server",oracle:"Oracle"},sqlDialects=DIALECTS.map(e=>({value:e,label:dialectLabels[e]}));function SqlEditor({podName:e}){const{id:rr}=useParams({from:"/_admin/admin/problem/$id/create"}),ir=useNavigate(),lr=reactExports.useRef(null),{mutate:dr,isPending:fr}=useExecuteSQLMutation(),{mutate:mr}=useSaveUserProblemMutation(),[hr,gr]=reactExports.useState("SELECT * FROM CITY WHERE COUNTRYCODE = 'USA' AND POPULATION > 100000"),[xr,_r]=reactExports.useState("postgres"),[yr,{open:vr,close:br}]=useDisclosure(!1),Sr=Ar=>{Ar&&DIALECTS.includes(Ar)&&_r(Ar)},wr=()=>{if(hr){if(!e){showErrorNotification({title:"Database Connection Error",message:"No database connection available. Please ensure the problem is set up correctly."});return}dr({podName:e,sql:hr,dialect:xr})}},Mr=()=>{vr()},kr=Ar=>{if(!hr){showErrorNotification({message:"SQL code cannot be empty."});return}mr({problemId:rr,answer:hr,saveAsTemplate:Ar},{onSuccess:()=>{ir({to:"/admin/dashboard"})},onError:Ir=>{showErrorNotification({message:Ir.message})},onSettled:()=>{br()}})};return jsxRuntimeExports.jsx(Panel,{defaultSize:60,minSize:20,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-gray-200",children:[jsxRuntimeExports.jsx(Select,{data:sqlDialects,value:xr,onChange:Sr,placeholder:"Select SQL dialect",className:"w-40"}),jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",leftSection:jsxRuntimeExports.jsx(IconPlayerPlay,{size:16}),onClick:wr,loading:fr,children:"Test"}),jsxRuntimeExports.jsx(Button$1,{color:"green",leftSection:jsxRuntimeExports.jsx(IconCheck,{size:16}),onClick:Mr,loading:fr,children:"Save Answer"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0",children:jsxRuntimeExports.jsx(Ft,{height:"100%",defaultLanguage:"sql",value:hr,onChange:Ar=>gr(Ar??void 0),onMount:Ar=>{lr.current=Ar},options:{minimap:{enabled:!1},fontSize:14,scrollBeyondLastLine:!1,wordWrap:"on",tabSize:2,automaticLayout:!0}})}),jsxRuntimeExports.jsx(ConfirmationModal,{isOpen:yr,onClose:br,onConfirm:kr})]})})}function ConfirmationModal({isOpen:e,onClose:rr,onConfirm:ir}){const[lr,dr]=reactExports.useState(!1),fr=()=>{ir(lr),dr(!1)},mr=()=>{dr(!1),rr()};return jsxRuntimeExports.jsxs(Modal,{opened:e,onClose:mr,title:"Save Problem",withCloseButton:!1,size:"lg",children:[jsxRuntimeExports.jsxs(Stack,{children:[lr&&jsxRuntimeExports.jsx(Alert,{color:"yellow",title:"Warning",icon:jsxRuntimeExports.jsx(IconInfoCircle,{}),children:jsxRuntimeExports.jsx(Text$2,{size:"sm",children:"You cannot edit the problem template after publishing. Make sure your design is final."})}),jsxRuntimeExports.jsx(Text$2,{size:"sm",children:"You can optionally save your problem as a template for other users to reference."})]}),jsxRuntimeExports.jsxs(Group,{justify:"space-between",mt:"md",children:[jsxRuntimeExports.jsx(Checkbox,{checked:lr,onChange:hr=>dr(hr.currentTarget.checked),label:"Publish as template"}),jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:mr,children:"Cancel"}),jsxRuntimeExports.jsx(Button$1,{color:"green",onClick:fr,children:"Save Answer"})]})]})]})}function Terminal(){const e=useMutationState({filters:{mutationKey:["problem-execute-sql-mutation-key"]},select:ir=>({data:ir.state.data,status:ir.state.status})}),rr=()=>{if(e.length===0)return jsxRuntimeExports.jsx(Text$2,{c:"dimmed",p:"md",children:"Run your SQL query to see results here"});const lr=e[e.length-1].data;if(!lr)return jsxRuntimeExports.jsx(Text$2,{c:"dimmed",p:"md",children:"Run your SQL query to see results here"});const dr=Array.from(new Set(lr.rows.flatMap(hr=>Object.keys(hr)))),fr=hr=>hr==null?"NULL":typeof hr=="object"?JSON.stringify(hr):String(hr),mr=hr=>hr==null?jsxRuntimeExports.jsx("span",{className:"text-gray-400 italic",children:"NULL"}):fr(hr);return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs(Text$2,{c:"green",fw:600,mb:"md",children:["Query executed successfully  ",lr.rowCount," rows returned"]}),lr.rows.length>0?jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,stickyHeader:!0,style:{fontSize:"13px",fontFamily:"monospace"},children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsx(Table.Tr,{children:dr.map(hr=>jsxRuntimeExports.jsx(Table.Th,{style:{color:"#9CA3AF",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.05em",fontSize:"11px",padding:"8px 12px",borderBottom:"1px solid #374151",backgroundColor:"#111827"},children:hr},hr))})}),jsxRuntimeExports.jsx(Table.Tbody,{children:lr.rows.map((hr,gr)=>jsxRuntimeExports.jsx(Table.Tr,{children:dr.map((xr,_r)=>{const yr=hr[xr],vr=fr(yr);return jsxRuntimeExports.jsx(Table.Td,{style:{color:"#E5E7EB",padding:"8px 12px",borderBottom:"1px solid #374151",verticalAlign:"top",whiteSpace:"nowrap"},children:jsxRuntimeExports.jsx(Tooltip$1,{label:vr,openDelay:300,withArrow:!0,position:"bottom-start",children:jsxRuntimeExports.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",maxWidth:"28rem"},children:mr(yr)})})},_r)})},gr))})]}):jsxRuntimeExports.jsx(Text$2,{c:"dimmed",p:"md",children:"No data returned from query"})]})};return jsxRuntimeExports.jsx(Panel,{defaultSize:40,minSize:15,children:jsxRuntimeExports.jsxs(Box,{style:{backgroundColor:"#111827",color:"white",display:"flex",flexDirection:"column",height:"100%"},children:[jsxRuntimeExports.jsxs(Box,{className:"p-2 bg-gray-800 border-b border-gray-700 flex justify-between items-center",children:[jsxRuntimeExports.jsx(Text$2,{fw:600,children:"Results"}),jsxRuntimeExports.jsx(Tooltip$1,{label:"Maximize",children:jsxRuntimeExports.jsx(ActionIcon,{variant:"subtle",color:"gray",children:jsxRuntimeExports.jsx(IconMaximize,{size:16})})})]}),jsxRuntimeExports.jsx(ScrollArea,{style:{flex:1},type:"auto",children:rr()})]})})}const Route$1=createFileRoute("/_admin/admin/problem/$id/create")({loader:async({context:{queryClient:e},params:rr})=>{try{const{payload:ir}=await e.ensureQueryData(accessTokenQueryOptions),lr=ir.user_metadata.user_id,dr=await e.ensureQueryData(userProblemDetailQueryOptions(rr.id,lr,{columns:["description"]})),fr=await e.ensureQueryData(databaseConnectionQueryOptions(rr.id,"postgres"));if(!dr)throw new Error("Problem not found");return{problemDetails:dr,databaseConnectionKey:fr}}catch(ir){console.error("Failed to load problem data:",ir);return}},component:RouteComponent$1,pendingComponent:PendingComponent});function RouteComponent$1(){const e=Route$1.useLoaderData(),rr=e?.problemDetails??{description:`
      <h2>Problem Description</h2>
      <p>This is a placeholder problem description. The actual problem data could not be loaded.</p>
      <p>Please check your connection and try again, or contact support if the issue persists.</p>
    `},ir=e?.databaseConnectionKey;return jsxRuntimeExports.jsxs(PanelGroup,{direction:"horizontal",className:"h-full",children:[jsxRuntimeExports.jsx(Panel,{defaultSize:40,minSize:25,children:jsxRuntimeExports.jsx(ProblemDescription,{description:rr.description})}),jsxRuntimeExports.jsx(VerticalResizeHandle,{}),jsxRuntimeExports.jsx(Panel,{defaultSize:60,minSize:40,children:jsxRuntimeExports.jsxs(PanelGroup,{direction:"vertical",className:"h-full",children:[jsxRuntimeExports.jsx(SqlEditor,{podName:ir?.podName}),jsxRuntimeExports.jsx(HorizontalResizeHandle,{}),jsxRuntimeExports.jsx(Terminal,{})]})})]})}function VerticalResizeHandle(){return jsxRuntimeExports.jsx(PanelResizeHandle,{className:"w-2 bg-gray-300 hover:bg-gray-400 transition-colors",children:jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-1 h-8 bg-gray-500 rounded"})})})}function HorizontalResizeHandle(){return jsxRuntimeExports.jsx(PanelResizeHandle,{className:"h-2 bg-gray-300 hover:bg-gray-400 transition-colors",children:jsxRuntimeExports.jsx("div",{className:"w-full flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"h-1 w-8 bg-gray-500 rounded"})})})}function useCombinedRefs(){for(var e=arguments.length,rr=new Array(e),ir=0;ir<e;ir++)rr[ir]=arguments[ir];return reactExports.useMemo(()=>lr=>{rr.forEach(dr=>dr(lr))},rr)}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function isWindow(e){const rr=Object.prototype.toString.call(e);return rr==="[object Window]"||rr==="[object global]"}function isNode(e){return"nodeType"in e}function getWindow(e){var rr,ir;return e?isWindow(e)?e:isNode(e)&&(rr=(ir=e.ownerDocument)==null?void 0:ir.defaultView)!=null?rr:window:window}function isDocument(e){const{Document:rr}=getWindow(e);return e instanceof rr}function isHTMLElement(e){return isWindow(e)?!1:e instanceof getWindow(e).HTMLElement}function isSVGElement(e){return e instanceof getWindow(e).SVGElement}function getOwnerDocument(e){return e?isWindow(e)?e.document:isNode(e)?isDocument(e)?e:isHTMLElement(e)||isSVGElement(e)?e.ownerDocument:document:document:document}const useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function useEvent(e){const rr=reactExports.useRef(e);return useIsomorphicLayoutEffect(()=>{rr.current=e}),reactExports.useCallback(function(){for(var ir=arguments.length,lr=new Array(ir),dr=0;dr<ir;dr++)lr[dr]=arguments[dr];return rr.current==null?void 0:rr.current(...lr)},[])}function useInterval(){const e=reactExports.useRef(null),rr=reactExports.useCallback((lr,dr)=>{e.current=setInterval(lr,dr)},[]),ir=reactExports.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[rr,ir]}function useLatestValue(e,rr){rr===void 0&&(rr=[e]);const ir=reactExports.useRef(e);return useIsomorphicLayoutEffect(()=>{ir.current!==e&&(ir.current=e)},rr),ir}function useLazyMemo(e,rr){const ir=reactExports.useRef();return reactExports.useMemo(()=>{const lr=e(ir.current);return ir.current=lr,lr},[...rr])}function useNodeRef(e){const rr=useEvent(e),ir=reactExports.useRef(null),lr=reactExports.useCallback(dr=>{dr!==ir.current&&rr?.(dr,ir.current),ir.current=dr},[]);return[ir,lr]}function usePrevious(e){const rr=reactExports.useRef();return reactExports.useEffect(()=>{rr.current=e},[e]),rr.current}let ids={};function useUniqueId(e,rr){return reactExports.useMemo(()=>{if(rr)return rr;const ir=ids[e]==null?0:ids[e]+1;return ids[e]=ir,e+"-"+ir},[e,rr])}function createAdjustmentFn(e){return function(rr){for(var ir=arguments.length,lr=new Array(ir>1?ir-1:0),dr=1;dr<ir;dr++)lr[dr-1]=arguments[dr];return lr.reduce((fr,mr)=>{const hr=Object.entries(mr);for(const[gr,xr]of hr){const _r=fr[gr];_r!=null&&(fr[gr]=_r+e*xr)}return fr},{...rr})}}const add=createAdjustmentFn(1),subtract=createAdjustmentFn(-1);function hasViewportRelativeCoordinates(e){return"clientX"in e&&"clientY"in e}function isKeyboardEvent(e){if(!e)return!1;const{KeyboardEvent:rr}=getWindow(e.target);return rr&&e instanceof rr}function isTouchEvent(e){if(!e)return!1;const{TouchEvent:rr}=getWindow(e.target);return rr&&e instanceof rr}function getEventCoordinates(e){if(isTouchEvent(e)){if(e.touches&&e.touches.length){const{clientX:rr,clientY:ir}=e.touches[0];return{x:rr,y:ir}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:rr,clientY:ir}=e.changedTouches[0];return{x:rr,y:ir}}}return hasViewportRelativeCoordinates(e)?{x:e.clientX,y:e.clientY}:null}const CSS$1=Object.freeze({Translate:{toString(e){if(!e)return;const{x:rr,y:ir}=e;return"translate3d("+(rr?Math.round(rr):0)+"px, "+(ir?Math.round(ir):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:rr,scaleY:ir}=e;return"scaleX("+rr+") scaleY("+ir+")"}},Transform:{toString(e){if(e)return[CSS$1.Translate.toString(e),CSS$1.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:rr,duration:ir,easing:lr}=e;return rr+" "+ir+"ms "+lr}}}),SELECTOR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function findFirstFocusableNode(e){return e.matches(SELECTOR)?e:e.querySelector(SELECTOR)}const hiddenStyles={display:"none"};function HiddenText(e){let{id:rr,value:ir}=e;return React$2.createElement("div",{id:rr,style:hiddenStyles},ir)}function LiveRegion(e){let{id:rr,announcement:ir,ariaLiveType:lr="assertive"}=e;const dr={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return React$2.createElement("div",{id:rr,style:dr,role:"status","aria-live":lr,"aria-atomic":!0},ir)}function useAnnouncement(){const[e,rr]=reactExports.useState("");return{announce:reactExports.useCallback(lr=>{lr!=null&&rr(lr)},[]),announcement:e}}const DndMonitorContext=reactExports.createContext(null);function useDndMonitor(e){const rr=reactExports.useContext(DndMonitorContext);reactExports.useEffect(()=>{if(!rr)throw new Error("useDndMonitor must be used within a children of <DndContext>");return rr(e)},[e,rr])}function useDndMonitorProvider(){const[e]=reactExports.useState(()=>new Set),rr=reactExports.useCallback(lr=>(e.add(lr),()=>e.delete(lr)),[e]);return[reactExports.useCallback(lr=>{let{type:dr,event:fr}=lr;e.forEach(mr=>{var hr;return(hr=mr[dr])==null?void 0:hr.call(mr,fr)})},[e]),rr]}const defaultScreenReaderInstructions={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},defaultAnnouncements={onDragStart(e){let{active:rr}=e;return"Picked up draggable item "+rr.id+"."},onDragOver(e){let{active:rr,over:ir}=e;return ir?"Draggable item "+rr.id+" was moved over droppable area "+ir.id+".":"Draggable item "+rr.id+" is no longer over a droppable area."},onDragEnd(e){let{active:rr,over:ir}=e;return ir?"Draggable item "+rr.id+" was dropped over droppable area "+ir.id:"Draggable item "+rr.id+" was dropped."},onDragCancel(e){let{active:rr}=e;return"Dragging was cancelled. Draggable item "+rr.id+" was dropped."}};function Accessibility(e){let{announcements:rr=defaultAnnouncements,container:ir,hiddenTextDescribedById:lr,screenReaderInstructions:dr=defaultScreenReaderInstructions}=e;const{announce:fr,announcement:mr}=useAnnouncement(),hr=useUniqueId("DndLiveRegion"),[gr,xr]=reactExports.useState(!1);if(reactExports.useEffect(()=>{xr(!0)},[]),useDndMonitor(reactExports.useMemo(()=>({onDragStart(yr){let{active:vr}=yr;fr(rr.onDragStart({active:vr}))},onDragMove(yr){let{active:vr,over:br}=yr;rr.onDragMove&&fr(rr.onDragMove({active:vr,over:br}))},onDragOver(yr){let{active:vr,over:br}=yr;fr(rr.onDragOver({active:vr,over:br}))},onDragEnd(yr){let{active:vr,over:br}=yr;fr(rr.onDragEnd({active:vr,over:br}))},onDragCancel(yr){let{active:vr,over:br}=yr;fr(rr.onDragCancel({active:vr,over:br}))}}),[fr,rr])),!gr)return null;const _r=React$2.createElement(React$2.Fragment,null,React$2.createElement(HiddenText,{id:lr,value:dr.draggable}),React$2.createElement(LiveRegion,{id:hr,announcement:mr}));return ir?reactDomExports.createPortal(_r,ir):_r}var Action;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Action||(Action={}));function noop(){}function useSensor(e,rr){return reactExports.useMemo(()=>({sensor:e,options:rr??{}}),[e,rr])}function useSensors(){for(var e=arguments.length,rr=new Array(e),ir=0;ir<e;ir++)rr[ir]=arguments[ir];return reactExports.useMemo(()=>[...rr].filter(lr=>lr!=null),[...rr])}const defaultCoordinates=Object.freeze({x:0,y:0});function distanceBetween(e,rr){return Math.sqrt(Math.pow(e.x-rr.x,2)+Math.pow(e.y-rr.y,2))}function sortCollisionsAsc(e,rr){let{data:{value:ir}}=e,{data:{value:lr}}=rr;return ir-lr}function sortCollisionsDesc(e,rr){let{data:{value:ir}}=e,{data:{value:lr}}=rr;return lr-ir}function getFirstCollision(e,rr){if(!e||e.length===0)return null;const[ir]=e;return ir[rr]}function centerOfRectangle(e,rr,ir){return rr===void 0&&(rr=e.left),ir===void 0&&(ir=e.top),{x:rr+e.width*.5,y:ir+e.height*.5}}const closestCenter=e=>{let{collisionRect:rr,droppableRects:ir,droppableContainers:lr}=e;const dr=centerOfRectangle(rr,rr.left,rr.top),fr=[];for(const mr of lr){const{id:hr}=mr,gr=ir.get(hr);if(gr){const xr=distanceBetween(centerOfRectangle(gr),dr);fr.push({id:hr,data:{droppableContainer:mr,value:xr}})}}return fr.sort(sortCollisionsAsc)};function getIntersectionRatio(e,rr){const ir=Math.max(rr.top,e.top),lr=Math.max(rr.left,e.left),dr=Math.min(rr.left+rr.width,e.left+e.width),fr=Math.min(rr.top+rr.height,e.top+e.height),mr=dr-lr,hr=fr-ir;if(lr<dr&&ir<fr){const gr=rr.width*rr.height,xr=e.width*e.height,_r=mr*hr,yr=_r/(gr+xr-_r);return Number(yr.toFixed(4))}return 0}const rectIntersection=e=>{let{collisionRect:rr,droppableRects:ir,droppableContainers:lr}=e;const dr=[];for(const fr of lr){const{id:mr}=fr,hr=ir.get(mr);if(hr){const gr=getIntersectionRatio(hr,rr);gr>0&&dr.push({id:mr,data:{droppableContainer:fr,value:gr}})}}return dr.sort(sortCollisionsDesc)};function adjustScale(e,rr,ir){return{...e,scaleX:rr&&ir?rr.width/ir.width:1,scaleY:rr&&ir?rr.height/ir.height:1}}function getRectDelta(e,rr){return e&&rr?{x:e.left-rr.left,y:e.top-rr.top}:defaultCoordinates}function createRectAdjustmentFn(e){return function(ir){for(var lr=arguments.length,dr=new Array(lr>1?lr-1:0),fr=1;fr<lr;fr++)dr[fr-1]=arguments[fr];return dr.reduce((mr,hr)=>({...mr,top:mr.top+e*hr.y,bottom:mr.bottom+e*hr.y,left:mr.left+e*hr.x,right:mr.right+e*hr.x}),{...ir})}}const getAdjustedRect=createRectAdjustmentFn(1);function parseTransform(e){if(e.startsWith("matrix3d(")){const rr=e.slice(9,-1).split(/, /);return{x:+rr[12],y:+rr[13],scaleX:+rr[0],scaleY:+rr[5]}}else if(e.startsWith("matrix(")){const rr=e.slice(7,-1).split(/, /);return{x:+rr[4],y:+rr[5],scaleX:+rr[0],scaleY:+rr[3]}}return null}function inverseTransform(e,rr,ir){const lr=parseTransform(rr);if(!lr)return e;const{scaleX:dr,scaleY:fr,x:mr,y:hr}=lr,gr=e.left-mr-(1-dr)*parseFloat(ir),xr=e.top-hr-(1-fr)*parseFloat(ir.slice(ir.indexOf(" ")+1)),_r=dr?e.width/dr:e.width,yr=fr?e.height/fr:e.height;return{width:_r,height:yr,top:xr,right:gr+_r,bottom:xr+yr,left:gr}}const defaultOptions={ignoreTransform:!1};function getClientRect(e,rr){rr===void 0&&(rr=defaultOptions);let ir=e.getBoundingClientRect();if(rr.ignoreTransform){const{transform:xr,transformOrigin:_r}=getWindow(e).getComputedStyle(e);xr&&(ir=inverseTransform(ir,xr,_r))}const{top:lr,left:dr,width:fr,height:mr,bottom:hr,right:gr}=ir;return{top:lr,left:dr,width:fr,height:mr,bottom:hr,right:gr}}function getTransformAgnosticClientRect(e){return getClientRect(e,{ignoreTransform:!0})}function getWindowClientRect(e){const rr=e.innerWidth,ir=e.innerHeight;return{top:0,left:0,right:rr,bottom:ir,width:rr,height:ir}}function isFixed(e,rr){return rr===void 0&&(rr=getWindow(e).getComputedStyle(e)),rr.position==="fixed"}function isScrollable(e,rr){rr===void 0&&(rr=getWindow(e).getComputedStyle(e));const ir=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(dr=>{const fr=rr[dr];return typeof fr=="string"?ir.test(fr):!1})}function getScrollableAncestors(e,rr){const ir=[];function lr(dr){if(rr!=null&&ir.length>=rr||!dr)return ir;if(isDocument(dr)&&dr.scrollingElement!=null&&!ir.includes(dr.scrollingElement))return ir.push(dr.scrollingElement),ir;if(!isHTMLElement(dr)||isSVGElement(dr)||ir.includes(dr))return ir;const fr=getWindow(e).getComputedStyle(dr);return dr!==e&&isScrollable(dr,fr)&&ir.push(dr),isFixed(dr,fr)?ir:lr(dr.parentNode)}return e?lr(e):ir}function getFirstScrollableAncestor(e){const[rr]=getScrollableAncestors(e,1);return rr??null}function getScrollableElement(e){return!canUseDOM||!e?null:isWindow(e)?e:isNode(e)?isDocument(e)||e===getOwnerDocument(e).scrollingElement?window:isHTMLElement(e)?e:null:null}function getScrollXCoordinate(e){return isWindow(e)?e.scrollX:e.scrollLeft}function getScrollYCoordinate(e){return isWindow(e)?e.scrollY:e.scrollTop}function getScrollCoordinates(e){return{x:getScrollXCoordinate(e),y:getScrollYCoordinate(e)}}var Direction;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Direction||(Direction={}));function isDocumentScrollingElement(e){return!canUseDOM||!e?!1:e===document.scrollingElement}function getScrollPosition(e){const rr={x:0,y:0},ir=isDocumentScrollingElement(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},lr={x:e.scrollWidth-ir.width,y:e.scrollHeight-ir.height},dr=e.scrollTop<=rr.y,fr=e.scrollLeft<=rr.x,mr=e.scrollTop>=lr.y,hr=e.scrollLeft>=lr.x;return{isTop:dr,isLeft:fr,isBottom:mr,isRight:hr,maxScroll:lr,minScroll:rr}}const defaultThreshold={x:.2,y:.2};function getScrollDirectionAndSpeed(e,rr,ir,lr,dr){let{top:fr,left:mr,right:hr,bottom:gr}=ir;lr===void 0&&(lr=10),dr===void 0&&(dr=defaultThreshold);const{isTop:xr,isBottom:_r,isLeft:yr,isRight:vr}=getScrollPosition(e),br={x:0,y:0},Sr={x:0,y:0},wr={height:rr.height*dr.y,width:rr.width*dr.x};return!xr&&fr<=rr.top+wr.height?(br.y=Direction.Backward,Sr.y=lr*Math.abs((rr.top+wr.height-fr)/wr.height)):!_r&&gr>=rr.bottom-wr.height&&(br.y=Direction.Forward,Sr.y=lr*Math.abs((rr.bottom-wr.height-gr)/wr.height)),!vr&&hr>=rr.right-wr.width?(br.x=Direction.Forward,Sr.x=lr*Math.abs((rr.right-wr.width-hr)/wr.width)):!yr&&mr<=rr.left+wr.width&&(br.x=Direction.Backward,Sr.x=lr*Math.abs((rr.left+wr.width-mr)/wr.width)),{direction:br,speed:Sr}}function getScrollElementRect(e){if(e===document.scrollingElement){const{innerWidth:fr,innerHeight:mr}=window;return{top:0,left:0,right:fr,bottom:mr,width:fr,height:mr}}const{top:rr,left:ir,right:lr,bottom:dr}=e.getBoundingClientRect();return{top:rr,left:ir,right:lr,bottom:dr,width:e.clientWidth,height:e.clientHeight}}function getScrollOffsets(e){return e.reduce((rr,ir)=>add(rr,getScrollCoordinates(ir)),defaultCoordinates)}function getScrollXOffset(e){return e.reduce((rr,ir)=>rr+getScrollXCoordinate(ir),0)}function getScrollYOffset(e){return e.reduce((rr,ir)=>rr+getScrollYCoordinate(ir),0)}function scrollIntoViewIfNeeded(e,rr){if(rr===void 0&&(rr=getClientRect),!e)return;const{top:ir,left:lr,bottom:dr,right:fr}=rr(e);getFirstScrollableAncestor(e)&&(dr<=0||fr<=0||ir>=window.innerHeight||lr>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const properties=[["x",["left","right"],getScrollXOffset],["y",["top","bottom"],getScrollYOffset]];class Rect{constructor(rr,ir){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const lr=getScrollableAncestors(ir),dr=getScrollOffsets(lr);this.rect={...rr},this.width=rr.width,this.height=rr.height;for(const[fr,mr,hr]of properties)for(const gr of mr)Object.defineProperty(this,gr,{get:()=>{const xr=hr(lr),_r=dr[fr]-xr;return this.rect[gr]+_r},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Listeners{constructor(rr){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(ir=>{var lr;return(lr=this.target)==null?void 0:lr.removeEventListener(...ir)})},this.target=rr}add(rr,ir,lr){var dr;(dr=this.target)==null||dr.addEventListener(rr,ir,lr),this.listeners.push([rr,ir,lr])}}function getEventListenerTarget(e){const{EventTarget:rr}=getWindow(e);return e instanceof rr?e:getOwnerDocument(e)}function hasExceededDistance(e,rr){const ir=Math.abs(e.x),lr=Math.abs(e.y);return typeof rr=="number"?Math.sqrt(ir**2+lr**2)>rr:"x"in rr&&"y"in rr?ir>rr.x&&lr>rr.y:"x"in rr?ir>rr.x:"y"in rr?lr>rr.y:!1}var EventName;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(EventName||(EventName={}));function preventDefault(e){e.preventDefault()}function stopPropagation(e){e.stopPropagation()}var KeyboardCode;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(KeyboardCode||(KeyboardCode={}));const defaultKeyboardCodes={start:[KeyboardCode.Space,KeyboardCode.Enter],cancel:[KeyboardCode.Esc],end:[KeyboardCode.Space,KeyboardCode.Enter,KeyboardCode.Tab]},defaultKeyboardCoordinateGetter=(e,rr)=>{let{currentCoordinates:ir}=rr;switch(e.code){case KeyboardCode.Right:return{...ir,x:ir.x+25};case KeyboardCode.Left:return{...ir,x:ir.x-25};case KeyboardCode.Down:return{...ir,y:ir.y+25};case KeyboardCode.Up:return{...ir,y:ir.y-25}}};class KeyboardSensor{constructor(rr){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=rr;const{event:{target:ir}}=rr;this.props=rr,this.listeners=new Listeners(getOwnerDocument(ir)),this.windowListeners=new Listeners(getWindow(ir)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(EventName.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:rr,onStart:ir}=this.props,lr=rr.node.current;lr&&scrollIntoViewIfNeeded(lr),ir(defaultCoordinates)}handleKeyDown(rr){if(isKeyboardEvent(rr)){const{active:ir,context:lr,options:dr}=this.props,{keyboardCodes:fr=defaultKeyboardCodes,coordinateGetter:mr=defaultKeyboardCoordinateGetter,scrollBehavior:hr="smooth"}=dr,{code:gr}=rr;if(fr.end.includes(gr)){this.handleEnd(rr);return}if(fr.cancel.includes(gr)){this.handleCancel(rr);return}const{collisionRect:xr}=lr.current,_r=xr?{x:xr.left,y:xr.top}:defaultCoordinates;this.referenceCoordinates||(this.referenceCoordinates=_r);const yr=mr(rr,{active:ir,context:lr.current,currentCoordinates:_r});if(yr){const vr=subtract(yr,_r),br={x:0,y:0},{scrollableAncestors:Sr}=lr.current;for(const wr of Sr){const Mr=rr.code,{isTop:kr,isRight:Ar,isLeft:Ir,isBottom:$r,maxScroll:Dr,minScroll:Or}=getScrollPosition(wr),Fr=getScrollElementRect(wr),Lr={x:Math.min(Mr===KeyboardCode.Right?Fr.right-Fr.width/2:Fr.right,Math.max(Mr===KeyboardCode.Right?Fr.left:Fr.left+Fr.width/2,yr.x)),y:Math.min(Mr===KeyboardCode.Down?Fr.bottom-Fr.height/2:Fr.bottom,Math.max(Mr===KeyboardCode.Down?Fr.top:Fr.top+Fr.height/2,yr.y))},zr=Mr===KeyboardCode.Right&&!Ar||Mr===KeyboardCode.Left&&!Ir,Gr=Mr===KeyboardCode.Down&&!$r||Mr===KeyboardCode.Up&&!kr;if(zr&&Lr.x!==yr.x){const Jr=wr.scrollLeft+vr.x,Yn=Mr===KeyboardCode.Right&&Jr<=Dr.x||Mr===KeyboardCode.Left&&Jr>=Or.x;if(Yn&&!vr.y){wr.scrollTo({left:Jr,behavior:hr});return}Yn?br.x=wr.scrollLeft-Jr:br.x=Mr===KeyboardCode.Right?wr.scrollLeft-Dr.x:wr.scrollLeft-Or.x,br.x&&wr.scrollBy({left:-br.x,behavior:hr});break}else if(Gr&&Lr.y!==yr.y){const Jr=wr.scrollTop+vr.y,Yn=Mr===KeyboardCode.Down&&Jr<=Dr.y||Mr===KeyboardCode.Up&&Jr>=Or.y;if(Yn&&!vr.x){wr.scrollTo({top:Jr,behavior:hr});return}Yn?br.y=wr.scrollTop-Jr:br.y=Mr===KeyboardCode.Down?wr.scrollTop-Dr.y:wr.scrollTop-Or.y,br.y&&wr.scrollBy({top:-br.y,behavior:hr});break}}this.handleMove(rr,add(subtract(yr,this.referenceCoordinates),br))}}}handleMove(rr,ir){const{onMove:lr}=this.props;rr.preventDefault(),lr(ir)}handleEnd(rr){const{onEnd:ir}=this.props;rr.preventDefault(),this.detach(),ir()}handleCancel(rr){const{onCancel:ir}=this.props;rr.preventDefault(),this.detach(),ir()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}KeyboardSensor.activators=[{eventName:"onKeyDown",handler:(e,rr,ir)=>{let{keyboardCodes:lr=defaultKeyboardCodes,onActivation:dr}=rr,{active:fr}=ir;const{code:mr}=e.nativeEvent;if(lr.start.includes(mr)){const hr=fr.activatorNode.current;return hr&&e.target!==hr?!1:(e.preventDefault(),dr?.({event:e.nativeEvent}),!0)}return!1}}];function isDistanceConstraint(e){return!!(e&&"distance"in e)}function isDelayConstraint(e){return!!(e&&"delay"in e)}class AbstractPointerSensor{constructor(rr,ir,lr){var dr;lr===void 0&&(lr=getEventListenerTarget(rr.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=rr,this.events=ir;const{event:fr}=rr,{target:mr}=fr;this.props=rr,this.events=ir,this.document=getOwnerDocument(mr),this.documentListeners=new Listeners(this.document),this.listeners=new Listeners(lr),this.windowListeners=new Listeners(getWindow(mr)),this.initialCoordinates=(dr=getEventCoordinates(fr))!=null?dr:defaultCoordinates,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:rr,props:{options:{activationConstraint:ir,bypassActivationConstraint:lr}}}=this;if(this.listeners.add(rr.move.name,this.handleMove,{passive:!1}),this.listeners.add(rr.end.name,this.handleEnd),rr.cancel&&this.listeners.add(rr.cancel.name,this.handleCancel),this.windowListeners.add(EventName.Resize,this.handleCancel),this.windowListeners.add(EventName.DragStart,preventDefault),this.windowListeners.add(EventName.VisibilityChange,this.handleCancel),this.windowListeners.add(EventName.ContextMenu,preventDefault),this.documentListeners.add(EventName.Keydown,this.handleKeydown),ir){if(lr!=null&&lr({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(isDelayConstraint(ir)){this.timeoutId=setTimeout(this.handleStart,ir.delay),this.handlePending(ir);return}if(isDistanceConstraint(ir)){this.handlePending(ir);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(rr,ir){const{active:lr,onPending:dr}=this.props;dr(lr,rr,this.initialCoordinates,ir)}handleStart(){const{initialCoordinates:rr}=this,{onStart:ir}=this.props;rr&&(this.activated=!0,this.documentListeners.add(EventName.Click,stopPropagation,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(EventName.SelectionChange,this.removeTextSelection),ir(rr))}handleMove(rr){var ir;const{activated:lr,initialCoordinates:dr,props:fr}=this,{onMove:mr,options:{activationConstraint:hr}}=fr;if(!dr)return;const gr=(ir=getEventCoordinates(rr))!=null?ir:defaultCoordinates,xr=subtract(dr,gr);if(!lr&&hr){if(isDistanceConstraint(hr)){if(hr.tolerance!=null&&hasExceededDistance(xr,hr.tolerance))return this.handleCancel();if(hasExceededDistance(xr,hr.distance))return this.handleStart()}if(isDelayConstraint(hr)&&hasExceededDistance(xr,hr.tolerance))return this.handleCancel();this.handlePending(hr,xr);return}rr.cancelable&&rr.preventDefault(),mr(gr)}handleEnd(){const{onAbort:rr,onEnd:ir}=this.props;this.detach(),this.activated||rr(this.props.active),ir()}handleCancel(){const{onAbort:rr,onCancel:ir}=this.props;this.detach(),this.activated||rr(this.props.active),ir()}handleKeydown(rr){rr.code===KeyboardCode.Esc&&this.handleCancel()}removeTextSelection(){var rr;(rr=this.document.getSelection())==null||rr.removeAllRanges()}}const events={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class PointerSensor extends AbstractPointerSensor{constructor(rr){const{event:ir}=rr,lr=getOwnerDocument(ir.target);super(rr,events,lr)}}PointerSensor.activators=[{eventName:"onPointerDown",handler:(e,rr)=>{let{nativeEvent:ir}=e,{onActivation:lr}=rr;return!ir.isPrimary||ir.button!==0?!1:(lr?.({event:ir}),!0)}}];const events$1={move:{name:"mousemove"},end:{name:"mouseup"}};var MouseButton;(function(e){e[e.RightClick=2]="RightClick"})(MouseButton||(MouseButton={}));class MouseSensor extends AbstractPointerSensor{constructor(rr){super(rr,events$1,getOwnerDocument(rr.event.target))}}MouseSensor.activators=[{eventName:"onMouseDown",handler:(e,rr)=>{let{nativeEvent:ir}=e,{onActivation:lr}=rr;return ir.button===MouseButton.RightClick?!1:(lr?.({event:ir}),!0)}}];const events$2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class TouchSensor extends AbstractPointerSensor{constructor(rr){super(rr,events$2)}static setup(){return window.addEventListener(events$2.move.name,rr,{capture:!1,passive:!1}),function(){window.removeEventListener(events$2.move.name,rr)};function rr(){}}}TouchSensor.activators=[{eventName:"onTouchStart",handler:(e,rr)=>{let{nativeEvent:ir}=e,{onActivation:lr}=rr;const{touches:dr}=ir;return dr.length>1?!1:(lr?.({event:ir}),!0)}}];var AutoScrollActivator;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(AutoScrollActivator||(AutoScrollActivator={}));var TraversalOrder;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(TraversalOrder||(TraversalOrder={}));function useAutoScroller(e){let{acceleration:rr,activator:ir=AutoScrollActivator.Pointer,canScroll:lr,draggingRect:dr,enabled:fr,interval:mr=5,order:hr=TraversalOrder.TreeOrder,pointerCoordinates:gr,scrollableAncestors:xr,scrollableAncestorRects:_r,delta:yr,threshold:vr}=e;const br=useScrollIntent({delta:yr,disabled:!fr}),[Sr,wr]=useInterval(),Mr=reactExports.useRef({x:0,y:0}),kr=reactExports.useRef({x:0,y:0}),Ar=reactExports.useMemo(()=>{switch(ir){case AutoScrollActivator.Pointer:return gr?{top:gr.y,bottom:gr.y,left:gr.x,right:gr.x}:null;case AutoScrollActivator.DraggableRect:return dr}},[ir,dr,gr]),Ir=reactExports.useRef(null),$r=reactExports.useCallback(()=>{const Or=Ir.current;if(!Or)return;const Fr=Mr.current.x*kr.current.x,Lr=Mr.current.y*kr.current.y;Or.scrollBy(Fr,Lr)},[]),Dr=reactExports.useMemo(()=>hr===TraversalOrder.TreeOrder?[...xr].reverse():xr,[hr,xr]);reactExports.useEffect(()=>{if(!fr||!xr.length||!Ar){wr();return}for(const Or of Dr){if(lr?.(Or)===!1)continue;const Fr=xr.indexOf(Or),Lr=_r[Fr];if(!Lr)continue;const{direction:zr,speed:Gr}=getScrollDirectionAndSpeed(Or,Lr,Ar,rr,vr);for(const Jr of["x","y"])br[Jr][zr[Jr]]||(Gr[Jr]=0,zr[Jr]=0);if(Gr.x>0||Gr.y>0){wr(),Ir.current=Or,Sr($r,mr),Mr.current=Gr,kr.current=zr;return}}Mr.current={x:0,y:0},kr.current={x:0,y:0},wr()},[rr,$r,lr,wr,fr,mr,JSON.stringify(Ar),JSON.stringify(br),Sr,xr,Dr,_r,JSON.stringify(vr)])}const defaultScrollIntent={x:{[Direction.Backward]:!1,[Direction.Forward]:!1},y:{[Direction.Backward]:!1,[Direction.Forward]:!1}};function useScrollIntent(e){let{delta:rr,disabled:ir}=e;const lr=usePrevious(rr);return useLazyMemo(dr=>{if(ir||!lr||!dr)return defaultScrollIntent;const fr={x:Math.sign(rr.x-lr.x),y:Math.sign(rr.y-lr.y)};return{x:{[Direction.Backward]:dr.x[Direction.Backward]||fr.x===-1,[Direction.Forward]:dr.x[Direction.Forward]||fr.x===1},y:{[Direction.Backward]:dr.y[Direction.Backward]||fr.y===-1,[Direction.Forward]:dr.y[Direction.Forward]||fr.y===1}}},[ir,rr,lr])}function useCachedNode(e,rr){const ir=rr!=null?e.get(rr):void 0,lr=ir?ir.node.current:null;return useLazyMemo(dr=>{var fr;return rr==null?null:(fr=lr??dr)!=null?fr:null},[lr,rr])}function useCombineActivators(e,rr){return reactExports.useMemo(()=>e.reduce((ir,lr)=>{const{sensor:dr}=lr,fr=dr.activators.map(mr=>({eventName:mr.eventName,handler:rr(mr.handler,lr)}));return[...ir,...fr]},[]),[e,rr])}var MeasuringStrategy;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(MeasuringStrategy||(MeasuringStrategy={}));var MeasuringFrequency;(function(e){e.Optimized="optimized"})(MeasuringFrequency||(MeasuringFrequency={}));const defaultValue=new Map;function useDroppableMeasuring(e,rr){let{dragging:ir,dependencies:lr,config:dr}=rr;const[fr,mr]=reactExports.useState(null),{frequency:hr,measure:gr,strategy:xr}=dr,_r=reactExports.useRef(e),yr=Mr(),vr=useLatestValue(yr),br=reactExports.useCallback(function(kr){kr===void 0&&(kr=[]),!vr.current&&mr(Ar=>Ar===null?kr:Ar.concat(kr.filter(Ir=>!Ar.includes(Ir))))},[vr]),Sr=reactExports.useRef(null),wr=useLazyMemo(kr=>{if(yr&&!ir)return defaultValue;if(!kr||kr===defaultValue||_r.current!==e||fr!=null){const Ar=new Map;for(let Ir of e){if(!Ir)continue;if(fr&&fr.length>0&&!fr.includes(Ir.id)&&Ir.rect.current){Ar.set(Ir.id,Ir.rect.current);continue}const $r=Ir.node.current,Dr=$r?new Rect(gr($r),$r):null;Ir.rect.current=Dr,Dr&&Ar.set(Ir.id,Dr)}return Ar}return kr},[e,fr,ir,yr,gr]);return reactExports.useEffect(()=>{_r.current=e},[e]),reactExports.useEffect(()=>{yr||br()},[ir,yr]),reactExports.useEffect(()=>{fr&&fr.length>0&&mr(null)},[JSON.stringify(fr)]),reactExports.useEffect(()=>{yr||typeof hr!="number"||Sr.current!==null||(Sr.current=setTimeout(()=>{br(),Sr.current=null},hr))},[hr,yr,br,...lr]),{droppableRects:wr,measureDroppableContainers:br,measuringScheduled:fr!=null};function Mr(){switch(xr){case MeasuringStrategy.Always:return!1;case MeasuringStrategy.BeforeDragging:return ir;default:return!ir}}}function useInitialValue(e,rr){return useLazyMemo(ir=>e?ir||(typeof rr=="function"?rr(e):e):null,[rr,e])}function useInitialRect(e,rr){return useInitialValue(e,rr)}function useMutationObserver(e){let{callback:rr,disabled:ir}=e;const lr=useEvent(rr),dr=reactExports.useMemo(()=>{if(ir||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:fr}=window;return new fr(lr)},[lr,ir]);return reactExports.useEffect(()=>()=>dr?.disconnect(),[dr]),dr}function useResizeObserver(e){let{callback:rr,disabled:ir}=e;const lr=useEvent(rr),dr=reactExports.useMemo(()=>{if(ir||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:fr}=window;return new fr(lr)},[ir]);return reactExports.useEffect(()=>()=>dr?.disconnect(),[dr]),dr}function defaultMeasure(e){return new Rect(getClientRect(e),e)}function useRect(e,rr,ir){rr===void 0&&(rr=defaultMeasure);const[lr,dr]=reactExports.useState(null);function fr(){dr(gr=>{if(!e)return null;if(e.isConnected===!1){var xr;return(xr=gr??ir)!=null?xr:null}const _r=rr(e);return JSON.stringify(gr)===JSON.stringify(_r)?gr:_r})}const mr=useMutationObserver({callback(gr){if(e)for(const xr of gr){const{type:_r,target:yr}=xr;if(_r==="childList"&&yr instanceof HTMLElement&&yr.contains(e)){fr();break}}}}),hr=useResizeObserver({callback:fr});return useIsomorphicLayoutEffect(()=>{fr(),e?(hr?.observe(e),mr?.observe(document.body,{childList:!0,subtree:!0})):(hr?.disconnect(),mr?.disconnect())},[e]),lr}function useRectDelta(e){const rr=useInitialValue(e);return getRectDelta(e,rr)}const defaultValue$1=[];function useScrollableAncestors(e){const rr=reactExports.useRef(e),ir=useLazyMemo(lr=>e?lr&&lr!==defaultValue$1&&e&&rr.current&&e.parentNode===rr.current.parentNode?lr:getScrollableAncestors(e):defaultValue$1,[e]);return reactExports.useEffect(()=>{rr.current=e},[e]),ir}function useScrollOffsets(e){const[rr,ir]=reactExports.useState(null),lr=reactExports.useRef(e),dr=reactExports.useCallback(fr=>{const mr=getScrollableElement(fr.target);mr&&ir(hr=>hr?(hr.set(mr,getScrollCoordinates(mr)),new Map(hr)):null)},[]);return reactExports.useEffect(()=>{const fr=lr.current;if(e!==fr){mr(fr);const hr=e.map(gr=>{const xr=getScrollableElement(gr);return xr?(xr.addEventListener("scroll",dr,{passive:!0}),[xr,getScrollCoordinates(xr)]):null}).filter(gr=>gr!=null);ir(hr.length?new Map(hr):null),lr.current=e}return()=>{mr(e),mr(fr)};function mr(hr){hr.forEach(gr=>{const xr=getScrollableElement(gr);xr?.removeEventListener("scroll",dr)})}},[dr,e]),reactExports.useMemo(()=>e.length?rr?Array.from(rr.values()).reduce((fr,mr)=>add(fr,mr),defaultCoordinates):getScrollOffsets(e):defaultCoordinates,[e,rr])}function useScrollOffsetsDelta(e,rr){rr===void 0&&(rr=[]);const ir=reactExports.useRef(null);return reactExports.useEffect(()=>{ir.current=null},rr),reactExports.useEffect(()=>{const lr=e!==defaultCoordinates;lr&&!ir.current&&(ir.current=e),!lr&&ir.current&&(ir.current=null)},[e]),ir.current?subtract(e,ir.current):defaultCoordinates}function useSensorSetup(e){reactExports.useEffect(()=>{if(!canUseDOM)return;const rr=e.map(ir=>{let{sensor:lr}=ir;return lr.setup==null?void 0:lr.setup()});return()=>{for(const ir of rr)ir?.()}},e.map(rr=>{let{sensor:ir}=rr;return ir}))}function useSyntheticListeners(e,rr){return reactExports.useMemo(()=>e.reduce((ir,lr)=>{let{eventName:dr,handler:fr}=lr;return ir[dr]=mr=>{fr(mr,rr)},ir},{}),[e,rr])}function useWindowRect(e){return reactExports.useMemo(()=>e?getWindowClientRect(e):null,[e])}const defaultValue$2=[];function useRects(e,rr){rr===void 0&&(rr=getClientRect);const[ir]=e,lr=useWindowRect(ir?getWindow(ir):null),[dr,fr]=reactExports.useState(defaultValue$2);function mr(){fr(()=>e.length?e.map(gr=>isDocumentScrollingElement(gr)?lr:new Rect(rr(gr),gr)):defaultValue$2)}const hr=useResizeObserver({callback:mr});return useIsomorphicLayoutEffect(()=>{hr?.disconnect(),mr(),e.forEach(gr=>hr?.observe(gr))},[e]),dr}function getMeasurableNode(e){if(!e)return null;if(e.children.length>1)return e;const rr=e.children[0];return isHTMLElement(rr)?rr:e}function useDragOverlayMeasuring(e){let{measure:rr}=e;const[ir,lr]=reactExports.useState(null),dr=reactExports.useCallback(xr=>{for(const{target:_r}of xr)if(isHTMLElement(_r)){lr(yr=>{const vr=rr(_r);return yr?{...yr,width:vr.width,height:vr.height}:vr});break}},[rr]),fr=useResizeObserver({callback:dr}),mr=reactExports.useCallback(xr=>{const _r=getMeasurableNode(xr);fr?.disconnect(),_r&&fr?.observe(_r),lr(_r?rr(_r):null)},[rr,fr]),[hr,gr]=useNodeRef(mr);return reactExports.useMemo(()=>({nodeRef:hr,rect:ir,setRef:gr}),[ir,hr,gr])}const defaultSensors=[{sensor:PointerSensor,options:{}},{sensor:KeyboardSensor,options:{}}],defaultData={current:{}},defaultMeasuringConfiguration={draggable:{measure:getTransformAgnosticClientRect},droppable:{measure:getTransformAgnosticClientRect,strategy:MeasuringStrategy.WhileDragging,frequency:MeasuringFrequency.Optimized},dragOverlay:{measure:getClientRect}};class DroppableContainersMap extends Map{get(rr){var ir;return rr!=null&&(ir=super.get(rr))!=null?ir:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(rr=>{let{disabled:ir}=rr;return!ir})}getNodeFor(rr){var ir,lr;return(ir=(lr=this.get(rr))==null?void 0:lr.node.current)!=null?ir:void 0}}const defaultPublicContext={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new DroppableContainersMap,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:noop},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:defaultMeasuringConfiguration,measureDroppableContainers:noop,windowRect:null,measuringScheduled:!1},defaultInternalContext={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:noop,draggableNodes:new Map,over:null,measureDroppableContainers:noop},InternalContext=reactExports.createContext(defaultInternalContext),PublicContext=reactExports.createContext(defaultPublicContext);function getInitialState(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new DroppableContainersMap}}}function reducer(e,rr){switch(rr.type){case Action.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:rr.initialCoordinates,active:rr.active}};case Action.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:rr.coordinates.x-e.draggable.initialCoordinates.x,y:rr.coordinates.y-e.draggable.initialCoordinates.y}}};case Action.DragEnd:case Action.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Action.RegisterDroppable:{const{element:ir}=rr,{id:lr}=ir,dr=new DroppableContainersMap(e.droppable.containers);return dr.set(lr,ir),{...e,droppable:{...e.droppable,containers:dr}}}case Action.SetDroppableDisabled:{const{id:ir,key:lr,disabled:dr}=rr,fr=e.droppable.containers.get(ir);if(!fr||lr!==fr.key)return e;const mr=new DroppableContainersMap(e.droppable.containers);return mr.set(ir,{...fr,disabled:dr}),{...e,droppable:{...e.droppable,containers:mr}}}case Action.UnregisterDroppable:{const{id:ir,key:lr}=rr,dr=e.droppable.containers.get(ir);if(!dr||lr!==dr.key)return e;const fr=new DroppableContainersMap(e.droppable.containers);return fr.delete(ir),{...e,droppable:{...e.droppable,containers:fr}}}default:return e}}function RestoreFocus(e){let{disabled:rr}=e;const{active:ir,activatorEvent:lr,draggableNodes:dr}=reactExports.useContext(InternalContext),fr=usePrevious(lr),mr=usePrevious(ir?.id);return reactExports.useEffect(()=>{if(!rr&&!lr&&fr&&mr!=null){if(!isKeyboardEvent(fr)||document.activeElement===fr.target)return;const hr=dr.get(mr);if(!hr)return;const{activatorNode:gr,node:xr}=hr;if(!gr.current&&!xr.current)return;requestAnimationFrame(()=>{for(const _r of[gr.current,xr.current]){if(!_r)continue;const yr=findFirstFocusableNode(_r);if(yr){yr.focus();break}}})}},[lr,rr,dr,mr,fr]),null}function applyModifiers(e,rr){let{transform:ir,...lr}=rr;return e!=null&&e.length?e.reduce((dr,fr)=>fr({transform:dr,...lr}),ir):ir}function useMeasuringConfiguration(e){return reactExports.useMemo(()=>({draggable:{...defaultMeasuringConfiguration.draggable,...e?.draggable},droppable:{...defaultMeasuringConfiguration.droppable,...e?.droppable},dragOverlay:{...defaultMeasuringConfiguration.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function useLayoutShiftScrollCompensation(e){let{activeNode:rr,measure:ir,initialRect:lr,config:dr=!0}=e;const fr=reactExports.useRef(!1),{x:mr,y:hr}=typeof dr=="boolean"?{x:dr,y:dr}:dr;useIsomorphicLayoutEffect(()=>{if(!mr&&!hr||!rr){fr.current=!1;return}if(fr.current||!lr)return;const xr=rr?.node.current;if(!xr||xr.isConnected===!1)return;const _r=ir(xr),yr=getRectDelta(_r,lr);if(mr||(yr.x=0),hr||(yr.y=0),fr.current=!0,Math.abs(yr.x)>0||Math.abs(yr.y)>0){const vr=getFirstScrollableAncestor(xr);vr&&vr.scrollBy({top:yr.y,left:yr.x})}},[rr,mr,hr,lr,ir])}const ActiveDraggableContext=reactExports.createContext({...defaultCoordinates,scaleX:1,scaleY:1});var Status;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Status||(Status={}));const DndContext=reactExports.memo(function e(rr){var ir,lr,dr,fr;let{id:mr,accessibility:hr,autoScroll:gr=!0,children:xr,sensors:_r=defaultSensors,collisionDetection:yr=rectIntersection,measuring:vr,modifiers:br,...Sr}=rr;const wr=reactExports.useReducer(reducer,void 0,getInitialState),[Mr,kr]=wr,[Ar,Ir]=useDndMonitorProvider(),[$r,Dr]=reactExports.useState(Status.Uninitialized),Or=$r===Status.Initialized,{draggable:{active:Fr,nodes:Lr,translate:zr},droppable:{containers:Gr}}=Mr,Jr=Fr!=null?Lr.get(Fr):null,Yn=reactExports.useRef({initial:null,translated:null}),Jn=reactExports.useMemo(()=>{var Gs;return Fr!=null?{id:Fr,data:(Gs=Jr?.data)!=null?Gs:defaultData,rect:Yn}:null},[Fr,Jr]),Zn=reactExports.useRef(null),[Hn,Kn]=reactExports.useState(null),[qn,Qr]=reactExports.useState(null),$n=useLatestValue(Sr,Object.values(Sr)),es=useUniqueId("DndDescribedBy",mr),Xn=reactExports.useMemo(()=>Gr.getEnabled(),[Gr]),rs=useMeasuringConfiguration(vr),{droppableRects:ns,measureDroppableContainers:ls,measuringScheduled:ss}=useDroppableMeasuring(Xn,{dragging:Or,dependencies:[zr.x,zr.y],config:rs.droppable}),as=useCachedNode(Lr,Fr),us=reactExports.useMemo(()=>qn?getEventCoordinates(qn):null,[qn]),hs=Ys(),gs=useInitialRect(as,rs.draggable.measure);useLayoutShiftScrollCompensation({activeNode:Fr!=null?Lr.get(Fr):null,config:hs.layoutShiftCompensation,initialRect:gs,measure:rs.draggable.measure});const xs=useRect(as,rs.draggable.measure,gs),ms=useRect(as?as.parentElement:null),_s=reactExports.useRef({activatorEvent:null,active:null,activeNode:as,collisionRect:null,collisions:null,droppableRects:ns,draggableNodes:Lr,draggingNode:null,draggingNodeRect:null,droppableContainers:Gr,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Es=Gr.getNodeFor((ir=_s.current.over)==null?void 0:ir.id),vs=useDragOverlayMeasuring({measure:rs.dragOverlay.measure}),ws=(lr=vs.nodeRef.current)!=null?lr:as,Rs=Or?(dr=vs.rect)!=null?dr:xs:null,Ss=!!(vs.nodeRef.current&&vs.rect),ps=useRectDelta(Ss?null:xs),ys=useWindowRect(ws?getWindow(ws):null),Cs=useScrollableAncestors(Or?Es??as:null),Ms=useRects(Cs),ds=applyModifiers(br,{transform:{x:zr.x-ps.x,y:zr.y-ps.y,scaleX:1,scaleY:1},activatorEvent:qn,active:Jn,activeNodeRect:xs,containerNodeRect:ms,draggingNodeRect:Rs,over:_s.current.over,overlayNodeRect:vs.rect,scrollableAncestors:Cs,scrollableAncestorRects:Ms,windowRect:ys}),ks=us?add(us,zr):null,cs=useScrollOffsets(Cs),bs=useScrollOffsetsDelta(cs),Ts=useScrollOffsetsDelta(cs,[xs]),Ps=add(ds,bs),Is=Rs?getAdjustedRect(Rs,ds):null,js=Jn&&Is?yr({active:Jn,collisionRect:Is,droppableRects:ns,droppableContainers:Xn,pointerCoordinates:ks}):null,Ds=getFirstCollision(js,"id"),[$s,Fs]=reactExports.useState(null),As=Ss?ds:add(ds,Ts),qs=adjustScale(As,(fr=$s?.rect)!=null?fr:null,xs),zs=reactExports.useRef(null),Bs=reactExports.useCallback((Gs,Ks)=>{let{sensor:Hs,options:to}=Ks;if(Zn.current==null)return;const Js=Lr.get(Zn.current);if(!Js)return;const Zs=Gs.nativeEvent,Ns=new Hs({active:Zn.current,activeNode:Js,event:Zs,options:to,context:_s,onAbort(Vs){if(!Lr.get(Vs))return;const{onDragAbort:ro}=$n.current,Qs={id:Vs};ro?.(Qs),Ar({type:"onDragAbort",event:Qs})},onPending(Vs,Xs,ro,Qs){if(!Lr.get(Vs))return;const{onDragPending:ao}=$n.current,no={id:Vs,constraint:Xs,initialCoordinates:ro,offset:Qs};ao?.(no),Ar({type:"onDragPending",event:no})},onStart(Vs){const Xs=Zn.current;if(Xs==null)return;const ro=Lr.get(Xs);if(!ro)return;const{onDragStart:Qs}=$n.current,io={activatorEvent:Zs,active:{id:Xs,data:ro.data,rect:Yn}};reactDomExports.unstable_batchedUpdates(()=>{Qs?.(io),Dr(Status.Initializing),kr({type:Action.DragStart,initialCoordinates:Vs,active:Xs}),Ar({type:"onDragStart",event:io}),Kn(zs.current),Qr(Zs)})},onMove(Vs){kr({type:Action.DragMove,coordinates:Vs})},onEnd:Ls(Action.DragEnd),onCancel:Ls(Action.DragCancel)});zs.current=Ns;function Ls(Vs){return async function(){const{active:ro,collisions:Qs,over:io,scrollAdjustedTranslate:ao}=_s.current;let no=null;if(ro&&ao){const{cancelDrop:lo}=$n.current;no={activatorEvent:Zs,active:ro,collisions:Qs,delta:ao,over:io},Vs===Action.DragEnd&&typeof lo=="function"&&await Promise.resolve(lo(no))&&(Vs=Action.DragCancel)}Zn.current=null,reactDomExports.unstable_batchedUpdates(()=>{kr({type:Vs}),Dr(Status.Uninitialized),Fs(null),Kn(null),Qr(null),zs.current=null;const lo=Vs===Action.DragEnd?"onDragEnd":"onDragCancel";if(no){const uo=$n.current[lo];uo?.(no),Ar({type:lo,event:no})}})}}},[Lr]),Us=reactExports.useCallback((Gs,Ks)=>(Hs,to)=>{const Js=Hs.nativeEvent,Zs=Lr.get(to);if(Zn.current!==null||!Zs||Js.dndKit||Js.defaultPrevented)return;const Ns={active:Zs};Gs(Hs,Ks.options,Ns)===!0&&(Js.dndKit={capturedBy:Ks.sensor},Zn.current=to,Bs(Hs,Ks))},[Lr,Bs]),Ws=useCombineActivators(_r,Us);useSensorSetup(_r),useIsomorphicLayoutEffect(()=>{xs&&$r===Status.Initializing&&Dr(Status.Initialized)},[xs,$r]),reactExports.useEffect(()=>{const{onDragMove:Gs}=$n.current,{active:Ks,activatorEvent:Hs,collisions:to,over:Js}=_s.current;if(!Ks||!Hs)return;const Zs={active:Ks,activatorEvent:Hs,collisions:to,delta:{x:Ps.x,y:Ps.y},over:Js};reactDomExports.unstable_batchedUpdates(()=>{Gs?.(Zs),Ar({type:"onDragMove",event:Zs})})},[Ps.x,Ps.y]),reactExports.useEffect(()=>{const{active:Gs,activatorEvent:Ks,collisions:Hs,droppableContainers:to,scrollAdjustedTranslate:Js}=_s.current;if(!Gs||Zn.current==null||!Ks||!Js)return;const{onDragOver:Zs}=$n.current,Ns=to.get(Ds),Ls=Ns&&Ns.rect.current?{id:Ns.id,rect:Ns.rect.current,data:Ns.data,disabled:Ns.disabled}:null,Vs={active:Gs,activatorEvent:Ks,collisions:Hs,delta:{x:Js.x,y:Js.y},over:Ls};reactDomExports.unstable_batchedUpdates(()=>{Fs(Ls),Zs?.(Vs),Ar({type:"onDragOver",event:Vs})})},[Ds]),useIsomorphicLayoutEffect(()=>{_s.current={activatorEvent:qn,active:Jn,activeNode:as,collisionRect:Is,collisions:js,droppableRects:ns,draggableNodes:Lr,draggingNode:ws,draggingNodeRect:Rs,droppableContainers:Gr,over:$s,scrollableAncestors:Cs,scrollAdjustedTranslate:Ps},Yn.current={initial:Rs,translated:Is}},[Jn,as,js,Is,Lr,ws,Rs,ns,Gr,$s,Cs,Ps]),useAutoScroller({...hs,delta:zr,draggingRect:Is,pointerCoordinates:ks,scrollableAncestors:Cs,scrollableAncestorRects:Ms});const eo=reactExports.useMemo(()=>({active:Jn,activeNode:as,activeNodeRect:xs,activatorEvent:qn,collisions:js,containerNodeRect:ms,dragOverlay:vs,draggableNodes:Lr,droppableContainers:Gr,droppableRects:ns,over:$s,measureDroppableContainers:ls,scrollableAncestors:Cs,scrollableAncestorRects:Ms,measuringConfiguration:rs,measuringScheduled:ss,windowRect:ys}),[Jn,as,xs,qn,js,ms,vs,Lr,Gr,ns,$s,ls,Cs,Ms,rs,ss,ys]),oo=reactExports.useMemo(()=>({activatorEvent:qn,activators:Ws,active:Jn,activeNodeRect:xs,ariaDescribedById:{draggable:es},dispatch:kr,draggableNodes:Lr,over:$s,measureDroppableContainers:ls}),[qn,Ws,Jn,xs,kr,es,Lr,$s,ls]);return React$2.createElement(DndMonitorContext.Provider,{value:Ir},React$2.createElement(InternalContext.Provider,{value:oo},React$2.createElement(PublicContext.Provider,{value:eo},React$2.createElement(ActiveDraggableContext.Provider,{value:qs},xr)),React$2.createElement(RestoreFocus,{disabled:hr?.restoreFocus===!1})),React$2.createElement(Accessibility,{...hr,hiddenTextDescribedById:es}));function Ys(){const Gs=Hn?.autoScrollEnabled===!1,Ks=typeof gr=="object"?gr.enabled===!1:gr===!1,Hs=Or&&!Gs&&!Ks;return typeof gr=="object"?{...gr,enabled:Hs}:{enabled:Hs}}}),NullContext=reactExports.createContext(null),defaultRole="button",ID_PREFIX$1="Draggable";function useDraggable(e){let{id:rr,data:ir,disabled:lr=!1,attributes:dr}=e;const fr=useUniqueId(ID_PREFIX$1),{activators:mr,activatorEvent:hr,active:gr,activeNodeRect:xr,ariaDescribedById:_r,draggableNodes:yr,over:vr}=reactExports.useContext(InternalContext),{role:br=defaultRole,roleDescription:Sr="draggable",tabIndex:wr=0}=dr??{},Mr=gr?.id===rr,kr=reactExports.useContext(Mr?ActiveDraggableContext:NullContext),[Ar,Ir]=useNodeRef(),[$r,Dr]=useNodeRef(),Or=useSyntheticListeners(mr,rr),Fr=useLatestValue(ir);useIsomorphicLayoutEffect(()=>(yr.set(rr,{id:rr,key:fr,node:Ar,activatorNode:$r,data:Fr}),()=>{const zr=yr.get(rr);zr&&zr.key===fr&&yr.delete(rr)}),[yr,rr]);const Lr=reactExports.useMemo(()=>({role:br,tabIndex:wr,"aria-disabled":lr,"aria-pressed":Mr&&br===defaultRole?!0:void 0,"aria-roledescription":Sr,"aria-describedby":_r.draggable}),[lr,br,wr,Mr,Sr,_r.draggable]);return{active:gr,activatorEvent:hr,activeNodeRect:xr,attributes:Lr,isDragging:Mr,listeners:lr?void 0:Or,node:Ar,over:vr,setNodeRef:Ir,setActivatorNodeRef:Dr,transform:kr}}function useDndContext(){return reactExports.useContext(PublicContext)}const ID_PREFIX$1$1="Droppable",defaultResizeObserverConfig={timeout:25};function useDroppable(e){let{data:rr,disabled:ir=!1,id:lr,resizeObserverConfig:dr}=e;const fr=useUniqueId(ID_PREFIX$1$1),{active:mr,dispatch:hr,over:gr,measureDroppableContainers:xr}=reactExports.useContext(InternalContext),_r=reactExports.useRef({disabled:ir}),yr=reactExports.useRef(!1),vr=reactExports.useRef(null),br=reactExports.useRef(null),{disabled:Sr,updateMeasurementsFor:wr,timeout:Mr}={...defaultResizeObserverConfig,...dr},kr=useLatestValue(wr??lr),Ar=reactExports.useCallback(()=>{if(!yr.current){yr.current=!0;return}br.current!=null&&clearTimeout(br.current),br.current=setTimeout(()=>{xr(Array.isArray(kr.current)?kr.current:[kr.current]),br.current=null},Mr)},[Mr]),Ir=useResizeObserver({callback:Ar,disabled:Sr||!mr}),$r=reactExports.useCallback((Lr,zr)=>{Ir&&(zr&&(Ir.unobserve(zr),yr.current=!1),Lr&&Ir.observe(Lr))},[Ir]),[Dr,Or]=useNodeRef($r),Fr=useLatestValue(rr);return reactExports.useEffect(()=>{!Ir||!Dr.current||(Ir.disconnect(),yr.current=!1,Ir.observe(Dr.current))},[Dr,Ir]),reactExports.useEffect(()=>(hr({type:Action.RegisterDroppable,element:{id:lr,key:fr,disabled:ir,node:Dr,rect:vr,data:Fr}}),()=>hr({type:Action.UnregisterDroppable,key:fr,id:lr})),[lr]),reactExports.useEffect(()=>{ir!==_r.current.disabled&&(hr({type:Action.SetDroppableDisabled,id:lr,key:fr,disabled:ir}),_r.current.disabled=ir)},[lr,fr,ir,hr]),{active:mr,rect:vr,isOver:gr?.id===lr,node:Dr,over:gr,setNodeRef:Or}}function arrayMove(e,rr,ir){const lr=e.slice();return lr.splice(ir<0?lr.length+ir:ir,0,lr.splice(rr,1)[0]),lr}function getSortedRects(e,rr){return e.reduce((ir,lr,dr)=>{const fr=rr.get(lr);return fr&&(ir[dr]=fr),ir},Array(e.length))}function isValidIndex(e){return e!==null&&e>=0}function itemsEqual(e,rr){if(e===rr)return!0;if(e.length!==rr.length)return!1;for(let ir=0;ir<e.length;ir++)if(e[ir]!==rr[ir])return!1;return!0}function normalizeDisabled(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rectSortingStrategy=e=>{let{rects:rr,activeIndex:ir,overIndex:lr,index:dr}=e;const fr=arrayMove(rr,lr,ir),mr=rr[dr],hr=fr[dr];return!hr||!mr?null:{x:hr.left-mr.left,y:hr.top-mr.top,scaleX:hr.width/mr.width,scaleY:hr.height/mr.height}},defaultScale$1={scaleX:1,scaleY:1},verticalListSortingStrategy=e=>{var rr;let{activeIndex:ir,activeNodeRect:lr,index:dr,rects:fr,overIndex:mr}=e;const hr=(rr=fr[ir])!=null?rr:lr;if(!hr)return null;if(dr===ir){const xr=fr[mr];return xr?{x:0,y:ir<mr?xr.top+xr.height-(hr.top+hr.height):xr.top-hr.top,...defaultScale$1}:null}const gr=getItemGap$1(fr,dr,ir);return dr>ir&&dr<=mr?{x:0,y:-hr.height-gr,...defaultScale$1}:dr<ir&&dr>=mr?{x:0,y:hr.height+gr,...defaultScale$1}:{x:0,y:0,...defaultScale$1}};function getItemGap$1(e,rr,ir){const lr=e[rr],dr=e[rr-1],fr=e[rr+1];return lr?ir<rr?dr?lr.top-(dr.top+dr.height):fr?fr.top-(lr.top+lr.height):0:fr?fr.top-(lr.top+lr.height):dr?lr.top-(dr.top+dr.height):0:0}const ID_PREFIX="Sortable",Context=React$2.createContext({activeIndex:-1,containerId:ID_PREFIX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rectSortingStrategy,disabled:{draggable:!1,droppable:!1}});function SortableContext(e){let{children:rr,id:ir,items:lr,strategy:dr=rectSortingStrategy,disabled:fr=!1}=e;const{active:mr,dragOverlay:hr,droppableRects:gr,over:xr,measureDroppableContainers:_r}=useDndContext(),yr=useUniqueId(ID_PREFIX,ir),vr=hr.rect!==null,br=reactExports.useMemo(()=>lr.map(Or=>typeof Or=="object"&&"id"in Or?Or.id:Or),[lr]),Sr=mr!=null,wr=mr?br.indexOf(mr.id):-1,Mr=xr?br.indexOf(xr.id):-1,kr=reactExports.useRef(br),Ar=!itemsEqual(br,kr.current),Ir=Mr!==-1&&wr===-1||Ar,$r=normalizeDisabled(fr);useIsomorphicLayoutEffect(()=>{Ar&&Sr&&_r(br)},[Ar,br,Sr,_r]),reactExports.useEffect(()=>{kr.current=br},[br]);const Dr=reactExports.useMemo(()=>({activeIndex:wr,containerId:yr,disabled:$r,disableTransforms:Ir,items:br,overIndex:Mr,useDragOverlay:vr,sortedRects:getSortedRects(br,gr),strategy:dr}),[wr,yr,$r.draggable,$r.droppable,Ir,br,Mr,gr,vr,dr]);return React$2.createElement(Context.Provider,{value:Dr},rr)}const defaultNewIndexGetter=e=>{let{id:rr,items:ir,activeIndex:lr,overIndex:dr}=e;return arrayMove(ir,lr,dr).indexOf(rr)},defaultAnimateLayoutChanges=e=>{let{containerId:rr,isSorting:ir,wasDragging:lr,index:dr,items:fr,newIndex:mr,previousItems:hr,previousContainerId:gr,transition:xr}=e;return!xr||!lr||hr!==fr&&dr===mr?!1:ir?!0:mr!==dr&&rr===gr},defaultTransition={duration:200,easing:"ease"},transitionProperty="transform",disabledTransition=CSS$1.Transition.toString({property:transitionProperty,duration:0,easing:"linear"}),defaultAttributes={roleDescription:"sortable"};function useDerivedTransform(e){let{disabled:rr,index:ir,node:lr,rect:dr}=e;const[fr,mr]=reactExports.useState(null),hr=reactExports.useRef(ir);return useIsomorphicLayoutEffect(()=>{if(!rr&&ir!==hr.current&&lr.current){const gr=dr.current;if(gr){const xr=getClientRect(lr.current,{ignoreTransform:!0}),_r={x:gr.left-xr.left,y:gr.top-xr.top,scaleX:gr.width/xr.width,scaleY:gr.height/xr.height};(_r.x||_r.y)&&mr(_r)}}ir!==hr.current&&(hr.current=ir)},[rr,ir,lr,dr]),reactExports.useEffect(()=>{fr&&mr(null)},[fr]),fr}function useSortable(e){let{animateLayoutChanges:rr=defaultAnimateLayoutChanges,attributes:ir,disabled:lr,data:dr,getNewIndex:fr=defaultNewIndexGetter,id:mr,strategy:hr,resizeObserverConfig:gr,transition:xr=defaultTransition}=e;const{items:_r,containerId:yr,activeIndex:vr,disabled:br,disableTransforms:Sr,sortedRects:wr,overIndex:Mr,useDragOverlay:kr,strategy:Ar}=reactExports.useContext(Context),Ir=normalizeLocalDisabled(lr,br),$r=_r.indexOf(mr),Dr=reactExports.useMemo(()=>({sortable:{containerId:yr,index:$r,items:_r},...dr}),[yr,dr,$r,_r]),Or=reactExports.useMemo(()=>_r.slice(_r.indexOf(mr)),[_r,mr]),{rect:Fr,node:Lr,isOver:zr,setNodeRef:Gr}=useDroppable({id:mr,data:Dr,disabled:Ir.droppable,resizeObserverConfig:{updateMeasurementsFor:Or,...gr}}),{active:Jr,activatorEvent:Yn,activeNodeRect:Jn,attributes:Zn,setNodeRef:Hn,listeners:Kn,isDragging:qn,over:Qr,setActivatorNodeRef:$n,transform:es}=useDraggable({id:mr,data:Dr,attributes:{...defaultAttributes,...ir},disabled:Ir.draggable}),Xn=useCombinedRefs(Gr,Hn),rs=!!Jr,ns=rs&&!Sr&&isValidIndex(vr)&&isValidIndex(Mr),ls=!kr&&qn,ss=ls&&ns?es:null,us=ns?ss??(hr??Ar)({rects:wr,activeNodeRect:Jn,activeIndex:vr,overIndex:Mr,index:$r}):null,hs=isValidIndex(vr)&&isValidIndex(Mr)?fr({id:mr,items:_r,activeIndex:vr,overIndex:Mr}):$r,gs=Jr?.id,xs=reactExports.useRef({activeId:gs,items:_r,newIndex:hs,containerId:yr}),ms=_r!==xs.current.items,_s=rr({active:Jr,containerId:yr,isDragging:qn,isSorting:rs,id:mr,index:$r,items:_r,newIndex:xs.current.newIndex,previousItems:xs.current.items,previousContainerId:xs.current.containerId,transition:xr,wasDragging:xs.current.activeId!=null}),Es=useDerivedTransform({disabled:!_s,index:$r,node:Lr,rect:Fr});return reactExports.useEffect(()=>{rs&&xs.current.newIndex!==hs&&(xs.current.newIndex=hs),yr!==xs.current.containerId&&(xs.current.containerId=yr),_r!==xs.current.items&&(xs.current.items=_r)},[rs,hs,yr,_r]),reactExports.useEffect(()=>{if(gs===xs.current.activeId)return;if(gs!=null&&xs.current.activeId==null){xs.current.activeId=gs;return}const ws=setTimeout(()=>{xs.current.activeId=gs},50);return()=>clearTimeout(ws)},[gs]),{active:Jr,activeIndex:vr,attributes:Zn,data:Dr,rect:Fr,index:$r,newIndex:hs,items:_r,isOver:zr,isSorting:rs,isDragging:qn,listeners:Kn,node:Lr,overIndex:Mr,over:Qr,setNodeRef:Xn,setActivatorNodeRef:$n,setDroppableNodeRef:Gr,setDraggableNodeRef:Hn,transform:Es??us,transition:vs()};function vs(){if(Es||ms&&xs.current.newIndex===$r)return disabledTransition;if(!(ls&&!isKeyboardEvent(Yn)||!xr)&&(rs||_s))return CSS$1.Transition.toString({...xr,property:transitionProperty})}}function normalizeLocalDisabled(e,rr){var ir,lr;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(ir=e?.draggable)!=null?ir:rr.draggable,droppable:(lr=e?.droppable)!=null?lr:rr.droppable}}KeyboardCode.Down,KeyboardCode.Right,KeyboardCode.Up,KeyboardCode.Left;function ProblemBankFilters({filters:e,setFilters:rr,...ir}){const[lr,dr]=reactExports.useState(void 0),fr=useDebouncedCallback(hr=>{rr({...e,search:hr})},200),mr=hr=>{const gr=hr.currentTarget.value;dr(gr),fr(gr)};return jsxRuntimeExports.jsxs(Paper,{withBorder:!0,p:"md",...ir,children:[jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(Title,{order:3,children:"Filters"}),jsxRuntimeExports.jsx(IconFilter,{})]}),jsxRuntimeExports.jsx(Divider,{my:"xs"}),jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsx(TextInput,{label:"Search problems",placeholder:"Search for a problem",value:lr,onChange:mr})})]})}function ProblemBankList({filters:e,sorting:rr,existingProblemIds:ir,...lr}){const{user_id:dr}=useUser(),{id:fr}=useParams({from:"/_admin/admin/assessment/$id/details"}),{mutate:mr,isPending:hr}=useAddAssessmentProblemMutation(),[gr,xr]=reactExports.useState(ir??[]),_r=useNavigate(),{data:yr,fetchNextPage:vr,hasNextPage:br,isFetchingNextPage:Sr,isLoading:wr,error:Mr}=useUserProblemsInfinite({userId:dr,filters:e,sorting:rr,pageSize:20}),kr=()=>{const Ir=document.querySelector("[data-scroll-area-viewport]");if(!Ir||!br||Sr)return;const{scrollTop:$r,scrollHeight:Dr,clientHeight:Or}=Ir;$r+Or>=Dr-100&&vr()},Ar=()=>{mr({assessment:fr,problems:gr},{onSuccess:()=>{xr([])},onError:Ir=>{showErrorNotification({title:"Error adding problems",message:Ir.message})}})};return Mr?jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsx(Center,{children:jsxRuntimeExports.jsxs(Text$2,{c:"red",children:["Error loading problems: ",Mr.message]})})}):jsxRuntimeExports.jsx(Paper,{withBorder:!0,...lr,children:jsxRuntimeExports.jsx(Stack,{children:jsxRuntimeExports.jsxs(ScrollArea,{h:600,onScrollPositionChange:kr,scrollbars:"y",children:[jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,captionSide:"bottom",children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsx(Table.Tr,{children:jsxRuntimeExports.jsx(Table.Th,{children:jsxRuntimeExports.jsxs(Group,{justify:"space-between",align:"center",children:["Problem",jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"filled",onClick:Ar,disabled:gr.length===0,loading:hr,children:"Add"})]})})})}),jsxRuntimeExports.jsx(Table.Caption,{children:yr?.pages[0]?.totalCount!==void 0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Showing",yr.pages.flatMap(Ir=>Ir.items).length," of",yr.pages[0].totalCount," problems"]})}),jsxRuntimeExports.jsx(Table.Tbody,{children:wr?jsxRuntimeExports.jsx(Table.Tr,{children:jsxRuntimeExports.jsx(Table.Td,{colSpan:1,children:jsxRuntimeExports.jsx(Center,{py:"xl",children:jsxRuntimeExports.jsx(Loader,{})})})}):yr?.pages.flatMap(Ir=>Ir.items).length===0?jsxRuntimeExports.jsx(Table.Tr,{children:jsxRuntimeExports.jsx(Table.Td,{colSpan:1,children:jsxRuntimeExports.jsx(Center,{py:"xl",children:jsxRuntimeExports.jsx(Text$2,{c:"dimmed",children:"No problems found"})})})}):yr?.pages.flatMap(Ir=>Ir.items).map(Ir=>jsxRuntimeExports.jsx(Table.Tr,{style:{cursor:"pointer"},bg:gr.includes(Ir.id)?"var(--mantine-color-blue-light)":void 0,onClick:()=>{xr($r=>$r.includes(Ir.id)?$r.filter(Dr=>Dr!==Ir.id):[...$r,Ir.id])},children:jsxRuntimeExports.jsx(Table.Td,{children:jsxRuntimeExports.jsx(Box,{children:jsxRuntimeExports.jsxs(Group,{justify:"space-between",align:"center",children:[jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsxs(Stack,{gap:"xs",children:[jsxRuntimeExports.jsx(Text$2,{fw:600,size:"sm",children:Ir.name}),jsxRuntimeExports.jsxs(Group,{gap:"xs",children:[jsxRuntimeExports.jsx(IconClock,{size:12}),jsxRuntimeExports.jsx(Text$2,{size:"xs",c:"dimmed",children:dayjs(Ir.created_at).format("MMM D, YYYY")})]})]}),jsxRuntimeExports.jsx(ActionIcon,{size:"lg",variant:"light",color:"black",onClick:$r=>{$r.stopPropagation(),$r.preventDefault(),_r({to:"/admin/problems",search:{id:Ir.id}})},children:jsxRuntimeExports.jsx(IconEye,{})})]}),jsxRuntimeExports.jsx(Checkbox,{"aria-label":"Select problem",checked:gr.includes(Ir.id),onChange:$r=>xr($r.currentTarget.checked?[...gr,Ir.id]:gr.filter(Dr=>Dr!==Ir.id)),onClick:$r=>{$r.preventDefault(),$r.stopPropagation()}})]})})})},Ir.id))})]}),br&&jsxRuntimeExports.jsx(Center,{py:"md",children:Sr?jsxRuntimeExports.jsx(Loader,{}):jsxRuntimeExports.jsx(Button$1,{onClick:()=>vr(),variant:"light",children:"Load More"})})]})})})}function ProblemBankModal({close:e,existingProblemIds:rr}){const[ir,lr]=reactExports.useState({}),[dr]=reactExports.useState({sortOptions:[{sortBy:"created_at",order:"desc"}]});return jsxRuntimeExports.jsx(Modal,{opened:!0,onClose:e,title:"Add Problem",size:"80%",children:jsxRuntimeExports.jsx(Modal.Body,{h:"70vh",p:0,children:jsxRuntimeExports.jsxs(Group,{w:"full",h:"100%",align:"flex-start",children:[jsxRuntimeExports.jsx(ProblemBankFilters,{filters:ir,setFilters:lr,w:"20rem",h:"100%"}),jsxRuntimeExports.jsx(ProblemBankList,{filters:ir,sorting:dr,existingProblemIds:rr,flex:1})]})})})}function ProblemsTab(){const{id:e}=useParams({from:"/_admin/admin/assessment/$id/details"}),[rr,{open:ir,close:lr}]=useDisclosure(!1),{data:dr}=useFetchAssessmentById(e),fr=dr?.assessment_problems.map(xr=>xr.user_problems.id),mr=dr?.date_time_scheduled?dayjs(dr.date_time_scheduled).format("MMM DD, YYYY - hh:mm A"):"Not scheduled",gr=(()=>{if(!dr?.date_time_scheduled)return{label:"Draft",color:"gray"};const xr=new Date;return new Date(dr.date_time_scheduled)>xr?{label:"Scheduled",color:"blue"}:{label:"Active",color:"green"}})();return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Group,{children:jsxRuntimeExports.jsx(Paper,{withBorder:!0,p:"md",radius:"md",w:"67%",m:"auto",children:jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx(Text$2,{fw:"bold",children:dr?.name}),jsxRuntimeExports.jsx(Badge,{variant:"light",color:gr.color,children:gr.label})]}),jsxRuntimeExports.jsxs(Group,{justify:"flex-start",gap:"8rem",children:[jsxRuntimeExports.jsxs(Group,{gap:"3px",align:"center",children:[jsxRuntimeExports.jsx(IconCalendar,{size:16,stroke:"2.5px",color:"blue"}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Date: ",mr]})]}),jsxRuntimeExports.jsxs(Group,{gap:"3px",align:"center",children:[jsxRuntimeExports.jsx(IconClock,{size:16,stroke:"2.5px",color:"blue"}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Duration: ",dr?.duration??60," minutes"]})]}),jsxRuntimeExports.jsxs(Group,{gap:"3px",align:"center",children:[jsxRuntimeExports.jsx(IconTrophy,{size:16,stroke:"2.5px",color:"blue"}),jsxRuntimeExports.jsxs(Text$2,{size:"sm",children:["Problems: ",dr?.assessment_problems.length??0]})]})]})]}),jsxRuntimeExports.jsx(Divider,{my:"md",w:"full"}),jsxRuntimeExports.jsxs(Stack,{h:"400px",children:[jsxRuntimeExports.jsxs(Group,{justify:"space-between",children:[jsxRuntimeExports.jsxs(Text$2,{fw:"bold",children:["Problems (",dr?.assessment_problems.length??0,")"]}),jsxRuntimeExports.jsx(Button$1,{onClick:ir,children:"Manage"})]}),jsxRuntimeExports.jsx(DNDListHandle,{problems:dr?.assessment_problems})]})]})})}),rr&&jsxRuntimeExports.jsx(ProblemBankModal,{close:lr,existingProblemIds:fr})]})}function DNDListHandle({problems:e}){const[rr,ir]=useListState$1([]);reactExports.useEffect(()=>{e&&ir.setState(e)},[e,ir]);const lr=useSensors(useSensor(PointerSensor,{activationConstraint:{distance:5}}),useSensor(KeyboardSensor)),dr=fr=>{const{active:mr,over:hr}=fr;if(!hr||mr.id===hr.id)return;const gr=rr.findIndex(_r=>_r.user_problems.id===mr.id),xr=rr.findIndex(_r=>_r.user_problems.id===hr.id);gr!==-1&&xr!==-1&&ir.setState(arrayMove(rr,gr,xr))};return jsxRuntimeExports.jsx(DndContext,{sensors:lr,collisionDetection:closestCenter,onDragEnd:dr,children:jsxRuntimeExports.jsx(SortableContext,{items:rr.map(fr=>fr.user_problems.id),strategy:verticalListSortingStrategy,children:rr.map(fr=>reactExports.createElement(SortableItem,{...fr,key:fr.user_problems.id}))})})}function SortableItem(e){const{attributes:rr,listeners:ir,setNodeRef:lr,transform:dr,transition:fr,isDragging:mr}=useSortable({id:e.user_problems.id});return jsxRuntimeExports.jsx(Paper,{p:"md",radius:"sm",withBorder:!0,ref:lr,style:{transform:CSS$1.Transform.toString(dr),transition:fr},shadow:mr?"md":void 0,...rr,children:jsxRuntimeExports.jsxs(Group,{children:[jsxRuntimeExports.jsx("div",{...ir,children:jsxRuntimeExports.jsx(IconGripVertical,{stroke:1.5})}),jsxRuntimeExports.jsx(Group,{flex:1,justify:"flex-start",children:jsxRuntimeExports.jsx(Text$2,{children:e.user_problems.name})})]})})}function CandidatesTab(){const[e,rr]=reactExports.useState([]),{mutate:ir}=useUpsertAssessmentCandidateMutation(),{mutate:lr,isPending:dr}=useSendInvitationsMutation(),{id:fr}=useParams({from:"/_admin/admin/assessment/$id/details"}),{data:mr}=useFetchAssessmentCandidateInvitations(fr),hr=e.length>0?e:mr,gr=Mr=>{const kr=Mr[0];papaparse_minExports.parse(kr,{header:!0,skipEmptyLines:!0,complete:Ar=>{const Ir=Ar.data;rr(Ir)}})},xr=Mr=>typeof Mr.email=="string"&&Mr.email.length>0&&typeof Mr.full_name=="string"&&Mr.full_name.length>0&&typeof Mr.matriculation_number=="string"&&Mr.matriculation_number.length>0,_r=Mr=>{const kr=[],Ar=new Set;if(Mr.forEach((Ir,$r)=>{xr(Ir)||(kr.push($r+1),(typeof Ir.email!="string"||!Ir.email)&&Ar.add("email"),(typeof Ir.full_name!="string"||!Ir.full_name)&&Ar.add("full_name"),(typeof Ir.matriculation_number!="string"||!Ir.matriculation_number)&&Ar.add("matriculation_number"))}),kr.length>0){const Ir=Array.from(Ar).join(", "),$r=kr.length<=5?kr.join(", "):`${kr.slice(0,5).join(", ")} and ${kr.length-5} more`;return{valid:!1,error:`CSV must contain valid ${Ir} columns. Issues found in row(s): ${$r}`}}return{valid:!0,candidates:Mr}},yr=()=>{const Mr=_r(e);if(!Mr.valid){showErrorNotification({title:"Invalid Candidate Data",message:Mr.error});return}ir(Mr.candidates.map(kr=>({assessment_id:fr,email:kr.email,full_name:kr.full_name,matriculation_number:kr.matriculation_number})),{onSuccess:()=>{showErrorNotification({title:"Success",message:"Candidates have been successfully saved.",color:"green"})},onError:kr=>{showErrorNotification({title:"Error Saving Candidates",message:kr.message})}})},vr=()=>{if(e.length>0){const Mr=_r(e);if(!Mr.valid){showErrorNotification({title:"Invalid Candidate Data",message:Mr.error});return}ir(Mr.candidates.map(kr=>({assessment_id:fr,email:kr.email,full_name:kr.full_name,matriculation_number:kr.matriculation_number})),{onSuccess:()=>{lr(fr,{onSuccess:kr=>{notifications.show({title:"Invitations Sent!",message:`Successfully sent ${kr.sent} invitation email(s).`,color:"green",icon:jsxRuntimeExports.jsx(IconSend,{size:16})}),rr([])},onError:kr=>{showErrorNotification({title:"Error Sending Invitations",message:kr.message})}})},onError:kr=>{showErrorNotification({title:"Error Saving Candidates",message:kr.message})}})}else lr(fr,{onSuccess:Mr=>{notifications.show({title:"Invitations Sent!",message:`Successfully sent ${Mr.sent} invitation email(s).`,color:"green",icon:jsxRuntimeExports.jsx(IconSend,{size:16})})},onError:Mr=>{showErrorNotification({title:"Error Sending Invitations",message:Mr.message})}})},br=e.length>0?Object.keys(e[0]):mr.length>0?Object.keys(mr[0]):[],Sr=mr.some(Mr=>Mr.active),wr=mr.filter(Mr=>Mr.active).length;return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Alert,{variant:"light",color:"blue",title:"CSV Schema Requirement",icon:jsxRuntimeExports.jsx(IconInfoCircle,{}),children:["You must ensure that the CSV file contains the following columns:"," ",jsxRuntimeExports.jsx("strong",{children:"email"}),", ",jsxRuntimeExports.jsx("strong",{children:"full_name"}),", and"," ",jsxRuntimeExports.jsx("strong",{children:"matriculation_number"}),"."]}),jsxRuntimeExports.jsx(DropCSV,{onDrop:gr,accept:[MIME_TYPES.csv],maxFiles:1}),hr.length>0&&jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsxs(Group,{justify:"space-between",children:[jsxRuntimeExports.jsxs(Text$2,{size:"sm",c:"dimmed",children:[hr.length," candidate",hr.length!==1?"s":""]}),Sr&&jsxRuntimeExports.jsxs(Badge,{color:"green",variant:"light",children:[wr," invitation",wr!==1?"s":""," sent"]})]}),jsxRuntimeExports.jsx(ScrollArea,{h:"32rem",type:"hover",children:jsxRuntimeExports.jsxs(Table,{highlightOnHover:!0,withTableBorder:!0,withColumnBorders:!0,stickyHeader:!0,striped:!0,children:[jsxRuntimeExports.jsx(Table.Thead,{children:jsxRuntimeExports.jsx(Table.Tr,{children:br.map(Mr=>jsxRuntimeExports.jsx(Table.Th,{children:Mr},Mr))})}),jsxRuntimeExports.jsx(Table.Tbody,{children:hr.map((Mr,kr)=>jsxRuntimeExports.jsx(Table.Tr,{children:br.map(Ar=>{const Ir=Mr[Ar];let $r="";return Ir==null?$r="":typeof Ir=="object"?$r=JSON.stringify(Ir):(typeof Ir=="string"||typeof Ir=="number"||typeof Ir=="boolean")&&($r=String(Ir)),jsxRuntimeExports.jsx(Table.Td,{children:$r},Ar)})},kr))})]})}),jsxRuntimeExports.jsxs(Group,{justify:"flex-end",children:[e.length>0&&jsxRuntimeExports.jsx(Button$1,{onClick:yr,variant:"light",children:"Save Candidates"}),jsxRuntimeExports.jsx(Button$1,{onClick:vr,disabled:hr.length===0||dr,loading:dr,leftSection:jsxRuntimeExports.jsx(IconSend,{size:16}),children:"Send Invitations"})]})]})]})}function getNextIndex({direction:e,levelIndex:rr,rowIndex:ir,cellIndex:lr,size:dr}){switch(e){case"up":return rr===0&&ir===0?null:ir===0?{levelIndex:rr-1,rowIndex:lr<=dr[rr-1][dr[rr-1].length-1]-1?dr[rr-1].length-1:dr[rr-1].length-2,cellIndex:lr}:{levelIndex:rr,rowIndex:ir-1,cellIndex:lr};case"down":return ir===dr[rr].length-1?{levelIndex:rr+1,rowIndex:0,cellIndex:lr}:ir===dr[rr].length-2&&lr>=dr[rr][dr[rr].length-1]?{levelIndex:rr+1,rowIndex:0,cellIndex:lr}:{levelIndex:rr,rowIndex:ir+1,cellIndex:lr};case"left":return rr===0&&ir===0&&lr===0?null:ir===0&&lr===0?{levelIndex:rr-1,rowIndex:dr[rr-1].length-1,cellIndex:dr[rr-1][dr[rr-1].length-1]-1}:lr===0?{levelIndex:rr,rowIndex:ir-1,cellIndex:dr[rr][ir-1]-1}:{levelIndex:rr,rowIndex:ir,cellIndex:lr-1};case"right":return ir===dr[rr].length-1&&lr===dr[rr][ir]-1?{levelIndex:rr+1,rowIndex:0,cellIndex:0}:lr===dr[rr][ir]-1?{levelIndex:rr,rowIndex:ir+1,cellIndex:0}:{levelIndex:rr,rowIndex:ir,cellIndex:lr+1};default:return{levelIndex:rr,rowIndex:ir,cellIndex:lr}}}function focusOnNextFocusableControl({controlsRef:e,direction:rr,levelIndex:ir,rowIndex:lr,cellIndex:dr,size:fr}){const mr=getNextIndex({direction:rr,size:fr,rowIndex:lr,cellIndex:dr,levelIndex:ir});if(!mr)return;const hr=e.current?.[mr.levelIndex]?.[mr.rowIndex]?.[mr.cellIndex];hr&&(hr.disabled||hr.getAttribute("data-hidden")||hr.getAttribute("data-outside")?focusOnNextFocusableControl({controlsRef:e,direction:rr,levelIndex:mr.levelIndex,cellIndex:mr.cellIndex,rowIndex:mr.rowIndex,size:fr}):hr.focus())}function getDirection(e){switch(e){case"ArrowDown":return"down";case"ArrowUp":return"up";case"ArrowRight":return"right";case"ArrowLeft":return"left";default:return null}}function getControlsSize(e){return e.current?.map(rr=>rr.map(ir=>ir.length))}function handleControlKeyDown({controlsRef:e,levelIndex:rr,rowIndex:ir,cellIndex:lr,event:dr}){const fr=getDirection(dr.key);if(fr){dr.preventDefault();const mr=getControlsSize(e);focusOnNextFocusableControl({controlsRef:e,direction:fr,levelIndex:rr,rowIndex:ir,cellIndex:lr,size:mr})}}function assignTime(e,rr){let ir=e?dayjs(e):dayjs();if(rr==="")return ir.format("YYYY-MM-DD HH:mm:ss");const[lr,dr,fr=0]=rr.split(":").map(Number);return ir=ir.set("hour",lr),ir=ir.set("minute",dr),ir=ir.set("second",fr),ir=ir.set("millisecond",0),ir.format("YYYY-MM-DD HH:mm:ss")}function toDateString(e){return e==null||e===""?e:dayjs(e).format("YYYY-MM-DD")}function toDateTimeString(e){return e==null||e===""?e:dayjs(e).format("YYYY-MM-DD HH:mm:ss")}function clampDate(e,rr,ir){return!e&&!rr?toDateTimeString(ir):e&&dayjs(ir).isBefore(e)?toDateTimeString(e):rr&&dayjs(ir).isAfter(rr)?toDateTimeString(rr):toDateTimeString(ir)}const DATES_PROVIDER_DEFAULT_SETTINGS={locale:"en",firstDayOfWeek:1,weekendDays:[0,6],labelSeparator:"",consistentWeeks:!1},DatesProviderContext=reactExports.createContext(DATES_PROVIDER_DEFAULT_SETTINGS);function useDatesContext(){const e=reactExports.useContext(DatesProviderContext),rr=reactExports.useCallback(fr=>fr||e.locale,[e.locale]),ir=reactExports.useCallback(fr=>typeof fr=="number"?fr:e.firstDayOfWeek,[e.firstDayOfWeek]),lr=reactExports.useCallback(fr=>Array.isArray(fr)?fr:e.weekendDays,[e.weekendDays]),dr=reactExports.useCallback(fr=>typeof fr=="string"?fr:e.labelSeparator,[e.labelSeparator]);return{...e,getLocale:rr,getFirstDayOfWeek:ir,getWeekendDays:lr,getLabelSeparator:dr}}function formatValue({value:e,type:rr,withTime:ir}){const lr=ir?toDateTimeString:toDateString;if(rr==="range"&&Array.isArray(e)){const dr=lr(e[0]),fr=lr(e[1]);return dr?fr?`${dr}  ${fr}`:`${dr} `:""}return rr==="multiple"&&Array.isArray(e)?e.filter(Boolean).join(", "):!Array.isArray(e)&&e?lr(e):""}function HiddenDatesInput({value:e,type:rr,name:ir,form:lr,withTime:dr=!1}){return jsxRuntimeExports.jsx("input",{type:"hidden",value:formatValue({value:e,type:rr,withTime:dr}),name:ir,form:lr})}HiddenDatesInput.displayName="@mantine/dates/HiddenDatesInput";function padTime(e){return e<10?`0${e}`:`${e}`}const getMaxDigit=e=>Number(e.toFixed(0)[0]),SpinInput=reactExports.forwardRef(({value:e,min:rr,max:ir,onChange:lr,focusable:dr,step:fr,onNextInput:mr,onPreviousInput:hr,onFocus:gr,readOnly:xr,..._r},yr)=>{const vr=getMaxDigit(ir),br=ir+1-fr,Sr=Mr=>{if(xr)return;const kr=Mr.replace(/\D/g,"");if(kr!==""){const Ar=clamp$3(parseInt(kr,10),rr,ir);lr(Ar),(Ar>vr||Mr.startsWith("00"))&&mr?.()}},wr=Mr=>{if(!xr){if((Mr.key==="0"||Mr.key==="Num0")&&e===0&&(Mr.preventDefault(),mr?.()),Mr.key==="Home"&&(Mr.preventDefault(),lr(rr)),Mr.key==="End"&&(Mr.preventDefault(),lr(ir)),(Mr.key==="Backspace"||Mr.key==="Delete")&&(Mr.preventDefault(),e!==null?lr(null):hr?.()),Mr.key==="ArrowRight"&&(Mr.preventDefault(),mr?.()),Mr.key==="ArrowLeft"&&(Mr.preventDefault(),hr?.()),Mr.key==="ArrowUp"){Mr.preventDefault();const kr=e===null?rr:clamp$3(e+fr,rr,br);lr(kr)}if(Mr.key==="ArrowDown"){Mr.preventDefault();const kr=e===null?br:clamp$3(e-fr,rr,br);lr(kr)}}};return jsxRuntimeExports.jsx("input",{ref:yr,type:"text",role:"spinbutton","aria-valuemin":rr,"aria-valuemax":ir,"aria-valuenow":e===null?0:e,"data-empty":e===null||void 0,inputMode:"numeric",placeholder:"--",value:e===null?"":padTime(e),onChange:Mr=>Sr(Mr.currentTarget.value),onKeyDown:wr,onFocus:Mr=>{Mr.currentTarget.select(),gr?.(Mr)},onClick:Mr=>{Mr.stopPropagation(),Mr.currentTarget.select()},onMouseDown:Mr=>Mr.stopPropagation(),..._r})});SpinInput.displayName="@mantine/dates/SpinInput";const[TimePickerProvider,useTimePickerContext]=createSafeContext("TimeInput component was not found in the component tree"),AmPmInput=reactExports.forwardRef(({labels:e,value:rr,onChange:ir,className:lr,style:dr,onPreviousInput:fr,readOnly:mr,onMouseDown:hr,onTouchStart:gr,inputType:xr,..._r},yr)=>{const vr=useTimePickerContext(),br=Sr=>{mr||(Sr.key==="Home"&&(Sr.preventDefault(),ir(e.am)),Sr.key==="End"&&(Sr.preventDefault(),ir(e.pm)),(Sr.key==="Backspace"||Sr.key==="Delete")&&(Sr.preventDefault(),rr===null?fr?.():ir(null)),Sr.key==="ArrowLeft"&&(Sr.preventDefault(),fr?.()),(Sr.key==="ArrowUp"||Sr.key==="ArrowDown")&&(Sr.preventDefault(),ir(rr===e.am?e.pm:e.am)),Sr.code==="KeyA"&&(Sr.preventDefault(),ir(e.am)),Sr.code==="KeyP"&&(Sr.preventDefault(),ir(e.pm)))};return xr==="input"?jsxRuntimeExports.jsx("input",{...vr.getStyles("field",{className:lr,style:dr}),ref:yr,value:rr||"--",onChange:Sr=>!mr&&ir(Sr.target.value||null),onClick:Sr=>Sr.stopPropagation(),onKeyDown:br,onMouseDown:Sr=>{Sr.stopPropagation(),hr?.(Sr)},"data-am-pm":!0,..._r}):jsxRuntimeExports.jsxs("select",{...vr.getStyles("field",{className:lr,style:dr}),ref:yr,value:rr||"",onChange:Sr=>!mr&&ir(Sr.target.value||null),onClick:Sr=>Sr.stopPropagation(),onKeyDown:br,onMouseDown:Sr=>{Sr.stopPropagation(),hr?.(Sr)},"data-am-pm":!0,..._r,children:[jsxRuntimeExports.jsx("option",{value:"",children:"--"}),jsxRuntimeExports.jsx("option",{value:e.am,children:e.am}),jsxRuntimeExports.jsx("option",{value:e.pm,children:e.pm})]})});AmPmInput.displayName="@mantine/dates/AmPmInput";function TimeControl({value:e,active:rr,onSelect:ir}){const lr=useTimePickerContext();return jsxRuntimeExports.jsx(UnstyledButton,{mod:{active:rr},onClick:()=>ir(e),onMouseDown:dr=>dr.preventDefault(),"data-value":e,tabIndex:-1,...lr.getStyles("control"),children:typeof e=="number"?padTime(e):e})}TimeControl.displayName="@mantine/dates/TimeControl";function AmPmControlsList({labels:e,value:rr,onSelect:ir}){const lr=useTimePickerContext(),dr=[e.am,e.pm].map(fr=>jsxRuntimeExports.jsx(TimeControl,{value:fr,active:rr===fr,onSelect:ir},fr));return jsxRuntimeExports.jsx("div",{...lr.getStyles("controlsList"),children:dr})}AmPmControlsList.displayName="@mantine/dates/AmPmControlsList";function isElementVisibleInScrollContainer(e,rr){if(!e||!rr)return!1;const ir=e.getBoundingClientRect(),lr=rr.getBoundingClientRect();return ir.top>=lr.top&&ir.bottom<=lr.bottom&&ir.left>=lr.left&&ir.right<=lr.right}function getValuesRange(e,rr,ir){const lr=[];for(let dr=e;dr<=rr;dr+=ir)lr.push(dr);return lr}function TimeControlsList({min:e,max:rr,step:ir,value:lr,onSelect:dr}){const fr=useTimePickerContext(),mr=reactExports.useRef(null),gr=getValuesRange(e,rr,ir).map(xr=>jsxRuntimeExports.jsx(TimeControl,{value:xr,active:lr===xr,onSelect:dr},xr));return reactExports.useEffect(()=>{if(lr!==null){const xr=mr.current?.querySelector(`[data-value="${lr}"]`);isElementVisibleInScrollContainer(xr,mr.current)||xr?.scrollIntoView({block:"nearest"})}},[lr]),jsxRuntimeExports.jsx(ScrollArea,{h:fr.maxDropdownContentHeight,type:"never",viewportRef:mr,...fr.getStyles("scrollarea"),...fr.scrollAreaProps,children:jsxRuntimeExports.jsx("div",{...fr.getStyles("controlsList"),children:gr})})}TimeControlsList.displayName="@mantine/dates/TimeControlsList";function splitTimeString(e){const[rr=null,ir=null,lr=null]=e.split(":").map(Number);return{hours:rr,minutes:ir,seconds:lr}}function isSameTime({time:e,compare:rr,withSeconds:ir}){const lr=splitTimeString(e),dr=splitTimeString(rr);return ir?lr.hours===dr.hours&&lr.minutes===dr.minutes&&lr.seconds===dr.seconds:lr.hours===dr.hours&&lr.minutes===dr.minutes}function getTimeFromDate(e,rr){return`${e.getHours()}:${e.getMinutes()}${rr?`:${e.getSeconds()}`:""}`}function getFormattedTime({value:e,format:rr,amPmLabels:ir,withSeconds:lr}){const dr=splitTimeString(typeof e=="string"?e:getTimeFromDate(e,lr));if(dr.hours===null||dr.minutes===null)return null;if(rr==="24h")return`${padTime(dr.hours)}:${padTime(dr.minutes)}${lr?`:${padTime(dr.seconds||0)}`:""}`;const fr=dr.hours>=12;return`${dr.hours%12===0?12:dr.hours%12}:${padTime(dr.minutes)}${lr?`:${padTime(dr.seconds||0)}`:""} ${fr?ir.pm:ir.am}`}function TimeValue({value:e,format:rr="24h",amPmLabels:ir={am:"AM",pm:"PM"},withSeconds:lr=!1}){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:getFormattedTime({value:e,format:rr,amPmLabels:ir,withSeconds:lr})})}TimeValue.displayName="@mantine/dates/TimeValue";function TimePresetControl({value:e,active:rr,onChange:ir,format:lr,amPmLabels:dr,withSeconds:fr}){const mr=useTimePickerContext();return jsxRuntimeExports.jsx(UnstyledButton,{mod:{active:rr},onClick:()=>ir(e),...mr.getStyles("presetControl"),children:jsxRuntimeExports.jsx(TimeValue,{withSeconds:fr,value:e,format:lr,amPmLabels:dr})})}TimePresetControl.displayName="@mantine/dates/TimePresetControl";function TimePresetGroup({value:e,data:rr,onChange:ir,format:lr,amPmLabels:dr,withSeconds:fr}){const mr=useTimePickerContext(),hr=rr.values.map(gr=>jsxRuntimeExports.jsx(TimePresetControl,{value:gr,format:lr,amPmLabels:dr,withSeconds:fr,active:isSameTime({time:gr,compare:e,withSeconds:fr}),onChange:ir},gr));return jsxRuntimeExports.jsxs("div",{...mr.getStyles("presetsGroup"),children:[jsxRuntimeExports.jsx("div",{...mr.getStyles("presetsGroupLabel"),children:rr.label}),jsxRuntimeExports.jsx(SimpleGrid,{cols:fr?2:3,spacing:4,children:hr})]})}TimePresetGroup.displayName="@mantine/dates/TimePresetGroup";function TimePresets({presets:e,format:rr,amPmLabels:ir,withSeconds:lr,value:dr,onChange:fr}){const mr=useTimePickerContext();if(e.length===0)return null;if(typeof e[0]=="string"){const gr=e.map(xr=>jsxRuntimeExports.jsx(TimePresetControl,{value:xr,format:rr,amPmLabels:ir,withSeconds:lr,active:isSameTime({time:xr,compare:dr,withSeconds:lr}),onChange:fr},xr));return jsxRuntimeExports.jsx(ScrollArea.Autosize,{mah:mr.maxDropdownContentHeight,type:"never",...mr.getStyles("scrollarea"),...mr.scrollAreaProps,children:jsxRuntimeExports.jsx("div",{...mr.getStyles("presetsRoot"),children:jsxRuntimeExports.jsx(SimpleGrid,{cols:lr?2:3,spacing:4,children:gr})})})}const hr=e.map((gr,xr)=>jsxRuntimeExports.jsx(TimePresetGroup,{data:gr,value:dr,format:rr,amPmLabels:ir,withSeconds:lr,onChange:fr},xr));return jsxRuntimeExports.jsx(ScrollArea.Autosize,{mah:mr.maxDropdownContentHeight,type:"never",...mr.getStyles("scrollarea"),...mr.scrollAreaProps,children:jsxRuntimeExports.jsx("div",{...mr.getStyles("presetsRoot"),children:hr})})}TimePresets.displayName="@mantine/dates/TimePresets";function timeToSeconds(e){const[rr=0,ir=0,lr=0]=e.split(":").map(Number);return rr*3600+ir*60+lr}function secondsToTime(e){const rr=Math.floor(e/3600),ir=Math.floor(e%3600/60),lr=e%60;return{timeString:`${padTime(rr)}:${padTime(ir)}:${padTime(lr)}`,hours:rr,minutes:ir,seconds:lr}}function clampTime(e,rr,ir){const lr=timeToSeconds(e),dr=timeToSeconds(rr),fr=timeToSeconds(ir),mr=Math.max(dr,Math.min(lr,fr));return secondsToTime(mr)}function convertTimeTo12HourFormat({hours:e,minutes:rr,seconds:ir,amPmLabels:lr}){if(e===null)return{hours:null,minutes:null,seconds:null,amPm:null};const dr=e>=12?lr.pm:lr.am;return{hours:e%12===0?12:e%12,minutes:typeof rr=="number"?rr:null,seconds:typeof ir=="number"?ir:null,amPm:dr}}function getParsedTime({time:e,format:rr,amPmLabels:ir}){if(e==="")return{hours:null,minutes:null,seconds:null,amPm:null};const{hours:lr,minutes:dr,seconds:fr}=splitTimeString(e),mr={hours:lr,minutes:dr,seconds:fr};return rr==="12h"?convertTimeTo12HourFormat({...mr,amPmLabels:ir}):{...mr,amPm:null}}function convertTo24HourFormat({hours:e,minutes:rr,seconds:ir,amPm:lr,amPmLabels:dr,withSeconds:fr}){let mr=e;return lr===dr.pm&&e!==12?mr+=12:lr===dr.am&&e===12&&(mr=0),`${padTime(mr)}:${padTime(rr)}${fr?`:${padTime(ir||0)}`:""}`}function getTimeString({hours:e,minutes:rr,seconds:ir,format:lr,withSeconds:dr,amPm:fr,amPmLabels:mr}){return e===null||rr===null?{valid:!1,value:""}:dr&&ir===null?{valid:!1,value:""}:lr==="24h"?{valid:!0,value:`${padTime(e)}:${padTime(rr)}${dr?`:${padTime(ir)}`:""}`}:fr===null?{valid:!1,value:""}:{valid:!0,value:convertTo24HourFormat({hours:e,minutes:rr,seconds:ir,amPm:fr,amPmLabels:mr,withSeconds:dr})}}function useTimePicker({value:e,defaultValue:rr,onChange:ir,format:lr,amPmLabels:dr,withSeconds:fr=!1,min:mr,max:hr,clearable:gr,readOnly:xr,disabled:_r,pasteSplit:yr}){const vr=getParsedTime({time:e||rr||"",amPmLabels:dr,format:lr}),br=reactExports.useRef(!0),[Sr,wr]=reactExports.useState(vr.hours),[Mr,kr]=reactExports.useState(vr.minutes),[Ar,Ir]=reactExports.useState(vr.seconds),[$r,Dr]=reactExports.useState(vr.amPm),Or=gr&&!xr&&!_r&&(Sr!==null||Mr!==null||Ar!==null||$r!==null),Fr=reactExports.useRef(null),Lr=reactExports.useRef(null),zr=reactExports.useRef(null),Gr=reactExports.useRef(null),Jr=Xn=>{Xn==="hours"&&Fr.current?.focus(),Xn==="minutes"&&Lr.current?.focus(),Xn==="seconds"&&zr.current?.focus(),Xn==="amPm"&&Gr.current?.focus()},Yn=(Xn,rs)=>{const ns={hours:Sr,minutes:Mr,seconds:Ar,amPm:$r,[Xn]:rs},ls=getTimeString({...ns,format:lr,withSeconds:fr,amPmLabels:dr});if(ls.valid){br.current=!1,Xn==="hours"&&wr(rs),Xn==="minutes"&&kr(rs),Xn==="seconds"&&Ir(rs),Xn==="amPm"&&Dr(rs);const ss=clampTime(ls.value,mr||"00:00:00",hr||"23:59:59");ir?.(ss.timeString)}else br.current=!1,typeof e=="string"&&e!==""&&ir?.("")},Jn=Xn=>{br.current=!1;const rs=getParsedTime({time:Xn,amPmLabels:dr,format:lr});wr(rs.hours),kr(rs.minutes),Ir(rs.seconds),Dr(rs.amPm),ir?.(Xn)},Zn=Xn=>{wr(Xn),Yn("hours",Xn),Jr("hours")},Hn=Xn=>{kr(Xn),Yn("minutes",Xn),Jr("minutes")},Kn=Xn=>{Ir(Xn),Yn("seconds",Xn),Jr("seconds")},qn=Xn=>{Dr(Xn),Yn("amPm",Xn),Jr("amPm")},Qr=()=>{br.current=!1,wr(null),kr(null),Ir(null),Dr(null),ir?.(""),Jr("hours")},$n=Xn=>{Xn.preventDefault();const rs=Xn.clipboardData.getData("text"),ns=(yr||getParsedTime)({time:rs,format:lr,amPmLabels:dr}),ls=getTimeString({...ns,format:lr,withSeconds:fr,amPmLabels:dr});if(ls.valid){br.current=!1;const ss=clampTime(ls.value,mr||"00:00:00",hr||"23:59:59");ir?.(ss.timeString),wr(ns.hours),kr(ns.minutes),Ir(ns.seconds),Dr(ns.amPm)}},es=getTimeString({hours:Sr,minutes:Mr,seconds:Ar,format:lr,withSeconds:fr,amPm:$r,amPmLabels:dr});return useDidUpdate(()=>{if(e===""){br.current=!1,wr(null),kr(null),Ir(null),Dr(null);return}if(br.current&&typeof e=="string"){const Xn=getParsedTime({time:e||"",amPmLabels:dr,format:lr});wr(Xn.hours),kr(Xn.minutes),Ir(Xn.seconds),Dr(Xn.amPm)}br.current=!0},[e]),{refs:{hours:Fr,minutes:Lr,seconds:zr,amPm:Gr},values:{hours:Sr,minutes:Mr,seconds:Ar,amPm:$r},setHours:Zn,setMinutes:Hn,setSeconds:Kn,setAmPm:qn,focus:Jr,clear:Qr,onPaste:$n,setTimeString:Jn,isClearable:Or,hiddenInputValue:es.value}}var classes$b={fieldsRoot:"m_7a8f1e6d",fieldsGroup:"m_d6bb0a54",controlsList:"m_b97ecb26",controlsListGroup:"m_31fe42f9",dropdown:"m_9c4817c3",control:"m_154c536b",presetControl:"m_7be09d0c",presetsGroup:"m_7d00001d",presetsGroupLabel:"m_d8d918d7",field:"m_6b43ba88"};const defaultProps$i={hoursStep:1,minutesStep:1,secondsStep:1,format:"24h",amPmLabels:{am:"AM",pm:"PM"},pasteSplit:getParsedTime,maxDropdownContentHeight:200},varsResolver$6=(e,{size:rr})=>({dropdown:{"--control-font-size":getFontSize(rr)}}),TimePicker=factory((e,rr)=>{const ir=useProps("TimePicker",defaultProps$i,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,onClick:xr,format:_r,value:yr,defaultValue:vr,onChange:br,hoursStep:Sr,minutesStep:wr,secondsStep:Mr,withSeconds:kr,hoursInputLabel:Ar,minutesInputLabel:Ir,secondsInputLabel:$r,amPmInputLabel:Dr,amPmLabels:Or,clearable:Fr,onMouseDown:Lr,onFocusCapture:zr,onBlurCapture:Gr,min:Jr,max:Yn,popoverProps:Jn,withDropdown:Zn,rightSection:Hn,onFocus:Kn,onBlur:qn,clearButtonProps:Qr,hoursInputProps:$n,minutesInputProps:es,secondsInputProps:Xn,amPmSelectProps:rs,readOnly:ns,disabled:ls,size:ss,name:as,form:us,hiddenInputProps:hs,labelProps:gs,pasteSplit:xs,hoursRef:ms,minutesRef:_s,secondsRef:Es,amPmRef:vs,presets:ws,maxDropdownContentHeight:Rs,scrollAreaProps:Ss,...ps}=ir,{resolvedClassNames:ys,resolvedStyles:Cs}=useResolvedStylesApi({classNames:lr,styles:mr,props:ir}),Ms=useStyles({name:"TimePicker",classes:classes$b,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$6}),ds=useTimePicker({value:yr,defaultValue:vr,onChange:br,format:_r,amPmLabels:Or,withSeconds:kr,min:Jr,max:Yn,clearable:Fr,disabled:ls,readOnly:ns,pasteSplit:xs}),ks=useMergedRef(ds.refs.hours,ms),cs=useMergedRef(ds.refs.minutes,_s),bs=useMergedRef(ds.refs.seconds,Es),Ts=useMergedRef(ds.refs.amPm,vs),Ps=useId$3(),Is=reactExports.useRef(!1),[js,Ds]=reactExports.useState(!1),$s=As=>{Is.current||(Is.current=!0,Kn?.(As))},Fs=As=>{As.currentTarget.contains(As.relatedTarget)||(Is.current=!1,qn?.(As))};return jsxRuntimeExports.jsx(TimePickerProvider,{value:{getStyles:Ms,scrollAreaProps:Ss,maxDropdownContentHeight:Rs},children:jsxRuntimeExports.jsxs(Popover$1,{opened:Zn&&!ns&&js,transitionProps:{duration:0},position:"bottom-start",withRoles:!1,...Jn,children:[jsxRuntimeExports.jsx(Popover$1.Target,{children:jsxRuntimeExports.jsxs(InputBase,{component:"div",size:ss,disabled:ls,ref:rr,onClick:As=>{xr?.(As),ds.focus("hours")},onMouseDown:As=>{As.preventDefault(),Lr?.(As)},onFocusCapture:As=>{Ds(!0),zr?.(As)},onBlurCapture:As=>{Ds(!1),Gr?.(As)},rightSection:Hn||ds.isClearable&&jsxRuntimeExports.jsx(CloseButton,{...Qr,size:ss,onClick:As=>{ds.clear(),Qr?.onClick?.(As)},onMouseDown:As=>{As.preventDefault(),Qr?.onMouseDown?.(As)}}),labelProps:{htmlFor:Ps,...gs},style:fr,className:dr,classNames:ys,styles:Cs,__staticSelector:"TimePicker",...ps,children:[jsxRuntimeExports.jsx("div",{...Ms("fieldsRoot"),dir:"ltr",children:jsxRuntimeExports.jsxs("div",{...Ms("fieldsGroup"),onBlur:Fs,children:[jsxRuntimeExports.jsx(SpinInput,{id:Ps,...$n,...Ms("field",{className:$n?.className,style:$n?.style}),value:ds.values.hours,onChange:ds.setHours,onNextInput:()=>ds.focus("minutes"),min:_r==="12h"?1:0,max:_r==="12h"?12:23,focusable:!0,step:Sr,ref:ks,"aria-label":Ar,readOnly:ns,disabled:ls,onPaste:ds.onPaste,onFocus:As=>{$s(As),$n?.onFocus?.(As)}}),jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx(SpinInput,{...es,...Ms("field",{className:es?.className,style:es?.style}),value:ds.values.minutes,onChange:ds.setMinutes,min:0,max:59,focusable:!0,step:wr,ref:cs,onPreviousInput:()=>ds.focus("hours"),onNextInput:()=>kr?ds.focus("seconds"):ds.focus("amPm"),"aria-label":Ir,tabIndex:-1,readOnly:ns,disabled:ls,onPaste:ds.onPaste,onFocus:As=>{$s(As),es?.onFocus?.(As)}}),kr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:":"}),jsxRuntimeExports.jsx(SpinInput,{...Xn,...Ms("field",{className:Xn?.className,style:Xn?.style}),value:ds.values.seconds,onChange:ds.setSeconds,min:0,max:59,focusable:!0,step:Mr,ref:bs,onPreviousInput:()=>ds.focus("minutes"),onNextInput:()=>ds.focus("amPm"),"aria-label":$r,tabIndex:-1,readOnly:ns,disabled:ls,onPaste:ds.onPaste,onFocus:As=>{$s(As),Xn?.onFocus?.(As)}})]}),_r==="12h"&&jsxRuntimeExports.jsx(AmPmInput,{...rs,inputType:Zn?"input":"select",labels:Or,value:ds.values.amPm,onChange:ds.setAmPm,ref:Ts,"aria-label":Dr,onPreviousInput:()=>kr?ds.focus("seconds"):ds.focus("minutes"),readOnly:ns,disabled:ls,tabIndex:-1,onPaste:ds.onPaste,onFocus:As=>{$s(As),rs?.onFocus?.(As)}})]})}),jsxRuntimeExports.jsx("input",{type:"hidden",name:as,form:us,value:ds.hiddenInputValue,...hs})]})}),jsxRuntimeExports.jsx(Popover$1.Dropdown,{...Ms("dropdown"),onMouseDown:As=>As.preventDefault(),children:ws?jsxRuntimeExports.jsx(TimePresets,{value:ds.hiddenInputValue,onChange:ds.setTimeString,format:_r,presets:ws,amPmLabels:Or,withSeconds:kr||!1}):jsxRuntimeExports.jsxs("div",{...Ms("controlsListGroup"),children:[jsxRuntimeExports.jsx(TimeControlsList,{min:_r==="12h"?1:0,max:_r==="12h"?12:23,step:Sr,value:ds.values.hours,onSelect:ds.setHours}),jsxRuntimeExports.jsx(TimeControlsList,{min:0,max:59,step:wr,value:ds.values.minutes,onSelect:ds.setMinutes}),kr&&jsxRuntimeExports.jsx(TimeControlsList,{min:0,max:59,step:Mr,value:ds.values.seconds,onSelect:ds.setSeconds}),_r==="12h"&&jsxRuntimeExports.jsx(AmPmControlsList,{labels:Or,value:ds.values.amPm,onSelect:ds.setAmPm})]})})]})})});TimePicker.displayName="@mantine/dates/TimePicker";TimePicker.classes=classes$b;var classes$a={day:"m_396ce5cb"};const defaultProps$h={},varsResolver$5=(e,{size:rr})=>({day:{"--day-size":getSize(rr,"day-size")}}),Day=factory((e,rr)=>{const ir=useProps("Day",defaultProps$h,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,date:xr,disabled:_r,__staticSelector:yr,weekend:vr,outside:br,selected:Sr,renderDay:wr,inRange:Mr,firstInRange:kr,lastInRange:Ar,hidden:Ir,static:$r,highlightToday:Dr,...Or}=ir,Fr=useStyles({name:yr||"Day",classes:classes$a,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$5,rootSelector:"day"});return jsxRuntimeExports.jsx(UnstyledButton,{...Fr("day",{style:Ir?{display:"none"}:void 0}),component:$r?"div":"button",ref:rr,disabled:_r,"data-today":dayjs(xr).isSame(new Date,"day")||void 0,"data-hidden":Ir||void 0,"data-highlight-today":Dr||void 0,"data-disabled":_r||void 0,"data-weekend":!_r&&!br&&vr||void 0,"data-outside":!_r&&br||void 0,"data-selected":!_r&&Sr||void 0,"data-in-range":Mr&&!_r||void 0,"data-first-in-range":kr&&!_r||void 0,"data-last-in-range":Ar&&!_r||void 0,"data-static":$r||void 0,unstyled:hr,...Or,children:wr?.(xr)||dayjs(xr).date()})});Day.classes=classes$a;Day.displayName="@mantine/dates/Day";function getWeekdayNames({locale:e,format:rr="dd",firstDayOfWeek:ir=1}){const lr=dayjs().day(ir),dr=[];for(let fr=0;fr<7;fr+=1)typeof rr=="string"?dr.push(dayjs(lr).add(fr,"days").locale(e).format(rr)):dr.push(rr(dayjs(lr).add(fr,"days").format("YYYY-MM-DD")));return dr}var classes$9={weekday:"m_18a3eca"};const defaultProps$g={},varsResolver$4=(e,{size:rr})=>({weekdaysRow:{"--wr-fz":getFontSize(rr),"--wr-spacing":getSpacing(rr)}}),WeekdaysRow=factory((e,rr)=>{const ir=useProps("WeekdaysRow",defaultProps$g,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,locale:xr,firstDayOfWeek:_r,weekdayFormat:yr,cellComponent:vr="th",__staticSelector:br,withWeekNumbers:Sr,...wr}=ir,Mr=useStyles({name:br||"WeekdaysRow",classes:classes$9,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$4,rootSelector:"weekdaysRow"}),kr=useDatesContext(),Ar=getWeekdayNames({locale:kr.getLocale(xr),format:yr,firstDayOfWeek:kr.getFirstDayOfWeek(_r)}).map((Ir,$r)=>jsxRuntimeExports.jsx(vr,{...Mr("weekday"),children:Ir},$r));return jsxRuntimeExports.jsxs(Box,{component:"tr",ref:rr,...Mr("weekdaysRow"),...wr,children:[Sr&&jsxRuntimeExports.jsx(vr,{...Mr("weekday"),children:"#"}),Ar]})});WeekdaysRow.classes=classes$9;WeekdaysRow.displayName="@mantine/dates/WeekdaysRow";function getEndOfWeek(e,rr=1){let ir=dayjs(e);const lr=rr===0?6:rr-1;for(;ir.day()!==lr;)ir=ir.add(1,"day");return ir.format("YYYY-MM-DD")}function getStartOfWeek(e,rr=1){let ir=dayjs(e);for(;ir.day()!==rr;)ir=ir.subtract(1,"day");return ir.format("YYYY-MM-DD")}function getMonthDays({month:e,firstDayOfWeek:rr=1,consistentWeeks:ir}){const lr=dayjs(e).subtract(dayjs(e).date()-1,"day"),dr=dayjs(lr.format("YYYY-M-D")),fr=dr.format("YYYY-MM-DD"),mr=dr.add(+dr.daysInMonth()-1,"day").format("YYYY-MM-DD"),hr=getEndOfWeek(mr,rr),gr=[];let xr=dayjs(getStartOfWeek(fr,rr));for(;dayjs(xr).isBefore(hr,"day");){const _r=[];for(let yr=0;yr<7;yr+=1)_r.push(xr.format("YYYY-MM-DD")),xr=xr.add(1,"day");gr.push(_r)}if(ir&&gr.length<6){const _r=gr[gr.length-1],yr=_r[_r.length-1];let vr=dayjs(yr).add(1,"day");for(;gr.length<6;){const br=[];for(let Sr=0;Sr<7;Sr+=1)br.push(vr.format("YYYY-MM-DD")),vr=vr.add(1,"day");gr.push(br)}}return gr}function isSameMonth(e,rr){return dayjs(e).format("YYYY-MM")===dayjs(rr).format("YYYY-MM")}function isAfterMinDate(e,rr){return rr?dayjs(e).isAfter(dayjs(rr).subtract(1,"day"),"day"):!0}function isBeforeMaxDate(e,rr){return rr?dayjs(e).isBefore(dayjs(rr).add(1,"day"),"day"):!0}function getDateInTabOrder({dates:e,minDate:rr,maxDate:ir,getDayProps:lr,excludeDate:dr,hideOutsideDates:fr,month:mr}){const hr=e.flat().filter(_r=>isBeforeMaxDate(_r,ir)&&isAfterMinDate(_r,rr)&&!dr?.(_r)&&!lr?.(_r)?.disabled&&(!fr||isSameMonth(_r,mr))),gr=hr.find(_r=>lr?.(_r)?.selected);if(gr)return gr;const xr=hr.find(_r=>dayjs().isSame(_r,"date"));return xr||hr[0]}var isoWeek$1={exports:{}};(function(e,rr){(function(ir,lr){e.exports=lr()})(commonjsGlobal,function(){var ir="day";return function(lr,dr,fr){var mr=function(xr){return xr.add(4-xr.isoWeekday(),ir)},hr=dr.prototype;hr.isoWeekYear=function(){return mr(this).year()},hr.isoWeek=function(xr){if(!this.$utils().u(xr))return this.add(7*(xr-this.isoWeek()),ir);var _r,yr,vr,br,Sr=mr(this),wr=(_r=this.isoWeekYear(),yr=this.$u,vr=(yr?fr.utc:fr)().year(_r).startOf("year"),br=4-vr.isoWeekday(),vr.isoWeekday()>4&&(br+=7),vr.add(br,ir));return Sr.diff(wr,"week")+1},hr.isoWeekday=function(xr){return this.$utils().u(xr)?this.day()||7:this.day(this.day()%7?xr:xr-7)};var gr=hr.startOf;hr.startOf=function(xr,_r){var yr=this.$utils(),vr=!!yr.u(_r)||_r;return yr.p(xr)==="isoweek"?vr?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):gr.bind(this)(xr,_r)}}})})(isoWeek$1);var isoWeekExports=isoWeek$1.exports;const isoWeek=getDefaultExportFromCjs$1(isoWeekExports);dayjs.extend(isoWeek);function getWeekNumber(e){const rr=e.find(ir=>dayjs(ir).day()===1);return dayjs(rr).isoWeek()}var classes$8={month:"m_cc9820d3",monthCell:"m_8f457cd5",weekNumber:"m_6cff9dea"};const defaultProps$f={withCellSpacing:!0},varsResolver$3=(e,{size:rr})=>({weekNumber:{"--wn-fz":getFontSize(rr),"--wn-size":getSize(rr,"wn-size")}}),Month=factory((e,rr)=>{const ir=useProps("Month",defaultProps$f,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,__staticSelector:xr,locale:_r,firstDayOfWeek:yr,weekdayFormat:vr,month:br,weekendDays:Sr,getDayProps:wr,excludeDate:Mr,minDate:kr,maxDate:Ar,renderDay:Ir,hideOutsideDates:$r,hideWeekdays:Dr,getDayAriaLabel:Or,static:Fr,__getDayRef:Lr,__onDayKeyDown:zr,__onDayClick:Gr,__onDayMouseEnter:Jr,__preventFocus:Yn,__stopPropagation:Jn,withCellSpacing:Zn,size:Hn,highlightToday:Kn,withWeekNumbers:qn,...Qr}=ir,$n=useStyles({name:xr||"Month",classes:classes$8,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$3,rootSelector:"month"}),es=useDatesContext(),Xn=getMonthDays({month:br,firstDayOfWeek:es.getFirstDayOfWeek(yr),consistentWeeks:es.consistentWeeks}),rs=getDateInTabOrder({dates:Xn,minDate:toDateString(kr),maxDate:toDateString(Ar),getDayProps:wr,excludeDate:Mr,hideOutsideDates:$r,month:br}),{resolvedClassNames:ns,resolvedStyles:ls}=useResolvedStylesApi({classNames:lr,styles:mr,props:ir}),ss=Xn.map((as,us)=>{const hs=as.map((gs,xs)=>{const ms=!isSameMonth(gs,br),_s=Or?.(gs)||dayjs(gs).locale(_r||es.locale).format("D MMMM YYYY"),Es=wr?.(gs),vs=dayjs(gs).isSame(rs,"date");return jsxRuntimeExports.jsx("td",{...$n("monthCell"),"data-with-spacing":Zn||void 0,children:jsxRuntimeExports.jsx(Day,{__staticSelector:xr||"Month",classNames:ns,styles:ls,unstyled:hr,"data-mantine-stop-propagation":Jn||void 0,highlightToday:Kn,renderDay:Ir,date:gs,size:Hn,weekend:es.getWeekendDays(Sr).includes(dayjs(gs).get("day")),outside:ms,hidden:$r?ms:!1,"aria-label":_s,static:Fr,disabled:Mr?.(gs)||!isBeforeMaxDate(gs,toDateString(Ar))||!isAfterMinDate(gs,toDateString(kr)),ref:ws=>{ws&&Lr?.(us,xs,ws)},...Es,onKeyDown:ws=>{Es?.onKeyDown?.(ws),zr?.(ws,{rowIndex:us,cellIndex:xs,date:gs})},onMouseEnter:ws=>{Es?.onMouseEnter?.(ws),Jr?.(ws,gs)},onClick:ws=>{Es?.onClick?.(ws),Gr?.(ws,gs)},onMouseDown:ws=>{Es?.onMouseDown?.(ws),Yn&&ws.preventDefault()},tabIndex:Yn||!vs?-1:0})},gs.toString())});return jsxRuntimeExports.jsxs("tr",{...$n("monthRow"),children:[qn&&jsxRuntimeExports.jsx("td",{...$n("weekNumber"),children:getWeekNumber(as)}),hs]},us)});return jsxRuntimeExports.jsxs(Box,{component:"table",...$n("month"),size:Hn,ref:rr,...Qr,children:[!Dr&&jsxRuntimeExports.jsx("thead",{...$n("monthThead"),children:jsxRuntimeExports.jsx(WeekdaysRow,{__staticSelector:xr||"Month",locale:_r,firstDayOfWeek:yr,weekdayFormat:vr,size:Hn,classNames:ns,styles:ls,unstyled:hr,withWeekNumbers:qn})}),jsxRuntimeExports.jsx("tbody",{...$n("monthTbody"),children:ss})]})});Month.classes=classes$8;Month.displayName="@mantine/dates/Month";var classes$7={pickerControl:"m_dc6a3c71"};const defaultProps$e={},varsResolver$2=(e,{size:rr})=>({pickerControl:{"--dpc-fz":getFontSize(rr),"--dpc-size":getSize(rr,"dpc-size")}}),PickerControl=factory((e,rr)=>{const ir=useProps("PickerControl",defaultProps$e,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,firstInRange:xr,lastInRange:_r,inRange:yr,__staticSelector:vr,selected:br,disabled:Sr,...wr}=ir,Mr=useStyles({name:vr||"PickerControl",classes:classes$7,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$2,rootSelector:"pickerControl"});return jsxRuntimeExports.jsx(UnstyledButton,{...Mr("pickerControl"),ref:rr,unstyled:hr,"data-picker-control":!0,"data-selected":br&&!Sr||void 0,"data-disabled":Sr||void 0,"data-in-range":yr&&!Sr&&!br||void 0,"data-first-in-range":xr&&!Sr||void 0,"data-last-in-range":_r&&!Sr||void 0,disabled:Sr,...wr})});PickerControl.classes=classes$7;PickerControl.displayName="@mantine/dates/PickerControl";function isYearDisabled({year:e,minDate:rr,maxDate:ir}){return!rr&&!ir?!1:!!(rr&&dayjs(e).isBefore(rr,"year")||ir&&dayjs(e).isAfter(ir,"year"))}function getYearInTabOrder({years:e,minDate:rr,maxDate:ir,getYearControlProps:lr}){const dr=e.flat().filter(hr=>!isYearDisabled({year:hr,minDate:rr,maxDate:ir})&&!lr?.(hr)?.disabled),fr=dr.find(hr=>lr?.(hr)?.selected);if(fr)return fr;const mr=dr.find(hr=>dayjs().isSame(hr,"year"));return mr||dr[0]}function getYearsData(e){const rr=dayjs(e).year(),ir=rr-rr%10;let lr=0;const dr=[[],[],[],[]];for(let fr=0;fr<4;fr+=1){const mr=fr===3?1:3;for(let hr=0;hr<mr;hr+=1)dr[fr].push(dayjs(new Date(ir+lr,0)).format("YYYY-MM-DD")),lr+=1}return dr}var classes$6={yearsList:"m_9206547b",yearsListCell:"m_c5a19c7d"};const defaultProps$d={yearsListFormat:"YYYY",withCellSpacing:!0},YearsList=factory((e,rr)=>{const ir=useProps("YearsList",defaultProps$d,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,decade:xr,yearsListFormat:_r,locale:yr,minDate:vr,maxDate:br,getYearControlProps:Sr,__staticSelector:wr,__getControlRef:Mr,__onControlKeyDown:kr,__onControlClick:Ar,__onControlMouseEnter:Ir,__preventFocus:$r,__stopPropagation:Dr,withCellSpacing:Or,size:Fr,...Lr}=ir,zr=useStyles({name:wr||"YearsList",classes:classes$6,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,rootSelector:"yearsList"}),Gr=useDatesContext(),Jr=getYearsData(xr),Yn=getYearInTabOrder({years:Jr,minDate:vr,maxDate:br,getYearControlProps:Sr}),Jn=Jr.map((Zn,Hn)=>{const Kn=Zn.map((qn,Qr)=>{const $n=Sr?.(qn),es=dayjs(qn).isSame(Yn,"year");return jsxRuntimeExports.jsx("td",{...zr("yearsListCell"),"data-with-spacing":Or||void 0,children:jsxRuntimeExports.jsx(PickerControl,{...zr("yearsListControl"),size:Fr,unstyled:hr,"data-mantine-stop-propagation":Dr||void 0,disabled:isYearDisabled({year:qn,minDate:vr,maxDate:br}),ref:Xn=>{Xn&&Mr?.(Hn,Qr,Xn)},...$n,onKeyDown:Xn=>{$n?.onKeyDown?.(Xn),kr?.(Xn,{rowIndex:Hn,cellIndex:Qr,date:qn})},onClick:Xn=>{$n?.onClick?.(Xn),Ar?.(Xn,qn)},onMouseEnter:Xn=>{$n?.onMouseEnter?.(Xn),Ir?.(Xn,qn)},onMouseDown:Xn=>{$n?.onMouseDown?.(Xn),$r&&Xn.preventDefault()},tabIndex:$r||!es?-1:0,children:dayjs(qn).locale(Gr.getLocale(yr)).format(_r)})},Qr)});return jsxRuntimeExports.jsx("tr",{...zr("yearsListRow"),children:Kn},Hn)});return jsxRuntimeExports.jsx(Box,{component:"table",ref:rr,size:Fr,...zr("yearsList"),...Lr,children:jsxRuntimeExports.jsx("tbody",{children:Jn})})});YearsList.classes=classes$6;YearsList.displayName="@mantine/dates/YearsList";function isMonthDisabled({month:e,minDate:rr,maxDate:ir}){return!rr&&!ir?!1:!!(rr&&dayjs(e).isBefore(rr,"month")||ir&&dayjs(e).isAfter(ir,"month"))}function getMonthInTabOrder({months:e,minDate:rr,maxDate:ir,getMonthControlProps:lr}){const dr=e.flat().filter(hr=>!isMonthDisabled({month:hr,minDate:rr,maxDate:ir})&&!lr?.(hr)?.disabled),fr=dr.find(hr=>lr?.(hr)?.selected);if(fr)return fr;const mr=dr.find(hr=>dayjs().isSame(hr,"month"));return mr||dr[0]}function getMonthsData(e){const rr=dayjs(e).startOf("year").toDate(),ir=[[],[],[],[]];let lr=0;for(let dr=0;dr<4;dr+=1)for(let fr=0;fr<3;fr+=1)ir[dr].push(dayjs(rr).add(lr,"months").format("YYYY-MM-DD")),lr+=1;return ir}var classes$5={monthsList:"m_2a6c32d",monthsListCell:"m_fe27622f"};const defaultProps$c={monthsListFormat:"MMM",withCellSpacing:!0},MonthsList=factory((e,rr)=>{const ir=useProps("MonthsList",defaultProps$c,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,__staticSelector:xr,year:_r,monthsListFormat:yr,locale:vr,minDate:br,maxDate:Sr,getMonthControlProps:wr,__getControlRef:Mr,__onControlKeyDown:kr,__onControlClick:Ar,__onControlMouseEnter:Ir,__preventFocus:$r,__stopPropagation:Dr,withCellSpacing:Or,size:Fr,...Lr}=ir,zr=useStyles({name:xr||"MonthsList",classes:classes$5,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,rootSelector:"monthsList"}),Gr=useDatesContext(),Jr=getMonthsData(_r),Yn=getMonthInTabOrder({months:Jr,minDate:toDateString(br),maxDate:toDateString(Sr),getMonthControlProps:wr}),Jn=Jr.map((Zn,Hn)=>{const Kn=Zn.map((qn,Qr)=>{const $n=wr?.(qn),es=dayjs(qn).isSame(Yn,"month");return jsxRuntimeExports.jsx("td",{...zr("monthsListCell"),"data-with-spacing":Or||void 0,children:jsxRuntimeExports.jsx(PickerControl,{...zr("monthsListControl"),size:Fr,unstyled:hr,__staticSelector:xr||"MonthsList","data-mantine-stop-propagation":Dr||void 0,disabled:isMonthDisabled({month:qn,minDate:toDateString(br),maxDate:toDateString(Sr)}),ref:Xn=>{Xn&&Mr?.(Hn,Qr,Xn)},...$n,onKeyDown:Xn=>{$n?.onKeyDown?.(Xn),kr?.(Xn,{rowIndex:Hn,cellIndex:Qr,date:qn})},onClick:Xn=>{$n?.onClick?.(Xn),Ar?.(Xn,qn)},onMouseEnter:Xn=>{$n?.onMouseEnter?.(Xn),Ir?.(Xn,qn)},onMouseDown:Xn=>{$n?.onMouseDown?.(Xn),$r&&Xn.preventDefault()},tabIndex:$r||!es?-1:0,children:dayjs(qn).locale(Gr.getLocale(vr)).format(yr)})},Qr)});return jsxRuntimeExports.jsx("tr",{...zr("monthsListRow"),children:Kn},Hn)});return jsxRuntimeExports.jsx(Box,{component:"table",ref:rr,size:Fr,...zr("monthsList"),...Lr,children:jsxRuntimeExports.jsx("tbody",{children:Jn})})});MonthsList.classes=classes$5;MonthsList.displayName="@mantine/dates/MonthsList";var classes$4={calendarHeader:"m_730a79ed",calendarHeaderLevel:"m_f6645d97",calendarHeaderControl:"m_2351eeb0",calendarHeaderControlIcon:"m_367dc749"};const defaultProps$b={hasNextLevel:!0,withNext:!0,withPrevious:!0,headerControlsOrder:["previous","level","next"]},varsResolver$1=(e,{size:rr})=>({calendarHeader:{"--dch-control-size":getSize(rr,"dch-control-size"),"--dch-fz":getFontSize(rr)}}),CalendarHeader=factory((e,rr)=>{const ir=useProps("CalendarHeader",defaultProps$b,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,nextIcon:xr,previousIcon:_r,nextLabel:yr,previousLabel:vr,onNext:br,onPrevious:Sr,onLevelClick:wr,label:Mr,nextDisabled:kr,previousDisabled:Ar,hasNextLevel:Ir,levelControlAriaLabel:$r,withNext:Dr,withPrevious:Or,headerControlsOrder:Fr,__staticSelector:Lr,__preventFocus:zr,__stopPropagation:Gr,...Jr}=ir,Yn=useStyles({name:Lr||"CalendarHeader",classes:classes$4,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,varsResolver:varsResolver$1,rootSelector:"calendarHeader"}),Jn=zr?Qr=>Qr.preventDefault():void 0,Zn=Or&&reactExports.createElement(UnstyledButton,{...Yn("calendarHeaderControl"),key:"previous","data-direction":"previous","aria-label":vr,onClick:Sr,unstyled:hr,onMouseDown:Jn,disabled:Ar,"data-disabled":Ar||void 0,tabIndex:zr||Ar?-1:0,"data-mantine-stop-propagation":Gr||void 0},_r||jsxRuntimeExports.jsx(AccordionChevron,{...Yn("calendarHeaderControlIcon"),"data-direction":"previous",size:"45%"})),Hn=reactExports.createElement(UnstyledButton,{component:Ir?"button":"div",...Yn("calendarHeaderLevel"),key:"level",onClick:Ir?wr:void 0,unstyled:hr,onMouseDown:Ir?Jn:void 0,disabled:!Ir,"data-static":!Ir||void 0,"aria-label":$r,tabIndex:zr||!Ir?-1:0,"data-mantine-stop-propagation":Gr||void 0},Mr),Kn=Dr&&reactExports.createElement(UnstyledButton,{...Yn("calendarHeaderControl"),key:"next","data-direction":"next","aria-label":yr,onClick:br,unstyled:hr,onMouseDown:Jn,disabled:kr,"data-disabled":kr||void 0,tabIndex:zr||kr?-1:0,"data-mantine-stop-propagation":Gr||void 0},xr||jsxRuntimeExports.jsx(AccordionChevron,{...Yn("calendarHeaderControlIcon"),"data-direction":"next",size:"45%"})),qn=Fr.map(Qr=>Qr==="previous"?Zn:Qr==="level"?Hn:Qr==="next"?Kn:null);return jsxRuntimeExports.jsx(Box,{...Yn("calendarHeader"),ref:rr,...Jr,children:qn})});CalendarHeader.classes=classes$4;CalendarHeader.displayName="@mantine/dates/CalendarHeader";function getDecadeRange(e){const rr=getYearsData(e);return[rr[0][0],rr[3][0]]}const defaultProps$a={decadeLabelFormat:"YYYY"},DecadeLevel=factory((e,rr)=>{const ir=useProps("DecadeLevel",defaultProps$a,e),{decade:lr,locale:dr,minDate:fr,maxDate:mr,yearsListFormat:hr,getYearControlProps:gr,__getControlRef:xr,__onControlKeyDown:_r,__onControlClick:yr,__onControlMouseEnter:vr,withCellSpacing:br,__preventFocus:Sr,nextIcon:wr,previousIcon:Mr,nextLabel:kr,previousLabel:Ar,onNext:Ir,onPrevious:$r,nextDisabled:Dr,previousDisabled:Or,levelControlAriaLabel:Fr,withNext:Lr,withPrevious:zr,headerControlsOrder:Gr,decadeLabelFormat:Jr,classNames:Yn,styles:Jn,unstyled:Zn,__staticSelector:Hn,__stopPropagation:Kn,size:qn,...Qr}=ir,$n=useDatesContext(),[es,Xn]=getDecadeRange(lr),rs={__staticSelector:Hn||"DecadeLevel",classNames:Yn,styles:Jn,unstyled:Zn,size:qn},ns=typeof Dr=="boolean"?Dr:mr?!dayjs(Xn).endOf("year").isBefore(mr):!1,ls=typeof Or=="boolean"?Or:fr?!dayjs(es).startOf("year").isAfter(fr):!1,ss=(as,us)=>dayjs(as).locale(dr||$n.locale).format(us);return jsxRuntimeExports.jsxs(Box,{"data-decade-level":!0,size:qn,ref:rr,...Qr,children:[jsxRuntimeExports.jsx(CalendarHeader,{label:typeof Jr=="function"?Jr(es,Xn):`${ss(es,Jr)}  ${ss(Xn,Jr)}`,__preventFocus:Sr,__stopPropagation:Kn,nextIcon:wr,previousIcon:Mr,nextLabel:kr,previousLabel:Ar,onNext:Ir,onPrevious:$r,nextDisabled:ns,previousDisabled:ls,hasNextLevel:!1,levelControlAriaLabel:Fr,withNext:Lr,withPrevious:zr,headerControlsOrder:Gr,...rs}),jsxRuntimeExports.jsx(YearsList,{decade:lr,locale:dr,minDate:fr,maxDate:mr,yearsListFormat:hr,getYearControlProps:gr,__getControlRef:xr,__onControlKeyDown:_r,__onControlClick:yr,__onControlMouseEnter:vr,__preventFocus:Sr,__stopPropagation:Kn,withCellSpacing:br,...rs})]})});DecadeLevel.classes={...YearsList.classes,...CalendarHeader.classes};DecadeLevel.displayName="@mantine/dates/DecadeLevel";const defaultProps$9={yearLabelFormat:"YYYY"},YearLevel=factory((e,rr)=>{const ir=useProps("YearLevel",defaultProps$9,e),{year:lr,locale:dr,minDate:fr,maxDate:mr,monthsListFormat:hr,getMonthControlProps:gr,__getControlRef:xr,__onControlKeyDown:_r,__onControlClick:yr,__onControlMouseEnter:vr,withCellSpacing:br,__preventFocus:Sr,nextIcon:wr,previousIcon:Mr,nextLabel:kr,previousLabel:Ar,onNext:Ir,onPrevious:$r,onLevelClick:Dr,nextDisabled:Or,previousDisabled:Fr,hasNextLevel:Lr,levelControlAriaLabel:zr,withNext:Gr,withPrevious:Jr,headerControlsOrder:Yn,yearLabelFormat:Jn,__staticSelector:Zn,__stopPropagation:Hn,size:Kn,classNames:qn,styles:Qr,unstyled:$n,...es}=ir,Xn=useDatesContext(),rs={__staticSelector:Zn||"YearLevel",classNames:qn,styles:Qr,unstyled:$n,size:Kn},ns=typeof Or=="boolean"?Or:mr?!dayjs(lr).endOf("year").isBefore(mr):!1,ls=typeof Fr=="boolean"?Fr:fr?!dayjs(lr).startOf("year").isAfter(fr):!1;return jsxRuntimeExports.jsxs(Box,{"data-year-level":!0,size:Kn,ref:rr,...es,children:[jsxRuntimeExports.jsx(CalendarHeader,{label:typeof Jn=="function"?Jn(lr):dayjs(lr).locale(dr||Xn.locale).format(Jn),__preventFocus:Sr,__stopPropagation:Hn,nextIcon:wr,previousIcon:Mr,nextLabel:kr,previousLabel:Ar,onNext:Ir,onPrevious:$r,onLevelClick:Dr,nextDisabled:ns,previousDisabled:ls,hasNextLevel:Lr,levelControlAriaLabel:zr,withNext:Gr,withPrevious:Jr,headerControlsOrder:Yn,...rs}),jsxRuntimeExports.jsx(MonthsList,{year:lr,locale:dr,minDate:fr,maxDate:mr,monthsListFormat:hr,getMonthControlProps:gr,__getControlRef:xr,__onControlKeyDown:_r,__onControlClick:yr,__onControlMouseEnter:vr,__preventFocus:Sr,__stopPropagation:Hn,withCellSpacing:br,...rs})]})});YearLevel.classes={...CalendarHeader.classes,...MonthsList.classes};YearLevel.displayName="@mantine/dates/YearLevel";const defaultProps$8={monthLabelFormat:"MMMM YYYY"},MonthLevel=factory((e,rr)=>{const ir=useProps("MonthLevel",defaultProps$8,e),{month:lr,locale:dr,firstDayOfWeek:fr,weekdayFormat:mr,weekendDays:hr,getDayProps:gr,excludeDate:xr,minDate:_r,maxDate:yr,renderDay:vr,hideOutsideDates:br,hideWeekdays:Sr,getDayAriaLabel:wr,__getDayRef:Mr,__onDayKeyDown:kr,__onDayClick:Ar,__onDayMouseEnter:Ir,withCellSpacing:$r,highlightToday:Dr,withWeekNumbers:Or,__preventFocus:Fr,__stopPropagation:Lr,nextIcon:zr,previousIcon:Gr,nextLabel:Jr,previousLabel:Yn,onNext:Jn,onPrevious:Zn,onLevelClick:Hn,nextDisabled:Kn,previousDisabled:qn,hasNextLevel:Qr,levelControlAriaLabel:$n,withNext:es,withPrevious:Xn,headerControlsOrder:rs,monthLabelFormat:ns,classNames:ls,styles:ss,unstyled:as,__staticSelector:us,size:hs,static:gs,...xs}=ir,ms=useDatesContext(),_s={__staticSelector:us||"MonthLevel",classNames:ls,styles:ss,unstyled:as,size:hs},Es=typeof Kn=="boolean"?Kn:yr?!dayjs(lr).endOf("month").isBefore(yr):!1,vs=typeof qn=="boolean"?qn:_r?!dayjs(lr).startOf("month").isAfter(_r):!1;return jsxRuntimeExports.jsxs(Box,{"data-month-level":!0,size:hs,ref:rr,...xs,children:[jsxRuntimeExports.jsx(CalendarHeader,{label:typeof ns=="function"?ns(lr):dayjs(lr).locale(dr||ms.locale).format(ns),__preventFocus:Fr,__stopPropagation:Lr,nextIcon:zr,previousIcon:Gr,nextLabel:Jr,previousLabel:Yn,onNext:Jn,onPrevious:Zn,onLevelClick:Hn,nextDisabled:Es,previousDisabled:vs,hasNextLevel:Qr,levelControlAriaLabel:$n,withNext:es,withPrevious:Xn,headerControlsOrder:rs,..._s}),jsxRuntimeExports.jsx(Month,{month:lr,locale:dr,firstDayOfWeek:fr,weekdayFormat:mr,weekendDays:hr,getDayProps:gr,excludeDate:xr,minDate:_r,maxDate:yr,renderDay:vr,hideOutsideDates:br,hideWeekdays:Sr,getDayAriaLabel:wr,__getDayRef:Mr,__onDayKeyDown:kr,__onDayClick:Ar,__onDayMouseEnter:Ir,__preventFocus:Fr,__stopPropagation:Lr,static:gs,withCellSpacing:$r,highlightToday:Dr,withWeekNumbers:Or,..._s})]})});MonthLevel.classes={...Month.classes,...CalendarHeader.classes};MonthLevel.displayName="@mantine/dates/MonthLevel";var classes$3={levelsGroup:"m_30b26e33"};const defaultProps$7={},LevelsGroup=factory((e,rr)=>{const ir=useProps("LevelsGroup",defaultProps$7,e),{classNames:lr,className:dr,style:fr,styles:mr,unstyled:hr,vars:gr,__staticSelector:xr,..._r}=ir,yr=useStyles({name:xr||"LevelsGroup",classes:classes$3,props:ir,className:dr,style:fr,classNames:lr,styles:mr,unstyled:hr,vars:gr,rootSelector:"levelsGroup"});return jsxRuntimeExports.jsx(Box,{ref:rr,...yr("levelsGroup"),..._r})});LevelsGroup.classes=classes$3;LevelsGroup.displayName="@mantine/dates/LevelsGroup";const defaultProps$6={numberOfColumns:1},DecadeLevelGroup=factory((e,rr)=>{const ir=useProps("DecadeLevelGroup",defaultProps$6,e),{decade:lr,locale:dr,minDate:fr,maxDate:mr,yearsListFormat:hr,getYearControlProps:gr,__onControlClick:xr,__onControlMouseEnter:_r,withCellSpacing:yr,__preventFocus:vr,nextIcon:br,previousIcon:Sr,nextLabel:wr,previousLabel:Mr,onNext:kr,onPrevious:Ar,nextDisabled:Ir,previousDisabled:$r,headerControlsOrder:Dr,classNames:Or,styles:Fr,unstyled:Lr,__staticSelector:zr,__stopPropagation:Gr,numberOfColumns:Jr,levelControlAriaLabel:Yn,decadeLabelFormat:Jn,size:Zn,vars:Hn,...Kn}=ir,qn=reactExports.useRef([]),Qr=Array(Jr).fill(0).map(($n,es)=>{const Xn=dayjs(lr).add(es*10,"years").format("YYYY-MM-DD");return jsxRuntimeExports.jsx(DecadeLevel,{size:Zn,yearsListFormat:hr,decade:Xn,withNext:es===Jr-1,withPrevious:es===0,decadeLabelFormat:Jn,__onControlClick:xr,__onControlMouseEnter:_r,__onControlKeyDown:(rs,ns)=>handleControlKeyDown({levelIndex:es,rowIndex:ns.rowIndex,cellIndex:ns.cellIndex,event:rs,controlsRef:qn}),__getControlRef:(rs,ns,ls)=>{Array.isArray(qn.current[es])||(qn.current[es]=[]),Array.isArray(qn.current[es][rs])||(qn.current[es][rs]=[]),qn.current[es][rs][ns]=ls},levelControlAriaLabel:typeof Yn=="function"?Yn(Xn):Yn,locale:dr,minDate:fr,maxDate:mr,__preventFocus:vr,__stopPropagation:Gr,nextIcon:br,previousIcon:Sr,nextLabel:wr,previousLabel:Mr,onNext:kr,onPrevious:Ar,nextDisabled:Ir,previousDisabled:$r,getYearControlProps:gr,__staticSelector:zr||"DecadeLevelGroup",classNames:Or,styles:Fr,unstyled:Lr,withCellSpacing:yr,headerControlsOrder:Dr},es)});return jsxRuntimeExports.jsx(LevelsGroup,{classNames:Or,styles:Fr,__staticSelector:zr||"DecadeLevelGroup",ref:rr,size:Zn,unstyled:Lr,...Kn,children:Qr})});DecadeLevelGroup.classes={...LevelsGroup.classes,...DecadeLevel.classes};DecadeLevelGroup.displayName="@mantine/dates/DecadeLevelGroup";const defaultProps$5={numberOfColumns:1},YearLevelGroup=factory((e,rr)=>{const ir=useProps("YearLevelGroup",defaultProps$5,e),{year:lr,locale:dr,minDate:fr,maxDate:mr,monthsListFormat:hr,getMonthControlProps:gr,__onControlClick:xr,__onControlMouseEnter:_r,withCellSpacing:yr,__preventFocus:vr,nextIcon:br,previousIcon:Sr,nextLabel:wr,previousLabel:Mr,onNext:kr,onPrevious:Ar,onLevelClick:Ir,nextDisabled:$r,previousDisabled:Dr,hasNextLevel:Or,headerControlsOrder:Fr,classNames:Lr,styles:zr,unstyled:Gr,__staticSelector:Jr,__stopPropagation:Yn,numberOfColumns:Jn,levelControlAriaLabel:Zn,yearLabelFormat:Hn,size:Kn,vars:qn,...Qr}=ir,$n=reactExports.useRef([]),es=Array(Jn).fill(0).map((Xn,rs)=>{const ns=dayjs(lr).add(rs,"years").format("YYYY-MM-DD");return jsxRuntimeExports.jsx(YearLevel,{size:Kn,monthsListFormat:hr,year:ns,withNext:rs===Jn-1,withPrevious:rs===0,yearLabelFormat:Hn,__stopPropagation:Yn,__onControlClick:xr,__onControlMouseEnter:_r,__onControlKeyDown:(ls,ss)=>handleControlKeyDown({levelIndex:rs,rowIndex:ss.rowIndex,cellIndex:ss.cellIndex,event:ls,controlsRef:$n}),__getControlRef:(ls,ss,as)=>{Array.isArray($n.current[rs])||($n.current[rs]=[]),Array.isArray($n.current[rs][ls])||($n.current[rs][ls]=[]),$n.current[rs][ls][ss]=as},levelControlAriaLabel:typeof Zn=="function"?Zn(ns):Zn,locale:dr,minDate:fr,maxDate:mr,__preventFocus:vr,nextIcon:br,previousIcon:Sr,nextLabel:wr,previousLabel:Mr,onNext:kr,onPrevious:Ar,onLevelClick:Ir,nextDisabled:$r,previousDisabled:Dr,hasNextLevel:Or,getMonthControlProps:gr,classNames:Lr,styles:zr,unstyled:Gr,__staticSelector:Jr||"YearLevelGroup",withCellSpacing:yr,headerControlsOrder:Fr},rs)});return jsxRuntimeExports.jsx(LevelsGroup,{classNames:Lr,styles:zr,__staticSelector:Jr||"YearLevelGroup",ref:rr,size:Kn,unstyled:Gr,...Qr,children:es})});YearLevelGroup.classes={...YearLevel.classes,...LevelsGroup.classes};YearLevelGroup.displayName="@mantine/dates/YearLevelGroup";const defaultProps$4={numberOfColumns:1},MonthLevelGroup=factory((e,rr)=>{const ir=useProps("MonthLevelGroup",defaultProps$4,e),{month:lr,locale:dr,firstDayOfWeek:fr,weekdayFormat:mr,weekendDays:hr,getDayProps:gr,excludeDate:xr,minDate:_r,maxDate:yr,renderDay:vr,hideOutsideDates:br,hideWeekdays:Sr,getDayAriaLabel:wr,__onDayClick:Mr,__onDayMouseEnter:kr,withCellSpacing:Ar,highlightToday:Ir,withWeekNumbers:$r,__preventFocus:Dr,nextIcon:Or,previousIcon:Fr,nextLabel:Lr,previousLabel:zr,onNext:Gr,onPrevious:Jr,onLevelClick:Yn,nextDisabled:Jn,previousDisabled:Zn,hasNextLevel:Hn,headerControlsOrder:Kn,classNames:qn,styles:Qr,unstyled:$n,numberOfColumns:es,levelControlAriaLabel:Xn,monthLabelFormat:rs,__staticSelector:ns,__stopPropagation:ls,size:ss,static:as,vars:us,...hs}=ir,gs=reactExports.useRef([]),xs=Array(es).fill(0).map((ms,_s)=>{const Es=dayjs(lr).add(_s,"months").format("YYYY-MM-DD");return jsxRuntimeExports.jsx(MonthLevel,{month:Es,withNext:_s===es-1,withPrevious:_s===0,monthLabelFormat:rs,__stopPropagation:ls,__onDayClick:Mr,__onDayMouseEnter:kr,__onDayKeyDown:(vs,ws)=>handleControlKeyDown({levelIndex:_s,rowIndex:ws.rowIndex,cellIndex:ws.cellIndex,event:vs,controlsRef:gs}),__getDayRef:(vs,ws,Rs)=>{Array.isArray(gs.current[_s])||(gs.current[_s]=[]),Array.isArray(gs.current[_s][vs])||(gs.current[_s][vs]=[]),gs.current[_s][vs][ws]=Rs},levelControlAriaLabel:typeof Xn=="function"?Xn(Es):Xn,locale:dr,firstDayOfWeek:fr,weekdayFormat:mr,weekendDays:hr,getDayProps:gr,excludeDate:xr,minDate:_r,maxDate:yr,renderDay:vr,hideOutsideDates:br,hideWeekdays:Sr,getDayAriaLabel:wr,__preventFocus:Dr,nextIcon:Or,previousIcon:Fr,nextLabel:Lr,previousLabel:zr,onNext:Gr,onPrevious:Jr,onLevelClick:Yn,nextDisabled:Jn,previousDisabled:Zn,hasNextLevel:Hn,classNames:qn,styles:Qr,unstyled:$n,__staticSelector:ns||"MonthLevelGroup",size:ss,static:as,withCellSpacing:Ar,highlightToday:Ir,withWeekNumbers:$r,headerControlsOrder:Kn},_s)});return jsxRuntimeExports.jsx(LevelsGroup,{classNames:qn,styles:Qr,__staticSelector:ns||"MonthLevelGroup",ref:rr,size:ss,...hs,children:xs})});MonthLevelGroup.classes={...LevelsGroup.classes,...MonthLevel.classes};MonthLevelGroup.displayName="@mantine/dates/MonthLevelGroup";var classes$2={input:"m_6fa5e2aa"};const defaultProps$3={},PickerInputBase=factory((e,rr)=>{const{inputProps:ir,wrapperProps:lr,placeholder:dr,classNames:fr,styles:mr,unstyled:hr,popoverProps:gr,modalProps:xr,dropdownType:_r,children:yr,formattedValue:vr,dropdownHandlers:br,dropdownOpened:Sr,onClick:wr,clearable:Mr,onClear:kr,clearButtonProps:Ar,rightSection:Ir,shouldClear:$r,readOnly:Dr,disabled:Or,value:Fr,name:Lr,form:zr,type:Gr,onDropdownClose:Jr,withTime:Yn,...Jn}=useInputProps("PickerInputBase",defaultProps$3,e),Zn=jsxRuntimeExports.jsx(Input.ClearButton,{onClick:kr,unstyled:hr,...Ar}),Hn=()=>{Gr==="range"&&Array.isArray(Fr)&&Fr[0]&&!Fr[1]&&kr(),br.close()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[_r==="modal"&&!Dr&&jsxRuntimeExports.jsx(Modal,{opened:Sr,onClose:Hn,withCloseButton:!1,size:"auto","data-dates-modal":!0,unstyled:hr,...xr,children:yr}),jsxRuntimeExports.jsx(Input.Wrapper,{...lr,children:jsxRuntimeExports.jsxs(Popover$1,{position:"bottom-start",opened:Sr,trapFocus:!0,returnFocus:!1,unstyled:hr,onClose:Jr,...gr,disabled:gr?.disabled||_r==="modal"||Dr,onChange:Kn=>{Kn||(gr?.onClose?.(),Hn())},children:[jsxRuntimeExports.jsx(Popover$1.Target,{children:jsxRuntimeExports.jsx(Input,{"data-dates-input":!0,"data-read-only":Dr||void 0,disabled:Or,component:"button",type:"button",multiline:!0,onClick:Kn=>{wr?.(Kn),br.toggle()},__clearSection:Zn,__clearable:Mr&&$r&&!Dr&&!Or,rightSection:Ir,...ir,ref:rr,classNames:{...fr,input:clsx(classes$2.input,fr?.input)},...Jn,children:vr||jsxRuntimeExports.jsx(Input.Placeholder,{error:ir.error,unstyled:hr,className:fr?.placeholder,style:mr?.placeholder,children:dr})})}),jsxRuntimeExports.jsx(Popover$1.Dropdown,{"data-dates-dropdown":!0,children:yr})]})}),jsxRuntimeExports.jsx(HiddenDatesInput,{value:Fr,name:Lr,form:zr,type:Gr,withTime:Yn})]})});PickerInputBase.classes=classes$2;PickerInputBase.displayName="@mantine/dates/PickerInputBase";const getEmptyValue=e=>e==="range"?[null,null]:e==="multiple"?[]:null,convertDatesValue=(e,rr)=>{const ir=rr?toDateTimeString:toDateString;return Array.isArray(e)?e.map(ir):ir(e)};function useUncontrolledDates({type:e,value:rr,defaultValue:ir,onChange:lr,withTime:dr=!1}){const fr=reactExports.useRef(e),[mr,hr,gr]=useUncontrolled({value:convertDatesValue(rr,dr),defaultValue:convertDatesValue(ir,dr),finalValue:getEmptyValue(e),onChange:lr});let xr=mr;return fr.current!==e&&(fr.current=e,rr===void 0&&(xr=ir!==void 0?ir:getEmptyValue(e),hr(xr))),[xr,hr,gr]}function levelToNumber(e,rr){return e?e==="month"?0:e==="year"?1:2:rr||0}function levelNumberToLevel(e){return e===0?"month":e===1?"year":"decade"}function clampLevel(e,rr,ir){return levelNumberToLevel(clamp$3(levelToNumber(e,0),levelToNumber(rr,0),levelToNumber(ir,2)))}const defaultProps$2={maxLevel:"decade",minLevel:"month",__updateDateOnYearSelect:!0,__updateDateOnMonthSelect:!0},Calendar=factory((e,rr)=>{const ir=useProps("Calendar",defaultProps$2,e),{vars:lr,maxLevel:dr,minLevel:fr,defaultLevel:mr,level:hr,onLevelChange:gr,date:xr,defaultDate:_r,onDateChange:yr,numberOfColumns:vr,columnsToScroll:br,ariaLabels:Sr,nextLabel:wr,previousLabel:Mr,onYearSelect:kr,onMonthSelect:Ar,onYearMouseEnter:Ir,onMonthMouseEnter:$r,headerControlsOrder:Dr,__updateDateOnYearSelect:Or,__updateDateOnMonthSelect:Fr,__setDateRef:Lr,__setLevelRef:zr,firstDayOfWeek:Gr,weekdayFormat:Jr,weekendDays:Yn,getDayProps:Jn,excludeDate:Zn,renderDay:Hn,hideOutsideDates:Kn,hideWeekdays:qn,getDayAriaLabel:Qr,monthLabelFormat:$n,nextIcon:es,previousIcon:Xn,__onDayClick:rs,__onDayMouseEnter:ns,withCellSpacing:ls,highlightToday:ss,withWeekNumbers:as,monthsListFormat:us,getMonthControlProps:hs,yearLabelFormat:gs,yearsListFormat:xs,getYearControlProps:ms,decadeLabelFormat:_s,classNames:Es,styles:vs,unstyled:ws,minDate:Rs,maxDate:Ss,locale:ps,__staticSelector:ys,size:Cs,__preventFocus:Ms,__stopPropagation:ds,onNextDecade:ks,onPreviousDecade:cs,onNextYear:bs,onPreviousYear:Ts,onNextMonth:Ps,onPreviousMonth:Is,static:js,...Ds}=ir,{resolvedClassNames:$s,resolvedStyles:Fs}=useResolvedStylesApi({classNames:Es,styles:vs,props:ir}),[As,qs]=useUncontrolled({value:hr?clampLevel(hr,fr,dr):void 0,defaultValue:mr?clampLevel(mr,fr,dr):void 0,finalValue:clampLevel(void 0,fr,dr),onChange:gr}),[zs,Bs]=useUncontrolledDates({type:"default",value:toDateString(xr),defaultValue:toDateString(_r),onChange:yr});reactExports.useImperativeHandle(Lr,()=>Ns=>{Bs(Ns)}),reactExports.useImperativeHandle(zr,()=>Ns=>{qs(Ns)});const Us={__staticSelector:ys||"Calendar",styles:Fs,classNames:$s,unstyled:ws,size:Cs},Ws=br||vr||1,eo=new Date,oo=Rs&&dayjs(eo).isAfter(Rs)?Rs:dayjs(eo).format("YYYY-MM-DD"),Ys=zs||oo,Gs=()=>{const Ns=dayjs(Ys).add(Ws,"month").format("YYYY-MM-DD");Ps?.(Ns),Bs(Ns)},Ks=()=>{const Ns=dayjs(Ys).subtract(Ws,"month").format("YYYY-MM-DD");Is?.(Ns),Bs(Ns)},Hs=()=>{const Ns=dayjs(Ys).add(Ws,"year").format("YYYY-MM-DD");bs?.(Ns),Bs(Ns)},to=()=>{const Ns=dayjs(Ys).subtract(Ws,"year").format("YYYY-MM-DD");Ts?.(Ns),Bs(Ns)},Js=()=>{const Ns=dayjs(Ys).add(10*Ws,"year").format("YYYY-MM-DD");ks?.(Ns),Bs(Ns)},Zs=()=>{const Ns=dayjs(Ys).subtract(10*Ws,"year").format("YYYY-MM-DD");cs?.(Ns),Bs(Ns)};return jsxRuntimeExports.jsxs(Box,{ref:rr,size:Cs,"data-calendar":!0,...Ds,children:[As==="month"&&jsxRuntimeExports.jsx(MonthLevelGroup,{month:Ys,minDate:Rs,maxDate:Ss,firstDayOfWeek:Gr,weekdayFormat:Jr,weekendDays:Yn,getDayProps:Jn,excludeDate:Zn,renderDay:Hn,hideOutsideDates:Kn,hideWeekdays:qn,getDayAriaLabel:Qr,onNext:Gs,onPrevious:Ks,hasNextLevel:dr!=="month",onLevelClick:()=>qs("year"),numberOfColumns:vr,locale:ps,levelControlAriaLabel:Sr?.monthLevelControl,nextLabel:Sr?.nextMonth??wr,nextIcon:es,previousLabel:Sr?.previousMonth??Mr,previousIcon:Xn,monthLabelFormat:$n,__onDayClick:rs,__onDayMouseEnter:ns,__preventFocus:Ms,__stopPropagation:ds,static:js,withCellSpacing:ls,highlightToday:ss,withWeekNumbers:as,headerControlsOrder:Dr,...Us}),As==="year"&&jsxRuntimeExports.jsx(YearLevelGroup,{year:Ys,numberOfColumns:vr,minDate:Rs,maxDate:Ss,monthsListFormat:us,getMonthControlProps:hs,locale:ps,onNext:Hs,onPrevious:to,hasNextLevel:dr!=="month"&&dr!=="year",onLevelClick:()=>qs("decade"),levelControlAriaLabel:Sr?.yearLevelControl,nextLabel:Sr?.nextYear??wr,nextIcon:es,previousLabel:Sr?.previousYear??Mr,previousIcon:Xn,yearLabelFormat:gs,__onControlMouseEnter:$r,__onControlClick:(Ns,Ls)=>{Fr&&Bs(Ls),qs(clampLevel("month",fr,dr)),Ar?.(Ls)},__preventFocus:Ms,__stopPropagation:ds,withCellSpacing:ls,headerControlsOrder:Dr,...Us}),As==="decade"&&jsxRuntimeExports.jsx(DecadeLevelGroup,{decade:Ys,minDate:Rs,maxDate:Ss,yearsListFormat:xs,getYearControlProps:ms,locale:ps,onNext:Js,onPrevious:Zs,numberOfColumns:vr,nextLabel:Sr?.nextDecade??wr,nextIcon:es,previousLabel:Sr?.previousDecade??Mr,previousIcon:Xn,decadeLabelFormat:_s,__onControlMouseEnter:Ir,__onControlClick:(Ns,Ls)=>{Or&&Bs(Ls),qs(clampLevel("year",fr,dr)),kr?.(Ls)},__preventFocus:Ms,__stopPropagation:ds,withCellSpacing:ls,headerControlsOrder:Dr,...Us})]})});Calendar.classes={...DecadeLevelGroup.classes,...YearLevelGroup.classes,...MonthLevelGroup.classes};Calendar.displayName="@mantine/dates/Calendar";function pickCalendarProps(e){const{maxLevel:rr,minLevel:ir,defaultLevel:lr,level:dr,onLevelChange:fr,nextIcon:mr,previousIcon:hr,date:gr,defaultDate:xr,onDateChange:_r,numberOfColumns:yr,columnsToScroll:vr,ariaLabels:br,nextLabel:Sr,previousLabel:wr,onYearSelect:Mr,onMonthSelect:kr,onYearMouseEnter:Ar,onMonthMouseEnter:Ir,onNextMonth:$r,onPreviousMonth:Dr,onNextYear:Or,onPreviousYear:Fr,onNextDecade:Lr,onPreviousDecade:zr,withCellSpacing:Gr,highlightToday:Jr,__updateDateOnYearSelect:Yn,__updateDateOnMonthSelect:Jn,__setDateRef:Zn,__setLevelRef:Hn,withWeekNumbers:Kn,headerControlsOrder:qn,firstDayOfWeek:Qr,weekdayFormat:$n,weekendDays:es,getDayProps:Xn,excludeDate:rs,renderDay:ns,hideOutsideDates:ls,hideWeekdays:ss,getDayAriaLabel:as,monthLabelFormat:us,monthsListFormat:hs,getMonthControlProps:gs,yearLabelFormat:xs,yearsListFormat:ms,getYearControlProps:_s,decadeLabelFormat:Es,allowSingleDateInRange:vs,allowDeselect:ws,minDate:Rs,maxDate:Ss,locale:ps,...ys}=e;return{calendarProps:{maxLevel:rr,minLevel:ir,defaultLevel:lr,level:dr,onLevelChange:fr,nextIcon:mr,previousIcon:hr,date:gr,defaultDate:xr,onDateChange:_r,numberOfColumns:yr,columnsToScroll:vr,ariaLabels:br,nextLabel:Sr,previousLabel:wr,onYearSelect:Mr,onMonthSelect:kr,onYearMouseEnter:Ar,onMonthMouseEnter:Ir,onNextMonth:$r,onPreviousMonth:Dr,onNextYear:Or,onPreviousYear:Fr,onNextDecade:Lr,onPreviousDecade:zr,withCellSpacing:Gr,highlightToday:Jr,__updateDateOnYearSelect:Yn,__updateDateOnMonthSelect:Jn,__setDateRef:Zn,withWeekNumbers:Kn,headerControlsOrder:qn,firstDayOfWeek:Qr,weekdayFormat:$n,weekendDays:es,getDayProps:Xn,excludeDate:rs,renderDay:ns,hideOutsideDates:ls,hideWeekdays:ss,getDayAriaLabel:as,monthLabelFormat:us,monthsListFormat:hs,getMonthControlProps:gs,yearLabelFormat:xs,yearsListFormat:ms,getYearControlProps:_s,decadeLabelFormat:Es,allowSingleDateInRange:vs,allowDeselect:ws,minDate:Rs,maxDate:Ss,locale:ps},others:ys}}function isInRange(e,rr){const ir=[...rr].sort((lr,dr)=>dayjs(lr).isAfter(dayjs(dr))?1:-1);return dayjs(ir[0]).startOf("day").subtract(1,"ms").isBefore(e)&&dayjs(ir[1]).endOf("day").add(1,"ms").isAfter(e)}function useDatesState({type:e,level:rr,value:ir,defaultValue:lr,onChange:dr,allowSingleDateInRange:fr,allowDeselect:mr,onMouseLeave:hr}){const[gr,xr]=useUncontrolledDates({type:e,value:ir,defaultValue:lr,onChange:dr}),[_r,yr]=reactExports.useState(e==="range"&&gr[0]&&!gr[1]?gr[0]:null),[vr,br]=reactExports.useState(null),Sr=Dr=>{if(e==="range"){if(_r&&!gr[1]){if(dayjs(Dr).isSame(_r,rr)&&!fr){yr(null),br(null),xr([null,null]);return}const Or=[Dr,_r];Or.sort((Fr,Lr)=>dayjs(Fr).isAfter(dayjs(Lr))?1:-1),xr(Or),br(null),yr(null);return}if(gr[0]&&!gr[1]&&dayjs(Dr).isSame(gr[0],rr)&&!fr){yr(null),br(null),xr([null,null]);return}xr([Dr,null]),br(null),yr(Dr);return}if(e==="multiple"){gr.some(Or=>dayjs(Or).isSame(Dr,rr))?xr(gr.filter(Or=>!dayjs(Or).isSame(Dr,rr))):xr([...gr,Dr]);return}gr&&mr&&dayjs(Dr).isSame(gr,rr)?xr(null):xr(Dr)},wr=Dr=>_r&&vr?isInRange(Dr,[vr,_r]):gr[0]&&gr[1]?isInRange(Dr,gr):!1,Mr=e==="range"?Dr=>{hr?.(Dr),br(null)}:hr,kr=Dr=>gr[0]&&dayjs(Dr).isSame(gr[0],rr)?!(vr&&dayjs(vr).isBefore(gr[0])):!1,Ar=Dr=>gr[1]?dayjs(Dr).isSame(gr[1],rr):!gr[0]||!vr?!1:dayjs(vr).isBefore(gr[0])&&dayjs(Dr).isSame(gr[0],rr),Ir=Dr=>{if(e==="range")return{selected:gr.some(Fr=>Fr&&dayjs(Fr).isSame(Dr,rr)),inRange:wr(Dr),firstInRange:kr(Dr),lastInRange:Ar(Dr),"data-autofocus":!!gr[0]&&dayjs(gr[0]).isSame(Dr,rr)||void 0};if(e==="multiple")return{selected:gr.some(Fr=>Fr&&dayjs(Fr).isSame(Dr,rr)),"data-autofocus":!!gr[0]&&dayjs(gr[0]).isSame(Dr,rr)||void 0};const Or=dayjs(gr).isSame(Dr,rr);return{selected:Or,"data-autofocus":Or||void 0}},$r=e==="range"&&_r?br:()=>{};return reactExports.useEffect(()=>{if(e==="range")if(gr[0]&&!gr[1])yr(gr[0]);else{const Dr=gr[0]==null&&gr[1]==null,Or=gr[0]!=null&&gr[1]!=null;(Dr||Or)&&(yr(null),br(null))}},[gr]),{onDateChange:Sr,onRootMouseLeave:Mr,onHoveredDateChange:$r,getControlProps:Ir,_value:gr,setValue:xr}}var classes$1={datePickerRoot:"m_765a40cf",presetsList:"m_d6a681e1",presetButton:"m_acd30b22"};const varsResolver=(e,{size:rr})=>({datePickerRoot:{"--preset-font-size":getFontSize(rr)}}),defaultProps$1={type:"default",defaultLevel:"month",numberOfColumns:1,size:"sm"},DatePicker=factory((e,rr)=>{const ir=useProps("DatePicker",defaultProps$1,e),{allowDeselect:lr,allowSingleDateInRange:dr,value:fr,defaultValue:mr,onChange:hr,onMouseLeave:gr,classNames:xr,styles:_r,__staticSelector:yr,__onDayClick:vr,__onDayMouseEnter:br,__onPresetSelect:Sr,__stopPropagation:wr,presets:Mr,className:kr,style:Ar,unstyled:Ir,size:$r,vars:Dr,...Or}=ir,{calendarProps:Fr,others:Lr}=pickCalendarProps(Or),zr=reactExports.useRef(null),Gr=reactExports.useRef(null),Jr=useStyles({name:yr||"DatePicker",classes:classes$1,props:ir,className:kr,style:Ar,classNames:xr,styles:_r,unstyled:Ir,rootSelector:Mr?"datePickerRoot":void 0,varsResolver,vars:Dr}),{onDateChange:Yn,onRootMouseLeave:Jn,onHoveredDateChange:Zn,getControlProps:Hn,_value:Kn,setValue:qn}=useDatesState({type:Lr.type,level:"day",allowDeselect:lr,allowSingleDateInRange:dr,value:fr,defaultValue:mr,onChange:hr,onMouseLeave:gr}),{resolvedClassNames:Qr,resolvedStyles:$n}=useResolvedStylesApi({classNames:xr,styles:_r,props:ir}),es=jsxRuntimeExports.jsx(Calendar,{ref:rr,classNames:Qr,styles:$n,__staticSelector:yr||"DatePicker",onMouseLeave:Jn,size:$r,...Fr,...Mr?{}:Lr,__stopPropagation:wr,__setDateRef:zr,__setLevelRef:Gr,minLevel:Fr.minLevel||"month",__onDayMouseEnter:(ns,ls)=>{Zn(ls),br?.(ns,ls)},__onDayClick:(ns,ls)=>{Yn(ls),vr?.(ns,ls)},getDayProps:ns=>({...Hn(ns),...Fr.getDayProps?.(ns)}),getMonthControlProps:ns=>({selected:typeof Kn=="string"?isSameMonth(ns,Kn):!1,...Fr.getMonthControlProps?.(ns)}),getYearControlProps:ns=>({selected:typeof Kn=="string"?dayjs(ns).isSame(Kn,"year"):!1,...Fr.getYearControlProps?.(ns)}),hideOutsideDates:Fr.hideOutsideDates??Fr.numberOfColumns!==1,...Mr?{}:{className:kr,style:Ar}});if(!Mr)return es;const Xn=ns=>{const ls=Array.isArray(ns)?ns[0]:ns;ls!==void 0&&(zr.current?.(ls),Gr.current?.("month"),Sr?Sr(ls):qn(ns))},rs=Mr.map((ns,ls)=>jsxRuntimeExports.jsx(UnstyledButton,{...Jr("presetButton"),onClick:()=>Xn(ns.value),onMouseDown:ss=>ss.preventDefault(),"data-mantine-stop-propagation":wr||void 0,children:ns.label},ls));return jsxRuntimeExports.jsxs(Box,{...Jr("datePickerRoot"),size:$r,...Lr,children:[jsxRuntimeExports.jsx("div",{...Jr("presetsList"),children:rs}),es]})});DatePicker.classes=Calendar.classes;DatePicker.displayName="@mantine/dates/DatePicker";function getMinTime({minDate:e,value:rr}){const ir=e?dayjs(e).format("HH:mm:ss"):null;return rr&&e&&rr===e?ir??void 0:void 0}function getMaxTime({maxDate:e,value:rr}){const ir=e?dayjs(e).format("HH:mm:ss"):null;return rr&&e&&rr===e?ir??void 0:void 0}var classes={timeWrapper:"m_208d2562",timeInput:"m_62ee059"};const defaultProps={dropdownType:"popover"},DateTimePicker=factory((e,rr)=>{const ir=useProps("DateTimePicker",defaultProps,e),{value:lr,defaultValue:dr,onChange:fr,valueFormat:mr,locale:hr,classNames:gr,styles:xr,unstyled:_r,timePickerProps:yr,submitButtonProps:vr,withSeconds:br,level:Sr,defaultLevel:wr,size:Mr,variant:kr,dropdownType:Ar,vars:Ir,minDate:$r,maxDate:Dr,defaultTimeValue:Or,presets:Fr,...Lr}=ir,zr=useStyles({name:"DateTimePicker",classes,props:ir,classNames:gr,styles:xr,unstyled:_r,vars:Ir}),{resolvedClassNames:Gr,resolvedStyles:Jr}=useResolvedStylesApi({classNames:gr,styles:xr,props:ir}),Yn=mr||(br?"DD/MM/YYYY HH:mm:ss":"DD/MM/YYYY HH:mm"),Jn=reactExports.useRef(null),Zn=useMergedRef(Jn,yr?.hoursRef),{calendarProps:{allowSingleDateInRange:Hn,...Kn},others:qn}=pickCalendarProps(Lr),Qr=useDatesContext(),[$n,es]=useUncontrolledDates({type:"default",value:lr,defaultValue:dr,onChange:fr,withTime:!0}),Xn=vs=>vs?dayjs(vs).format(br?"HH:mm:ss":"HH:mm"):"",[rs,ns]=reactExports.useState(Or||Xn($n)),[ls,ss]=reactExports.useState(Sr||wr||"month"),[as,us]=useDisclosure(!1),hs=$n?dayjs($n).locale(Qr.getLocale(hr)).format(Yn):"",gs=vs=>{yr?.onChange?.(vs),ns(vs),vs&&es(assignTime($n,vs))},xs=vs=>{vs&&es(assignTime(clampDate($r,Dr,vs),rs||Or||"")),Jn.current?.focus()},ms=vs=>{vs.key==="Enter"&&(vs.preventDefault(),us.close())};useDidUpdate(()=>{as||ns(Xn($n))},[$n,as]),useDidUpdate(()=>{as&&ss("month")},[as]);const _s=Ar==="popover",Es=()=>{const vs=clampDate($r,Dr,$n);$n&&$n!==vs&&es(clampDate($r,Dr,$n))};return jsxRuntimeExports.jsxs(PickerInputBase,{formattedValue:hs,dropdownOpened:Lr.disabled?!1:as,dropdownHandlers:us,classNames:Gr,styles:Jr,unstyled:_r,ref:rr,onClear:()=>es(null),shouldClear:!!$n,value:$n,size:Mr,variant:kr,dropdownType:Ar,...qn,type:"default",__staticSelector:"DateTimePicker",onDropdownClose:Es,withTime:!0,children:[jsxRuntimeExports.jsx(DatePicker,{...Kn,maxDate:Dr,minDate:$r,size:Mr,variant:kr,type:"default",value:$n,defaultDate:$n,onChange:xs,locale:hr,classNames:Gr,styles:Jr,unstyled:_r,__staticSelector:"DateTimePicker",__stopPropagation:_s,level:Sr,defaultLevel:wr,onLevelChange:vs=>{ss(vs),Kn.onLevelChange?.(vs)},presets:Fr,__onPresetSelect:vs=>{es(vs),vs&&ns(Xn(vs))}}),ls==="month"&&jsxRuntimeExports.jsxs("div",{...zr("timeWrapper"),children:[jsxRuntimeExports.jsx(TimePicker,{value:rs,withSeconds:br,unstyled:_r,min:getMinTime({minDate:$r,value:$n}),max:getMaxTime({maxDate:Dr,value:$n}),...yr,...zr("timeInput",{className:yr?.className,style:yr?.style}),onChange:gs,onKeyDown:ms,size:Mr,"data-mantine-stop-propagation":_s||void 0,hoursRef:Zn}),jsxRuntimeExports.jsx(ActionIcon,{variant:"default",size:`input-${Mr||"sm"}`,...zr("submitButton",{className:vr?.className,style:vr?.style}),unstyled:_r,"data-mantine-stop-propagation":_s||void 0,children:jsxRuntimeExports.jsx(CheckIcon,{size:"30%"}),...vr,onClick:vs=>{vr?.onClick?.(vs),us.close(),Es()}})]})]})});DateTimePicker.classes={...classes,...PickerInputBase.classes,...DatePicker.classes};DateTimePicker.displayName="@mantine/dates/DateTimePicker";function SettingsTab(){const{id:e}=useParams({from:"/_admin/admin/assessment/$id/details"}),{data:rr}=useFetchAssessmentById(e),ir=useUpdateAssessmentSettingsMutation(),lr=useForm({initialValues:{dateTimeScheduled:rr?.date_time_scheduled?new Date(rr.date_time_scheduled):null,duration:rr?.duration?Number(rr.duration):60},validate:{duration:fr=>!fr||fr<=0?"Duration must be greater than 0":fr>480?"Duration cannot exceed 8 hours (480 minutes)":null,dateTimeScheduled:fr=>fr&&fr<new Date?"Scheduled date must be in the future":null}}),dr=async fr=>{try{const mr=fr.dateTimeScheduled?fr.dateTimeScheduled instanceof Date?fr.dateTimeScheduled.toISOString():new Date(fr.dateTimeScheduled).toISOString():null;await ir.mutateAsync({id:e,dateTimeScheduled:mr,duration:fr.duration.toString()}),notifications.show({title:"Success",message:"Assessment settings updated successfully",color:"green"})}catch(mr){notifications.show({title:"Error",message:mr instanceof Error?mr.message:"Failed to update assessment settings",color:"red"})}};return jsxRuntimeExports.jsx(Group,{children:jsxRuntimeExports.jsx(Paper,{withBorder:!0,p:"xl",radius:"md",w:"67%",m:"auto",children:jsxRuntimeExports.jsx("form",{onSubmit:lr.onSubmit(dr),children:jsxRuntimeExports.jsxs(Stack,{gap:"xl",children:[jsxRuntimeExports.jsx(Text$2,{size:"xl",fw:"bold",children:"Assessment Settings"}),jsxRuntimeExports.jsx(DateTimePicker,{label:"Scheduled Date & Time",description:"When should this assessment be available to candidates?",placeholder:"Pick date and time",leftSection:jsxRuntimeExports.jsx(IconCalendar,{size:18}),clearable:!0,minDate:new Date,timePickerProps:{withDropdown:!0,popoverProps:{withinPortal:!1},format:"12h"},...lr.getInputProps("dateTimeScheduled")}),jsxRuntimeExports.jsx(NumberInput,{label:"Duration (minutes)",description:"How long should candidates have to complete this assessment?",placeholder:"Enter duration in minutes",leftSection:jsxRuntimeExports.jsx(IconClock,{size:18}),min:1,max:480,step:5,...lr.getInputProps("duration")}),jsxRuntimeExports.jsxs(Group,{justify:"flex-end",mt:"md",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"subtle",onClick:()=>lr.reset(),disabled:ir.isPending,children:"Reset"}),jsxRuntimeExports.jsx(Button$1,{type:"submit",leftSection:jsxRuntimeExports.jsx(IconDeviceFloppy,{size:18}),loading:ir.isPending,children:"Save Settings"})]})]})})})})}const Route=createFileRoute("/_admin/admin/assessment/$id/details")({loader:async({context:{queryClient:e},params:rr})=>{try{return await e.ensureQueryData(fetchAssessmentQueryOptions(rr.id))}catch(ir){console.error("Error fetching assessment data:",ir)}},component:RouteComponent});function TabsSkeleton(){return jsxRuntimeExports.jsxs(Stack,{gap:"md",children:[jsxRuntimeExports.jsx(Skeleton,{height:40,radius:"md"}),jsxRuntimeExports.jsx(Skeleton,{height:200,radius:"md"}),jsxRuntimeExports.jsx(Skeleton,{height:200,radius:"md"}),jsxRuntimeExports.jsx(Skeleton,{height:200,radius:"md"})]})}function RouteComponent(){const{id:e}=Route.useParams();return jsxRuntimeExports.jsxs(Stack,{children:[jsxRuntimeExports.jsxs(Breadcrumbs,{separator:">",children:[jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/assessments",children:"Assessments"}),jsxRuntimeExports.jsx(CustomAnchor,{to:"/admin/assessment/$id/details",params:{id:e},children:"Details"})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"problems",styles:{tabLabel:{fontSize:"18px"},panel:{paddingTop:"2rem"}},children:[jsxRuntimeExports.jsxs(Tabs.List,{children:[jsxRuntimeExports.jsx(Tabs.Tab,{value:"problems",leftSection:jsxRuntimeExports.jsx(IconNumber123,{size:18}),children:"Problems"}),jsxRuntimeExports.jsx(Tabs.Tab,{value:"candidates",leftSection:jsxRuntimeExports.jsx(IconUsersGroup,{size:18}),children:"Candidates"}),jsxRuntimeExports.jsx(Tabs.Tab,{value:"settings",leftSection:jsxRuntimeExports.jsx(IconSettings,{size:18}),children:"Settings"})]}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"problems",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TabsSkeleton,{}),children:jsxRuntimeExports.jsx(ProblemsTab,{})})}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"candidates",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TabsSkeleton,{}),children:jsxRuntimeExports.jsx(CandidatesTab,{})})}),jsxRuntimeExports.jsx(Tabs.Panel,{value:"settings",children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(TabsSkeleton,{}),children:jsxRuntimeExports.jsx(SettingsTab,{})})})]})]})}const RegisterRoute=Route$f.update({id:"/register",path:"/register",getParentRoute:()=>Route$g}),LoginRoute=Route$e.update({id:"/login",path:"/login",getParentRoute:()=>Route$g}),StudentRoute=Route$d.update({id:"/_student",getParentRoute:()=>Route$g}),AdminRoute=Route$c.update({id:"/_admin",getParentRoute:()=>Route$g}),IndexRoute=Route$b.update({id:"/",path:"/",getParentRoute:()=>Route$g}),InvitationTokenRoute=Route$a.update({id:"/invitation/$token",path:"/invitation/$token",getParentRoute:()=>Route$g}),StudentStudentDashboardRoute=Route$9.update({id:"/student/dashboard",path:"/student/dashboard",getParentRoute:()=>StudentRoute}),AdminAdminTemplateProblemsRoute=Route$8.update({id:"/admin/template-problems",path:"/admin/template-problems",getParentRoute:()=>AdminRoute}),AdminAdminProblemsRoute=Route$7.update({id:"/admin/problems",path:"/admin/problems",getParentRoute:()=>AdminRoute}),AdminAdminDashboardRoute=Route$6.update({id:"/admin/dashboard",path:"/admin/dashboard",getParentRoute:()=>AdminRoute}),AdminAdminAssessmentsRoute=Route$5.update({id:"/admin/assessments",path:"/admin/assessments",getParentRoute:()=>AdminRoute}),StudentStudentAssessmentIdRoute=Route$4.update({id:"/student/assessment/$id",path:"/student/assessment/$id",getParentRoute:()=>StudentRoute}),AdminAdminProblemIdDetailsRoute=Route$3.update({id:"/admin/problem/$id/details",path:"/admin/problem/$id/details",getParentRoute:()=>AdminRoute}),AdminAdminProblemIdDatabaseRoute=Route$2.update({id:"/admin/problem/$id/database",path:"/admin/problem/$id/database",getParentRoute:()=>AdminRoute}),AdminAdminProblemIdCreateRoute=Route$1.update({id:"/admin/problem/$id/create",path:"/admin/problem/$id/create",getParentRoute:()=>AdminRoute}),AdminAdminAssessmentIdDetailsRoute=Route.update({id:"/admin/assessment/$id/details",path:"/admin/assessment/$id/details",getParentRoute:()=>AdminRoute}),AdminRouteChildren={AdminAdminAssessmentsRoute,AdminAdminDashboardRoute,AdminAdminProblemsRoute,AdminAdminTemplateProblemsRoute,AdminAdminAssessmentIdDetailsRoute,AdminAdminProblemIdCreateRoute,AdminAdminProblemIdDatabaseRoute,AdminAdminProblemIdDetailsRoute},AdminRouteWithChildren=AdminRoute._addFileChildren(AdminRouteChildren),StudentRouteChildren={StudentStudentDashboardRoute,StudentStudentAssessmentIdRoute},StudentRouteWithChildren=StudentRoute._addFileChildren(StudentRouteChildren),rootRouteChildren={IndexRoute,AdminRoute:AdminRouteWithChildren,StudentRoute:StudentRouteWithChildren,LoginRoute,RegisterRoute,InvitationTokenRoute},routeTree=Route$g._addFileChildren(rootRouteChildren)._addFileTypes(),queryClient=new QueryClient({defaultOptions:{queries:{staleTime:1e3*60*5}}}),router=createRouter({routeTree,context:{queryClient}}),rootElement=document.getElementById("root");rootElement.innerHTML||client.createRoot(rootElement).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsxs(MantineProvider,{theme,children:[jsxRuntimeExports.jsx(RouterProvider,{router}),jsxRuntimeExports.jsx(Notifications,{position:"top-right"})]})})}));export{C,R$1 as R,T$1 as T,U$2 as U,u as a,cr as c,h$1 as h,pr as p,ur as u,x$3 as x};
